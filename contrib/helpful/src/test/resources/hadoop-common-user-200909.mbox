From common-user-return-17190-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 01 01:41:24 2009
Return-Path: <common-user-return-17190-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 73729 invoked from network); 1 Sep 2009 01:41:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Sep 2009 01:41:24 -0000
Received: (qmail 75627 invoked by uid 500); 1 Sep 2009 01:41:21 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 75555 invoked by uid 500); 1 Sep 2009 01:41:21 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 75545 invoked by uid 99); 1 Sep 2009 01:41:21 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 01:41:21 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of mafish@gmail.com designates 209.85.222.174 as permitted sender)
Received: from [209.85.222.174] (HELO mail-pz0-f174.google.com) (209.85.222.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 01:41:13 +0000
Received: by pzk4 with SMTP id 4so3420987pzk.29
        for <common-user@hadoop.apache.org>; Mon, 31 Aug 2009 18:40:53 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=YJBvizP2AU9xMmGj6oAE0G/A6+z0ZSJyhW86dJOHff8=;
        b=qvi9yqt0kxZoQZCxpwdwqXXPPDeMhgG1G0C/QF2UbGMcHKk4uF17qSuxTNWaiJKyO6
         QZV0YlsbmGeoWuCKbzoEmDEOLCflcKuGVtWDYGhu6AK8Zh2oWQdjg7OTVyHNDUrPkFeQ
         tp6LKaMDX5EeCLgulD1lomlLIBWu9S4866Wrg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=Gs2UB4fdnHs1+ItETFGcZiwBwDNZAMcJ0r7PIdWUrrsreoO+7ntVbcTWCoV2PXvYvL
         zRcx+7rPKjWz/hX2N+lP4aKWmBvkAVXuR4XZhz9th+ivAZYihUX9hxor8f5UNl2tMA7h
         XEgYRsfYvvrQzd3fxOn+2DC0PDAvR6pVnRXhM=
MIME-Version: 1.0
Received: by 10.140.141.21 with SMTP id o21mr1316572rvd.292.1251769253189; 
	Mon, 31 Aug 2009 18:40:53 -0700 (PDT)
In-Reply-To: <77938bc20908311009n3e6a6ebg7c268d2a5ab46530@mail.gmail.com>
References: <77938bc20908310340g63c6b29aw25a4edd16f1fc840@mail.gmail.com>
	 <007e01ca2abd$d659b7f0$830d27d0$@com>
	 <77938bc20908310653t13ef7031i25487d7c818fef8b@mail.gmail.com>
	 <8211a1320908310840p59e56e16o2e933a151a951334@mail.gmail.com>
	 <77938bc20908310907g542e50d2me9a6f31e8d4ba3d4@mail.gmail.com>
	 <7a8854060908311004ncd63e7cv9ea388a3e86d25f1@mail.gmail.com>
	 <77938bc20908311009n3e6a6ebg7c268d2a5ab46530@mail.gmail.com>
Date: Tue, 1 Sep 2009 09:40:53 +0800
Message-ID: <944750dd0908311840p8062527l350180cfa451f7ec@mail.gmail.com>
Subject: Re: Datanode high memory usage
From: Mafish Liu <mafish@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Did you have many small files in your system?

2009/9/1 Stas Oskin <stas.oskin@gmail.com>:
> Hi.
>
>
>> <property>
>> =A0<name>mapred.child.java.opts</name>
>> =A0<value>
>> =A0 =A0 -Xmx512M
>> =A0</value>
>> </property>
>>
>>
> This has effect even if I not using any reduce tasks?
>
> Regards.
>



--=20
Mafish@gmail.com

From common-user-return-17191-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 01 04:44:23 2009
Return-Path: <common-user-return-17191-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 5640 invoked from network); 1 Sep 2009 04:44:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Sep 2009 04:44:22 -0000
Received: (qmail 47719 invoked by uid 500); 1 Sep 2009 04:44:19 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 47617 invoked by uid 500); 1 Sep 2009 04:44:19 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 47607 invoked by uid 99); 1 Sep 2009 04:44:19 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 04:44:19 +0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=NO_RDNS_DOTCOM_HELO,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [216.145.54.172] (HELO mrout2.yahoo.com) (216.145.54.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 04:44:06 +0000
Received: from EGL-EX07CAS01.ds.corp.yahoo.com (egl-ex07cas01.eglbp.corp.yahoo.com [203.83.248.208])
	by mrout2.yahoo.com (8.13.6/8.13.6/y.out) with ESMTP id n814gw09062826
	for <common-user@hadoop.apache.org>; Mon, 31 Aug 2009 21:42:59 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; s=serpent; d=yahoo-inc.com; c=nofws; q=dns;
	h=received:from:to:date:subject:thread-topic:thread-index:
	message-id:references:in-reply-to:accept-language:
	content-language:x-ms-has-attach:x-ms-tnef-correlator:acceptlanguage:
	content-type:content-transfer-encoding:mime-version;
	b=Zc6+AY4k2HPrpfnNHAwQMg2L0sFMOI1VwHRJLc4GbUxuUL9UmLK++y9izmqdrEwr
Received: from EGL-EX07VS01.ds.corp.yahoo.com ([203.83.248.206]) by
 EGL-EX07CAS01.ds.corp.yahoo.com ([203.83.248.215]) with mapi; Tue, 1 Sep 2009
 10:12:58 +0530
From: Amogh Vasekar <amogh@yahoo-inc.com>
To: "common-user@hadoop.apache.org" <common-user@hadoop.apache.org>
Date: Tue, 1 Sep 2009 10:11:39 +0530
Subject: RE: Datanode high memory usage
Thread-Topic: Datanode high memory usage
Thread-Index: AcoqXjumYVT3PZ0pTmaQC+r2ctY6mAAX3FfA
Message-ID: <616DA47B2EF5B944B91846785B512FF4CFADEA73AB@EGL-EX07VS01.ds.corp.yahoo.com>
References: <77938bc20908310340g63c6b29aw25a4edd16f1fc840@mail.gmail.com>
	 <007e01ca2abd$d659b7f0$830d27d0$@com>
	 <77938bc20908310653t13ef7031i25487d7c818fef8b@mail.gmail.com>
	 <8211a1320908310840p59e56e16o2e933a151a951334@mail.gmail.com>
	 <77938bc20908310907g542e50d2me9a6f31e8d4ba3d4@mail.gmail.com>
	 <7a8854060908311004ncd63e7cv9ea388a3e86d25f1@mail.gmail.com>
 <77938bc20908311009n3e6a6ebg7c268d2a5ab46530@mail.gmail.com>
In-Reply-To: <77938bc20908311009n3e6a6ebg7c268d2a5ab46530@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

This wont change the daemon configs.
Hadoop by default allocates 1000MB of memory for each of its daemons, which=
 can be controlled by HADOOP_HEAPSIZE, HADOOP_NAMENODE_OPTS, HADOOP_TASKTRA=
CKER_OPTS in the hadoop script.
However, there was a discussion on this sometime back wherein these options=
 would be overridden by default 1000MB, not sure if the patch is available.

Cheers!
Amogh




-----Original Message-----
From: Stas Oskin [mailto:stas.oskin@gmail.com]=20
Sent: Monday, August 31, 2009 10:40 PM
To: common-user@hadoop.apache.org
Subject: Re: Datanode high memory usage

Hi.


> <property>
>  <name>mapred.child.java.opts</name>
>  <value>
>     -Xmx512M
>  </value>
> </property>
>
>
This has effect even if I not using any reduce tasks?

Regards.

From common-user-return-17192-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 01 05:38:55 2009
Return-Path: <common-user-return-17192-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 16937 invoked from network); 1 Sep 2009 05:38:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Sep 2009 05:38:55 -0000
Received: (qmail 80689 invoked by uid 500); 1 Sep 2009 05:38:53 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 80617 invoked by uid 500); 1 Sep 2009 05:38:52 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 80607 invoked by uid 99); 1 Sep 2009 05:38:52 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 05:38:52 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jason.hadoop@gmail.com designates 209.85.212.185 as permitted sender)
Received: from [209.85.212.185] (HELO mail-vw0-f185.google.com) (209.85.212.185)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 05:38:41 +0000
Received: by vws15 with SMTP id 15so3471736vws.5
        for <common-user@hadoop.apache.org>; Mon, 31 Aug 2009 22:38:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=q7j2Gx7trb/ZyWOAM5O2L7hh98antEUrsS8Okb9eIcU=;
        b=TPc4Uyv+iz89ljaD6xlYietUcWVOem+omQ2+cLwVrfuv806J1pyKQu6UBpzLyogdp5
         JdXGpg6tW9XFlqnCGB1Xl2wwRi0IEiNEVjvl96jJ9IlSQKtHbLE64JBVLf6Q2RZbuDWm
         lI8Wwg7Ze/yrhMvDZmrXoVszx3BW2HEegdL9Q=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=TYD2Mi5Bvf3YHtU0FmJyscagOfen8FQkg2TZAVX04VSJkT3xxU0OA+soqZHf6pjHmm
         EMMol0cdvq+qDwrCSBqWtyFwcrPDbZKX/BC0ChUY0kTzvZg2qtlsJa07f/c1KL3vcRgk
         mqLDLfleLYCdQ6UmMJmp9RRSHXxYjUbshHvTo=
MIME-Version: 1.0
Received: by 10.220.70.73 with SMTP id c9mr7783269vcj.33.1251783499711; Mon, 
	31 Aug 2009 22:38:19 -0700 (PDT)
In-Reply-To: <d6d7c4410908281750x3fd09765oefc48dc8796b2456@mail.gmail.com>
References: <4A95CA58.3030608@yahoo-inc.com>
	 <314098690908260729kbb8b5bch4ac0b3b51b559c04@mail.gmail.com>
	 <4A9802A3.2010603@yahoo-inc.com>
	 <d6d7c4410908281750x3fd09765oefc48dc8796b2456@mail.gmail.com>
Date: Mon, 31 Aug 2009 22:38:19 -0700
Message-ID: <314098690908312238g31d0db80r78f4e18a0baffe6c@mail.gmail.com>
Subject: Re: Testing Hadoop job
From: Jason Venner <jason.hadoop@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0016e64603bcd6064704727d8ecf
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e64603bcd6064704727d8ecf
Content-Type: text/plain; charset=ISO-8859-1

Ahh, the pro hadoop stuff handles arbitrary input and output formats and
partitioners.

On Fri, Aug 28, 2009 at 5:50 PM, Aaron Kimball <aaron@cloudera.com> wrote:

> Hi Nikhil,
>
> MRUnit now supports the 0.20 API as of
> https://issues.apache.org/jira/browse/MAPREDUCE-800. There are no plans to
> involve partitioners in MRUnit; it is for mappers and reducers only, and
> not
> for full jobs involving input/output formats, partitioners, etc. Use the
> LocalJobRunner for that.
>
> See www.cloudera.com/hadoop-mrunit for more (slightly out-of-date)
> information.
> - Aaron
>
> On Fri, Aug 28, 2009 at 9:15 AM, Nikhil Sawant <nsawant@yahoo-inc.com
> >wrote:
>
> > hi
> > thanks Jason, for prompt reply i will go through "pro hadoop". already on
> > my to-do list
> >
> > any idea abt the MRUnit??? has anyone used it?
> > i think it is useful as it allows dummy map and reduce drivers which
> > accepts (K,V) pair/s and checks the o/p (K,V) pair/s with the expected
> > (K,V)......it gives gr8 debugging capabilities while implementing complex
> > logics. (all "System.outs" can be seen on console itself!!)
> > i have used the basic functionalities of MRUnit testing framework
> > i would like to know the limitations (e.g. i found out that MRUnit does
> not
> > check the partioner logic) and its feasibility with hadoop 0.20...
> > No proper documentation i found ! :(
> >
> > cheers
> > nikhil
> >
> >
> > Jason Venner wrote:
> >
> >> I put together a framework for the Pro Hadoop book that I use quite a
> bit,
> >> and has some documentation in the book examples ;)
> >> I haven't tried it with 0.20.0 however.
> >>
> >> The nicest thing that I did with the framework was provide a way to run
> a
> >> persistent mini virtual cluster for running multiple tests on.
> >>
> >> On Wed, Aug 26, 2009 at 4:50 PM, Nikhil Sawant <nsawant@yahoo-inc.com
> >> >wrote:
> >>
> >>
> >>
> >>> hi
> >>>
> >>> can u guys suggest some hadoop unit testing framework apart from
> >>> MRUnit???
> >>> i have used MRUnit but i m not sure abt its feasibilty and support to
> >>> hadoop 0.20.....
> >>> i could not find a proper documentation for MRUnit, is it available
> >>> anywhere?
> >>>
> >>> --
> >>> cheers
> >>> nikhil
> >>>
> >>>
> >>>
> >>>
> >>
> >>
> >>
> >>
> >
>



-- 
Pro Hadoop, a book to guide you from beginner to hadoop mastery,
http://www.amazon.com/dp/1430219424?tag=jewlerymall
www.prohadoopbook.com a community for Hadoop Professionals

--0016e64603bcd6064704727d8ecf--

From common-user-return-17193-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 01 06:25:18 2009
Return-Path: <common-user-return-17193-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 52202 invoked from network); 1 Sep 2009 06:25:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Sep 2009 06:25:18 -0000
Received: (qmail 17953 invoked by uid 500); 1 Sep 2009 06:25:15 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 17879 invoked by uid 500); 1 Sep 2009 06:25:15 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 17869 invoked by uid 99); 1 Sep 2009 06:25:15 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 06:25:15 +0000
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [216.145.54.171] (HELO mrout1.yahoo.com) (216.145.54.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 06:25:05 +0000
Received: from [192.168.1.64] (snvvpn3-10-72-76-c188.hq.corp.yahoo.com [10.72.76.188])
	by mrout1.yahoo.com (8.13.6/8.13.6/y.out) with ESMTP id n816Ogqj068949
	for <common-user@hadoop.apache.org>; Mon, 31 Aug 2009 23:24:42 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; s=serpent; d=yahoo-inc.com; c=nofws; q=dns;
	h=message-id:from:to:in-reply-to:content-type:
	content-transfer-encoding:mime-version:subject:date:references:x-mailer;
	b=y0GRV6EBBb8rTyzk4sQAdveWz0UaHBb1OZ9mlK+W8sr5l8K1fvKo0pFOgKmCroyv
Message-Id: <E3982827-138D-490C-A598-27BDCBFAA49F@yahoo-inc.com>
From: Arun C Murthy <acm@yahoo-inc.com>
To: common-user@hadoop.apache.org
In-Reply-To: <b8208a3b0908281911q55f97c7bxc6d29063388c7872@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed; delsp=yes
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0 (Apple Message framework v936)
Subject: Re: add custom timestamps to the Job log
Date: Mon, 31 Aug 2009 23:24:41 -0700
References: <b8208a3b0908281911q55f97c7bxc6d29063388c7872@mail.gmail.com>
X-Mailer: Apple Mail (2.936)
X-Virus-Checked: Checked by ClamAV on apache.org


On Aug 28, 2009, at 7:11 PM, Rares Vernica wrote:

> Hello,
>
> The job log has some very important timestamps that show the start/end
> time of various stages of a task attempt. I was wondering it it is
> possible to add custom timestamps to it.
>

You can add any 'Counters' to your job and they will automatically  
show up in the JobHistory logs...
http://hadoop.apache.org/common/docs/r0.20.0/mapred_tutorial.html#Counters

Arun

> For example, for a reduce task attempt, the job job will contain  
> something like:
>
> ReduceAttempt TASK_TYPE="REDUCE" SHUFFLE_FINISHED="1251226468482"
> SORT_FINISHED="1251226505088" FINISH_TIME="1251226513547"...
>
> Is it possible/easy to add more timestamps, like  
> SOMETHING_FINISHED="..."?
>
> Thanks!
> Rares Vernica


From common-user-return-17194-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 01 09:00:30 2009
Return-Path: <common-user-return-17194-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 94481 invoked from network); 1 Sep 2009 09:00:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Sep 2009 09:00:29 -0000
Received: (qmail 79247 invoked by uid 500); 1 Sep 2009 09:00:27 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 79163 invoked by uid 500); 1 Sep 2009 09:00:27 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 79151 invoked by uid 99); 1 Sep 2009 09:00:27 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 09:00:27 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of stas.oskin@gmail.com designates 209.85.218.214 as permitted sender)
Received: from [209.85.218.214] (HELO mail-bw0-f214.google.com) (209.85.218.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 09:00:19 +0000
Received: by bwz10 with SMTP id 10so2524495bwz.29
        for <common-user@hadoop.apache.org>; Tue, 01 Sep 2009 01:59:57 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=ih12bcEmH4t74FqYZmXVFLrNqlIdwHC9YdAbXlfj1PI=;
        b=r9dfTgaJAjdfdWyIkIJlOU6b2vHuhcMCeug4xV3gukxIcBqcOcZsCzKL/Nac25rmy5
         N0AWHzP1aipBGqiyXqfzEmt5umHOJv2kXCMHegEXsLFAo0DJWMuLHZEkEVJrXTfmVRld
         nYfu6UCIXPaVTnxJvP2mpVOydM5/H9YvWyzkU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=c35ORfI2EcLBSxjj+VKA2J2UoyyStQrrDoo4XQoAP0kXbxFRUx7RVSbDgtzTYw1Ow3
         O36OQFJX5rQJjGzDRrUVFCgy77MO80/dYrPVYYeRIUy/OWhZ0yhcdGC5A1aTmarkyosR
         ZYI491GcMLbZtptVpCTe12fX2Cmru/fwd6nBE=
MIME-Version: 1.0
Received: by 10.223.101.156 with SMTP id c28mr2237322fao.52.1251795597351; 
	Tue, 01 Sep 2009 01:59:57 -0700 (PDT)
In-Reply-To: <944750dd0908311840p8062527l350180cfa451f7ec@mail.gmail.com>
References: <77938bc20908310340g63c6b29aw25a4edd16f1fc840@mail.gmail.com>
	 <007e01ca2abd$d659b7f0$830d27d0$@com>
	 <77938bc20908310653t13ef7031i25487d7c818fef8b@mail.gmail.com>
	 <8211a1320908310840p59e56e16o2e933a151a951334@mail.gmail.com>
	 <77938bc20908310907g542e50d2me9a6f31e8d4ba3d4@mail.gmail.com>
	 <7a8854060908311004ncd63e7cv9ea388a3e86d25f1@mail.gmail.com>
	 <77938bc20908311009n3e6a6ebg7c268d2a5ab46530@mail.gmail.com>
	 <944750dd0908311840p8062527l350180cfa451f7ec@mail.gmail.com>
Date: Tue, 1 Sep 2009 11:59:57 +0300
Message-ID: <77938bc20909010159lb667aecp12417c6f6da06c3f@mail.gmail.com>
Subject: Re: Datanode high memory usage
From: Stas Oskin <stas.oskin@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=001517448064e95c0d0472805f04
X-Virus-Checked: Checked by ClamAV on apache.org

--001517448064e95c0d0472805f04
Content-Type: text/plain; charset=ISO-8859-1

Hi.

2009/9/1 Mafish Liu <mafish@gmail.com>

> Did you have many small files in your system?
>
>
Yes, quite plenty.

But this should influence the Namenode, and not the Datanode, correct?

Regards.

--001517448064e95c0d0472805f04--

From common-user-return-17195-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 01 09:02:01 2009
Return-Path: <common-user-return-17195-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 94878 invoked from network); 1 Sep 2009 09:02:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Sep 2009 09:02:01 -0000
Received: (qmail 84623 invoked by uid 500); 1 Sep 2009 09:01:58 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 84568 invoked by uid 500); 1 Sep 2009 09:01:58 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 84558 invoked by uid 99); 1 Sep 2009 09:01:58 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 09:01:58 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of stas.oskin@gmail.com designates 209.85.220.225 as permitted sender)
Received: from [209.85.220.225] (HELO mail-fx0-f225.google.com) (209.85.220.225)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 09:01:49 +0000
Received: by fxm25 with SMTP id 25so3411872fxm.29
        for <common-user@hadoop.apache.org>; Tue, 01 Sep 2009 02:01:29 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=2XzhzAcsNZhLEfqkskp2quMpKE9uwOsfrzr3CAnZmgs=;
        b=NAnvQkiOaWlJuAq6U+iIHIuvgIozr1WHRx4Ksyipjyh6TQYc8gp9trAMjSTaNvgDkC
         8fP6QEPQwC8U7X1E4uAlB622pZfemok9CzoGikWD+mWyxRD6937/1XfvhA5A3F3/+G9C
         BRdrwe5rXQsFgEa86E7CuS03jGzzYbMu8HtiA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=Cp6NqXHdLR7EhKVLrR+SBSRhsTR0pjtehy4b+QgcGAoCjd91WU5po3otLwIgEEQKne
         oJ6HGrGMJn5SaTT7zsksdKfiFUY6RSKD55mgsZNvILU6Bev8rQyLpMtNLMjjofLNbfbh
         UZXHihGiDTKHylwIIp1MaHV934Tv0E6uVMBp8=
MIME-Version: 1.0
Received: by 10.223.144.67 with SMTP id y3mr2313331fau.40.1251795689450; Tue, 
	01 Sep 2009 02:01:29 -0700 (PDT)
In-Reply-To: <616DA47B2EF5B944B91846785B512FF4CFADEA73AB@EGL-EX07VS01.ds.corp.yahoo.com>
References: <77938bc20908310340g63c6b29aw25a4edd16f1fc840@mail.gmail.com>
	 <007e01ca2abd$d659b7f0$830d27d0$@com>
	 <77938bc20908310653t13ef7031i25487d7c818fef8b@mail.gmail.com>
	 <8211a1320908310840p59e56e16o2e933a151a951334@mail.gmail.com>
	 <77938bc20908310907g542e50d2me9a6f31e8d4ba3d4@mail.gmail.com>
	 <7a8854060908311004ncd63e7cv9ea388a3e86d25f1@mail.gmail.com>
	 <77938bc20908311009n3e6a6ebg7c268d2a5ab46530@mail.gmail.com>
	 <616DA47B2EF5B944B91846785B512FF4CFADEA73AB@EGL-EX07VS01.ds.corp.yahoo.com>
Date: Tue, 1 Sep 2009 12:01:27 +0300
Message-ID: <77938bc20909010201j5cbf67e6l436f553a37944c72@mail.gmail.com>
Subject: Re: Datanode high memory usage
From: Stas Oskin <stas.oskin@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0023545bf54866e0d304728065b8
X-Virus-Checked: Checked by ClamAV on apache.org

--0023545bf54866e0d304728065b8
Content-Type: text/plain; charset=ISO-8859-1

Hi.

2009/9/1 Amogh Vasekar <amogh@yahoo-inc.com>

> This wont change the daemon configs.
> Hadoop by default allocates 1000MB of memory for each of its daemons, which
> can be controlled by HADOOP_HEAPSIZE, HADOOP_NAMENODE_OPTS,
> HADOOP_TASKTRACKER_OPTS in the hadoop script.
> However, there was a discussion on this sometime back wherein these options
> would be overridden by default 1000MB, not sure if the patch is available.
>
>
 So this value is getting overriden later on by hard-coded value?

Do you know by chance the patch ID?

Regards.

--0023545bf54866e0d304728065b8--

From common-user-return-17196-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 01 09:09:16 2009
Return-Path: <common-user-return-17196-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 96604 invoked from network); 1 Sep 2009 09:09:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Sep 2009 09:09:16 -0000
Received: (qmail 99860 invoked by uid 500); 1 Sep 2009 09:09:14 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 99754 invoked by uid 500); 1 Sep 2009 09:09:13 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 99744 invoked by uid 99); 1 Sep 2009 09:09:13 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 09:09:13 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of mafish@gmail.com designates 209.85.216.180 as permitted sender)
Received: from [209.85.216.180] (HELO mail-px0-f180.google.com) (209.85.216.180)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 09:09:04 +0000
Received: by pxi10 with SMTP id 10so572804pxi.24
        for <common-user@hadoop.apache.org>; Tue, 01 Sep 2009 02:08:43 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=Im+wKsOXl/Yix1I1wcgtKbCd7RnmRmG9Kd5TuVCu+zA=;
        b=LKQo8uoaU9Qc6AStSl033PgyFW329qvW7ezhGOecpzeqs2eB//7fHTqOKk5bJDdCMn
         X3xFhDlpqwzdBgRpantpUoINqyqe4pT5kSzvvJBdoFC+OSquGtUGzXnSReb8180euElj
         PLW1Tfvzf/aZMFlHYy4uJKak4ImpH+mIcDGb0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=pgfuJ76O3y9fn8+Q2aT9FGUutLj4VfeMa6iu0w610WO8AP68QPZ7jb57paEnWV3W4g
         6vYS3uutIXBCb+6vVcCRKz+08Qz5QTJ8VqFXvmdOqRhiqCIbhK8EpNORdWxWZ2KEN5K0
         pKRysQjuVfr6sWqu3LmeQvapCS/3hi+zrDa3o=
MIME-Version: 1.0
Received: by 10.140.248.15 with SMTP id v15mr1497321rvh.127.1251796123340; 
	Tue, 01 Sep 2009 02:08:43 -0700 (PDT)
In-Reply-To: <77938bc20909010159lb667aecp12417c6f6da06c3f@mail.gmail.com>
References: <77938bc20908310340g63c6b29aw25a4edd16f1fc840@mail.gmail.com>
	 <007e01ca2abd$d659b7f0$830d27d0$@com>
	 <77938bc20908310653t13ef7031i25487d7c818fef8b@mail.gmail.com>
	 <8211a1320908310840p59e56e16o2e933a151a951334@mail.gmail.com>
	 <77938bc20908310907g542e50d2me9a6f31e8d4ba3d4@mail.gmail.com>
	 <7a8854060908311004ncd63e7cv9ea388a3e86d25f1@mail.gmail.com>
	 <77938bc20908311009n3e6a6ebg7c268d2a5ab46530@mail.gmail.com>
	 <944750dd0908311840p8062527l350180cfa451f7ec@mail.gmail.com>
	 <77938bc20909010159lb667aecp12417c6f6da06c3f@mail.gmail.com>
Date: Tue, 1 Sep 2009 17:08:43 +0800
Message-ID: <944750dd0909010208q31c33e5bwde3fc2d1ca1e5bdd@mail.gmail.com>
Subject: Re: Datanode high memory usage
From: Mafish Liu <mafish@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Both NameNode and DataNode will be affected by number of files greatly.
In my test, almost 60% memory are used in datanodes while storing 1m
files, and the value reach 80% with 2m files.
My test best is with 5 nodes, 1 namenode and 4 datanodes. All nodes
have 2GB memory and replication is 3.

2009/9/1 Stas Oskin <stas.oskin@gmail.com>:
> Hi.
>
> 2009/9/1 Mafish Liu <mafish@gmail.com>
>
>> Did you have many small files in your system?
>>
>>
> Yes, quite plenty.
>
> But this should influence the Namenode, and not the Datanode, correct?
>
> Regards.
>



-- 
Mafish@gmail.com

From common-user-return-17197-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 01 09:11:26 2009
Return-Path: <common-user-return-17197-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 97432 invoked from network); 1 Sep 2009 09:11:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Sep 2009 09:11:26 -0000
Received: (qmail 5482 invoked by uid 500); 1 Sep 2009 09:11:24 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 5408 invoked by uid 500); 1 Sep 2009 09:11:23 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 5398 invoked by uid 99); 1 Sep 2009 09:11:23 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 09:11:23 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of mafish@gmail.com designates 209.85.222.174 as permitted sender)
Received: from [209.85.222.174] (HELO mail-pz0-f174.google.com) (209.85.222.174)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 09:11:15 +0000
Received: by pzk4 with SMTP id 4so3814411pzk.29
        for <common-user@hadoop.apache.org>; Tue, 01 Sep 2009 02:10:55 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=OTjLwDDF0yYCGBFP61sY7JETh3CvxgSLTOkxwDDuHWU=;
        b=tZORZSo1/SWnsXJ2EVlXGIEyCjKlkubrH/tTV1WJYrWK/IRDO8QxkfMu30ambBJtCO
         PE8diOysk5WpXCcoSyA5t4Qj9BFnUBxq20qgjt3LdZMBDPZitU7lQdAw78aiQTPp6bD/
         zRB3dlX43KhzLYhqlOVqwDpn2k4FtywqJM8QI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=ZYDpbQ3BRmZjLZhm0+aSf/0qbiLJEuz5A4s6t9HtOxUZ19r21TwDmW5RjseRA2XxMi
         YP+rhJa3mc3JiUT0vofhfGgY0INhldPXxeUOIJTotJTqcS4H0M4nNCi/ydGRj+m0DdVa
         fXZb388lwv6QgW6Wap2qfIksWMlllSFcoIgO0=
MIME-Version: 1.0
Received: by 10.141.12.11 with SMTP id p11mr1467557rvi.231.1251796255779; Tue, 
	01 Sep 2009 02:10:55 -0700 (PDT)
In-Reply-To: <944750dd0909010208q31c33e5bwde3fc2d1ca1e5bdd@mail.gmail.com>
References: <77938bc20908310340g63c6b29aw25a4edd16f1fc840@mail.gmail.com>
	 <007e01ca2abd$d659b7f0$830d27d0$@com>
	 <77938bc20908310653t13ef7031i25487d7c818fef8b@mail.gmail.com>
	 <8211a1320908310840p59e56e16o2e933a151a951334@mail.gmail.com>
	 <77938bc20908310907g542e50d2me9a6f31e8d4ba3d4@mail.gmail.com>
	 <7a8854060908311004ncd63e7cv9ea388a3e86d25f1@mail.gmail.com>
	 <77938bc20908311009n3e6a6ebg7c268d2a5ab46530@mail.gmail.com>
	 <944750dd0908311840p8062527l350180cfa451f7ec@mail.gmail.com>
	 <77938bc20909010159lb667aecp12417c6f6da06c3f@mail.gmail.com>
	 <944750dd0909010208q31c33e5bwde3fc2d1ca1e5bdd@mail.gmail.com>
Date: Tue, 1 Sep 2009 17:10:55 +0800
Message-ID: <944750dd0909010210ybb2b8c7x4e4b9ffd298c6703@mail.gmail.com>
Subject: Re: Datanode high memory usage
From: Mafish Liu <mafish@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

2009/9/1 Mafish Liu <mafish@gmail.com>:
> Both NameNode and DataNode will be affected by number of files greatly.
> In my test, almost 60% memory are used in datanodes while storing 1m
> files, and the value reach 80% with 2m files.
> My test best is with 5 nodes, 1 namenode and 4 datanodes. All nodes
~~~~test bed
> have 2GB memory and replication is 3.
>
> 2009/9/1 Stas Oskin <stas.oskin@gmail.com>:
>> Hi.
>>
>> 2009/9/1 Mafish Liu <mafish@gmail.com>
>>
>>> Did you have many small files in your system?
>>>
>>>
>> Yes, quite plenty.
>>
>> But this should influence the Namenode, and not the Datanode, correct?
>>
>> Regards.
>>
>
>
>
> --
> Mafish@gmail.com
>



-- 
Mafish@gmail.com

From common-user-return-17198-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 01 10:13:38 2009
Return-Path: <common-user-return-17198-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 16367 invoked from network); 1 Sep 2009 10:13:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Sep 2009 10:13:38 -0000
Received: (qmail 82181 invoked by uid 500); 1 Sep 2009 10:13:36 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 82082 invoked by uid 500); 1 Sep 2009 10:13:36 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 82072 invoked by uid 99); 1 Sep 2009 10:13:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 10:13:36 +0000
X-ASF-Spam-Status: No, hits=-2.8 required=10.0
	tests=RCVD_IN_DNSWL_MED,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [192.6.10.60] (HELO tobor.hpl.hp.com) (192.6.10.60)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 10:13:25 +0000
Received: from localhost (localhost [127.0.0.1])
	by tobor.hpl.hp.com (Postfix) with ESMTP id 0D9BFB7E38
	for <common-user@hadoop.apache.org>; Tue,  1 Sep 2009 11:13:03 +0100 (BST)
X-Virus-Scanned: amavisd-new at hplb.hpl.hp.com
Received: from tobor.hpl.hp.com ([127.0.0.1])
	by localhost (tobor.hpl.hp.com [127.0.0.1]) (amavisd-new, port 10024)
	with LMTP id 6pxyBbDnUQKT for <common-user@hadoop.apache.org>;
	Tue,  1 Sep 2009 11:12:57 +0100 (BST)
Received: from 0-imap-br1.hpl.hp.com (0-imap-br1.hpl.hp.com [16.25.144.60])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by tobor.hpl.hp.com (Postfix) with ESMTPS id 19EB3B7E2E
	for <common-user@hadoop.apache.org>; Tue,  1 Sep 2009 11:12:56 +0100 (BST)
MailScanner-NULL-Check: 1252404764.55249@qaMRH++rNhcPY+/M7Ratmg
Received: from [16.25.175.158] (morzine.hpl.hp.com [16.25.175.158])
	by 0-imap-br1.hpl.hp.com (8.14.1/8.13.4) with ESMTP id n81AChDh023916
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <common-user@hadoop.apache.org>; Tue, 1 Sep 2009 11:12:43 +0100 (BST)
Message-ID: <4A9CF39B.2010703@apache.org>
Date: Tue, 01 Sep 2009 11:12:43 +0100
From: Steve Loughran <stevel@apache.org>
User-Agent: Thunderbird 2.0.0.23 (X11/20090812)
MIME-Version: 1.0
To: common-user@hadoop.apache.org
Subject: Re: Cloudera Video - Hadoop build on eclipse
References: <73d592f60908280416o22832698qa70e52ef1f751701@mail.gmail.com> <45d9159d0908280641m262129bdq7c8d2dd81435fae1@mail.gmail.com>
In-Reply-To: <45d9159d0908280641m262129bdq7c8d2dd81435fae1@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-HPL-MailScanner-Information: Please contact the ISP for more information
X-MailScanner-ID: n81AChDh023916
X-HPL-MailScanner: Found to be clean
X-HPL-MailScanner-From: stevel@apache.org
X-Virus-Checked: Checked by ClamAV on apache.org

ashish pareek wrote:
> Hello Bharath,
> 
>                    Earlier even I faced the same problem. I think your are
> accessing internet through proxy.So try using direct broadband connection.
> Hope this will solve your problem.

or set Ant's proxy up
http://ant.apache.org/manual/proxy.html


> 
> Ashish Pareek
> 
> On Fri, Aug 28, 2009 at 4:46 PM, bharath vissapragada <
> bharathvissapragada1990@gmail.com> wrote:
> 
>> Hi all,
>>
>> Iam trying to build hadoop on eclipse with the help of Cloudera Video on
>> it's site . I have successfully checkedout from the hadoop svn .. Then the
>> problem is iam not able to build the file "build.xml" using ant build. I am
>> getting the error
>>
>> ivy-download:
>>      [get] Getting:
>>
>> http://repo2.maven.org/maven2/org/apache/ivy/ivy/2.0.0-rc2/ivy-2.0.0-rc2.jar
>>      [get] To: /home/rip/workspace/hadoop-trunk/ivy/ivy-2.0.0-rc2.jar
>> [get] Error getting
>>
>> http://repo2.maven.org/maven2/org/apache/ivy/ivy/2.0.0-rc2/ivy-2.0.0-rc2.jarto
>> /home/rip/workspace/hadoop-trunk/ivy/ivy-2.0.0-rc2.jar<http://repo2.maven.org/maven2/org/apache/ivy/ivy/2.0.0-rc2/ivy-2.0.0-rc2.jarto%0A/home/rip/workspace/hadoop-trunk/ivy/ivy-2.0.0-rc2.jar>
>>
>> BUILD FAILED
>> /home/rip/workspace/hadoop-trunk/build.xml:1174: java.net.ConnectException:
>> Connection timed out
>>
>> Total time: 3 minutes 10 seconds
>>
> 

From common-user-return-17199-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 01 12:00:14 2009
Return-Path: <common-user-return-17199-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 45062 invoked from network); 1 Sep 2009 12:00:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Sep 2009 12:00:14 -0000
Received: (qmail 1920 invoked by uid 500); 1 Sep 2009 12:00:12 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 1824 invoked by uid 500); 1 Sep 2009 12:00:12 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 1814 invoked by uid 99); 1 Sep 2009 12:00:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 12:00:12 +0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [129.93.181.2] (HELO mathstat.unl.edu) (129.93.181.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 12:00:02 +0000
Received: from [192.168.0.102] (user-0cdvqhn.cable.mindspring.com [24.223.234.55])
	(authenticated bits=0)
	by mathstat.unl.edu (8.13.8/8.13.8) with ESMTP id n81BxcMk010809
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT)
	for <common-user@hadoop.apache.org>; Tue, 1 Sep 2009 06:59:41 -0500
Message-Id: <1FB3CB82-A660-4DA2-8567-08CC3CFA1A23@cse.unl.edu>
From: Brian Bockelman <bbockelm@cse.unl.edu>
To: common-user@hadoop.apache.org
In-Reply-To: <944750dd0909010208q31c33e5bwde3fc2d1ca1e5bdd@mail.gmail.com>
Content-Type: multipart/signed; boundary=Apple-Mail-85-768755074; micalg=sha1; protocol="application/pkcs7-signature"
Mime-Version: 1.0 (Apple Message framework v936)
Subject: Re: Datanode high memory usage
Date: Tue, 1 Sep 2009 06:59:38 -0500
References: <77938bc20908310340g63c6b29aw25a4edd16f1fc840@mail.gmail.com> <007e01ca2abd$d659b7f0$830d27d0$@com> <77938bc20908310653t13ef7031i25487d7c818fef8b@mail.gmail.com> <8211a1320908310840p59e56e16o2e933a151a951334@mail.gmail.com> <77938bc20908310907g542e50d2me9a6f31e8d4ba3d4@mail.gmail.com> <7a8854060908311004ncd63e7cv9ea388a3e86d25f1@mail.gmail.com> <77938bc20908311009n3e6a6ebg7c268d2a5ab46530@mail.gmail.com> <944750dd0908311840p8062527l350180cfa451f7ec@mail.gmail.com> <77938bc20909010159lb667aecp12417c6f6da06c3f@mail.gmail.com> <944750dd0909010208q31c33e5bwde3fc2d1ca1e5bdd@mail.gmail.com>
X-Mailer: Apple Mail (2.936)
X-Virus-Checked: Checked by ClamAV on apache.org

--Apple-Mail-85-768755074
Content-Type: text/plain;
	charset=US-ASCII;
	format=flowed;
	delsp=yes
Content-Transfer-Encoding: 7bit

Hey Mafish,

If you are getting 1-2m blocks on a single datanode, you'll have many  
other problems - especially with regards to periodic block reports.

With regards to memory, have you tried the compressed pointers JDK  
option (we saw great benefits on the NN)?  Java is incredibly hard to  
get a straight answer from with regards to memory.  You need to  
perform a GC first manually - the actual usage is the amount it  
reports used post-GC.  You can get these details by using JMX.

Brian

On Sep 1, 2009, at 4:08 AM, Mafish Liu wrote:

> Both NameNode and DataNode will be affected by number of files  
> greatly.
> In my test, almost 60% memory are used in datanodes while storing 1m
> files, and the value reach 80% with 2m files.
> My test best is with 5 nodes, 1 namenode and 4 datanodes. All nodes
> have 2GB memory and replication is 3.
>
> 2009/9/1 Stas Oskin <stas.oskin@gmail.com>:
>> Hi.
>>
>> 2009/9/1 Mafish Liu <mafish@gmail.com>
>>
>>> Did you have many small files in your system?
>>>
>>>
>> Yes, quite plenty.
>>
>> But this should influence the Namenode, and not the Datanode,  
>> correct?
>>
>> Regards.
>>
>
>
>
> -- 
> Mafish@gmail.com


--Apple-Mail-85-768755074
Content-Disposition: attachment;
	filename=smime.p7s
Content-Type: application/pkcs7-signature;
	name=smime.p7s
Content-Transfer-Encoding: base64

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIICjCCA/gw
ggLgoAMCAQICASkwDQYJKoZIhvcNAQEFBQAwdTETMBEGCgmSJomT8ixkARkWA25ldDESMBAGCgmS
JomT8ixkARkWAkVTMQ4wDAYDVQQKEwVFU25ldDEgMB4GA1UECxMXQ2VydGlmaWNhdGUgQXV0aG9y
aXRpZXMxGDAWBgNVBAMTD0VTbmV0IFJvb3QgQ0EgMTAeFw0wMjEyMDUwODAwMDBaFw0xMzAxMjUw
ODAwMDBaMGkxEzARBgoJkiaJk/IsZAEZFgNvcmcxGDAWBgoJkiaJk/IsZAEZFghET0VHcmlkczEg
MB4GA1UECxMXQ2VydGlmaWNhdGUgQXV0aG9yaXRpZXMxFjAUBgNVBAMTDURPRUdyaWRzIENBIDEw
ggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC09dYjYaPbCD5mtbiQb7Ka3y1qAm0ZcqKC
FciWcfe8Kwcuy9tjHuIsLf9ZItdkDW4xy8sua9nJlx3KlwjtumTMtOtg35KZCknUd8KM4VGTSFdL
VG9AbNayef76caVCGM1+jyF0Lq03kauGOPTcNfZe1TZa3e1c9rc8ljV5OSWa/mfsCACyS5zFIWu0
yIDNyJdf+n0hwaPN53wllpJ30taD+JBjQ7h2k4xRWzeaznLOb9OztZVRA/1sVze+iczFh2xwa4Vd
Gy0eIIPw1pfvYwxO36rm0S109qvbsNlaroPRbxerPKakQLpKe034Xcx7gBPqUk/FxoRRWin5EWN3
rz9LAgMBAAGjgZ4wgZswDgYDVR0PAQH/BAQDAgGGMBEGCWCGSAGG+EIBAQQEAwIAhzAdBgNVHQ4E
FgQUyhkdEo5upDhdQtQxDgjb2Y0XDV0wHwYDVR0jBBgwFoAUvF1NSC/4NZRZq1yJSz7RsjoUAeow
DwYDVR0TAQH/BAUwAwEB/zAlBgNVHREEHjAcgRpET0VHcmlkcy1DQS0xQGRvZWdyaWRzLm9yZzAN
BgkqhkiG9w0BAQUFAAOCAQEAZNVrIDLqe39CEOiJt7Q7EpBPhAihMvDTSf/42u0SMbUmChww4mLm
ph5DBghZUVF8Yn59kRZMn1QLOtO1HzLqvAvPITacZVPlJgG2IXzlR636YghZFAycbIUEOJDBHR4v
tQO1KDxgZwvAbtmKIoxvhUCq2xsfFt9kCBBn+JYtQ6O5LsBJq3PmuubeMcc7mbQAfJZ7h/3Qghgk
FIhmE1+LBXPJbkuP8vgfg6h2BKoAf5TFfZECgGZKimfN110tBvfedGZwYYd3/GsJc83B0JN1gny0
gqNVPm392UchXGeBRrHnm2gkhIkr48Oq6EmNGV9/a6XfbplQW/JWbtPVPWkaizCCBAowggLyoAMC
AQICAwCB+zANBgkqhkiG9w0BAQUFADBpMRMwEQYKCZImiZPyLGQBGRYDb3JnMRgwFgYKCZImiZPy
LGQBGRYIRE9FR3JpZHMxIDAeBgNVBAsTF0NlcnRpZmljYXRlIEF1dGhvcml0aWVzMRYwFAYDVQQD
Ew1ET0VHcmlkcyBDQSAxMB4XDTA5MDYwMjE5NDExM1oXDTEwMDYwMjE5NDExM1owYTETMBEGCgmS
JomT8ixkARkWA29yZzEYMBYGCgmSJomT8ixkARkWCGRvZWdyaWRzMQ8wDQYDVQQLEwZQZW9wbGUx
HzAdBgNVBAMTFkJyaWFuIEJvY2tlbG1hbiA1MDQzMDcwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw
ggEKAoIBAQDPWEl7hBiuFRVBSY4SwvG0HpkCZi74a0BeD0tNARgxoQVJ7jhJjR3G4y8ino0/5axt
2EEfIWUE+DVpV37IWOQl8q/wdvicnhbfjByxBbq4sfWPLepU7+Kd8k1FKHRHermARn9VxEkFLrLB
Gp7O5EX4mFHDaQy+Vv0thtA+m4qKoM+DA/8cOkJA5Rn6ZS/v/vtBzJh9HimVnhBx4+rw2cvKN+7r
lKsm7qTn9TCZmrQ97CvBEXSkHS11m8vYF6ZwcTgSCJM0M9nnX5JilupQO1vDICXSUZeWX2xpsqeL
x1PFGWgDaYXxFGtTRt2Qc9EPwf9Dr72xGPbKN8u5HylpOMDnAgMBAAGjgcIwgb8wEQYJYIZIAYb4
QgEBBAQDAgWgMA4GA1UdDwEB/wQEAwIF4DAfBgNVHSMEGDAWgBTKGR0Sjm6kOF1C1DEOCNvZjRcN
XTAYBgNVHSAEETAPMA0GCyqGSIb3TAMHAQMAMD4GA1UdHwQ3MDUwM6AxoC+GLWh0dHA6Ly9jcmwu
ZG9lZ3JpZHMub3JnLzFjM2YyY2E4LzFjM2YyY2E4LmNybDAfBgNVHREEGDAWgRRiYm9ja2VsbUBj
c2UudW5sLmVkdTANBgkqhkiG9w0BAQUFAAOCAQEAp6KjcWnfnH/MGlUkUWstE9gtPeymHp+2r4zI
w8JXigncJh/8qpSZqBcVhD24WFowI95otblrKYNZKW9f2G/hWwDSxZFqHhCDxFO12vDthrzOc3EH
CwypJPvIlZPt/E/x93XruzPxJwPz84DKKuPoJAMeNlADbd+92YtRr2y+VuMpgZaebMAoeCdWH8Cq
Y8xheNMajf8uiImBbatDuCu7qRvhwgxsMNLHEt4h853K1Zc181RlFGXG1+uL/Q/8VeKiASiCu+7L
1zpfLg7OCr6rJHb5S7wU+CeAvzSqmyy0fd2mwPeiX7huK+Cw4UjaB3yGKItzWT+KQJnV//wcSrzZ
dTGCAv0wggL5AgEBMHAwaTETMBEGCgmSJomT8ixkARkWA29yZzEYMBYGCgmSJomT8ixkARkWCERP
RUdyaWRzMSAwHgYDVQQLExdDZXJ0aWZpY2F0ZSBBdXRob3JpdGllczEWMBQGA1UEAxMNRE9FR3Jp
ZHMgQ0EgMQIDAIH7MAkGBSsOAwIaBQCgggFiMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJ
KoZIhvcNAQkFMQ8XDTA5MDkwMTExNTkzOFowIwYJKoZIhvcNAQkEMRYEFA9kHwLpWlg0B/UKA5Md
ltjcDdabMH8GCSsGAQQBgjcQBDFyMHAwaTETMBEGCgmSJomT8ixkARkWA29yZzEYMBYGCgmSJomT
8ixkARkWCERPRUdyaWRzMSAwHgYDVQQLExdDZXJ0aWZpY2F0ZSBBdXRob3JpdGllczEWMBQGA1UE
AxMNRE9FR3JpZHMgQ0EgMQIDAIH7MIGBBgsqhkiG9w0BCRACCzFyoHAwaTETMBEGCgmSJomT8ixk
ARkWA29yZzEYMBYGCgmSJomT8ixkARkWCERPRUdyaWRzMSAwHgYDVQQLExdDZXJ0aWZpY2F0ZSBB
dXRob3JpdGllczEWMBQGA1UEAxMNRE9FR3JpZHMgQ0EgMQIDAIH7MA0GCSqGSIb3DQEBAQUABIIB
AHbU8tO8w6etOn3xFHVavq0AaCRBpxX55uX7Tzte9qbtypwTaZSRANeQxOiBvt1Phv7xfBkjPk0u
yJHcpPkKERjvCanLS/+rzeu04+U7jShoaImlhHgkMeZ/9Inmz1vMDNUYy7IUbR+Wz0lJoct+pevH
cFC8mNIt3aoTAv+NxLaHNzw+jg1Ud8K9OXkQtyB7U8FB5CvZQkfMRvf7NYSmBHgCWVeqH26E/GLO
SVSTj/svDk05c669ASUcPd8S5HxShWHVS5OQRkHOamDltA3grqF8JpCLs6d3MHmMHm2vDanUkFY1
cCjmFfHlwMLzsuZJ8HCCeTYxCpvP6yiRwChxapMAAAAAAAA=

--Apple-Mail-85-768755074--

From common-user-return-17200-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 01 12:25:26 2009
Return-Path: <common-user-return-17200-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 57842 invoked from network); 1 Sep 2009 12:25:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Sep 2009 12:25:26 -0000
Received: (qmail 32805 invoked by uid 500); 1 Sep 2009 12:25:23 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 32737 invoked by uid 500); 1 Sep 2009 12:25:23 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 32727 invoked by uid 99); 1 Sep 2009 12:25:23 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 12:25:23 +0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=NO_RDNS_DOTCOM_HELO,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [216.145.54.171] (HELO mrout1.yahoo.com) (216.145.54.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 12:25:11 +0000
Received: from EGL-EX07CAS01.ds.corp.yahoo.com (egl-ex07cas01.eglbp.corp.yahoo.com [203.83.248.208])
	by mrout1.yahoo.com (8.13.6/8.13.6/y.out) with ESMTP id n81COiAQ067263
	for <common-user@hadoop.apache.org>; Tue, 1 Sep 2009 05:24:45 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; s=serpent; d=yahoo-inc.com; c=nofws; q=dns;
	h=received:from:to:date:subject:thread-topic:thread-index:
	message-id:references:in-reply-to:accept-language:
	content-language:x-ms-has-attach:x-ms-tnef-correlator:acceptlanguage:
	content-type:content-transfer-encoding:mime-version;
	b=X4sRhBIYcJBmGQJ1cYc0NqAOx0DfFf138ix9+I5bMVDytlSOceL9KZkbr8o45Zh6
Received: from EGL-EX07VS01.ds.corp.yahoo.com ([203.83.248.206]) by
 EGL-EX07CAS01.ds.corp.yahoo.com ([203.83.248.215]) with mapi; Tue, 1 Sep 2009
 17:54:44 +0530
From: Amogh Vasekar <amogh@yahoo-inc.com>
To: "common-user@hadoop.apache.org" <common-user@hadoop.apache.org>
Date: Tue, 1 Sep 2009 17:53:22 +0530
Subject: RE: Datanode high memory usage
Thread-Topic: Datanode high memory usage
Thread-Index: Acoq5s2QDoxXXe1mR6u71+jF6HNj0gAGAWug
Message-ID: <616DA47B2EF5B944B91846785B512FF4CFADEA742D@EGL-EX07VS01.ds.corp.yahoo.com>
References: <77938bc20908310340g63c6b29aw25a4edd16f1fc840@mail.gmail.com>
	 <007e01ca2abd$d659b7f0$830d27d0$@com>
	 <77938bc20908310653t13ef7031i25487d7c818fef8b@mail.gmail.com>
	 <8211a1320908310840p59e56e16o2e933a151a951334@mail.gmail.com>
	 <77938bc20908310907g542e50d2me9a6f31e8d4ba3d4@mail.gmail.com>
	 <7a8854060908311004ncd63e7cv9ea388a3e86d25f1@mail.gmail.com>
	 <77938bc20908311009n3e6a6ebg7c268d2a5ab46530@mail.gmail.com>
	 <616DA47B2EF5B944B91846785B512FF4CFADEA73AB@EGL-EX07VS01.ds.corp.yahoo.com>
 <77938bc20909010201j5cbf67e6l436f553a37944c72@mail.gmail.com>
In-Reply-To: <77938bc20909010201j5cbf67e6l436f553a37944c72@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

Ahh.. very luckily got a mesg on that jira today itself.
----------
     [ https://issues.apache.org/jira/browse/HADOOP-6168?page=3Dcom.atlassi=
an.jira.plugin.system.issuetabpanels:all-tabpanel ]

Allen Wittenauer resolved HADOOP-6168.
--------------------------------------

    Resolution: Duplicate

agreed that this a dupe.

> HADOOP_HEAPSIZE cannot be done per-server easily
> ------------------------------------------------
>
>                 Key: HADOOP-6168
>                 URL: https://issues.apache.org/jira/browse/HADOOP-6168
>             Project: Hadoop Common
>          Issue Type: Bug
>          Components: conf
>    Affects Versions: 0.18.3
>            Reporter: Allen Wittenauer
>
> The hadoop script forces a heap that cannot be easily overridden if one w=
ants to push the same config everywhere.

--
This message is automatically generated by JIRA.
-
You can reply to this email to add a comment to the issue online.
-----------

Cheers!
Amogh
-----Original Message-----
From: Stas Oskin [mailto:stas.oskin@gmail.com]=20
Sent: Tuesday, September 01, 2009 2:31 PM
To: common-user@hadoop.apache.org
Subject: Re: Datanode high memory usage

Hi.

2009/9/1 Amogh Vasekar <amogh@yahoo-inc.com>

> This wont change the daemon configs.
> Hadoop by default allocates 1000MB of memory for each of its daemons, whi=
ch
> can be controlled by HADOOP_HEAPSIZE, HADOOP_NAMENODE_OPTS,
> HADOOP_TASKTRACKER_OPTS in the hadoop script.
> However, there was a discussion on this sometime back wherein these optio=
ns
> would be overridden by default 1000MB, not sure if the patch is available=
.
>
>
 So this value is getting overriden later on by hard-coded value?

Do you know by chance the patch ID?

Regards.

From common-user-return-17201-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 01 13:32:15 2009
Return-Path: <common-user-return-17201-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 78954 invoked from network); 1 Sep 2009 13:32:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Sep 2009 13:32:15 -0000
Received: (qmail 37102 invoked by uid 500); 1 Sep 2009 13:32:12 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 37035 invoked by uid 500); 1 Sep 2009 13:32:12 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 37025 invoked by uid 99); 1 Sep 2009 13:32:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 13:32:12 +0000
X-ASF-Spam-Status: No, hits=3.7 required=10.0
	tests=HTML_MESSAGE,NORMAL_HTTP_TO_IP,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of m_umer_arshad@hotmail.com designates 65.55.111.145 as permitted sender)
Received: from [65.55.111.145] (HELO blu0-omc4-s6.blu0.hotmail.com) (65.55.111.145)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 13:32:02 +0000
Received: from BLU132-W20 ([65.55.111.135]) by blu0-omc4-s6.blu0.hotmail.com with Microsoft SMTPSVC(6.0.3790.3959);
	 Tue, 1 Sep 2009 06:31:41 -0700
Message-ID: <BLU132-W205EFD349AF8FEE00F3A91A0F10@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_bddd78f9-9887-42d2-a95b-e16f1727d8ab_"
X-Originating-IP: [128.210.126.237]
From: umer arshad <m_umer_arshad@hotmail.com>
To: <common-user@hadoop.apache.org>
Subject: RE: hdfs.DFSClient: Exception in createBlockOutputStream
 java.io.IOException: Bad connect ack with firstBadLink
Date: Tue, 1 Sep 2009 13:31:41 +0000
Importance: Normal
In-Reply-To: <BLU132-W17C29466142623FAECF3BFA0F20@phx.gbl>
References: <BLU132-W17C29466142623FAECF3BFA0F20@phx.gbl>
MIME-Version: 1.0
X-OriginalArrivalTime: 01 Sep 2009 13:31:41.0688 (UTC) FILETIME=[8A805780:01CA2B08]
X-Virus-Checked: Checked by ClamAV on apache.org

--_bddd78f9-9887-42d2-a95b-e16f1727d8ab_
Content-Type: text/plain; charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable


I have resolved the issue:
What i did:=20

1) '/etc/init.d/iptables stop' -->stopped firewall
2) SELINUX=3Ddisabled in '/etc/selinux/config' file.-->disabled selinux
I worked for me after these two changes.
thanks=2C
--umer

> From: m_umer_arshad@hotmail.com
> To: common-user@hadoop.apache.org
> Subject: hdfs.DFSClient: Exception in createBlockOutputStream java.io.IOE=
xception: Bad connect ack with firstBadLink
> Date: Mon=2C 31 Aug 2009 23:35:31 +0000
>=20
>=20
> Hi=2C
>=20
> I have set-up an 8-node private hadoop cluster having IP-addresses as fol=
lows:
>=20
> 192.168.1.10 (master)
> 192.168.1.11=20
> 192.168.1.12 =20
> 192.168.1.13
> 192.168.1.14
> 192.168.1.15
> 192.168.1.16
> 192.168.1.17
>=20
> Address 192.168.1.10=2C master=2C is running NN+JT and all other nodes ar=
e slaves i.e. running DN+TT. I am trying to put data on HDFS using command:=
 hadoop dfs -put 8GB_input 8GB_input
>=20
> I have noticed that some blocks are not replicated/placed on nodes with I=
P addresses 192.168.1.11=2C 192.168.1.15=2C and 192.168.1.16 and i get the =
following error messages:
> ------------------------------------
> $ hadoop dfs -put 8GB_input 8GB_input
> 09/08/31 18:25:45 INFO hdfs.DFSClient: Exception in createBlockOutputStre=
am java.io.IOException: Bad connect ack with firstBadLink 192.168.1.11:5001=
0
> 09/08/31 18:25:45 INFO hdfs.DFSClient: Abandoning block blk_-857581219822=
7241296_1001
> 09/08/31 18:25:51 INFO hdfs.DFSClient: Exception in createBlockOutputStre=
am java.io.IOException: Bad connect ack with firstBadLink 192.168.1.16:5001=
0
> 09/08/31 18:25:51 INFO hdfs.DFSClient: Abandoning block blk_-293225621844=
8902464_1001
> 09/08/31 18:25:57 INFO hdfs.DFSClient: Exception in createBlockOutputStre=
am java.io.IOException: Bad connect ack with firstBadLink 192.168.1.11:5001=
0
> 09/08/31 18:25:57 INFO hdfs.DFSClient: Abandoning block blk_-101444996648=
0421244_1001
> 09/08/31 18:26:03 INFO hdfs.DFSClient: Exception in createBlockOutputStre=
am java.io.IOException: Bad connect ack with firstBadLink 192.168.1.16:5001=
0
> 09/08/31 18:26:03 INFO hdfs.DFSClient: Abandoning block blk_7193173823538=
206978_1001
> 09/08/31 18:26:09 WARN hdfs.DFSClient: DataStreamer Exception: java.io.IO=
Exception: Unable to create new block.
>         at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.nextBlockOutp=
utStream(DFSClient.java:2731)
>         at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.access$2000(D=
FSClient.java:1996)
>         at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream$DataStreamer.=
run(DFSClient.java:2182)
>=20
> 09/08/31 18:26:09 WARN hdfs.DFSClient: Error Recovery for block blk_71931=
73823538206978_1001 bad datanode[2] nodes =3D=3D null
> 09/08/31 18:26:09 WARN hdfs.DFSClient: Could not get block locations. Sou=
rce file "/user/umer/8GB_input" - Aborting...
> put: Bad connect ack with firstBadLink 192.168.1.16:50010
> -------------------------------------------------
>=20
> Sometimes the input file is replicated successfully (excluding these thre=
e nodes) and sometimes the copy process i.e. 'hdfs -put input input' termin=
ates.
>=20
> NOTE: My replication factor =3D 3.=20
>=20
> I am able to see that all machines are up-and-running using Web-UI http:/=
/192.168.1.10:50070.
>=20
> I will be greatful for any suggestion/comment in this regard.=20
>=20
> thanks=2C
> --umer
>=20
>=20
>=20
>=20
> _________________________________________________________________
> Share your memories online with anyone you want.
> http://www.microsoft.com/middleeast/windows/windowslive/products/photos-s=
hare.aspx?tab=3D1

_________________________________________________________________
More than messages=96check out the rest of the Windows Live=99.
http://www.microsoft.com/windows/windowslive/=

--_bddd78f9-9887-42d2-a95b-e16f1727d8ab_--

From common-user-return-17202-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 01 16:02:19 2009
Return-Path: <common-user-return-17202-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 26938 invoked from network); 1 Sep 2009 16:02:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Sep 2009 16:02:19 -0000
Received: (qmail 92406 invoked by uid 500); 1 Sep 2009 16:02:17 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 92331 invoked by uid 500); 1 Sep 2009 16:02:17 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 92321 invoked by uid 500); 1 Sep 2009 16:02:17 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 92317 invoked by uid 99); 1 Sep 2009 16:02:17 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 16:02:17 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of lists@nabble.com designates 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 16:02:07 +0000
Received: from isper.nabble.com ([192.168.236.156])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lists@nabble.com>)
	id 1MiVnm-0007zR-I4
	for core-user@hadoop.apache.org; Tue, 01 Sep 2009 09:01:46 -0700
Message-ID: <25243059.post@talk.nabble.com>
Date: Tue, 1 Sep 2009 09:01:46 -0700 (PDT)
From: indoos <indoos@gmail.com>
To: core-user@hadoop.apache.org
Subject: Re: Datanode high memory usage
In-Reply-To: <77938bc20908310340g63c6b29aw25a4edd16f1fc840@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: indoos@gmail.com
References: <77938bc20908310340g63c6b29aw25a4edd16f1fc840@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org


Hi,
The recommended RAM for namenode,datanode, jobtracker and tasktracker is 1
GB.
The datanode would be using the major part of memory to do following-
a. Continuously (at regular interval) send heartbeat messages to namenode to
say 'I am live and awake'
b. In case, any data/file is added to DFS, OR Map Reduce jobs are running,
datanode would again be talking to namenode or transferring data from its
local copy to either client or other slave datanodes in the cluster

-Sanjay
 

Stas Oskin-2 wrote:
> 
> Hi.
> 
> I measured the Datanode memory usage, and noticed they take up to 700 MB
> of
> RAM.
> 
> As their main job is to store files to disk, any idea why they take so
> much
> RAM?
> 
> Thanks for any information.
> 
> 

-- 
View this message in context: http://www.nabble.com/Datanode-high-memory-usage-tp25221400p25243059.html
Sent from the Hadoop core-user mailing list archive at Nabble.com.


From common-user-return-17203-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 01 18:25:50 2009
Return-Path: <common-user-return-17203-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 78670 invoked from network); 1 Sep 2009 18:25:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Sep 2009 18:25:49 -0000
Received: (qmail 83011 invoked by uid 500); 1 Sep 2009 18:25:47 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 82944 invoked by uid 500); 1 Sep 2009 18:25:47 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 82934 invoked by uid 99); 1 Sep 2009 18:25:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 18:25:45 +0000
X-ASF-Spam-Status: No, hits=3.8 required=10.0
	tests=RCVD_NUMERIC_HELO,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [69.147.107.21] (HELO mrout2-b.corp.re1.yahoo.com) (69.147.107.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 18:25:34 +0000
Received: from SNV-EXBH01.ds.corp.yahoo.com (snv-exbh01.ds.corp.yahoo.com [207.126.227.249])
	by mrout2-b.corp.re1.yahoo.com (8.13.8/8.13.8/y.out) with ESMTP id n81INaUQ003486
	for <common-user@hadoop.apache.org>; Tue, 1 Sep 2009 11:23:36 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; s=serpent; d=yahoo-inc.com; c=nofws; q=dns;
	h=received:user-agent:date:subject:from:to:message-id:
	thread-topic:thread-index:in-reply-to:mime-version:content-type:
	content-transfer-encoding:x-originalarrivaltime;
	b=KlJJjrVrmXxSjIue2n2YkXnOwDdJNz5q+cCIuD9m99akEAOn0qpkgBXCduVoYqZJ
Received: from SNV-EXVS02.ds.corp.yahoo.com ([216.145.51.202]) by SNV-EXBH01.ds.corp.yahoo.com with Microsoft SMTPSVC(6.0.3790.3959);
	 Tue, 1 Sep 2009 11:23:35 -0700
Received: from 207.126.235.30 ([207.126.235.30]) by SNV-EXVS02.ds.corp.yahoo.com ([216.145.51.163]) via Exchange Front-End Server snv-webmail.corp.yahoo.com ([207.126.227.248]) with Microsoft Exchange Server HTTP-DAV ;
 Tue,  1 Sep 2009 18:22:57 +0000
User-Agent: Microsoft-Entourage/12.19.0.090515
Date: Tue, 01 Sep 2009 11:22:55 -0700
Subject: Re: DistCp - NoClassDefFoundError
From: Boris Shkolnik <borya@yahoo-inc.com>
To: <common-user@hadoop.apache.org>
Message-ID: <C6C2B48F.203D1%borya@yahoo-inc.com>
Thread-Topic: DistCp - NoClassDefFoundError
Thread-Index: AcorMTloXsfe441+HUq1sUHTdN6r5g==
In-Reply-To: <f27b3fc0908311419u7bb21b64v752163ef1892a603@mail.gmail.com>
Mime-version: 1.0
Content-type: text/plain;
	charset="US-ASCII"
Content-transfer-encoding: 7bit
X-OriginalArrivalTime: 01 Sep 2009 18:23:35.0830 (UTC) FILETIME=[51BE5360:01CA2B31]
X-Virus-Checked: Checked by ClamAV on apache.org

After split Distcp belongs to hadoop-mapreduce.
Make sure hadoop-mapred-tools-$VER-dev.jar is in your classpath.

Boris.


On 8/31/09 2:19 PM, "Kevin Peterson" <kpeterson@biz360.com> wrote:

> On Fri, Aug 28, 2009 at 10:34 AM, mpiller <mark@themidnightcoders.com>wrote:
> 
>> 
>> I am using the DistCp class inside of my application to copy final output
>> files out into S3 (this is per Amazon's recommendation). However, when I
>> run
>> the program I get the following exception:
>> 
>> java.lang.NoClassDefFoundError: org/apache/hadoop/tools/DistCp
>> 
>> 
> I generally run DistCp from the command line. I'd look into the bin/hadoop
> script to see what it actually runs when you do distcp. It may be that the
> jar isn't in the classpath normally.


From common-user-return-17204-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 01 18:29:34 2009
Return-Path: <common-user-return-17204-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 79834 invoked from network); 1 Sep 2009 18:29:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Sep 2009 18:29:34 -0000
Received: (qmail 88779 invoked by uid 500); 1 Sep 2009 18:29:31 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 88708 invoked by uid 500); 1 Sep 2009 18:29:31 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 88698 invoked by uid 99); 1 Sep 2009 18:29:31 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 18:29:31 +0000
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [69.147.107.21] (HELO mrout2-b.corp.re1.yahoo.com) (69.147.107.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 18:29:21 +0000
Received: from [10.72.114.189] (specialwarm-lm.corp.yahoo.com [10.72.114.189])
	by mrout2-b.corp.re1.yahoo.com (8.13.8/8.13.8/y.out) with ESMTP id n81ISKJo005702
	for <common-user@hadoop.apache.org>; Tue, 1 Sep 2009 11:28:20 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; s=serpent; d=yahoo-inc.com; c=nofws; q=dns;
	h=message-id:date:from:user-agent:mime-version:to:subject:
	references:in-reply-to:content-type:content-transfer-encoding;
	b=PEYJ0/7RX0/ALyANhdWXi+suwRHkltf9jRyg0+54esB1qmzULdi8LtxshCJRnqR3
Message-ID: <4A9D67C4.6010709@yahoo-inc.com>
Date: Tue, 01 Sep 2009 11:28:20 -0700
From: Raghu Angadi <rangadi@yahoo-inc.com>
User-Agent: Thunderbird 2.0.0.19 (Macintosh/20081209)
MIME-Version: 1.0
To: common-user@hadoop.apache.org
Subject: Re: Datanode high memory usage
References: <77938bc20908310340g63c6b29aw25a4edd16f1fc840@mail.gmail.com>
In-Reply-To: <77938bc20908310340g63c6b29aw25a4edd16f1fc840@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org


I think this thread is moving in all the possible directions... without 
many details on original problem.

There is no need to speculate on where the memory goes you can run 'jmap 
-histo:live' and 'jmap -heap' to get much better idea.

What does 'up to 700MB' mean? Is it JVM's virtual memory? resident 
memory? or java heap in use?

How many blocks to you have? For an idle DN, most of the memory is taken 
by block info structures. It does not really optimize for it.. May be 
about 1k per block is the upper limit.

Raghu.

Stas Oskin wrote:
> Hi.
> 
> I measured the Datanode memory usage, and noticed they take up to 700 MB of
> RAM.
> 
> As their main job is to store files to disk, any idea why they take so much
> RAM?
> 
> Thanks for any information.
> 


From common-user-return-17205-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 01 18:54:14 2009
Return-Path: <common-user-return-17205-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 86854 invoked from network); 1 Sep 2009 18:54:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Sep 2009 18:54:14 -0000
Received: (qmail 20152 invoked by uid 500); 1 Sep 2009 18:54:11 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 20085 invoked by uid 500); 1 Sep 2009 18:54:11 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 20075 invoked by uid 99); 1 Sep 2009 18:54:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 18:54:11 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of stas.oskin@gmail.com designates 209.85.218.214 as permitted sender)
Received: from [209.85.218.214] (HELO mail-bw0-f214.google.com) (209.85.218.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 18:54:02 +0000
Received: by bwz10 with SMTP id 10so226872bwz.29
        for <common-user@hadoop.apache.org>; Tue, 01 Sep 2009 11:53:41 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=aS0SP38H/WlRBwqIopD+Bk9YlmMZWO3aQD+e4UpFU9Q=;
        b=aKO04HyaoxlPndivnSbcrVaardNTSrn7gai16nfFHHERzBq7eIYG4wY5OpKvBlvO0C
         DKaKkNeiN6+pTWXRn61RG+0kWeeUFHePtwlIZ+b+PIKaK4s9GFYIpLTAd9p16x+eK7Xb
         T1Xnptb4JRH1kUEpAAOb7HJS/OA9J9M91GCPI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=teuofy1LnitSEQqX9CScYzlwMB0W/WHaWrSq757zDg7U5eFom35FM9OHDA+T5iVU3S
         r/uOu4gXxqFp2JbIPNU3b2WHb7gMhWtVGLiD4SfFl85x0uat0qu2C+zg1QVdCnNGOyhz
         T7UXqv4kelJuDwi1QqPOQZcQBVjnUKkHBJ4cI=
MIME-Version: 1.0
Received: by 10.223.101.156 with SMTP id c28mr3100229fao.52.1251831221236; 
	Tue, 01 Sep 2009 11:53:41 -0700 (PDT)
In-Reply-To: <25243059.post@talk.nabble.com>
References: <77938bc20908310340g63c6b29aw25a4edd16f1fc840@mail.gmail.com>
	 <25243059.post@talk.nabble.com>
Date: Tue, 1 Sep 2009 21:53:41 +0300
Message-ID: <77938bc20909011153r7ab81492i75c137dbc0712373@mail.gmail.com>
Subject: Re: Datanode high memory usage
From: Stas Oskin <stas.oskin@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=00151744806442b5c6047288ab74
X-Virus-Checked: Checked by ClamAV on apache.org

--00151744806442b5c6047288ab74
Content-Type: text/plain; charset=ISO-8859-1

Hi.

The datanode would be using the major part of memory to do following-
> a. Continuously (at regular interval) send heartbeat messages to namenode
> to
> say 'I am live and awake'
> b. In case, any data/file is added to DFS, OR Map Reduce jobs are running,
> datanode would again be talking to namenode or transferring data from its
> local copy to either client or other slave datanodes in the cluster
>
>
These operations don't seem as quite memory intensive, any idea why DN will
take most of the memory?

Regards.

--00151744806442b5c6047288ab74--

From common-user-return-17206-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 01 18:59:00 2009
Return-Path: <common-user-return-17206-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 88173 invoked from network); 1 Sep 2009 18:59:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Sep 2009 18:59:00 -0000
Received: (qmail 28285 invoked by uid 500); 1 Sep 2009 18:58:58 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 28217 invoked by uid 500); 1 Sep 2009 18:58:58 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 28206 invoked by uid 99); 1 Sep 2009 18:58:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 18:58:58 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of stas.oskin@gmail.com designates 209.85.218.214 as permitted sender)
Received: from [209.85.218.214] (HELO mail-bw0-f214.google.com) (209.85.218.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 18:58:50 +0000
Received: by bwz10 with SMTP id 10so230917bwz.29
        for <common-user@hadoop.apache.org>; Tue, 01 Sep 2009 11:58:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=v8EBmX7WYVOlhqhmH4SW/xu0dJpXQc2eYFpAFFI9TzM=;
        b=qduO/KyUb4EaiaSF7GLLO9fqOBDJXbhusBC5rZf7jixCGR2uWyGXA7ZSvwA325BQLp
         HvQdtzbmaUcuWvt5yBgECeHNtVUCLw7ZVmektdnNj48hfD1qHymjNqb41p4EwhuFy/RL
         0Bm14qSgCYBuj+3rXFxOKA5jaPre7FeYr4P0U=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=O2sZpLns49JBHIA7+c0mtk5/BD0rDrKDrkvvKvzqVt/C+Klzg9c1tpm7EDG48Oju96
         RHrHjYNfpDchGEmRZbRin3SNvOExJ7qNxtrW8xHcDx2V5jmr8bPkGfwFhTGTuHH6C8YU
         0CZNG4eI77EpTAriHytqIuGFUUdfVG+9HPFG4=
MIME-Version: 1.0
Received: by 10.223.144.67 with SMTP id y3mr3162970fau.40.1251831508558; Tue, 
	01 Sep 2009 11:58:28 -0700 (PDT)
In-Reply-To: <1FB3CB82-A660-4DA2-8567-08CC3CFA1A23@cse.unl.edu>
References: <77938bc20908310340g63c6b29aw25a4edd16f1fc840@mail.gmail.com>
	 <77938bc20908310653t13ef7031i25487d7c818fef8b@mail.gmail.com>
	 <8211a1320908310840p59e56e16o2e933a151a951334@mail.gmail.com>
	 <77938bc20908310907g542e50d2me9a6f31e8d4ba3d4@mail.gmail.com>
	 <7a8854060908311004ncd63e7cv9ea388a3e86d25f1@mail.gmail.com>
	 <77938bc20908311009n3e6a6ebg7c268d2a5ab46530@mail.gmail.com>
	 <944750dd0908311840p8062527l350180cfa451f7ec@mail.gmail.com>
	 <77938bc20909010159lb667aecp12417c6f6da06c3f@mail.gmail.com>
	 <944750dd0909010208q31c33e5bwde3fc2d1ca1e5bdd@mail.gmail.com>
	 <1FB3CB82-A660-4DA2-8567-08CC3CFA1A23@cse.unl.edu>
Date: Tue, 1 Sep 2009 21:58:28 +0300
Message-ID: <77938bc20909011158q284152cn83c4547eced49eca@mail.gmail.com>
Subject: Re: Datanode high memory usage
From: Stas Oskin <stas.oskin@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0023545bf54862e324047288bcf1
X-Virus-Checked: Checked by ClamAV on apache.org

--0023545bf54862e324047288bcf1
Content-Type: text/plain; charset=ISO-8859-1

Hi.


> With regards to memory, have you tried the compressed pointers JDK option
> (we saw great benefits on the NN)?  Java is incredibly hard to get a
> straight answer from with regards to memory.  You need to perform a GC first
> manually - the actual usage is the amount it reports used post-GC.  You can
> get these details by using JMX.
>
>
Will compressed pointers be used as standard in future versions of Hadoop?

Regards.

--0023545bf54862e324047288bcf1--

From common-user-return-17207-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 01 19:00:05 2009
Return-Path: <common-user-return-17207-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 88617 invoked from network); 1 Sep 2009 19:00:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Sep 2009 19:00:05 -0000
Received: (qmail 31676 invoked by uid 500); 1 Sep 2009 19:00:02 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 31604 invoked by uid 500); 1 Sep 2009 19:00:02 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 31594 invoked by uid 99); 1 Sep 2009 19:00:02 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 19:00:02 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of stas.oskin@gmail.com designates 209.85.218.214 as permitted sender)
Received: from [209.85.218.214] (HELO mail-bw0-f214.google.com) (209.85.218.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 18:59:53 +0000
Received: by bwz10 with SMTP id 10so231808bwz.29
        for <common-user@hadoop.apache.org>; Tue, 01 Sep 2009 11:59:33 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=WtsUTduk6gzrCG9pdCBJC+CL53TjpwEBV1eTeU+piz4=;
        b=BbZv/JG4qRgztZ8lORVeiZAsulSX5wvRF+At8g7c0Zw42Ma0C56+WVqAT+g+RA1YVO
         BvAprJKM/9tkQAPT6qe1NVJT5RKfkNCQiJien0YM0XzdMmpsf9eDFt3nxoLKg8Fyzilf
         fuPvEg9w1xiIAzL5KHPRn5Ohk18PzVAOdVtv4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=cH1Cwyp8xi/e0vx7gtl+n+R4jmUISTKMXg/5LaLQj7tRJziSYUke+IaXawGnSZaET0
         R5bBH69sspC0Y+q5Ph5cFqmm6W1xVu2zDIO0VUa/PXJgrFFyYXyA5Gvu68Q8VlQ+Zfkm
         RdkQUuJwbkL19HQzTsw6r53/M1Kd+uQpVJ/BQ=
MIME-Version: 1.0
Received: by 10.223.144.70 with SMTP id y6mr3106951fau.5.1251831572970; Tue, 
	01 Sep 2009 11:59:32 -0700 (PDT)
In-Reply-To: <616DA47B2EF5B944B91846785B512FF4CFADEA742D@EGL-EX07VS01.ds.corp.yahoo.com>
References: <77938bc20908310340g63c6b29aw25a4edd16f1fc840@mail.gmail.com>
	 <007e01ca2abd$d659b7f0$830d27d0$@com>
	 <77938bc20908310653t13ef7031i25487d7c818fef8b@mail.gmail.com>
	 <8211a1320908310840p59e56e16o2e933a151a951334@mail.gmail.com>
	 <77938bc20908310907g542e50d2me9a6f31e8d4ba3d4@mail.gmail.com>
	 <7a8854060908311004ncd63e7cv9ea388a3e86d25f1@mail.gmail.com>
	 <77938bc20908311009n3e6a6ebg7c268d2a5ab46530@mail.gmail.com>
	 <616DA47B2EF5B944B91846785B512FF4CFADEA73AB@EGL-EX07VS01.ds.corp.yahoo.com>
	 <77938bc20909010201j5cbf67e6l436f553a37944c72@mail.gmail.com>
	 <616DA47B2EF5B944B91846785B512FF4CFADEA742D@EGL-EX07VS01.ds.corp.yahoo.com>
Date: Tue, 1 Sep 2009 21:59:32 +0300
Message-ID: <77938bc20909011159y2144afd4uc9769d084fbadd60@mail.gmail.com>
Subject: Re: Datanode high memory usage
From: Stas Oskin <stas.oskin@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0022158df8f739c593047288c0f1
X-Virus-Checked: Checked by ClamAV on apache.org

--0022158df8f739c593047288c0f1
Content-Type: text/plain; charset=ISO-8859-1

Hi.

    [
> https://issues.apache.org/jira/browse/HADOOP-6168?page=com.atlassian.jira.plugin.system.issuetabpanels:all-tabpanel]
>
>
Does it has any effect on the issue I have?

It seems from the description that the issues are related to various node
task, and not to one particular.

Regards.

--0022158df8f739c593047288c0f1--

From common-user-return-17208-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 01 19:03:06 2009
Return-Path: <common-user-return-17208-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 89409 invoked from network); 1 Sep 2009 19:03:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Sep 2009 19:03:06 -0000
Received: (qmail 36226 invoked by uid 500); 1 Sep 2009 19:03:04 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 36145 invoked by uid 500); 1 Sep 2009 19:03:03 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 36135 invoked by uid 99); 1 Sep 2009 19:03:03 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 19:03:03 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of stas.oskin@gmail.com designates 209.85.218.214 as permitted sender)
Received: from [209.85.218.214] (HELO mail-bw0-f214.google.com) (209.85.218.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 19:02:54 +0000
Received: by bwz10 with SMTP id 10so234356bwz.29
        for <common-user@hadoop.apache.org>; Tue, 01 Sep 2009 12:02:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=+VQBgOGxnQuv9bUmsVdFm9FqFFUpyrP5Kq+N4aKkAdY=;
        b=cWvwsPyOTXLUSbjlgSIAUcBiwCIAU405tjuazhTJ8lxb2FTGxUd2nFRyTNluzE9qts
         fveY0v0JIATFwZktEkFxxCOaHPIhcHhVRlYl5lQjH+L+g3Jmv67JxmJqlwx9GUDgwv8c
         pXVddwdGecomAgk9hSrLhdvlRkc5iGFAJH2q8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=CxBMHjnwHS5ElM3Pp5an6HBshPZzAIGvAdSX0ymllw647nj3xqAiQVFAKbF4K7U8Bx
         hqpJ2n2cVVKEw5mYowuFnyb81VItHJkYQxKiIakwUb8Uyg/K0PXtNEZlkg2D8aIQjiFq
         1GZhhvV0t80nicRzLv6IgG9VixCKoksJ9+6qQ=
MIME-Version: 1.0
Received: by 10.223.144.67 with SMTP id y3mr3168534fau.40.1251831754023; Tue, 
	01 Sep 2009 12:02:34 -0700 (PDT)
In-Reply-To: <4A9D67C4.6010709@yahoo-inc.com>
References: <77938bc20908310340g63c6b29aw25a4edd16f1fc840@mail.gmail.com>
	 <4A9D67C4.6010709@yahoo-inc.com>
Date: Tue, 1 Sep 2009 22:02:33 +0300
Message-ID: <77938bc20909011202t71409310j3792628f4d2d9d34@mail.gmail.com>
Subject: Re: Datanode high memory usage
From: Stas Oskin <stas.oskin@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0023545bf548046602047288cb70
X-Virus-Checked: Checked by ClamAV on apache.org

--0023545bf548046602047288cb70
Content-Type: text/plain; charset=ISO-8859-1

Hi.

What does 'up to 700MB' mean? Is it JVM's virtual memory? resident memory?
> or java heap in use?
>

700 MB is what taken by overall java process.


>
> How many blocks to you have? For an idle DN, most of the memory is taken by
> block info structures. It does not really optimize for it.. May be about 1k
> per block is the upper limit.
>


Here are the details from NN ui:

*160537 files and directories, 144118 blocks = 304655 total. Heap Size is
155.42 MB / 966.69 MB (16%)*

Thanks.

--0023545bf548046602047288cb70--

From common-user-return-17209-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 01 19:20:58 2009
Return-Path: <common-user-return-17209-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 93975 invoked from network); 1 Sep 2009 19:20:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Sep 2009 19:20:58 -0000
Received: (qmail 58605 invoked by uid 500); 1 Sep 2009 19:20:55 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 58535 invoked by uid 500); 1 Sep 2009 19:20:55 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 58525 invoked by uid 99); 1 Sep 2009 19:20:55 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 19:20:55 +0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [129.93.181.2] (HELO mathstat.unl.edu) (129.93.181.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 19:20:46 +0000
Received: from pcp089091pcs.unl.edu (pcp089091pcs.unl.edu [129.93.158.206])
	(authenticated bits=0)
	by mathstat.unl.edu (8.13.8/8.13.8) with ESMTP id n81JKMHk024405
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT)
	for <common-user@hadoop.apache.org>; Tue, 1 Sep 2009 14:20:25 -0500
Message-Id: <6EF411C2-8D72-4C11-A506-5720DC449B92@cse.unl.edu>
From: Brian Bockelman <bbockelm@cse.unl.edu>
To: common-user@hadoop.apache.org
In-Reply-To: <77938bc20909011202t71409310j3792628f4d2d9d34@mail.gmail.com>
Content-Type: multipart/signed; boundary=Apple-Mail-104-795199517; micalg=sha1; protocol="application/pkcs7-signature"
Mime-Version: 1.0 (Apple Message framework v936)
Subject: Re: Datanode high memory usage
Date: Tue, 1 Sep 2009 14:20:22 -0500
References: <77938bc20908310340g63c6b29aw25a4edd16f1fc840@mail.gmail.com> <4A9D67C4.6010709@yahoo-inc.com> <77938bc20909011202t71409310j3792628f4d2d9d34@mail.gmail.com>
X-Mailer: Apple Mail (2.936)
X-Virus-Checked: Checked by ClamAV on apache.org

--Apple-Mail-104-795199517
Content-Type: text/plain;
	charset=US-ASCII;
	format=flowed;
	delsp=yes
Content-Transfer-Encoding: 7bit


On Sep 1, 2009, at 2:02 PM, Stas Oskin wrote:

> Hi.
>
> What does 'up to 700MB' mean? Is it JVM's virtual memory? resident  
> memory?
>> or java heap in use?
>>
>
> 700 MB is what taken by overall java process.
>

Resident, shared, or virtual?  Unix memory management is not  
straightforward; the worst thing you can do is look at the virtual  
memory size of the java process and assume that's how much RAM it is  
using.

IIRC, the JVM will pre-allocate enough virtual memory to allocate its  
entire heap (so the virtual size will be large), but the heap won't  
necessarily get that large.  The JVM in server mode won't be  
aggressive about GC unless it is pressed for memory - i.e., if you  
give it a 512MB heap, then it will possibly use a good hunk of it  
before doing a GC run.  On top of the heap, the JVM has several other  
memory buffers for compiled code and the like.

Brian

>
>>
>> How many blocks to you have? For an idle DN, most of the memory is  
>> taken by
>> block info structures. It does not really optimize for it.. May be  
>> about 1k
>> per block is the upper limit.
>>
>
>
> Here are the details from NN ui:
>
> *160537 files and directories, 144118 blocks = 304655 total. Heap  
> Size is
> 155.42 MB / 966.69 MB (16%)*
>
> Thanks.


--Apple-Mail-104-795199517
Content-Disposition: attachment;
	filename=smime.p7s
Content-Type: application/pkcs7-signature;
	name=smime.p7s
Content-Transfer-Encoding: base64

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIICjCCA/gw
ggLgoAMCAQICASkwDQYJKoZIhvcNAQEFBQAwdTETMBEGCgmSJomT8ixkARkWA25ldDESMBAGCgmS
JomT8ixkARkWAkVTMQ4wDAYDVQQKEwVFU25ldDEgMB4GA1UECxMXQ2VydGlmaWNhdGUgQXV0aG9y
aXRpZXMxGDAWBgNVBAMTD0VTbmV0IFJvb3QgQ0EgMTAeFw0wMjEyMDUwODAwMDBaFw0xMzAxMjUw
ODAwMDBaMGkxEzARBgoJkiaJk/IsZAEZFgNvcmcxGDAWBgoJkiaJk/IsZAEZFghET0VHcmlkczEg
MB4GA1UECxMXQ2VydGlmaWNhdGUgQXV0aG9yaXRpZXMxFjAUBgNVBAMTDURPRUdyaWRzIENBIDEw
ggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC09dYjYaPbCD5mtbiQb7Ka3y1qAm0ZcqKC
FciWcfe8Kwcuy9tjHuIsLf9ZItdkDW4xy8sua9nJlx3KlwjtumTMtOtg35KZCknUd8KM4VGTSFdL
VG9AbNayef76caVCGM1+jyF0Lq03kauGOPTcNfZe1TZa3e1c9rc8ljV5OSWa/mfsCACyS5zFIWu0
yIDNyJdf+n0hwaPN53wllpJ30taD+JBjQ7h2k4xRWzeaznLOb9OztZVRA/1sVze+iczFh2xwa4Vd
Gy0eIIPw1pfvYwxO36rm0S109qvbsNlaroPRbxerPKakQLpKe034Xcx7gBPqUk/FxoRRWin5EWN3
rz9LAgMBAAGjgZ4wgZswDgYDVR0PAQH/BAQDAgGGMBEGCWCGSAGG+EIBAQQEAwIAhzAdBgNVHQ4E
FgQUyhkdEo5upDhdQtQxDgjb2Y0XDV0wHwYDVR0jBBgwFoAUvF1NSC/4NZRZq1yJSz7RsjoUAeow
DwYDVR0TAQH/BAUwAwEB/zAlBgNVHREEHjAcgRpET0VHcmlkcy1DQS0xQGRvZWdyaWRzLm9yZzAN
BgkqhkiG9w0BAQUFAAOCAQEAZNVrIDLqe39CEOiJt7Q7EpBPhAihMvDTSf/42u0SMbUmChww4mLm
ph5DBghZUVF8Yn59kRZMn1QLOtO1HzLqvAvPITacZVPlJgG2IXzlR636YghZFAycbIUEOJDBHR4v
tQO1KDxgZwvAbtmKIoxvhUCq2xsfFt9kCBBn+JYtQ6O5LsBJq3PmuubeMcc7mbQAfJZ7h/3Qghgk
FIhmE1+LBXPJbkuP8vgfg6h2BKoAf5TFfZECgGZKimfN110tBvfedGZwYYd3/GsJc83B0JN1gny0
gqNVPm392UchXGeBRrHnm2gkhIkr48Oq6EmNGV9/a6XfbplQW/JWbtPVPWkaizCCBAowggLyoAMC
AQICAwCB+zANBgkqhkiG9w0BAQUFADBpMRMwEQYKCZImiZPyLGQBGRYDb3JnMRgwFgYKCZImiZPy
LGQBGRYIRE9FR3JpZHMxIDAeBgNVBAsTF0NlcnRpZmljYXRlIEF1dGhvcml0aWVzMRYwFAYDVQQD
Ew1ET0VHcmlkcyBDQSAxMB4XDTA5MDYwMjE5NDExM1oXDTEwMDYwMjE5NDExM1owYTETMBEGCgmS
JomT8ixkARkWA29yZzEYMBYGCgmSJomT8ixkARkWCGRvZWdyaWRzMQ8wDQYDVQQLEwZQZW9wbGUx
HzAdBgNVBAMTFkJyaWFuIEJvY2tlbG1hbiA1MDQzMDcwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw
ggEKAoIBAQDPWEl7hBiuFRVBSY4SwvG0HpkCZi74a0BeD0tNARgxoQVJ7jhJjR3G4y8ino0/5axt
2EEfIWUE+DVpV37IWOQl8q/wdvicnhbfjByxBbq4sfWPLepU7+Kd8k1FKHRHermARn9VxEkFLrLB
Gp7O5EX4mFHDaQy+Vv0thtA+m4qKoM+DA/8cOkJA5Rn6ZS/v/vtBzJh9HimVnhBx4+rw2cvKN+7r
lKsm7qTn9TCZmrQ97CvBEXSkHS11m8vYF6ZwcTgSCJM0M9nnX5JilupQO1vDICXSUZeWX2xpsqeL
x1PFGWgDaYXxFGtTRt2Qc9EPwf9Dr72xGPbKN8u5HylpOMDnAgMBAAGjgcIwgb8wEQYJYIZIAYb4
QgEBBAQDAgWgMA4GA1UdDwEB/wQEAwIF4DAfBgNVHSMEGDAWgBTKGR0Sjm6kOF1C1DEOCNvZjRcN
XTAYBgNVHSAEETAPMA0GCyqGSIb3TAMHAQMAMD4GA1UdHwQ3MDUwM6AxoC+GLWh0dHA6Ly9jcmwu
ZG9lZ3JpZHMub3JnLzFjM2YyY2E4LzFjM2YyY2E4LmNybDAfBgNVHREEGDAWgRRiYm9ja2VsbUBj
c2UudW5sLmVkdTANBgkqhkiG9w0BAQUFAAOCAQEAp6KjcWnfnH/MGlUkUWstE9gtPeymHp+2r4zI
w8JXigncJh/8qpSZqBcVhD24WFowI95otblrKYNZKW9f2G/hWwDSxZFqHhCDxFO12vDthrzOc3EH
CwypJPvIlZPt/E/x93XruzPxJwPz84DKKuPoJAMeNlADbd+92YtRr2y+VuMpgZaebMAoeCdWH8Cq
Y8xheNMajf8uiImBbatDuCu7qRvhwgxsMNLHEt4h853K1Zc181RlFGXG1+uL/Q/8VeKiASiCu+7L
1zpfLg7OCr6rJHb5S7wU+CeAvzSqmyy0fd2mwPeiX7huK+Cw4UjaB3yGKItzWT+KQJnV//wcSrzZ
dTGCAv0wggL5AgEBMHAwaTETMBEGCgmSJomT8ixkARkWA29yZzEYMBYGCgmSJomT8ixkARkWCERP
RUdyaWRzMSAwHgYDVQQLExdDZXJ0aWZpY2F0ZSBBdXRob3JpdGllczEWMBQGA1UEAxMNRE9FR3Jp
ZHMgQ0EgMQIDAIH7MAkGBSsOAwIaBQCgggFiMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJ
KoZIhvcNAQkFMQ8XDTA5MDkwMTE5MjAyM1owIwYJKoZIhvcNAQkEMRYEFFndFpmNnJQpNt/KrZxK
D2DT6gEkMH8GCSsGAQQBgjcQBDFyMHAwaTETMBEGCgmSJomT8ixkARkWA29yZzEYMBYGCgmSJomT
8ixkARkWCERPRUdyaWRzMSAwHgYDVQQLExdDZXJ0aWZpY2F0ZSBBdXRob3JpdGllczEWMBQGA1UE
AxMNRE9FR3JpZHMgQ0EgMQIDAIH7MIGBBgsqhkiG9w0BCRACCzFyoHAwaTETMBEGCgmSJomT8ixk
ARkWA29yZzEYMBYGCgmSJomT8ixkARkWCERPRUdyaWRzMSAwHgYDVQQLExdDZXJ0aWZpY2F0ZSBB
dXRob3JpdGllczEWMBQGA1UEAxMNRE9FR3JpZHMgQ0EgMQIDAIH7MA0GCSqGSIb3DQEBAQUABIIB
AHbt/f4kNGvLNpS+4rOslB430k7Cvq1u6yCh1gULAGdJiV0JUg36JAuPEeyYIftzkahKnJdu8x/U
F0VjffBgOKwv++iOvosxk8IBaDPFG6rbhnqruEJioyspC0SZ8IwmJrsnoqWtapCYZ8A7cPC87Zwd
nTOdnjJ5KO0PuaQgBpPF0x7xirmPX61xnrbqy/Uc8eaY/3Hg5etJRYEmyvYs4h64s+MccfJw7VYy
WwJDp2YfTf4rbo9PaoF5sUELg7tLq+oLBhhqyNKxJbfAdW1CRLqMhNMOp/ohVtpN8kztc0kHh1+M
0ymuiVAZP1FVWByLT6Lz7Oo6jlyrgUhMvNhsgZwAAAAAAAA=

--Apple-Mail-104-795199517--

From common-user-return-17210-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 01 19:21:50 2009
Return-Path: <common-user-return-17210-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 94159 invoked from network); 1 Sep 2009 19:21:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Sep 2009 19:21:49 -0000
Received: (qmail 60591 invoked by uid 500); 1 Sep 2009 19:21:47 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 60507 invoked by uid 500); 1 Sep 2009 19:21:47 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 60497 invoked by uid 99); 1 Sep 2009 19:21:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 19:21:47 +0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [129.93.181.2] (HELO mathstat.unl.edu) (129.93.181.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 19:21:37 +0000
Received: from pcp089091pcs.unl.edu (pcp089091pcs.unl.edu [129.93.158.206])
	(authenticated bits=0)
	by mathstat.unl.edu (8.13.8/8.13.8) with ESMTP id n81JKMHl024405
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT)
	for <common-user@hadoop.apache.org>; Tue, 1 Sep 2009 14:21:17 -0500
Message-Id: <AEFB100E-9E35-41D9-B319-85680F81C3D8@cse.unl.edu>
From: Brian Bockelman <bbockelm@cse.unl.edu>
To: common-user@hadoop.apache.org
In-Reply-To: <77938bc20909011158q284152cn83c4547eced49eca@mail.gmail.com>
Content-Type: multipart/signed; boundary=Apple-Mail-105-795253827; micalg=sha1; protocol="application/pkcs7-signature"
Mime-Version: 1.0 (Apple Message framework v936)
Subject: Re: Datanode high memory usage
Date: Tue, 1 Sep 2009 14:21:16 -0500
References: <77938bc20908310340g63c6b29aw25a4edd16f1fc840@mail.gmail.com> <77938bc20908310653t13ef7031i25487d7c818fef8b@mail.gmail.com> <8211a1320908310840p59e56e16o2e933a151a951334@mail.gmail.com> <77938bc20908310907g542e50d2me9a6f31e8d4ba3d4@mail.gmail.com> <7a8854060908311004ncd63e7cv9ea388a3e86d25f1@mail.gmail.com> <77938bc20908311009n3e6a6ebg7c268d2a5ab46530@mail.gmail.com> <944750dd0908311840p8062527l350180cfa451f7ec@mail.gmail.com> <77938bc20909010159lb667aecp12417c6f6da06c3f@mail.gmail.com> <944750dd0909010208q31c33e5bwde3fc2d1ca1e5bdd@mail.gmail.com> <1FB3CB82-A660-4DA2-8567-08CC3CFA1A23@cse.unl.edu> <77938bc20909011158q284152cn83c4547eced49eca@mail.gmail.com>
X-Mailer: Apple Mail (2.936)
X-Virus-Checked: Checked by ClamAV on apache.org

--Apple-Mail-105-795253827
Content-Type: text/plain;
	charset=US-ASCII;
	format=flowed;
	delsp=yes
Content-Transfer-Encoding: 7bit


On Sep 1, 2009, at 1:58 PM, Stas Oskin wrote:

> Hi.
>
>
>> With regards to memory, have you tried the compressed pointers JDK  
>> option
>> (we saw great benefits on the NN)?  Java is incredibly hard to get a
>> straight answer from with regards to memory.  You need to perform a  
>> GC first
>> manually - the actual usage is the amount it reports used post-GC.   
>> You can
>> get these details by using JMX.
>>
>>
> Will compressed pointers be used as standard in future versions of  
> Hadoop?
>

It's a Sun JVM setting, not something Hadoop will control.  You'd have  
to turn it on in hadoop-env.sh.

Brian
--Apple-Mail-105-795253827
Content-Disposition: attachment;
	filename=smime.p7s
Content-Type: application/pkcs7-signature;
	name=smime.p7s
Content-Transfer-Encoding: base64

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIICjCCA/gw
ggLgoAMCAQICASkwDQYJKoZIhvcNAQEFBQAwdTETMBEGCgmSJomT8ixkARkWA25ldDESMBAGCgmS
JomT8ixkARkWAkVTMQ4wDAYDVQQKEwVFU25ldDEgMB4GA1UECxMXQ2VydGlmaWNhdGUgQXV0aG9y
aXRpZXMxGDAWBgNVBAMTD0VTbmV0IFJvb3QgQ0EgMTAeFw0wMjEyMDUwODAwMDBaFw0xMzAxMjUw
ODAwMDBaMGkxEzARBgoJkiaJk/IsZAEZFgNvcmcxGDAWBgoJkiaJk/IsZAEZFghET0VHcmlkczEg
MB4GA1UECxMXQ2VydGlmaWNhdGUgQXV0aG9yaXRpZXMxFjAUBgNVBAMTDURPRUdyaWRzIENBIDEw
ggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC09dYjYaPbCD5mtbiQb7Ka3y1qAm0ZcqKC
FciWcfe8Kwcuy9tjHuIsLf9ZItdkDW4xy8sua9nJlx3KlwjtumTMtOtg35KZCknUd8KM4VGTSFdL
VG9AbNayef76caVCGM1+jyF0Lq03kauGOPTcNfZe1TZa3e1c9rc8ljV5OSWa/mfsCACyS5zFIWu0
yIDNyJdf+n0hwaPN53wllpJ30taD+JBjQ7h2k4xRWzeaznLOb9OztZVRA/1sVze+iczFh2xwa4Vd
Gy0eIIPw1pfvYwxO36rm0S109qvbsNlaroPRbxerPKakQLpKe034Xcx7gBPqUk/FxoRRWin5EWN3
rz9LAgMBAAGjgZ4wgZswDgYDVR0PAQH/BAQDAgGGMBEGCWCGSAGG+EIBAQQEAwIAhzAdBgNVHQ4E
FgQUyhkdEo5upDhdQtQxDgjb2Y0XDV0wHwYDVR0jBBgwFoAUvF1NSC/4NZRZq1yJSz7RsjoUAeow
DwYDVR0TAQH/BAUwAwEB/zAlBgNVHREEHjAcgRpET0VHcmlkcy1DQS0xQGRvZWdyaWRzLm9yZzAN
BgkqhkiG9w0BAQUFAAOCAQEAZNVrIDLqe39CEOiJt7Q7EpBPhAihMvDTSf/42u0SMbUmChww4mLm
ph5DBghZUVF8Yn59kRZMn1QLOtO1HzLqvAvPITacZVPlJgG2IXzlR636YghZFAycbIUEOJDBHR4v
tQO1KDxgZwvAbtmKIoxvhUCq2xsfFt9kCBBn+JYtQ6O5LsBJq3PmuubeMcc7mbQAfJZ7h/3Qghgk
FIhmE1+LBXPJbkuP8vgfg6h2BKoAf5TFfZECgGZKimfN110tBvfedGZwYYd3/GsJc83B0JN1gny0
gqNVPm392UchXGeBRrHnm2gkhIkr48Oq6EmNGV9/a6XfbplQW/JWbtPVPWkaizCCBAowggLyoAMC
AQICAwCB+zANBgkqhkiG9w0BAQUFADBpMRMwEQYKCZImiZPyLGQBGRYDb3JnMRgwFgYKCZImiZPy
LGQBGRYIRE9FR3JpZHMxIDAeBgNVBAsTF0NlcnRpZmljYXRlIEF1dGhvcml0aWVzMRYwFAYDVQQD
Ew1ET0VHcmlkcyBDQSAxMB4XDTA5MDYwMjE5NDExM1oXDTEwMDYwMjE5NDExM1owYTETMBEGCgmS
JomT8ixkARkWA29yZzEYMBYGCgmSJomT8ixkARkWCGRvZWdyaWRzMQ8wDQYDVQQLEwZQZW9wbGUx
HzAdBgNVBAMTFkJyaWFuIEJvY2tlbG1hbiA1MDQzMDcwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw
ggEKAoIBAQDPWEl7hBiuFRVBSY4SwvG0HpkCZi74a0BeD0tNARgxoQVJ7jhJjR3G4y8ino0/5axt
2EEfIWUE+DVpV37IWOQl8q/wdvicnhbfjByxBbq4sfWPLepU7+Kd8k1FKHRHermARn9VxEkFLrLB
Gp7O5EX4mFHDaQy+Vv0thtA+m4qKoM+DA/8cOkJA5Rn6ZS/v/vtBzJh9HimVnhBx4+rw2cvKN+7r
lKsm7qTn9TCZmrQ97CvBEXSkHS11m8vYF6ZwcTgSCJM0M9nnX5JilupQO1vDICXSUZeWX2xpsqeL
x1PFGWgDaYXxFGtTRt2Qc9EPwf9Dr72xGPbKN8u5HylpOMDnAgMBAAGjgcIwgb8wEQYJYIZIAYb4
QgEBBAQDAgWgMA4GA1UdDwEB/wQEAwIF4DAfBgNVHSMEGDAWgBTKGR0Sjm6kOF1C1DEOCNvZjRcN
XTAYBgNVHSAEETAPMA0GCyqGSIb3TAMHAQMAMD4GA1UdHwQ3MDUwM6AxoC+GLWh0dHA6Ly9jcmwu
ZG9lZ3JpZHMub3JnLzFjM2YyY2E4LzFjM2YyY2E4LmNybDAfBgNVHREEGDAWgRRiYm9ja2VsbUBj
c2UudW5sLmVkdTANBgkqhkiG9w0BAQUFAAOCAQEAp6KjcWnfnH/MGlUkUWstE9gtPeymHp+2r4zI
w8JXigncJh/8qpSZqBcVhD24WFowI95otblrKYNZKW9f2G/hWwDSxZFqHhCDxFO12vDthrzOc3EH
CwypJPvIlZPt/E/x93XruzPxJwPz84DKKuPoJAMeNlADbd+92YtRr2y+VuMpgZaebMAoeCdWH8Cq
Y8xheNMajf8uiImBbatDuCu7qRvhwgxsMNLHEt4h853K1Zc181RlFGXG1+uL/Q/8VeKiASiCu+7L
1zpfLg7OCr6rJHb5S7wU+CeAvzSqmyy0fd2mwPeiX7huK+Cw4UjaB3yGKItzWT+KQJnV//wcSrzZ
dTGCAv0wggL5AgEBMHAwaTETMBEGCgmSJomT8ixkARkWA29yZzEYMBYGCgmSJomT8ixkARkWCERP
RUdyaWRzMSAwHgYDVQQLExdDZXJ0aWZpY2F0ZSBBdXRob3JpdGllczEWMBQGA1UEAxMNRE9FR3Jp
ZHMgQ0EgMQIDAIH7MAkGBSsOAwIaBQCgggFiMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJ
KoZIhvcNAQkFMQ8XDTA5MDkwMTE5MjExN1owIwYJKoZIhvcNAQkEMRYEFPbx/V3438qsQ9B3Ulm9
UNBP/5AfMH8GCSsGAQQBgjcQBDFyMHAwaTETMBEGCgmSJomT8ixkARkWA29yZzEYMBYGCgmSJomT
8ixkARkWCERPRUdyaWRzMSAwHgYDVQQLExdDZXJ0aWZpY2F0ZSBBdXRob3JpdGllczEWMBQGA1UE
AxMNRE9FR3JpZHMgQ0EgMQIDAIH7MIGBBgsqhkiG9w0BCRACCzFyoHAwaTETMBEGCgmSJomT8ixk
ARkWA29yZzEYMBYGCgmSJomT8ixkARkWCERPRUdyaWRzMSAwHgYDVQQLExdDZXJ0aWZpY2F0ZSBB
dXRob3JpdGllczEWMBQGA1UEAxMNRE9FR3JpZHMgQ0EgMQIDAIH7MA0GCSqGSIb3DQEBAQUABIIB
ALTxr1HtdhPih4ZO0oc8OXew7r5h7MmLdi4tyfGQvPWEtVcfgUTXbhrXKI9VqkCbgqXLk17zkW+H
S3+OiR72pt1LZBa343ljqoSJ65/eQoqy17inPNXBn/0s4iSztD0HnJrio8YifFnof7BpS2fKmO1U
9yImcFI8h38br3QU2i2vMe54gxkaX12W2Eg/OsquUP6tj+jyCxsJLEgWSjh3HHWH3bm9KaHo8Ewf
9XbbH002kmR1viIzW67kSBwsNSobhfmhDMAIagb6q6uwfY4C7N09KuU1reGOCzSLCAB/JKky92PL
HHZJ6i/KlyYwezMadoKt7JgZFM6MrWpPdQHnBhkAAAAAAAA=

--Apple-Mail-105-795253827--

From common-user-return-17211-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 01 22:54:20 2009
Return-Path: <common-user-return-17211-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 51468 invoked from network); 1 Sep 2009 22:54:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 1 Sep 2009 22:54:20 -0000
Received: (qmail 80879 invoked by uid 500); 1 Sep 2009 22:54:18 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 80793 invoked by uid 500); 1 Sep 2009 22:54:17 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 80783 invoked by uid 99); 1 Sep 2009 22:54:17 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 01 Sep 2009 22:54:17 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of btalbot@aeriagames.com designates 72.55.177.212 as permitted sender)
Received: from [72.55.177.212] (HELO mail.aeriagames.com) (72.55.177.212)
    by apache.org (qpsmtpd/0.29) with SMTP; Tue, 01 Sep 2009 22:54:06 +0000
Received: (qmail 31606 invoked from network); 1 Sep 2009 22:53:48 -0000
Received: from 64-71-1-82.static.wiline.com (HELO ?192.168.168.60?) (64.71.1.82)
  by mail.aeriagames.com with SMTP; 1 Sep 2009 22:53:48 -0000
Content-Type: text/plain; charset=us-ascii; format=flowed; delsp=yes
Mime-Version: 1.0 (Apple Message framework v1075.2)
Subject: Re: Datanode high memory usage
From: Bryan Talbot <btalbot@aeriagames.com>
In-Reply-To: <AEFB100E-9E35-41D9-B319-85680F81C3D8@cse.unl.edu>
Date: Tue, 1 Sep 2009 15:53:44 -0700
Content-Transfer-Encoding: 7bit
Message-Id: <B18BC5D0-7734-4BDE-8AA3-7640901837AE@aeriagames.com>
References: <77938bc20908310340g63c6b29aw25a4edd16f1fc840@mail.gmail.com> <77938bc20908310653t13ef7031i25487d7c818fef8b@mail.gmail.com> <8211a1320908310840p59e56e16o2e933a151a951334@mail.gmail.com> <77938bc20908310907g542e50d2me9a6f31e8d4ba3d4@mail.gmail.com> <7a8854060908311004ncd63e7cv9ea388a3e86d25f1@mail.gmail.com> <77938bc20908311009n3e6a6ebg7c268d2a5ab46530@mail.gmail.com> <944750dd0908311840p8062527l350180cfa451f7ec@mail.gmail.com> <77938bc20909010159lb667aecp12417c6f6da06c3f@mail.gmail.com> <944750dd0909010208q31c33e5bwde3fc2d1ca1e5bdd@mail.gmail.com> <1FB3CB82-A660-4DA2-8567-08CC3CFA1A23@cse.unl.edu> <77938bc20909011158q284152cn83c4547eced49eca@mail.gmail.com> <AEFB100E-9E35-41D9-B319-85680F81C3D8@cse.unl.edu>
To: common-user@hadoop.apache.org
X-Mailer: Apple Mail (2.1075.2)
X-Virus-Checked: Checked by ClamAV on apache.org

For info on newer JDK support for compressed oops, see http://java.sun.com/javase/6/webnotes/6u14.html 
  and http://wikis.sun.com/display/HotSpotInternals/CompressedOops


-Bryan




On Sep 1, 2009, at Sep 1, 12:21 PM, Brian Bockelman wrote:

>
> On Sep 1, 2009, at 1:58 PM, Stas Oskin wrote:
>
>> Hi.
>>
>>
>>> With regards to memory, have you tried the compressed pointers JDK  
>>> option
>>> (we saw great benefits on the NN)?  Java is incredibly hard to get a
>>> straight answer from with regards to memory.  You need to perform  
>>> a GC first
>>> manually - the actual usage is the amount it reports used post- 
>>> GC.  You can
>>> get these details by using JMX.
>>>
>>>
>> Will compressed pointers be used as standard in future versions of  
>> Hadoop?
>>
>
> It's a Sun JVM setting, not something Hadoop will control.  You'd  
> have to turn it on in hadoop-env.sh.
>
> Brian


From common-user-return-17212-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 02 01:04:28 2009
Return-Path: <common-user-return-17212-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 88724 invoked from network); 2 Sep 2009 01:04:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Sep 2009 01:04:27 -0000
Received: (qmail 95968 invoked by uid 500); 2 Sep 2009 01:04:25 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 95896 invoked by uid 500); 2 Sep 2009 01:04:25 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 95881 invoked by uid 99); 2 Sep 2009 01:04:25 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 01:04:25 +0000
X-ASF-Spam-Status: No, hits=4.0 required=10.0
	tests=HTML_MESSAGE,MIME_QP_LONG_LINE
X-Spam-Check-By: apache.org
Received-SPF: error (nike.apache.org: local policy)
Received: from [159.226.40.9] (HELO mail.software.ict.ac.cn) (159.226.40.9)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 02 Sep 2009 01:04:12 +0000
Received: (qmail 13591 invoked from network); 2 Sep 2009 00:14:50 -0000
Received: from unknown (HELO ?192.168.30.1?) (heyongqiang@123.122.161.29)
  by 10.60.0.9 with SMTP; 2 Sep 2009 00:14:50 -0000
User-Agent: Microsoft-Entourage/12.0.0.071130
Date: Wed, 02 Sep 2009 09:03:34 +0800
Subject: Re: CFP of 3rd Hadoop in China event (Hadoop World:Beijing)
From: He Yongqiang <heyongqiang@software.ict.ac.cn>
To: "common-user@hadoop.apache.org" <common-user@hadoop.apache.org>,
	"pig-user@hadoop.apache.org" <pig-user@hadoop.apache.org>,
	"hive-user@hadoop.apache.org" <hive-user@hadoop.apache.org>,
	"hdfs-user@hadoop.apache.org" <hdfs-user@hadoop.apache.org>,
	"mapreduce-user@hadoop.apache.org" <mapreduce-user@hadoop.apache.org>,
	"hbase-user@hadoop.apache.org" <hbase-user@hadoop.apache.org>,
	"avro-user@hadoop.apache.org" <avro-user@hadoop.apache.org>,
	<zookeeper-user@hadoop.apache.org>
Message-ID: <C6C3E566.72B5%heyongqiang@software.ict.ac.cn>
Thread-Topic: CFP of 3rd Hadoop in China event (Hadoop World:Beijing)
Thread-Index: Acoie4Fa0FqA0AUTUUaPT63LaqIHrwI7bBoX
In-Reply-To: <C6B4EAA6.6DA3%heyongqiang@software.ict.ac.cn>
Mime-version: 1.0
Content-type: multipart/alternative;
	boundary="B_3334727018_28762610"
X-Virus-Checked: Checked by ClamAV on apache.org

--B_3334727018_28762610
Content-type: text/plain;
	charset="ISO-2022-JP"
Content-transfer-encoding: 7bit

Hi all,
     The 3rd Hadoop in China event (Hadoop World:Beijing 2009) is open for
registration now. 
     
      http://hadoop-world-beijing.eventbrite.com/
     
     Please register as early as possible.


Thanks,
Yongqiang


On 09-8-22 $B>e8a(B12:21, "He Yongqiang" <heyongqiang@software.ict.ac.cn> wrote:

> 
> http://www.hadooper.cn/hadoop/cgi-bin/moin.cgi/thirdcfp
> 
> Time : Sunday, November 15, 2009
> City: Beijing, China
> 
> Sponsored by Yahoo!, Cloudera
> Organized by hadooper.cn
> 
> Website: http://www.hadooper.cn/hadoop/cgi-bin/moin.cgi/thirdcfp
> 
> ====  Sorry for the cross posting. Have a good day!  =====
> 
> Thanks,
> Yongqiang


--B_3334727018_28762610--



From common-user-return-17213-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 02 05:09:33 2009
Return-Path: <common-user-return-17213-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 29920 invoked from network); 2 Sep 2009 05:09:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Sep 2009 05:09:32 -0000
Received: (qmail 40958 invoked by uid 500); 2 Sep 2009 05:09:30 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 40884 invoked by uid 500); 2 Sep 2009 05:09:30 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 40874 invoked by uid 99); 2 Sep 2009 05:09:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 05:09:30 +0000
X-ASF-Spam-Status: No, hits=1.8 required=10.0
	tests=MIME_QP_LONG_LINE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of Ramiya_V@persistent.co.in designates 202.54.11.87 as permitted sender)
Received: from [202.54.11.87] (HELO bmapps.persistent.co.in) (202.54.11.87)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 05:09:22 +0000
Received: from bmapps.persistent.co.in (unknown [127.0.0.1])
	by bmapps.persistent.co.in (Symantec Mail Security) with ESMTP id C8CC94640C0
	for <common-user@hadoop.apache.org>; Wed,  2 Sep 2009 10:38:59 +0530 (IST)
X-AuditID: 0a4e0006-9f21dbb000003705-f3-4a9dfdebd898
Received: from puneexchange.persistent.co.in (unknown [10.78.0.1])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by bmapps.persistent.co.in (Symantec Mail Security) with ESMTP id B4AC5420003
	for <common-user@hadoop.apache.org>; Wed,  2 Sep 2009 10:38:59 +0530 (IST)
Received: from Exchange.persistent.co.in ([fe80::ad8a:d553:ef93:bfdd]) by CAS2
 ([10.77.224.47]) with mapi; Wed, 2 Sep 2009 10:38:59 +0530
From: Ramiya V <Ramiya_V@persistent.co.in>
To: "common-user@hadoop.apache.org" <common-user@hadoop.apache.org>
Date: Wed, 2 Sep 2009 10:38:59 +0530
Subject: Issues with performance on Hadoop/Hive
Thread-Topic: Issues with performance on Hadoop/Hive
Thread-Index: AQHKK4tvJSEutvvhsESZeMBh5T8PXg==
Message-ID: <4BA5307AF084A04E83875ECC173BC77B9CEF98ED04@EXCHANGE.persistent.co.in>
Accept-Language: en-US, en-IN
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US, en-IN
Content-Type: text/plain; charset="us-ascii"
content-transfer-encoding: quoted-printable
MIME-Version: 1.0
X-Brightmail-Tracker: AAAAAA==
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

I have set up a 4 (physica) nodes Hadoop cluster. Configuration: 2GB RAM eac=
h machine. Currently am using the sub-project Hive for firing queries on 45G=
B of data. I have certain queries that need to be resolved:-

1) The performance that I am getting with the above setup is quite bad. It t=
akes app 39 minutes for simple select query (with where clause). I have set=
 the mapred.map.tasks=3D13 and mapred.reduce.tasks=3D7. Is this setting good=
 enough for the above setup? Are there any significant configuration paramet=
ers I need to set for getting a better performance on Hive?

2) Does anybody know how exactly the data on HDFS is distributed across node=
s in a cluster? Also when we load the tables in Hive (by firing Load command=
 on master node),how and where is the data placed on HDFS in a cluster?

3) How and when does the data replication for HDFS take place in a cluster?=
 Currently I have set the dfs replication factor=3D1. How does this affect t=
he performance? 

3) Does adding a Virtual Machine to a physical machine cluster bring about s=
ignificant degradation in the performance?

Please let me know asap.

Thanks,
Ramya
 



DISCLAIMER=0A=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=0A=
This e-mail may contain privileged and confidential information which is the=
 property of Persistent Systems Ltd. It is intended only for the use of the=
 individual or entity to which it is addressed. If you are not the intended=
 recipient, you are not authorized to read, retain, copy, print, distribute=
 or use this message. If you have received this communication in error, plea=
se notify the sender and delete all copies of this message. Persistent Syste=
ms Ltd. does not accept any liability for virus infected mails.

From common-user-return-17214-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 02 06:47:40 2009
Return-Path: <common-user-return-17214-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 56714 invoked from network); 2 Sep 2009 06:47:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Sep 2009 06:47:40 -0000
Received: (qmail 31548 invoked by uid 500); 2 Sep 2009 06:47:38 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 31480 invoked by uid 500); 2 Sep 2009 06:47:37 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 31470 invoked by uid 99); 2 Sep 2009 06:47:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 06:47:37 +0000
X-ASF-Spam-Status: No, hits=1.8 required=10.0
	tests=MIME_QP_LONG_LINE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of Ramiya_V@persistent.co.in designates 202.54.11.87 as permitted sender)
Received: from [202.54.11.87] (HELO bmapps.persistent.co.in) (202.54.11.87)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 06:47:28 +0000
Received: from bmapps.persistent.co.in (unknown [127.0.0.1])
	by bmapps.persistent.co.in (Symantec Mail Security) with ESMTP id 26E2B4640CD
	for <common-user@hadoop.apache.org>; Wed,  2 Sep 2009 12:17:04 +0530 (IST)
X-AuditID: 0a4e0006-9ca18bb000003705-c2-4a9e14e8dda4
Received: from puneexchange.persistent.co.in (unknown [10.78.0.1])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by bmapps.persistent.co.in (Symantec Mail Security) with ESMTP id 0D1C9420002
	for <common-user@hadoop.apache.org>; Wed,  2 Sep 2009 12:17:04 +0530 (IST)
Received: from Exchange.persistent.co.in ([fe80::ad8a:d553:ef93:bfdd]) by CAS1
 ([10.77.224.46]) with mapi; Wed, 2 Sep 2009 12:17:03 +0530
From: Ramiya V <Ramiya_V@persistent.co.in>
To: "common-user@hadoop.apache.org" <common-user@hadoop.apache.org>
Date: Wed, 2 Sep 2009 12:17:02 +0530
Subject: FW: Issues with performance on Hadoop/Hive
Thread-Topic: Issues with performance on Hadoop/Hive
Thread-Index: AQHKK4tvJSEutvvhsESZeMBh5T8PXpDC2b7q
Message-ID: <4BA5307AF084A04E83875ECC173BC77B9CEF98ED06@EXCHANGE.persistent.co.in>
References: <4BA5307AF084A04E83875ECC173BC77B9CEF98ED04@EXCHANGE.persistent.co.in>
In-Reply-To: <4BA5307AF084A04E83875ECC173BC77B9CEF98ED04@EXCHANGE.persistent.co.in>
Accept-Language: en-US, en-IN
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US, en-IN
Content-Type: text/plain; charset="us-ascii"
content-transfer-encoding: quoted-printable
MIME-Version: 1.0
X-Brightmail-Tracker: AAAAAA==
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

I just wanted to add that I know 45GB data is really less to test the perfor=
mance of Hadoop/Hive as it needs data in Terabytes. Actually I have to imple=
ment a  POC and it requires me to test only 45GB of data. Please let me know=
 if the performance can be improved.

Thanks,
Ramya 

________________________________________
From: Ramiya V
Sent: Wednesday, September 02, 2009 10:38 AM
To: common-user@hadoop.apache.org
Subject: Issues with performance on Hadoop/Hive

Hi,

I have set up a 4 (physical) nodes Hadoop cluster. Configuration: 2GB RAM ea=
ch machine. Currently am using the sub-project Hive for firing queries on 45=
GB of data. I have certain queries that need to be resolved:-

1) The performance that I am getting with the above setup is quite bad. It t=
akes app 39 minutes for simple select query (with where clause). I have set=
 the mapred.map.tasks=3D13 and mapred.reduce.tasks=3D7. Is this setting good=
 enough for the above setup? Are there any significant configuration paramet=
ers I need to set for getting a better performance on Hive?

2) Does anybody know how exactly the data on HDFS is distributed across node=
s in a cluster? Also when we load the tables in Hive (by firing Load command=
 on master node),how and where is the data placed on HDFS in a cluster?

3) How and when does the data replication for HDFS take place in a cluster?=
 Currently I have set the dfs replication factor=3D1. How does this affect t=
he performance?

4) Does adding a Virtual Machine to a physical machine cluster bring about s=
ignificant degradation in the performance?

Please let me know asap.

Thanks,
Ramya




DISCLAIMER=0A=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=0A=
This e-mail may contain privileged and confidential information which is the=
 property of Persistent Systems Ltd. It is intended only for the use of the=
 individual or entity to which it is addressed. If you are not the intended=
 recipient, you are not authorized to read, retain, copy, print, distribute=
 or use this message. If you have received this communication in error, plea=
se notify the sender and delete all copies of this message. Persistent Syste=
ms Ltd. does not accept any liability for virus infected mails.

From common-user-return-17215-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 02 07:45:07 2009
Return-Path: <common-user-return-17215-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 68625 invoked from network); 2 Sep 2009 07:45:07 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Sep 2009 07:45:07 -0000
Received: (qmail 95408 invoked by uid 500); 2 Sep 2009 07:45:04 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 95351 invoked by uid 500); 2 Sep 2009 07:45:04 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 95341 invoked by uid 99); 2 Sep 2009 07:45:04 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 07:45:04 +0000
X-ASF-Spam-Status: No, hits=3.3 required=10.0
	tests=DATE_IN_FUTURE_12_24,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of zjffdu@gmail.com designates 209.85.222.173 as permitted sender)
Received: from [209.85.222.173] (HELO mail-pz0-f173.google.com) (209.85.222.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 07:44:54 +0000
Received: by pzk3 with SMTP id 3so643774pzk.20
        for <common-user@hadoop.apache.org>; Wed, 02 Sep 2009 00:44:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:from:to:references
         :in-reply-to:subject:date:message-id:mime-version:content-type
         :content-transfer-encoding:x-mailer:thread-index:content-language;
        bh=w3qDRZxgUCVvSVjvXnKGXvT0md93QXnF4XSuZ4TqTH8=;
        b=hp/3486JVcKLSUYzhxKdSv2oTZSZ9Ls+81U9kafvud8T3NI39GFa3u6066hCX/TVpU
         ydJu+oxVLKR8hm7ukRL6QbB1Eys9FprnxENjvZQeFzUtscuWp4zonEoikHNdJix4CjWZ
         Qal5u88OGoctYI5cXx+/gvVfrPPNYQuNnMWEE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=from:to:references:in-reply-to:subject:date:message-id:mime-version
         :content-type:content-transfer-encoding:x-mailer:thread-index
         :content-language;
        b=WIfIsUbkQUMbMQ/A0NteVF//LvazA94mwd8zvw4QdZrwxBazgdimwAFZBFn8tQcj/o
         TfvDXxppAdMHszNf5aAavkEDC9uPeNYcXNxLZgNNARnwo0IJmT85h5Kz32BUhqwE9t20
         WAZzKzjz6SWpDlmyoj1wNSgO2GpMhFUIEvE4I=
Received: by 10.114.3.25 with SMTP id 25mr3468876wac.182.1251877474117;
        Wed, 02 Sep 2009 00:44:34 -0700 (PDT)
Received: from zjf ([58.247.236.75])
        by mx.google.com with ESMTPS id m34sm16433waf.64.2009.09.02.00.44.32
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Wed, 02 Sep 2009 00:44:33 -0700 (PDT)
From: "zjffdu" <zjffdu@gmail.com>
To: <common-user@hadoop.apache.org>
References: <4BA5307AF084A04E83875ECC173BC77B9CEF98ED04@EXCHANGE.persistent.co.in> <4BA5307AF084A04E83875ECC173BC77B9CEF98ED06@EXCHANGE.persistent.co.in>
In-Reply-To: <4BA5307AF084A04E83875ECC173BC77B9CEF98ED06@EXCHANGE.persistent.co.in>
Subject: RE: Issues with performance on Hadoop/Hive
Date: Wed, 2 Sep 2009 15:46:12 -0700
Message-ID: <00ad01ca2c1f$2e1951a0$8a4bf4e0$@com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook 12.0
thread-index: AQHKK4tvJSEutvvhsESZeMBh5T8PXpDC2b7qgAEMcRA=
Content-Language: zh-cn
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Ramiya,

I think the biggest problem is that your replication factor is 1. You'd
better set it 3, otherwise Hadoop cannot take advantage of locality so =
the
performance will decrease.

And BTW, lots of small files will also decrease the performance.



-----Original Message-----
From: Ramiya V [mailto:Ramiya_V@persistent.co.in]=20
Sent: 2009=C4=EA9=D4=C21=C8=D5 23:47
To: common-user@hadoop.apache.org
Subject: FW: Issues with performance on Hadoop/Hive

Hi,

I just wanted to add that I know 45GB data is really less to test the
performance of Hadoop/Hive as it needs data in Terabytes. Actually I =
have to
implement a  POC and it requires me to test only 45GB of data. Please =
let me
know if the performance can be improved.

Thanks,
Ramya=20

________________________________________
From: Ramiya V
Sent: Wednesday, September 02, 2009 10:38 AM
To: common-user@hadoop.apache.org
Subject: Issues with performance on Hadoop/Hive

Hi,

I have set up a 4 (physical) nodes Hadoop cluster. Configuration: 2GB =
RAM
each machine. Currently am using the sub-project Hive for firing queries =
on
45GB of data. I have certain queries that need to be resolved:-

1) The performance that I am getting with the above setup is quite bad. =
It
takes app 39 minutes for simple select query (with where clause). I have =
set
the mapred.map.tasks=3D13 and mapred.reduce.tasks=3D7. Is this setting =
good
enough for the above setup? Are there any significant configuration
parameters I need to set for getting a better performance on Hive?

2) Does anybody know how exactly the data on HDFS is distributed across
nodes in a cluster? Also when we load the tables in Hive (by firing Load
command on master node),how and where is the data placed on HDFS in a
cluster?

3) How and when does the data replication for HDFS take place in a =
cluster?
Currently I have set the dfs replication factor=3D1. How does this =
affect the
performance?

4) Does adding a Virtual Machine to a physical machine cluster bring =
about
significant degradation in the performance?

Please let me know asap.

Thanks,
Ramya




DISCLAIMER
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
This e-mail may contain privileged and confidential information which is =
the
property of Persistent Systems Ltd. It is intended only for the use of =
the
individual or entity to which it is addressed. If you are not the =
intended
recipient, you are not authorized to read, retain, copy, print, =
distribute
or use this message. If you have received this communication in error,
please notify the sender and delete all copies of this message. =
Persistent
Systems Ltd. does not accept any liability for virus infected mails.


From common-user-return-17216-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 02 07:52:24 2009
Return-Path: <common-user-return-17216-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 70404 invoked from network); 2 Sep 2009 07:52:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Sep 2009 07:52:24 -0000
Received: (qmail 2102 invoked by uid 500); 2 Sep 2009 07:52:22 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 2024 invoked by uid 500); 2 Sep 2009 07:52:22 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 2014 invoked by uid 99); 2 Sep 2009 07:52:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 07:52:21 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of amansk@gmail.com designates 209.85.132.247 as permitted sender)
Received: from [209.85.132.247] (HELO an-out-0708.google.com) (209.85.132.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 07:52:13 +0000
Received: by an-out-0708.google.com with SMTP id c38so288607ana.29
        for <common-user@hadoop.apache.org>; Wed, 02 Sep 2009 00:51:53 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=ODSqrEWpbSz49sF+reQzImEtWBInHs2QRFaADg2qOBk=;
        b=kVQtEtg+HNXSryt6E7lk4q+OMv99ImYz+sJQaI+xW4Vfc5VCktVzsinalsGaXE9qdf
         KovaAgwsTtAnrqftoModEbLWTZ+YumMWoY2VOXb5XFcJjjQnlKTJ1Zdx0hbhsNE05ulR
         ew47LoxEVKLWigK9Km+HQGNuHAIZlXDVnJj5E=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=NpjABiOGN/VcUjjOxpi6MAOwvRVOyymmMCY9fFw4mrpoCeSkLTSkEMOabHkTaCLpyY
         cqasQdhXChrsVQsjZgi2mwVaLsU45sELmlvswIU4kac3LzDkeHye9MYPv7jxU5e5YMED
         vHXhr9SAsOvufd3oQY+fbeiewj0igZLIsfBcQ=
MIME-Version: 1.0
Received: by 10.101.47.6 with SMTP id z6mr8746024anj.140.1251877913172; Wed, 
	02 Sep 2009 00:51:53 -0700 (PDT)
In-Reply-To: <4BA5307AF084A04E83875ECC173BC77B9CEF98ED04@EXCHANGE.persistent.co.in>
References: <4BA5307AF084A04E83875ECC173BC77B9CEF98ED04@EXCHANGE.persistent.co.in>
From: Amandeep Khurana <amansk@gmail.com>
Date: Wed, 2 Sep 2009 00:51:33 -0700
Message-ID: <35a22e220909020051t7a66a625h98aa8cc60bcb4750@mail.gmail.com>
Subject: Re: Issues with performance on Hadoop/Hive
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=001636ed7800511bc90472938a03
X-Virus-Checked: Checked by ClamAV on apache.org

--001636ed7800511bc90472938a03
Content-Type: text/plain; charset=ISO-8859-1

Answers inline


Amandeep Khurana
Computer Science Graduate Student
University of California, Santa Cruz


On Tue, Sep 1, 2009 at 10:08 PM, Ramiya V <Ramiya_V@persistent.co.in> wrote:

> Hi,
>
> I have set up a 4 (physica) nodes Hadoop cluster. Configuration: 2GB RAM
> each machine. Currently am using the sub-project Hive for firing queries on
> 45GB of data. I have certain queries that need to be resolved:-
>
> 1) The performance that I am getting with the above setup is quite bad. It
> takes app 39 minutes for simple select query (with where clause). I have set
> the mapred.map.tasks=13 and mapred.reduce.tasks=7. Is this setting good
> enough for the above setup? Are there any significant configuration
> parameters I need to set for getting a better performance on Hive?
>
>
Check on the resource utilization. I think you shouldnt be running more than
3 mappers + 1 reducer on each node at any time (given the hardware you are
using). But then that mostly depends on the amount of work being done in the
mappers and reducers.

2) Does anybody know how exactly the data on HDFS is distributed across
> nodes in a cluster? Also when we load the tables in Hive (by firing Load
> command on master node),how and where is the data placed on HDFS in a
> cluster?
>

Files are divided into blocks and the blocks are stored on the Datanodes..
Each block is 64MB by default. I'm not sure how the blocks are distributed
among the datanodes..

3) How and when does the data replication for HDFS take place in a cluster?
> Currently I have set the dfs replication factor=1. How does this affect the
> performance?
>

Once you put the data into the hdfs, it starts replicating the blocks.
However, the put is successful as soon as one block gets created...


>
> 3) Does adding a Virtual Machine to a physical machine cluster bring about
> significant degradation in the performance?
>

Dont have numbers for this, but it does impact the performance. Moreover,
your hardware resources are low and there is really no value add in using
virtual machines on top of it.


> Please let me know asap.
>
> Thanks,
> Ramya
>
>
>
>
> DISCLAIMER
> ==========
> This e-mail may contain privileged and confidential information which is
> the property of Persistent Systems Ltd. It is intended only for the use of
> the individual or entity to which it is addressed. If you are not the
> intended recipient, you are not authorized to read, retain, copy, print,
> distribute or use this message. If you have received this communication in
> error, please notify the sender and delete all copies of this message.
> Persistent Systems Ltd. does not accept any liability for virus infected
> mails.
>

--001636ed7800511bc90472938a03--

From common-user-return-17217-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 02 09:19:48 2009
Return-Path: <common-user-return-17217-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 91042 invoked from network); 2 Sep 2009 09:19:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Sep 2009 09:19:48 -0000
Received: (qmail 93919 invoked by uid 500); 2 Sep 2009 09:19:46 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 93828 invoked by uid 500); 2 Sep 2009 09:19:45 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 93818 invoked by uid 99); 2 Sep 2009 09:19:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 09:19:45 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of pareekash@gmail.com designates 209.85.146.178 as permitted sender)
Received: from [209.85.146.178] (HELO wa-out-1112.google.com) (209.85.146.178)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 09:19:37 +0000
Received: by wa-out-1112.google.com with SMTP id j32so142612waf.29
        for <multiple recipients>; Wed, 02 Sep 2009 02:19:17 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:date:message-id:subject
         :from:to:content-type;
        bh=hV8QEw7j104XEK4guBOGsAM8IGsD3fBKDAsJ8LIZAAY=;
        b=RRZZ0w6b+M2NUmkupV7OcUCJ9oeBgfnhiDrdrrsBtiSxqplXqwvkhqt4UGVsTOqQr4
         qnv1danyrKwHWn0+6iV06J2AxFKuj78qFF73xWP1GI9mie1ZYd9UDNBi0RrZUfpgkWcr
         Pm6iZTyY7bY1rgXCl61WrMgPo/0s9Bw9UP+6o=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=wB7t1Hlp1bbpTR4JNCDYb/7Q++1ir2ETv9ifqO2YGCV88gj8BYy+ef/QSH3j0begga
         I9lDonutgZEHKCIPLy0avzz2i7Uc/VISrNjzKwT27ThjeJakCPQIxR7Y46U2Il9UUDOr
         9IRjenap+D4gC6fq4zMwPl3nDTlcBzYbz8xBE=
MIME-Version: 1.0
Received: by 10.115.98.14 with SMTP id a14mr6042744wam.221.1251883157603; Wed, 
	02 Sep 2009 02:19:17 -0700 (PDT)
Date: Wed, 2 Sep 2009 14:49:17 +0530
Message-ID: <45d9159d0909020219g22982281sfda92c74d66c703b@mail.gmail.com>
Subject: Help in build
From: ashish pareek <pareekash@gmail.com>
To: common-user@hadoop.apache.org, hadoop-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0016e648f676e8c711047294c201
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e648f676e8c711047294c201
Content-Type: text/plain; charset=ISO-8859-1

Hello,
           I am building hadoop-0.18.3 source code and landed in some error
as follows::
Error is as folows::


Description Resource Path Location Type
The method sendHeartbeat(DatanodeRegistration, long, long, long, int, int,
double, double[][]) in the type NameNode is not applicable for the arguments
(DatanodeRegistration, long, long, long, int, int)
NNThroughputBenchmark.java hadoop-trunk/src/test/org/apache/hadoop/dfs line
610 Java Problem
The method sendHeartbeat(DatanodeRegistration, long, long, long, int, int,
double, double[][]) in the type NameNode is not applicable for the arguments
(DatanodeRegistration, long, long, long, int, int)
NNThroughputBenchmark.java hadoop-trunk/src/test/org/apache/hadoop/dfs line
641 Java Problem
The method updateHeartbeat(long, long, long, int, double, double[][]) in the
type DatanodeDescriptor is not applicable for the arguments (int, long, int,
int) TestReplicationPolicy.java hadoop-trunk/src/test/org/apache/hadoop/dfs
line 69 Java Problem
The method updateHeartbeat(long, long, long, int, double, double[][]) in the
type DatanodeDescriptor is not applicable for the arguments (int, long, int,
int) TestReplicationPolicy.java hadoop-trunk/src/test/org/apache/hadoop/dfs
line 85 Java Problem
The method updateHeartbeat(long, long, long, int, double, double[][]) in the
type DatanodeDescriptor is not applicable for the arguments (int, long, int,
int) TestReplicationPolicy.java hadoop-trunk/src/test/org/apache/hadoop/dfs
line 120 Java Problem
The method updateHeartbeat(long, long, long, int, double, double[][]) in the
type DatanodeDescriptor is not applicable for the arguments (int, long, int,
int) TestReplicationPolicy.java hadoop-trunk/src/test/org/apache/hadoop/dfs
line 191 Java Problem
The method updateHeartbeat(long, long, long, int, double, double[][]) in the
type DatanodeDescriptor is not applicable for the arguments (int, long, int,
int) TestReplicationPolicy.java hadoop-trunk/src/test/org/apache/hadoop/dfs
line 229 Java Problem
The method updateHeartbeat(long, long, long, int, double, double[][]) in the
type DatanodeDescriptor is not applicable for the arguments (int, long, int,
int) TestReplicationPolicy.java hadoop-trunk/src/test/org/apache/hadoop/dfs
line 245 Java Problem
The method updateHeartbeat(long, long, long, int, double, double[][]) in the
type DatanodeDescriptor is not applicable for the arguments (int, long, int,
int) TestReplicationPolicy.java hadoop-trunk/src/test/org/apache/hadoop/dfs
line 277 Java Problem
The method updateHeartbeat(long, long, long, int, double, double[][]) in the
type DatanodeDescriptor is not applicable for the arguments (long, long,
long, int) TestOverReplicatedBlocks.java
hadoop-trunk/src/test/org/apache/hadoop/dfs line 53 Java Problem

This error tells that there is some thing erroe related with difference in
number of parameter
The two files which come direct with hadoop source code is ::
for NNThroughputBenchmark.java
http://svn.apache.org/viewvc/hadoop/common/tags/release-0.18.3/src/test/org/apache/hadoop/dfs/NNThroughputBenchmark.java?view=co
for NameNode
http://svn.apache.org/viewvc/hadoop/common/tags/release-0.18.3/src/hdfs/org/apache/hadoop/dfs/NameNode.java?revision=787136
in this two files there are functions called senHeartbeat & updateHeartbeat
which are having diifferent number of parameter . please go have alook at
both function in both the files and you will find that there is difference
in thier signature in terms of number of parameter
If you find some thing on this help me
Regards,
Ashish Pareek

--0016e648f676e8c711047294c201--

From common-user-return-17218-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 02 10:48:50 2009
Return-Path: <common-user-return-17218-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 14963 invoked from network); 2 Sep 2009 10:48:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Sep 2009 10:48:50 -0000
Received: (qmail 18773 invoked by uid 500); 2 Sep 2009 10:48:47 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 18689 invoked by uid 500); 2 Sep 2009 10:48:47 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 18679 invoked by uid 99); 2 Sep 2009 10:48:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 10:48:47 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of stas.oskin@gmail.com designates 209.85.218.214 as permitted sender)
Received: from [209.85.218.214] (HELO mail-bw0-f214.google.com) (209.85.218.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 10:48:40 +0000
Received: by bwz10 with SMTP id 10so626422bwz.29
        for <common-user@hadoop.apache.org>; Wed, 02 Sep 2009 03:48:19 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=oKP797L73wCSIv0aPHF32rFADM+QviiJ6TH3HMd5+Vs=;
        b=qmfNAh/j2SVcbmIl6ocaKPipkivfWznGsjpL5uiyV88o2GO6Sp+fC5tVzgY9VqpM6r
         8rpANVrMl1x+XWqlrXmSSWp60HwBHSNk4WAz9ANDQwtOVWvICGUv3xQavJSf/dlMZ3aW
         5HfMngNo2I2nMcsEom4buhrEAuMwEQDz3RLLQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=SVjj0MzPwkZRRUUxCyyOSr0ykYg+kaIp3lLYYFNUbNuluiJrtZqxmGdQyCAPdR1CHB
         zYJYiPKdJkf40hYkJtehC4vb0v6PXHdSeGZySlLi2Qxevu4ZzFCqgutXc+7Pdybaq7ey
         FWT6JU+0tDoZWOWTxzIFvsjrS+FF2hBM4NNj0=
MIME-Version: 1.0
Received: by 10.223.101.156 with SMTP id c28mr3421548fao.52.1251888499082; 
	Wed, 02 Sep 2009 03:48:19 -0700 (PDT)
In-Reply-To: <6EF411C2-8D72-4C11-A506-5720DC449B92@cse.unl.edu>
References: <77938bc20908310340g63c6b29aw25a4edd16f1fc840@mail.gmail.com>
	 <4A9D67C4.6010709@yahoo-inc.com>
	 <77938bc20909011202t71409310j3792628f4d2d9d34@mail.gmail.com>
	 <6EF411C2-8D72-4C11-A506-5720DC449B92@cse.unl.edu>
Date: Wed, 2 Sep 2009 13:48:19 +0300
Message-ID: <77938bc20909020348w1d46d4b7r4c7c6e0af348236a@mail.gmail.com>
Subject: Re: Datanode high memory usage
From: Stas Oskin <stas.oskin@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=00151744806449457604729601ce
X-Virus-Checked: Checked by ClamAV on apache.org

--00151744806449457604729601ce
Content-Type: text/plain; charset=ISO-8859-1

Hi.


>>
> Resident, shared, or virtual?  Unix memory management is not
> straightforward; the worst thing you can do is look at the virtual memory
> size of the java process and assume that's how much RAM it is using.
>
>
I'm using a tool called ps_mem.py to measure total memory taken. It usually
correct.

Regards.

--00151744806449457604729601ce--

From common-user-return-17219-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 02 10:49:56 2009
Return-Path: <common-user-return-17219-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 15430 invoked from network); 2 Sep 2009 10:49:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Sep 2009 10:49:56 -0000
Received: (qmail 21745 invoked by uid 500); 2 Sep 2009 10:49:53 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 21645 invoked by uid 500); 2 Sep 2009 10:49:53 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 21635 invoked by uid 99); 2 Sep 2009 10:49:53 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 10:49:53 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of stas.oskin@gmail.com designates 209.85.218.214 as permitted sender)
Received: from [209.85.218.214] (HELO mail-bw0-f214.google.com) (209.85.218.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 10:49:44 +0000
Received: by bwz10 with SMTP id 10so626949bwz.29
        for <common-user@hadoop.apache.org>; Wed, 02 Sep 2009 03:49:24 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=nUCbUVYFZjDUeFnB2Mn7vNoikB1rKeAZPF5Ty2VIRis=;
        b=S5p0zmmudNaIQawLA9Hna8hxvUrkMt6MUf3ZrgXRhctXA0kny4ieqt57gG3falGIyy
         4MUhRBMnY2o2N5amTSLgGmBn7aGjssiIW9P15d1nXBoaZ+efTx29yh5dGZHggLL/2SeT
         jS+gZwfOuEHiEN2YGMmFAdNlcX8ywaSxyHTjk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=LgV0dKTZ+cnVupiwOpEmnGH4QCDHrdClN5dbjVm2rB6c2NaK+6u+dBMza5N96cc0PE
         EeBbhTadzL7y1Fc7YzdLys0DjiQFDFg+ZVyLEG0qqgS8vEQl6Cb32C/WM5PbLVDusGIP
         Kcrbu5eHhrEZzMoGl7yhwumllfepaugw9bimE=
MIME-Version: 1.0
Received: by 10.223.14.12 with SMTP id e12mr3427938faa.23.1251888563929; Wed, 
	02 Sep 2009 03:49:23 -0700 (PDT)
In-Reply-To: <AEFB100E-9E35-41D9-B319-85680F81C3D8@cse.unl.edu>
References: <77938bc20908310340g63c6b29aw25a4edd16f1fc840@mail.gmail.com>
	 <77938bc20908310907g542e50d2me9a6f31e8d4ba3d4@mail.gmail.com>
	 <7a8854060908311004ncd63e7cv9ea388a3e86d25f1@mail.gmail.com>
	 <77938bc20908311009n3e6a6ebg7c268d2a5ab46530@mail.gmail.com>
	 <944750dd0908311840p8062527l350180cfa451f7ec@mail.gmail.com>
	 <77938bc20909010159lb667aecp12417c6f6da06c3f@mail.gmail.com>
	 <944750dd0909010208q31c33e5bwde3fc2d1ca1e5bdd@mail.gmail.com>
	 <1FB3CB82-A660-4DA2-8567-08CC3CFA1A23@cse.unl.edu>
	 <77938bc20909011158q284152cn83c4547eced49eca@mail.gmail.com>
	 <AEFB100E-9E35-41D9-B319-85680F81C3D8@cse.unl.edu>
Date: Wed, 2 Sep 2009 13:49:23 +0300
Message-ID: <77938bc20909020349q3a9786ecwd9d829e4f22ba7fa@mail.gmail.com>
Subject: Re: Datanode high memory usage
From: Stas Oskin <stas.oskin@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=00151747afa426c1dc0472960571
X-Virus-Checked: Checked by ClamAV on apache.org

--00151747afa426c1dc0472960571
Content-Type: text/plain; charset=ISO-8859-1

Hi.


>>
> It's a Sun JVM setting, not something Hadoop will control.  You'd have to
> turn it on in hadoop-env.sh.
>
>
Question is, if Hadoop will include this as standard,  if it indeed has such
benefits.

Regards.

--00151747afa426c1dc0472960571--

From common-user-return-17220-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 02 12:02:48 2009
Return-Path: <common-user-return-17220-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 36109 invoked from network); 2 Sep 2009 12:02:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Sep 2009 12:02:47 -0000
Received: (qmail 20623 invoked by uid 500); 2 Sep 2009 12:02:45 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 20556 invoked by uid 500); 2 Sep 2009 12:02:45 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 20546 invoked by uid 99); 2 Sep 2009 12:02:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 12:02:45 +0000
X-ASF-Spam-Status: No, hits=-4.0 required=10.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of awittenauer@linkedin.com designates 69.28.149.25 as permitted sender)
Received: from [69.28.149.25] (HELO esv4-mav03.corp.linkedin.com) (69.28.149.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 12:02:34 +0000
DomainKey-Signature: s=prod; d=linkedin.com; c=nofws; q=dns;
  h=X-IronPort-AV:Received:User-Agent:Date:Subject:From:To:
   Message-ID:Thread-Topic:Thread-Index:In-Reply-To:
   Mime-version:Content-type:Content-transfer-encoding;
  b=CwzPBb9m5PBSnK03Z4siLe/0juQN88N9UZvG9XuGyG5BYjrNXOaNVlwX
   V/wjlmpUpdUyA+ywAmG3PvQ3C0ovbsZkaptAbONwI/TXKCGYRmTA+tXRD
   0tGvzdAfuW1Qw6N;
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
  d=linkedin.com; i=awittenauer@linkedin.com; q=dns/txt;
  s=proddkim; t=1251892954; x=1283428954;
  h=from:sender:reply-to:subject:date:message-id:to:cc:
   mime-version:content-transfer-encoding:content-id:
   content-description:resent-date:resent-from:resent-sender:
   resent-to:resent-cc:resent-message-id:in-reply-to:
   references:list-id:list-help:list-unsubscribe:
   list-subscribe:list-post:list-owner:list-archive;
  z=From:=20Allen=20Wittenauer=20<awittenauer@linkedin.com>
   |Subject:=20Re:=20Datanode=20high=20memory=20usage|Date:
   =20Wed,=2002=20Sep=202009=2005:02:14=20-0700|Message-ID:
   =20<C6C3ACD6.21B%awittenauer@linkedin.com>|To:=20<common-
   user@hadoop.apache.org>|Mime-version:=201.0
   |Content-transfer-encoding:=207bit|In-Reply-To:=20<77938b
   c20909020349q3a9786ecwd9d829e4f22ba7fa@mail.gmail.com>;
  bh=6cSPRfLDGj/9ars+RrUqll17M5CPGy07KZtlwApd6is=;
  b=xN3kS+DAQpgnNbKWcCeHXL451W5fK815jJWa1IyTosVIj3QufHuh/POA
   GMBJnm/mZ9jnyqSS6gKwmAHhO3hXoH+XKiJxun7U1BQohiUe/kjXYiZSM
   BWJ5+nObJBXQxHJ;
X-IronPort-AV: E=Sophos;i="4.44,318,1249282800"; 
   d="scan'208";a="8439010"
Received: from 172.18.36.191 ([172.18.36.191]) by CORP-MAIL.linkedin.biz ([172.18.46.135]) via Exchange Front-End Server mail-access.linkedin.biz ([172.18.46.133]) with Microsoft Exchange Server HTTP-DAV ;
 Wed,  2 Sep 2009 12:02:14 +0000
User-Agent: Microsoft-Entourage/12.10.0.080409
Date: Wed, 02 Sep 2009 05:02:14 -0700
Subject: Re: Datanode high memory usage
From: Allen Wittenauer <awittenauer@linkedin.com>
To: <common-user@hadoop.apache.org>
Message-ID: <C6C3ACD6.21B%awittenauer@linkedin.com>
Thread-Topic: Datanode high memory usage
Thread-Index: AcorxTWF/CwBEQg2yk6anB6L5ptsdA==
In-Reply-To: <77938bc20909020349q3a9786ecwd9d829e4f22ba7fa@mail.gmail.com>
Mime-version: 1.0
Content-type: text/plain;
	charset="US-ASCII"
Content-transfer-encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 9/2/09 3:49 AM, "Stas Oskin" <stas.oskin@gmail.com> wrote:
>> It's a Sun JVM setting, not something Hadoop will control.  You'd have to
>> turn it on in hadoop-env.sh.
>> 
>> 
> Question is, if Hadoop will include this as standard,  if it indeed has such
> benefits.

Hadoop doesn't have a -standard- here, it has a -default-.  JVM settings are
one of those things that should just automatically be expected to be
adjusted on a per installation basis.  It is pretty much impossible to get
it correct for everyone.  [Thanks Java. :( ]


From common-user-return-17221-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 02 12:12:43 2009
Return-Path: <common-user-return-17221-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 38554 invoked from network); 2 Sep 2009 12:12:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Sep 2009 12:12:43 -0000
Received: (qmail 30832 invoked by uid 500); 2 Sep 2009 12:12:41 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 30760 invoked by uid 500); 2 Sep 2009 12:12:41 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 30750 invoked by uid 99); 2 Sep 2009 12:12:41 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 12:12:41 +0000
X-ASF-Spam-Status: No, hits=-2.8 required=10.0
	tests=RCVD_IN_DNSWL_MED,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [192.6.10.60] (HELO tobor.hpl.hp.com) (192.6.10.60)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 12:12:31 +0000
Received: from localhost (localhost [127.0.0.1])
	by tobor.hpl.hp.com (Postfix) with ESMTP id 5B6EEB7E4C
	for <common-user@hadoop.apache.org>; Wed,  2 Sep 2009 13:12:09 +0100 (BST)
X-Virus-Scanned: amavisd-new at hplb.hpl.hp.com
Received: from tobor.hpl.hp.com ([127.0.0.1])
	by localhost (tobor.hpl.hp.com [127.0.0.1]) (amavisd-new, port 10024)
	with LMTP id Iyy9j15YNrQ1 for <common-user@hadoop.apache.org>;
	Wed,  2 Sep 2009 13:12:03 +0100 (BST)
Received: from 0-imap-br1.hpl.hp.com (0-imap-br1.hpl.hp.com [16.25.144.60])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by tobor.hpl.hp.com (Postfix) with ESMTPS id 99554B7E4B
	for <common-user@hadoop.apache.org>; Wed,  2 Sep 2009 13:12:03 +0100 (BST)
MailScanner-NULL-Check: 1252498310.16993@rUVJ0Rej8/qcF7158Y1Plg
Received: from [16.25.175.158] (morzine.hpl.hp.com [16.25.175.158])
	by 0-imap-br1.hpl.hp.com (8.14.1/8.13.4) with ESMTP id n82CBnhJ007010
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <common-user@hadoop.apache.org>; Wed, 2 Sep 2009 13:11:50 +0100 (BST)
Message-ID: <4A9E6105.7090409@apache.org>
Date: Wed, 02 Sep 2009 13:11:49 +0100
From: Steve Loughran <stevel@apache.org>
User-Agent: Thunderbird 2.0.0.23 (X11/20090812)
MIME-Version: 1.0
To: common-user@hadoop.apache.org
Subject: Re: Datanode high memory usage
References: <C6C3ACD6.21B%awittenauer@linkedin.com>
In-Reply-To: <C6C3ACD6.21B%awittenauer@linkedin.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-HPL-MailScanner-Information: Please contact the ISP for more information
X-MailScanner-ID: n82CBnhJ007010
X-HPL-MailScanner: Found to be clean
X-HPL-MailScanner-From: stevel@apache.org
X-Virus-Checked: Checked by ClamAV on apache.org

Allen Wittenauer wrote:
> On 9/2/09 3:49 AM, "Stas Oskin" <stas.oskin@gmail.com> wrote:
>>> It's a Sun JVM setting, not something Hadoop will control.  You'd have to
>>> turn it on in hadoop-env.sh.
>>>
>>>
>> Question is, if Hadoop will include this as standard,  if it indeed has such
>> benefits.

We can't do this as then if you try and bring up Hadoop on a VM without 
this option (currently, all OS/X JVMs), your java program will not start.

> 
> Hadoop doesn't have a -standard- here, it has a -default-.  JVM settings are
> one of those things that should just automatically be expected to be
> adjusted on a per installation basis.  It is pretty much impossible to get
> it correct for everyone.  [Thanks Java. :( ]
> 

It would be nice if Java 6 had a way of switching compressed pointers on 
by default -the way JRockit 64 bit did. Right now you have to edit every 
shell script to start up every program,  hadoop included.  Maybe when 
jdk7 ships it will do this by default.

From common-user-return-17222-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 02 13:14:43 2009
Return-Path: <common-user-return-17222-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 58953 invoked from network); 2 Sep 2009 13:14:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Sep 2009 13:14:43 -0000
Received: (qmail 6132 invoked by uid 500); 2 Sep 2009 13:14:40 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 6066 invoked by uid 500); 2 Sep 2009 13:14:40 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 6056 invoked by uid 99); 2 Sep 2009 13:14:40 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 13:14:40 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of stas.oskin@gmail.com designates 209.85.218.214 as permitted sender)
Received: from [209.85.218.214] (HELO mail-bw0-f214.google.com) (209.85.218.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 13:14:31 +0000
Received: by bwz10 with SMTP id 10so711895bwz.29
        for <common-user@hadoop.apache.org>; Wed, 02 Sep 2009 06:14:10 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=GDf3WNi1BA/Jr2EQqGX8vhomRgtQyn07MrZ1Ba1sG7g=;
        b=iuT+Ffv3bJQHvRYnz+N45qln1veDjCaCI6H1af4QXJRDQymSZ7mfPPQECQEDnUo2sB
         CSKswNeO36DUe2Dvlv+jcTXHvBr+JQGKPrPG+jKuFl5DaraJ1syVC5C4ev/wJlUfZl/R
         ZylxnntYoWTUbT2+SHfmly35g28YqQ7JK8Bn4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=eWC6xSpsgk8Sd53l2TDq5YncpLRu1c180t+cpt9l5dkLXOx33yay4e5RI03GRlMKpF
         ig+15QA6F2uWdo2894B2QBBgOaqKhHDEpuMjqJdO+vHV6ODAdE/EldhlSpQVpwzCpq/j
         U+1+BM7yCTDbyGC6zlKe+QM2Ipm0OgATKb73c=
MIME-Version: 1.0
Received: by 10.223.14.131 with SMTP id g3mr3494839faa.68.1251897250709; Wed, 
	02 Sep 2009 06:14:10 -0700 (PDT)
In-Reply-To: <4A9E6105.7090409@apache.org>
References: <C6C3ACD6.21B%awittenauer@linkedin.com>
	 <4A9E6105.7090409@apache.org>
Date: Wed, 2 Sep 2009 16:14:10 +0300
Message-ID: <77938bc20909020614qc906aacje03b7ae9de4d6c59@mail.gmail.com>
Subject: Re: Datanode high memory usage
From: Stas Oskin <stas.oskin@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=00151747af9aec813a0472980a1d
X-Virus-Checked: Checked by ClamAV on apache.org

--00151747af9aec813a0472980a1d
Content-Type: text/plain; charset=ISO-8859-1

Hi.

>
> It would be nice if Java 6 had a way of switching compressed pointers on by
> default -the way JRockit 64 bit did. Right now you have to edit every shell
> script to start up every program,  hadoop included.  Maybe when jdk7 ships
> it will do this by default.
>

Does it give any memory benefits on Datanode as well, in addition to
Namenode?

 Also, just how much RAM is gained by this setting?

--00151747af9aec813a0472980a1d--

From common-user-return-17223-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 02 13:30:58 2009
Return-Path: <common-user-return-17223-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 64649 invoked from network); 2 Sep 2009 13:30:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Sep 2009 13:30:58 -0000
Received: (qmail 40489 invoked by uid 500); 2 Sep 2009 13:30:55 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 40399 invoked by uid 500); 2 Sep 2009 13:30:55 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 40383 invoked by uid 99); 2 Sep 2009 13:30:55 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 13:30:55 +0000
X-ASF-Spam-Status: No, hits=-2.8 required=10.0
	tests=RCVD_IN_DNSWL_MED,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [192.6.10.2] (HELO colossus.hpl.hp.com) (192.6.10.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 13:30:45 +0000
Received: from localhost (localhost [127.0.0.1])
	by colossus.hpl.hp.com (Postfix) with ESMTP id C63671BAAFF
	for <common-user@hadoop.apache.org>; Wed,  2 Sep 2009 14:30:23 +0100 (BST)
X-Virus-Scanned: Debian amavisd-new at hpl.hp.com
Received: from colossus.hpl.hp.com ([127.0.0.1])
	by localhost (colossus.hpl.hp.com [127.0.0.1]) (amavisd-new, port 10024)
	with LMTP id lfQGELX1K9VW for <common-user@hadoop.apache.org>;
	Wed,  2 Sep 2009 14:30:23 +0100 (BST)
Received: from 0-imap-br1.hpl.hp.com (0-imap-br1.hpl.hp.com [16.25.144.60])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by colossus.hpl.hp.com (Postfix) with ESMTPS id 544A81BAAF9
	for <common-user@hadoop.apache.org>; Wed,  2 Sep 2009 14:30:23 +0100 (BST)
MailScanner-NULL-Check: 1252503010.1002@YkeLxbRLQack7JzyhWABMw
Received: from [16.25.175.158] (morzine.hpl.hp.com [16.25.175.158])
	by 0-imap-br1.hpl.hp.com (8.14.1/8.13.4) with ESMTP id n82DU92f011813
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <common-user@hadoop.apache.org>; Wed, 2 Sep 2009 14:30:09 +0100 (BST)
Message-ID: <4A9E7361.8020103@apache.org>
Date: Wed, 02 Sep 2009 14:30:09 +0100
From: Steve Loughran <stevel@apache.org>
User-Agent: Thunderbird 2.0.0.23 (X11/20090812)
MIME-Version: 1.0
To: common-user@hadoop.apache.org
Subject: Re: Datanode high memory usage
References: <C6C3ACD6.21B%awittenauer@linkedin.com>	 <4A9E6105.7090409@apache.org> <77938bc20909020614qc906aacje03b7ae9de4d6c59@mail.gmail.com>
In-Reply-To: <77938bc20909020614qc906aacje03b7ae9de4d6c59@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-HPL-MailScanner-Information: Please contact the ISP for more information
X-MailScanner-ID: n82DU92f011813
X-HPL-MailScanner: Found to be clean
X-HPL-MailScanner-From: stevel@apache.org
X-Virus-Checked: Checked by ClamAV on apache.org

Stas Oskin wrote:
> Hi.
> 
>> It would be nice if Java 6 had a way of switching compressed pointers on by
>> default -the way JRockit 64 bit did. Right now you have to edit every shell
>> script to start up every program,  hadoop included.  Maybe when jdk7 ships
>> it will do this by default.
>>
> 
> Does it give any memory benefits on Datanode as well, in addition to
> Namenode?

All we have so far is in  https://issues.apache.org/jira/browse/HDFS-559

If you are willing to work out the memory savings in the datanode, with 
different block sizes and file counts, it would be welcome.

> 
>  Also, just how much RAM is gained by this setting?
> 

Again, experimentation is needed. All we can say is that the 
datastructures get smaller, but not as small as 32-bit systems, as every 
instance is aligned to 8-byte/64-bit boundaries.

From common-user-return-17224-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 02 14:59:16 2009
Return-Path: <common-user-return-17224-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 90647 invoked from network); 2 Sep 2009 14:59:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Sep 2009 14:59:15 -0000
Received: (qmail 86702 invoked by uid 500); 2 Sep 2009 14:59:13 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 86620 invoked by uid 500); 2 Sep 2009 14:59:13 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 86610 invoked by uid 99); 2 Sep 2009 14:59:13 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 14:59:13 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of stas.oskin@gmail.com designates 209.85.220.225 as permitted sender)
Received: from [209.85.220.225] (HELO mail-fx0-f225.google.com) (209.85.220.225)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 14:59:05 +0000
Received: by fxm25 with SMTP id 25so847560fxm.29
        for <common-user@hadoop.apache.org>; Wed, 02 Sep 2009 07:58:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=IW9sgrmRl6xx3BCTOpKMw1Q6VFpB1oDZYA953IKt6SM=;
        b=N6wwcQjLmu9ntkqO8XBCMDcbriYgjZ0xGn1K5mpiZbZnWgCyImhARaYhghWyVHYqA6
         ILiOiDI/OgyKtZWkKkZ3eUWBOObcEuWffBtTgnNKoeX3+7oZWSQehiFfpdONvo3mBDba
         3upxjEh6Ujsr6fxm/8P+9OYtDbijYgQTWgQ+g=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=xdLuxnBIuDRPIiWh8czNfdtXKupussTiRAA7xxe8TF8YpDoTd+hNuxMH+PSmh7r1/X
         x2sGyZ1VvLz37tTrZtoM/xv9iCaN3wZ0qP1zGxmFYOoX3FVPXiGRgFgGn3MWyGrmFRLl
         3S7NeM9Qz0EiINK/MrFjWCCWKM5Y2jqp+2Ifw=
MIME-Version: 1.0
Received: by 10.223.144.82 with SMTP id y18mr3484365fau.74.1251903523917; Wed, 
	02 Sep 2009 07:58:43 -0700 (PDT)
In-Reply-To: <4A9E7361.8020103@apache.org>
References: <C6C3ACD6.21B%awittenauer@linkedin.com>
	 <4A9E6105.7090409@apache.org>
	 <77938bc20909020614qc906aacje03b7ae9de4d6c59@mail.gmail.com>
	 <4A9E7361.8020103@apache.org>
Date: Wed, 2 Sep 2009 17:58:43 +0300
Message-ID: <77938bc20909020758u71db8977r57577804df0daef3@mail.gmail.com>
Subject: Re: Datanode high memory usage
From: Stas Oskin <stas.oskin@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0023545bd760d610e20472998052
X-Virus-Checked: Checked by ClamAV on apache.org

--0023545bd760d610e20472998052
Content-Type: text/plain; charset=ISO-8859-1

Hi.

Again, experimentation is needed. All we can say is that the datastructures
> get smaller, but not as small as 32-bit systems, as every instance is
> aligned to 8-byte/64-bit boundaries.
>


Ok, thanks - will check and see if/how it reduces the used memory.

Regards.

--0023545bd760d610e20472998052--

From common-user-return-17225-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 02 15:52:19 2009
Return-Path: <common-user-return-17225-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 11737 invoked from network); 2 Sep 2009 15:52:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Sep 2009 15:52:19 -0000
Received: (qmail 1485 invoked by uid 500); 2 Sep 2009 15:52:16 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 1414 invoked by uid 500); 2 Sep 2009 15:52:16 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 1404 invoked by uid 99); 2 Sep 2009 15:52:16 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 15:52:16 +0000
X-ASF-Spam-Status: No, hits=2.8 required=10.0
	tests=HTML_FONT_FACE_BAD,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of saptarshi.guha@gmail.com designates 209.85.211.177 as permitted sender)
Received: from [209.85.211.177] (HELO mail-yw0-f177.google.com) (209.85.211.177)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 15:52:07 +0000
Received: by ywh7 with SMTP id 7so300119ywh.21
        for <common-user@hadoop.apache.org>; Wed, 02 Sep 2009 08:51:46 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:message-id:from:to
         :content-type:mime-version:subject:date:x-mailer;
        bh=6pRHDNtabZaUPZMT9zND3r+UASpEBXvtl9inhpOMGU8=;
        b=S/Z7+vb9+2gTzquJ74mEwyrkRGqF5cXJ7NdNn5tr5RylxnicIugOyU91z4Z+RwOr6u
         wiE4LH6RHg40dCPDmYXZcq6jwyoZNd1s+xSBuHoAiI0NoH1mp+rAZ7Nzey2bh+hsrQQ9
         icgR5pRKgTH4JPVwKCFtr7TeIx1EX44Gd31MY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:from:to:content-type:mime-version:subject:date:x-mailer;
        b=wj1WLdFBwR7blD4ru95CZxruzVF+BaoUZ65G/oP4NIKNfGwCQmyFAEKuhSatBwrUqq
         7nia6ookZVAwto5vRFwWUjQrLZE1s991eqJ9Uj/nhO8690KJpoU0X52yPLQmMLbjeSKi
         bBz9wATtZKEXWM4whQlLiurZfRUSu6C0gJzso=
Received: by 10.90.235.1 with SMTP id i1mr6253164agh.5.1251906706014;
        Wed, 02 Sep 2009 08:51:46 -0700 (PDT)
Received: from pal-161-183.itap.purdue.edu (pal-161-183.itap.purdue.edu [128.211.161.183])
        by mx.google.com with ESMTPS id 1sm16825agb.8.2009.09.02.08.51.45
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Wed, 02 Sep 2009 08:51:45 -0700 (PDT)
Message-Id: <A97136C2-3756-4E43-83CD-8D5F3810500E@gmail.com>
From: Saptarshi Guha <saptarshi.guha@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=Apple-Mail-15-869080805
Mime-Version: 1.0 (Apple Message framework v936)
Subject: Map update %
Date: Wed, 2 Sep 2009 11:51:43 -0400
X-Mailer: Apple Mail (2.936)
X-Virus-Checked: Checked by ClamAV on apache.org

--Apple-Mail-15-869080805
Content-Type: text/plain;
	charset=US-ASCII;
	format=flowed
Content-Transfer-Encoding: 7bit

Hello,
How does the 'map % complete' (web ui) get updated in Hadoop 0.20?
i.e when run (in the Mapper class) calls map, does it update the %
or does it update the % when my map does a context.write?

Thank you
Saptarshi



--Apple-Mail-15-869080805--

From common-user-return-17226-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 02 16:00:28 2009
Return-Path: <common-user-return-17226-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 15223 invoked from network); 2 Sep 2009 16:00:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Sep 2009 16:00:28 -0000
Received: (qmail 22482 invoked by uid 500); 2 Sep 2009 16:00:26 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 22409 invoked by uid 500); 2 Sep 2009 16:00:26 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 22399 invoked by uid 99); 2 Sep 2009 16:00:25 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 16:00:25 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of clarkemjj@gmail.com designates 209.85.218.214 as permitted sender)
Received: from [209.85.218.214] (HELO mail-bw0-f214.google.com) (209.85.218.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 16:00:17 +0000
Received: by bwz10 with SMTP id 10so844408bwz.29
        for <common-user@hadoop.apache.org>; Wed, 02 Sep 2009 08:59:56 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:date:message-id:subject
         :from:to:content-type;
        bh=wumA2AQxw2C3z0x4bqJ1RRRHdEYkDZmsQBbioH9PcZY=;
        b=rEoy3u2c1Az4yZt3y2Yrb6NI0NYw6gVKAtYj1oPoVYrPAn24ISUwaMXuxzFqzpPZUZ
         tDCBiqpztV0BagvDPMkNEojHbNGlwVcP8sUicOqx5hkjUdKWAg8rLJQJplwq5zv7MnQ/
         3ZzoaU2qKvNXq/pZ5rkmgEGoSn/DFKNZLBtFE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=CDDp/Zb+aeKTpRpW7M/6pITh6rzAbmSEsWDForARfqVOXfxezp0vjAkZ+0DXqQFq7I
         JzVKEgusUZrFX+7IkwC27LnIN11TDE5/9/KZkTO/xDsE2My67anlu+mXx0lr/ztCbl/0
         41x4PgIwbwOS90IEQG2vPAp4lzhJL6HaCZ/AM=
MIME-Version: 1.0
Received: by 10.204.3.10 with SMTP id 10mr6760415bkl.196.1251907196291; Wed, 
	02 Sep 2009 08:59:56 -0700 (PDT)
Date: Wed, 2 Sep 2009 16:59:56 +0100
Message-ID: <4238036a0909020859l37638b12o5fb8d2e5b219c8b0@mail.gmail.com>
Subject: Script for cluster setup
From: John Clarke <clarkemjj@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0015174c427aba096a04729a5b1f
X-Virus-Checked: Checked by ClamAV on apache.org

--0015174c427aba096a04729a5b1f
Content-Type: text/plain; charset=ISO-8859-1

Hi,

Can someone point me to a script that I can use to setup different sizes of
Hadoop cluster?

The main issues I see are
1) ssh setup so the master can ssh to each of the slaves
2) updating the conf/slaves file on the master to contain the IP for each
slave.
3) updating each slaves hadoop-site.xml to reference the namenode's IP
address

How do people normally set up clusters greater than a few machines?

thanks,
John

--0015174c427aba096a04729a5b1f--

From common-user-return-17227-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 02 16:02:59 2009
Return-Path: <common-user-return-17227-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 16193 invoked from network); 2 Sep 2009 16:02:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Sep 2009 16:02:59 -0000
Received: (qmail 28100 invoked by uid 500); 2 Sep 2009 16:02:56 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 28002 invoked by uid 500); 2 Sep 2009 16:02:56 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 27992 invoked by uid 99); 2 Sep 2009 16:02:56 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 16:02:56 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jkusznir@gmail.com designates 74.125.92.27 as permitted sender)
Received: from [74.125.92.27] (HELO qw-out-2122.google.com) (74.125.92.27)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 16:02:47 +0000
Received: by qw-out-2122.google.com with SMTP id 8so366106qwh.35
        for <common-user@hadoop.apache.org>; Wed, 02 Sep 2009 09:02:26 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:date:message-id:subject
         :from:to:content-type;
        bh=dIR9QyGqxTswOoT6KaW02GH+g34HoZ1ImNTlNn3IeY4=;
        b=xGSVXOEgt1Z6Wx1oZIlbPQO0w2CRPcOq5RObTElWIbUOP1zezfUvUitCsjLvj/QUTb
         rhYj4vZRC3ekrEsO+PeKPtE/ykDLtf0UVyxWXm6DAdse1vw3GrjBtMbNaVVf4Fx1eIUe
         GJ5bfbEfBvPgqpEeHLaXpnoEEi+H2qTf4zagg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=DTuA/UqmSjbHy2oc1IuGXQBmaV8yGxxanVbHQEcgH8W0dV4CvwNHWMCCW4uVxW/fHZ
         nfTdco/k9HCOL4N7wq/XAVhcERiPi5b1tOQ306oyd2A9aLtT5vX2HaJlUmOtFrLIYa4X
         rln6v/vCBiXfWBlXhySuUo8sPJwdhnmKsTyYQ=
MIME-Version: 1.0
Received: by 10.224.117.8 with SMTP id o8mr5300831qaq.227.1251907331054; Wed, 
	02 Sep 2009 09:02:11 -0700 (PDT)
Date: Wed, 2 Sep 2009 09:02:10 -0700
Message-ID: <df8c8a6d0909020902s3cb5d9d1o7b0679023440189d@mail.gmail.com>
Subject: HOD contacts?
From: Jim Kusznir <jkusznir@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Hi all:

I've got some issues getting HOD (Hadoop On Demand) working correctly,
and would really like to speak to some of the authors about it.
Unfortunately, I have not managed to find any of the hod author
contact information anywhere.  I previously posted my series of
questions here, but got no responses.

We'd really like to start using hadoop here, but the only machine we
can run it on MUST continue to be able to run mpi jobs, and ALL
resource utilization must be managed/controlled via torque/maui.
Hadoop jobs will be a small percentage of the cluster's total usage.

Can anyone point me toward the HOD authors to get further assistance?

Thanks!
--Jim

From common-user-return-17228-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 02 16:50:01 2009
Return-Path: <common-user-return-17228-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 30588 invoked from network); 2 Sep 2009 16:50:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Sep 2009 16:50:00 -0000
Received: (qmail 7933 invoked by uid 500); 2 Sep 2009 16:49:58 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 7868 invoked by uid 500); 2 Sep 2009 16:49:58 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 7857 invoked by uid 99); 2 Sep 2009 16:49:58 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 16:49:57 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of saseith@gmail.com designates 209.85.212.185 as permitted sender)
Received: from [209.85.212.185] (HELO mail-vw0-f185.google.com) (209.85.212.185)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 16:49:50 +0000
Received: by vws15 with SMTP id 15so942187vws.5
        for <common-user@hadoop.apache.org>; Wed, 02 Sep 2009 09:49:29 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=W0sbuiRutfMHjiOZfjw6/h6uUmEjGowP9SLVd01ZvQ8=;
        b=CeeN0BCJ4y892wjlDL5XEb02SdCD9usFcDNWxllR4N4AiTuQARz1/BF0Fo9+cacHTG
         QA/ttGXRjcMF8LKtbLtO2s3pt/JtPj/OrfsF/V5k3qz1Khg4uOepDyUJpOZAvy1jXdJa
         UG7Kd8f43o1aTn61InIjr9ppmwle2MFwjRlPg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=KD+T90EjGMT6s9AHk1zOFIqiM+pBtlHdfWoPJq5A+aygs5lBaUSuhnm/bm8a4xOHSz
         IlzNG0R/QJ0oywUROA7OCPeOmAg6sF0979Dje7ktwTIgS+1mqAjAes6qU3pFJ/HFKKRL
         VWgm+aCzCj+X0oUPuUOrJb7SaTn8g+WMSjqQ0=
MIME-Version: 1.0
Received: by 10.220.12.68 with SMTP id w4mr11298033vcw.111.1251910168918; Wed, 
	02 Sep 2009 09:49:28 -0700 (PDT)
In-Reply-To: <df8c8a6d0909020902s3cb5d9d1o7b0679023440189d@mail.gmail.com>
References: <df8c8a6d0909020902s3cb5d9d1o7b0679023440189d@mail.gmail.com>
Date: Wed, 2 Sep 2009 11:49:28 -0500
Message-ID: <b500f92e0909020949l520117f5nb9a770e322e83a31@mail.gmail.com>
Subject: Re: HOD contacts?
From: Seb Seith <saseith@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

I would like to second this request.  While I have pushed through the
issue I posted about the other day, most of my HOD progress is by
not-so-educated guessing, and it would help to know who we could ask
for more help given the relative sparsity of responses here.

Seb

On Wed, Sep 2, 2009 at 11:02 AM, Jim Kusznir<jkusznir@gmail.com> wrote:
> Hi all:
>
> I've got some issues getting HOD (Hadoop On Demand) working correctly,
> and would really like to speak to some of the authors about it.
> Unfortunately, I have not managed to find any of the hod author
> contact information anywhere. =A0I previously posted my series of
> questions here, but got no responses.
>
> We'd really like to start using hadoop here, but the only machine we
> can run it on MUST continue to be able to run mpi jobs, and ALL
> resource utilization must be managed/controlled via torque/maui.
> Hadoop jobs will be a small percentage of the cluster's total usage.
>
> Can anyone point me toward the HOD authors to get further assistance?
>
> Thanks!
> --Jim
>

From common-user-return-17229-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 02 17:34:55 2009
Return-Path: <common-user-return-17229-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 47021 invoked from network); 2 Sep 2009 17:34:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Sep 2009 17:34:55 -0000
Received: (qmail 73591 invoked by uid 500); 2 Sep 2009 17:34:52 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 73516 invoked by uid 500); 2 Sep 2009 17:34:52 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 73506 invoked by uid 99); 2 Sep 2009 17:34:52 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 17:34:52 +0000
X-ASF-Spam-Status: No, hits=-4.0 required=10.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of athusoo@facebook.com designates 69.63.179.25 as permitted sender)
Received: from [69.63.179.25] (HELO mailout-sf2p.facebook.com) (69.63.179.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 17:34:44 +0000
Received: from mail.thefacebook.com (intlb01.snat.snc1.facebook.com [10.128.203.15] (may be forged))
	by pp02.snc1.tfbnw.net (8.14.1/8.14.1) with ESMTP id n82HY9O3010106
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <common-user@hadoop.apache.org>; Wed, 2 Sep 2009 10:34:10 -0700
Received: from SC-MBXC1.TheFacebook.com ([192.168.18.100]) by
 sc-hub02.TheFacebook.com ([192.168.18.105]) with mapi; Wed, 2 Sep 2009
 10:32:26 -0700
From: Ashish Thusoo <athusoo@facebook.com>
To: "common-user@hadoop.apache.org" <common-user@hadoop.apache.org>
Date: Wed, 2 Sep 2009 10:32:24 -0700
Subject: RE: Issues with performance on Hadoop/Hive
Thread-Topic: Issues with performance on Hadoop/Hive
Thread-Index: Acorok9TztStehcxTPC0+1LpFpgcDwAULoxw
Message-ID: <68B7689C98024D43B4C2709456F0B5200A1F75E9D8@SC-MBXC1.TheFacebook.com>
References: <4BA5307AF084A04E83875ECC173BC77B9CEF98ED04@EXCHANGE.persistent.co.in>
 <35a22e220909020051t7a66a625h98aa8cc60bcb4750@mail.gmail.com>
In-Reply-To: <35a22e220909020051t7a66a625h98aa8cc60bcb4750@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Proofpoint-Virus-Version: vendor=fsecure engine=1.12.8161:2.4.5,1.2.40,4.0.166 definitions=2009-09-02_09:2009-09-01,2009-09-02,2009-09-02 signatures=0
X-Proofpoint-Spam-Details: rule=notspam policy=default score=0 spamscore=0 ipscore=0 phishscore=0 bulkscore=0 adultscore=0 classifier=spam adjust=0 reason=mlx engine=5.0.0-0908210000 definitions=main-0909020081
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Ramya,

If you are using the hive-default.xml and have not overwritten the hive.met=
astore.warehouse.dir parameter then by default the tables will get placed i=
n=20

/user/hive/warehouse in hdfs.

Ashish=20

-----Original Message-----
From: Amandeep Khurana [mailto:amansk@gmail.com]=20
Sent: Wednesday, September 02, 2009 12:52 AM
To: common-user@hadoop.apache.org
Subject: Re: Issues with performance on Hadoop/Hive

Answers inline


Amandeep Khurana
Computer Science Graduate Student
University of California, Santa Cruz


On Tue, Sep 1, 2009 at 10:08 PM, Ramiya V <Ramiya_V@persistent.co.in> wrote=
:

> Hi,
>
> I have set up a 4 (physica) nodes Hadoop cluster. Configuration: 2GB=20
> RAM each machine. Currently am using the sub-project Hive for firing=20
> queries on 45GB of data. I have certain queries that need to be=20
> resolved:-
>
> 1) The performance that I am getting with the above setup is quite=20
> bad. It takes app 39 minutes for simple select query (with where=20
> clause). I have set the mapred.map.tasks=3D13 and mapred.reduce.tasks=3D7=
.=20
> Is this setting good enough for the above setup? Are there any=20
> significant configuration parameters I need to set for getting a better p=
erformance on Hive?
>
>
Check on the resource utilization. I think you shouldnt be running more tha=
n
3 mappers + 1 reducer on each node at any time (given the hardware you are =
using). But then that mostly depends on the amount of work being done in th=
e mappers and reducers.

2) Does anybody know how exactly the data on HDFS is distributed across
> nodes in a cluster? Also when we load the tables in Hive (by firing=20
> Load command on master node),how and where is the data placed on HDFS=20
> in a cluster?
>

Files are divided into blocks and the blocks are stored on the Datanodes..
Each block is 64MB by default. I'm not sure how the blocks are distributed =
among the datanodes..

3) How and when does the data replication for HDFS take place in a cluster?
> Currently I have set the dfs replication factor=3D1. How does this=20
> affect the performance?
>

Once you put the data into the hdfs, it starts replicating the blocks.
However, the put is successful as soon as one block gets created...


>
> 3) Does adding a Virtual Machine to a physical machine cluster bring=20
> about significant degradation in the performance?
>

Dont have numbers for this, but it does impact the performance. Moreover, y=
our hardware resources are low and there is really no value add in using vi=
rtual machines on top of it.


> Please let me know asap.
>
> Thanks,
> Ramya
>
>
>
>
> DISCLAIMER
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> This e-mail may contain privileged and confidential information which=20
> is the property of Persistent Systems Ltd. It is intended only for the=20
> use of the individual or entity to which it is addressed. If you are=20
> not the intended recipient, you are not authorized to read, retain,=20
> copy, print, distribute or use this message. If you have received this=20
> communication in error, please notify the sender and delete all copies of=
 this message.
> Persistent Systems Ltd. does not accept any liability for virus=20
> infected mails.
>

From common-user-return-17230-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 02 18:11:38 2009
Return-Path: <common-user-return-17230-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 62079 invoked from network); 2 Sep 2009 18:11:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Sep 2009 18:11:38 -0000
Received: (qmail 63064 invoked by uid 500); 2 Sep 2009 18:11:36 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 62991 invoked by uid 500); 2 Sep 2009 18:11:35 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 62981 invoked by uid 99); 2 Sep 2009 18:11:35 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 18:11:35 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [68.180.197.142] (HELO web45411.mail.sp1.yahoo.com) (68.180.197.142)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 02 Sep 2009 18:11:26 +0000
Received: (qmail 19812 invoked by uid 60001); 2 Sep 2009 18:11:04 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1251915064; bh=Lvms82tzUQgF7L9GGSY8OiMkVaasA4+g35NmGqwIsBE=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type; b=hevDH73w0aRwFsZYYiDXXZ73RrjcjOZL0OYkXcHAxpqj7QKF5BP7wBIUUf2NFcvqfCQGuuBPs8JuX0A6ixAg8CSsUKSj7K7O0jQBAymNC9zq4MYPSh9YmUPpQKlxUiAn9qO+8W2IvWzPbhC7yMys0PHwPhZWZqXGf+FQbWtHfP4=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type;
  b=zaqsY2r5mWqdnxjBQ0deof8eGEPg0KJXn0VgWVYLmdCjPbFrctZvdFFGDX7kY8SM5LCyRwog4xDb04ZYMW4bjdHTLTirgrt7O+qSkhJffNqX/XXQEK6E03D4hpYpuEUPivIotQT1dedY9VpS36NIYUNArm378P7denkq96RlUfc=;
Message-ID: <362191.17035.qm@web45411.mail.sp1.yahoo.com>
X-YMail-OSG: r8yLKUkVM1l0CUfTGig12NAVVGW1J_LyWIyxa6DTF7njS_4U6MZPme7GMD9DNrfYi_A63IHMmPe2GccdzQYP7NNSzo0DLXkyopTpVMJB2ef9OigqrgfBR2JTVsbDSomsaUUESxdiUrwINnF88eYg8n.AQIg6tiPoz9W7HquG86eU_axqbEc_nlUwRfMO4QhBluVAYxmFdTfIIPSWyA--
Received: from [65.211.22.82] by web45411.mail.sp1.yahoo.com via HTTP; Wed, 02 Sep 2009 11:11:04 PDT
X-Mailer: YahooMailClassic/6.1.2 YahooMailWebService/0.7.338.2
Date: Wed, 2 Sep 2009 11:11:04 -0700 (PDT)
From: C G <parallelguy@yahoo.com>
Subject: Building/running fuse_dfs
To: common-user@hadoop.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1591441699-1251915064=:17035"
X-Virus-Checked: Checked by ClamAV on apache.org

--0-1591441699-1251915064=:17035
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Hi All:
I'm trying to build and deploy fuse_dfs and am hitting a couple strange con=
ditions I'm not sure how to resolve. =A0Any assistance much appreciated...
First question: =A0If you install Fuse from an RPM, what do you set FUSE_HO=
ME to be when trying to use fuse_dfs ?=A0
Second question: =A0How do you get fuse_dfs.c to compile/link. =A0Here's th=
e scenario:
Environment: =A0Virgin build of Hadoop 0.19.2, =A0per what I think are the =
correct instructions ran:
=A0=A0ant compile-libhdfs -Dlibhdfs=3D1=A0=A0ant package=A0=A0ant compile-c=
ontrib -Dcompile.c++=3D1 -Dfusedfs=3D1 -Dlibhdfs.noperms=3D1
At this point I expected to find a binary called fuse_dfs *someplace* withi=
n the Hadoop-0.19.2/build dir structure, but a search revealed nothing. =A0=
In the output from the ant commands I never see the C code get compiled.
Note that the system is 64-bit Linux, running kernel=A02.6.18-128.7.1.el5. =
=A0I modified the libhdfs makefile to remove the -m32 directive to get a 64=
-bit compile.
Any help much appreciated...
Thanks,C G
=0A=0A=0A      
--0-1591441699-1251915064=:17035--

From common-user-return-17231-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 02 18:51:24 2009
Return-Path: <common-user-return-17231-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 84300 invoked from network); 2 Sep 2009 18:51:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Sep 2009 18:51:24 -0000
Received: (qmail 62295 invoked by uid 500); 2 Sep 2009 18:51:21 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 62208 invoked by uid 500); 2 Sep 2009 18:51:21 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 62198 invoked by uid 99); 2 Sep 2009 18:51:21 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 18:51:21 +0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [129.93.181.2] (HELO mathstat.unl.edu) (129.93.181.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 18:51:12 +0000
Received: from pcp089266pcs.unl.edu (pcp089266pcs.unl.edu [129.93.159.125])
	(authenticated bits=0)
	by mathstat.unl.edu (8.13.8/8.13.8) with ESMTP id n82IomH9009141
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT)
	for <common-user@hadoop.apache.org>; Wed, 2 Sep 2009 13:50:50 -0500
Message-Id: <D7E1249F-F241-4B81-8678-07751398BE83@cse.unl.edu>
From: Brian Bockelman <bbockelm@cse.unl.edu>
To: common-user@hadoop.apache.org
In-Reply-To: <362191.17035.qm@web45411.mail.sp1.yahoo.com>
Content-Type: multipart/signed; boundary=Apple-Mail-169-879825162; micalg=sha1; protocol="application/pkcs7-signature"
Mime-Version: 1.0 (Apple Message framework v936)
Subject: Re: Building/running fuse_dfs
Date: Wed, 2 Sep 2009 13:50:48 -0500
References: <362191.17035.qm@web45411.mail.sp1.yahoo.com>
X-Mailer: Apple Mail (2.936)
X-Virus-Checked: Checked by ClamAV on apache.org

--Apple-Mail-169-879825162
Content-Type: text/plain;
	charset=US-ASCII;
	format=flowed;
	delsp=yes
Content-Transfer-Encoding: 7bit


On Sep 2, 2009, at 1:11 PM, C G wrote:

> Hi All:
> I'm trying to build and deploy fuse_dfs and am hitting a couple  
> strange conditions I'm not sure how to resolve.  Any assistance much  
> appreciated...
> First question:  If you install Fuse from an RPM, what do you set  
> FUSE_HOME to be when trying to use fuse_dfs ?

I don't set FUSE_HOME.  However, if I installed FUSE with a prefix  
(i.e., compiled it manually), you need to set FUSE_HOME to that prefix.

> Second question:  How do you get fuse_dfs.c to compile/link.  Here's  
> the scenario:
> Environment:  Virgin build of Hadoop 0.19.2,  per what I think are  
> the correct instructions ran:
>   ant compile-libhdfs -Dlibhdfs=1  ant package  ant compile-contrib - 
> Dcompile.c++=1 -Dfusedfs=1 -Dlibhdfs.noperms=1
> At this point I expected to find a binary called fuse_dfs  
> *someplace* within the Hadoop-0.19.2/build dir structure, but a  
> search revealed nothing.  In the output from the ant commands I  
> never see the C code get compiled.

The ant command I use is:

ant compile-contrib -Dlibhdfs=1 -Dfusedfs=1 jar

Yours seems good enough.  The fuse_dfs binary gets placed in the  
source directory.  Don't know why.

> Note that the system is 64-bit Linux, running kernel  
> 2.6.18-128.7.1.el5.  I modified the libhdfs makefile to remove the - 
> m32 directive to get a 64-bit compile.

Yup, we do that too.

Brian
--Apple-Mail-169-879825162
Content-Disposition: attachment;
	filename=smime.p7s
Content-Type: application/pkcs7-signature;
	name=smime.p7s
Content-Transfer-Encoding: base64

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIICjCCA/gw
ggLgoAMCAQICASkwDQYJKoZIhvcNAQEFBQAwdTETMBEGCgmSJomT8ixkARkWA25ldDESMBAGCgmS
JomT8ixkARkWAkVTMQ4wDAYDVQQKEwVFU25ldDEgMB4GA1UECxMXQ2VydGlmaWNhdGUgQXV0aG9y
aXRpZXMxGDAWBgNVBAMTD0VTbmV0IFJvb3QgQ0EgMTAeFw0wMjEyMDUwODAwMDBaFw0xMzAxMjUw
ODAwMDBaMGkxEzARBgoJkiaJk/IsZAEZFgNvcmcxGDAWBgoJkiaJk/IsZAEZFghET0VHcmlkczEg
MB4GA1UECxMXQ2VydGlmaWNhdGUgQXV0aG9yaXRpZXMxFjAUBgNVBAMTDURPRUdyaWRzIENBIDEw
ggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC09dYjYaPbCD5mtbiQb7Ka3y1qAm0ZcqKC
FciWcfe8Kwcuy9tjHuIsLf9ZItdkDW4xy8sua9nJlx3KlwjtumTMtOtg35KZCknUd8KM4VGTSFdL
VG9AbNayef76caVCGM1+jyF0Lq03kauGOPTcNfZe1TZa3e1c9rc8ljV5OSWa/mfsCACyS5zFIWu0
yIDNyJdf+n0hwaPN53wllpJ30taD+JBjQ7h2k4xRWzeaznLOb9OztZVRA/1sVze+iczFh2xwa4Vd
Gy0eIIPw1pfvYwxO36rm0S109qvbsNlaroPRbxerPKakQLpKe034Xcx7gBPqUk/FxoRRWin5EWN3
rz9LAgMBAAGjgZ4wgZswDgYDVR0PAQH/BAQDAgGGMBEGCWCGSAGG+EIBAQQEAwIAhzAdBgNVHQ4E
FgQUyhkdEo5upDhdQtQxDgjb2Y0XDV0wHwYDVR0jBBgwFoAUvF1NSC/4NZRZq1yJSz7RsjoUAeow
DwYDVR0TAQH/BAUwAwEB/zAlBgNVHREEHjAcgRpET0VHcmlkcy1DQS0xQGRvZWdyaWRzLm9yZzAN
BgkqhkiG9w0BAQUFAAOCAQEAZNVrIDLqe39CEOiJt7Q7EpBPhAihMvDTSf/42u0SMbUmChww4mLm
ph5DBghZUVF8Yn59kRZMn1QLOtO1HzLqvAvPITacZVPlJgG2IXzlR636YghZFAycbIUEOJDBHR4v
tQO1KDxgZwvAbtmKIoxvhUCq2xsfFt9kCBBn+JYtQ6O5LsBJq3PmuubeMcc7mbQAfJZ7h/3Qghgk
FIhmE1+LBXPJbkuP8vgfg6h2BKoAf5TFfZECgGZKimfN110tBvfedGZwYYd3/GsJc83B0JN1gny0
gqNVPm392UchXGeBRrHnm2gkhIkr48Oq6EmNGV9/a6XfbplQW/JWbtPVPWkaizCCBAowggLyoAMC
AQICAwCB+zANBgkqhkiG9w0BAQUFADBpMRMwEQYKCZImiZPyLGQBGRYDb3JnMRgwFgYKCZImiZPy
LGQBGRYIRE9FR3JpZHMxIDAeBgNVBAsTF0NlcnRpZmljYXRlIEF1dGhvcml0aWVzMRYwFAYDVQQD
Ew1ET0VHcmlkcyBDQSAxMB4XDTA5MDYwMjE5NDExM1oXDTEwMDYwMjE5NDExM1owYTETMBEGCgmS
JomT8ixkARkWA29yZzEYMBYGCgmSJomT8ixkARkWCGRvZWdyaWRzMQ8wDQYDVQQLEwZQZW9wbGUx
HzAdBgNVBAMTFkJyaWFuIEJvY2tlbG1hbiA1MDQzMDcwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw
ggEKAoIBAQDPWEl7hBiuFRVBSY4SwvG0HpkCZi74a0BeD0tNARgxoQVJ7jhJjR3G4y8ino0/5axt
2EEfIWUE+DVpV37IWOQl8q/wdvicnhbfjByxBbq4sfWPLepU7+Kd8k1FKHRHermARn9VxEkFLrLB
Gp7O5EX4mFHDaQy+Vv0thtA+m4qKoM+DA/8cOkJA5Rn6ZS/v/vtBzJh9HimVnhBx4+rw2cvKN+7r
lKsm7qTn9TCZmrQ97CvBEXSkHS11m8vYF6ZwcTgSCJM0M9nnX5JilupQO1vDICXSUZeWX2xpsqeL
x1PFGWgDaYXxFGtTRt2Qc9EPwf9Dr72xGPbKN8u5HylpOMDnAgMBAAGjgcIwgb8wEQYJYIZIAYb4
QgEBBAQDAgWgMA4GA1UdDwEB/wQEAwIF4DAfBgNVHSMEGDAWgBTKGR0Sjm6kOF1C1DEOCNvZjRcN
XTAYBgNVHSAEETAPMA0GCyqGSIb3TAMHAQMAMD4GA1UdHwQ3MDUwM6AxoC+GLWh0dHA6Ly9jcmwu
ZG9lZ3JpZHMub3JnLzFjM2YyY2E4LzFjM2YyY2E4LmNybDAfBgNVHREEGDAWgRRiYm9ja2VsbUBj
c2UudW5sLmVkdTANBgkqhkiG9w0BAQUFAAOCAQEAp6KjcWnfnH/MGlUkUWstE9gtPeymHp+2r4zI
w8JXigncJh/8qpSZqBcVhD24WFowI95otblrKYNZKW9f2G/hWwDSxZFqHhCDxFO12vDthrzOc3EH
CwypJPvIlZPt/E/x93XruzPxJwPz84DKKuPoJAMeNlADbd+92YtRr2y+VuMpgZaebMAoeCdWH8Cq
Y8xheNMajf8uiImBbatDuCu7qRvhwgxsMNLHEt4h853K1Zc181RlFGXG1+uL/Q/8VeKiASiCu+7L
1zpfLg7OCr6rJHb5S7wU+CeAvzSqmyy0fd2mwPeiX7huK+Cw4UjaB3yGKItzWT+KQJnV//wcSrzZ
dTGCAv0wggL5AgEBMHAwaTETMBEGCgmSJomT8ixkARkWA29yZzEYMBYGCgmSJomT8ixkARkWCERP
RUdyaWRzMSAwHgYDVQQLExdDZXJ0aWZpY2F0ZSBBdXRob3JpdGllczEWMBQGA1UEAxMNRE9FR3Jp
ZHMgQ0EgMQIDAIH7MAkGBSsOAwIaBQCgggFiMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJ
KoZIhvcNAQkFMQ8XDTA5MDkwMjE4NTA0OFowIwYJKoZIhvcNAQkEMRYEFHtk3gijmeIatObDR6KM
/Z183t3DMH8GCSsGAQQBgjcQBDFyMHAwaTETMBEGCgmSJomT8ixkARkWA29yZzEYMBYGCgmSJomT
8ixkARkWCERPRUdyaWRzMSAwHgYDVQQLExdDZXJ0aWZpY2F0ZSBBdXRob3JpdGllczEWMBQGA1UE
AxMNRE9FR3JpZHMgQ0EgMQIDAIH7MIGBBgsqhkiG9w0BCRACCzFyoHAwaTETMBEGCgmSJomT8ixk
ARkWA29yZzEYMBYGCgmSJomT8ixkARkWCERPRUdyaWRzMSAwHgYDVQQLExdDZXJ0aWZpY2F0ZSBB
dXRob3JpdGllczEWMBQGA1UEAxMNRE9FR3JpZHMgQ0EgMQIDAIH7MA0GCSqGSIb3DQEBAQUABIIB
AJhmHiAwGCcqY/cbTnHgzgIatj6ZwpeSW+sRssUi9DElbUf/aYesBwLLnrXfWxT+390hoqzDPxwv
Z7A953t3DmoY28xrP/IMVtxmnEFziKnwMJnCMQvXEm/SXx9jB/+RMtMASKyEfL7ddRASTBv0bT9l
sQyTn6ggTCKlhcoUw3km+nthr3ylIKP+6vaboJtsObrcUvlD9gr6ozsdzduSinion+N/09yd43FU
DNEXptjOYLryRIVf6a8moqV6zFubUpqgtzYVXDRrvDFSmusNKy9kgxMHwXqTqEf4TeIdYDFy24tF
4nomJSxpho20NE2N2FS5NTKepVf9BAM9IVoZMZQAAAAAAAA=

--Apple-Mail-169-879825162--

From common-user-return-17232-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 02 19:17:36 2009
Return-Path: <common-user-return-17232-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 92960 invoked from network); 2 Sep 2009 19:17:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Sep 2009 19:17:36 -0000
Received: (qmail 33372 invoked by uid 500); 2 Sep 2009 19:17:34 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 33292 invoked by uid 500); 2 Sep 2009 19:17:34 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 33279 invoked by uid 500); 2 Sep 2009 19:17:34 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 33275 invoked by uid 99); 2 Sep 2009 19:17:34 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 19:17:34 +0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=FORGED_YAHOO_RCVD,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lists@nabble.com designates 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 19:17:25 +0000
Received: from isper.nabble.com ([192.168.236.156])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lists@nabble.com>)
	id 1MivKK-0002Iy-Un
	for core-user@hadoop.apache.org; Wed, 02 Sep 2009 12:17:04 -0700
Message-ID: <25263907.post@talk.nabble.com>
Date: Wed, 2 Sep 2009 12:17:04 -0700 (PDT)
From: ll_oz_ll <himanshu_coolguy@yahoo.com>
To: core-user@hadoop.apache.org
Subject: Map and reduce :Running multiple jobs and multiple outputs
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: himanshu_coolguy@yahoo.com
X-Virus-Checked: Checked by ClamAV on apache.org


Hi,
I'm a new user to hadoop and have been having difficulties adapting map and
reduce to my needs.
This is what I want to do:
1. Run multiple jobs chained to each other. The output of one Map and reduce
is the input to the one after it.
2. Get multiple outputs for each Map and reduce job (Ive mostly figured this
one out. I'll be using MultipleOutputFormat). For outputs from reduce that
have a certain key, I want them to append to a file so that the multiple
maps and reduces that follow, they always append to the output of the
previous ones.

For number 1. I did the following (In this case running 2 jobs one after the
other)
---
FileOutputFormat.setOutputPath(job, new Path("/user/h/out"));
for(int i=0;i<=1;i++)
        {
        	System.out.println("Job number"+i);
        	System.out.println((job.getConfiguration()).get("cus"));
        	job.waitForCompletion(true);
        	j = new Job(c);
        	FileOutputFormat.setOutputPath(j, new Path("/user/h/out1"));
        }
--
The job ran without displaying any error but when I check the output files
for the jobs, I can see only the output directory for the first job and not
the second one:

$ hadoop dfs -ls /user/h/out
Found 2 items
drwxr-xr-x   - h supergroup          0 2009-09-02 13:40 /user/h/out/_logs
-rw-r--r--   1 h supergroup         18 2009-09-02 13:41
/user/h/out/part-r-00000

$ hadoop dfs -ls /user/h/out1
ls: Cannot access /user/h/out1: No such file or directory.

That is my first problem. Then for problem 2, I simply don't have any idea
how to get the successive map and reduce jobs to append to a file.

I've been breaking my head on this for the last 2 days. Would be really
great, if someone could help.

Thanks!
H 
-- 
View this message in context: http://www.nabble.com/Map-and-reduce-%3ARunning-multiple-jobs-and-multiple-outputs-tp25263907p25263907.html
Sent from the Hadoop core-user mailing list archive at Nabble.com.


From common-user-return-17233-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 02 19:54:39 2009
Return-Path: <common-user-return-17233-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 5759 invoked from network); 2 Sep 2009 19:54:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Sep 2009 19:54:39 -0000
Received: (qmail 91572 invoked by uid 500); 2 Sep 2009 19:54:37 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 91500 invoked by uid 500); 2 Sep 2009 19:54:36 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 91490 invoked by uid 99); 2 Sep 2009 19:54:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 19:54:36 +0000
X-ASF-Spam-Status: No, hits=-4.0 required=10.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of forsberg@opera.com designates 213.236.208.81 as permitted sender)
Received: from [213.236.208.81] (HELO smtp.opera.com) (213.236.208.81)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 02 Sep 2009 19:54:25 +0000
Received: from caputradii.linkoping.osa (sgw-oslo.opera.com [213.236.208.47])
	(authenticated bits=0)
	by smtp.opera.com (8.13.4/8.13.4/Debian-3sarge3) with ESMTP id n82Js3jd001123
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT)
	for <common-user@hadoop.apache.org>; Wed, 2 Sep 2009 19:54:04 GMT
Date: Wed, 2 Sep 2009 21:54:02 +0200
From: Erik Forsberg <forsberg@opera.com>
To: common-user@hadoop.apache.org
Subject: Efficient sort -u + merge, in Hadoop M/R?
Message-ID: <20090902215402.31c11715@caputradii.linkoping.osa>
Organization: Opera Software
X-Mailer: Claws Mail 3.5.0 (GTK+ 2.14.4; i486-pc-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hi!

Let's assume an example use case where Apache's mod_usertrack 
generates randomly selected user id's that are stored in a cookie and
written to the log file.

I want to keep track of the number of daily, weekly, monthly,
quarterly, yearly users, as well as the total number of users since the
application was launched. 

I can do this rather fast on the Linux commandline by creating a file
for each day listing the unique UIDs, one per line, then use sort -u to
get the list of unique such users. To get a weekly count, I can create
a list of weekly users, then merge in each day's users with "sort -u
-m", which works well if both input files are already sorted.

This of course only works up to a rather small amount of data
before the runtime becomes a problem. Now I want to do this using
Hadoop and Map/Reduce. I'm sure this problem have been solved before,
and I'm now looking for hints from experienced people.

Is there perhaps already freely available java code that can do the
sorting/merging for me? 

Should I use some trick to take advantage of the fact that the
weekly/monthly/etc files are already sorted? 

Should I store the weekly/monthly/etc files in some hadoop:ish format
for better performance instead of keeping the textoutputformat?

Thanks,
\EF
-- 
Erik Forsberg <forsberg@opera.com>
Developer, Opera Software, http://www.opera.com/

From common-user-return-17234-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 02 22:42:36 2009
Return-Path: <common-user-return-17234-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 48238 invoked from network); 2 Sep 2009 22:42:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 2 Sep 2009 22:42:36 -0000
Received: (qmail 64146 invoked by uid 500); 2 Sep 2009 22:42:33 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 64076 invoked by uid 500); 2 Sep 2009 22:42:33 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Delivered-To: moderator for common-user@hadoop.apache.org
Received: (qmail 78398 invoked by uid 99); 2 Sep 2009 00:45:42 -0000
X-ASF-Spam-Status: No, hits=4.0 required=10.0
	tests=HTML_MESSAGE,MIME_QP_LONG_LINE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of heyongqiangict@gmail.com designates 209.85.222.173 as permitted sender)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:user-agent:date:subject:from
         :to:message-id:thread-topic:thread-index:in-reply-to:mime-version
         :content-type;
        bh=le6C6WCnM2mC8M6CTX2x0RkxNKwEIJIhurlTHFK8nD4=;
        b=wK2gdAb7tUNeZSM9CirSBU/IHvyRMQdeJU3kO3lqpk0GphQ/1n45O2s3RROUNH6dpS
         K4HVc5wSD9k0BeTCiHZtTy3dEWaBoXufe7HKszq26XotRx3L4rfja5agei4kkDGDlI+r
         WXHCRd3H5CkmEFwGRUsPvEV1aaLylfIamaL5g=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=user-agent:date:subject:from:to:message-id:thread-topic
         :thread-index:in-reply-to:mime-version:content-type;
        b=dAk2qe6H6D9nCnD1jOoeH6OvAGIiY6Iv0xOAH5xkKQYXcVXrM/aFnfPJhg+K4SQq8Q
         LTrc5AiLiFNSxdrIHGLd584ybLLFArAYxH7oTyAm/cthANyyvWOCz77St73zPRxs+VrM
         GXzUIj77UwunBFd0H92vP3lG60nA1u7Jdt6VU=
User-Agent: Microsoft-Entourage/12.0.0.071130
Date: Wed, 02 Sep 2009 08:45:12 +0800
Subject: Open for registration now.  Re: CFP of 3rd Hadoop in China event
 (Hadoop World:Beijing 2009)
From: =?GB2312?B?us4=?= =?GB2312?B?INPAx78=?= <heyongqiangict@gmail.com>
To: "common-user@hadoop.apache.org" <common-user@hadoop.apache.org>,
	"pig-user@hadoop.apache.org" <pig-user@hadoop.apache.org>,
	"hive-user@hadoop.apache.org" <hive-user@hadoop.apache.org>,
	"hdfs-user@hadoop.apache.org" <hdfs-user@hadoop.apache.org>,
	"mapreduce-user@hadoop.apache.org" <mapreduce-user@hadoop.apache.org>,
	"hbase-user@hadoop.apache.org" <hbase-user@hadoop.apache.org>,
	"avro-user@hadoop.apache.org" <avro-user@hadoop.apache.org>,
	<zookeeper-user@hadoop.apache.org>
Message-ID: <C6C3E118.72AF%heyongqiangict@gmail.com>
Thread-Topic: Open for registration now.  Re: CFP of 3rd Hadoop in China event
 (Hadoop World:Beijing 2009)
Thread-Index: Acoie4Fa0FqA0AUTUUaPT63LaqIHrwI6x+TW
In-Reply-To: <C6B4EAA6.6DA3%heyongqiang@software.ict.ac.cn>
Mime-version: 1.0
Content-type: multipart/alternative;
	boundary="B_3334725919_28648284"
X-Virus-Checked: Checked by ClamAV on apache.org

--B_3334725919_28648284
Content-type: text/plain;
	charset="ISO-2022-JP"
Content-transfer-encoding: 7bit

Hi all,
     The 3rd Hadoop in China event (Hadoop World:Beijing 2009) is open for
registration now. 
     
      http://hadoop-world-beijing.eventbrite.com/
     
     Please register as early as possible.


Thanks,
Yongqiang

On 09-8-22 $B>e8a(B12:21, "He Yongqiang" <heyongqiang@software.ict.ac.cn> wrote:

> 
> http://www.hadooper.cn/hadoop/cgi-bin/moin.cgi/thirdcfp
> 
> Time : Sunday, November 15, 2009
> City: Beijing, China
> 
> Sponsored by Yahoo!, Cloudera
> Organized by hadooper.cn
> 
> Website: http://www.hadooper.cn/hadoop/cgi-bin/moin.cgi/thirdcfp
> 
> ====  Sorry for the cross posting. Have a good day!  =====
> 
> Thanks,
> Yongqiang


--B_3334725919_28648284--



From common-user-return-17235-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 03 02:31:42 2009
Return-Path: <common-user-return-17235-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 5940 invoked from network); 3 Sep 2009 02:31:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Sep 2009 02:31:42 -0000
Received: (qmail 29981 invoked by uid 500); 3 Sep 2009 02:31:40 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 29876 invoked by uid 500); 3 Sep 2009 02:31:40 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 29866 invoked by uid 99); 3 Sep 2009 02:31:39 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 02:31:39 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [68.180.197.70] (HELO web45403.mail.sp1.yahoo.com) (68.180.197.70)
    by apache.org (qpsmtpd/0.29) with SMTP; Thu, 03 Sep 2009 02:31:30 +0000
Received: (qmail 67478 invoked by uid 60001); 3 Sep 2009 02:31:08 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1251945068; bh=ifu9w/wPvO/+SZq4jPjGzB4X/LJAoqCeo+tD5JG9IGM=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=4oR8G/DBQe7J8byOiroEaLqMVVjWAULXHxbSymVrO0WG4LuyVgQgnhoTK82psIiPA2msiE8lwBiQLSelm30ZgU4DOyz/u3NUwXo80WBMUZJNeTG/zMdWPWbQgsJZrN1ljI//9MNqvhmGfU6zB2E05FDkDuSYb41K6t+h3oNhBOY=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=wd16/YTi4pzMxoy/cZU6ascjsiUX7tLy3kdujt8OLAIbtnYe/xFvOa5dD3R8hdeewrxncjPoUJr91hlYQq9pyLoIHbeHcC1PbvJtugW1QNVapUdQ7+hjnHVn//7nTwtp4dpgNf4IL4qRQ6zv1wxJqcGxJ7WgbfVwfUuFXMJ3hqk=;
Message-ID: <173477.48984.qm@web45403.mail.sp1.yahoo.com>
X-YMail-OSG: DcnnGmcVM1mokXIVUD7A_4vCbodAXrBRiuF9DKRuU2jvRbupSwiHnsvwkVatVCgNEN5n0ugMlzMe6HgNuyahJSHUAsvaC4yVU37RdCHT90RAGtxRLyPBuL2YRG5wCkp63.B6366FCsbQ.coS4U_pdWn64pZVSFCB9mivlS_5VBVWoVQFhtZjK9GN2Oh5dnWBHnIUOiQNNGt6nttf_BGmPnolA8Y4eLzqj3gLp1FiTq2z0jwq86NI
Received: from [24.62.107.64] by web45403.mail.sp1.yahoo.com via HTTP; Wed, 02 Sep 2009 19:31:08 PDT
X-Mailer: YahooMailClassic/6.1.2 YahooMailWebService/0.7.338.2
Date: Wed, 2 Sep 2009 19:31:08 -0700 (PDT)
From: C G <parallelguy@yahoo.com>
Subject: Re: Building/running fuse_dfs
To: common-user@hadoop.apache.org
In-Reply-To: <D7E1249F-F241-4B81-8678-07751398BE83@cse.unl.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1370839204-1251945068=:48984"
X-Virus-Checked: Checked by ClamAV on apache.org

--0-1370839204-1251945068=:48984
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Brian - that did the trick. =A0Thanks very much for the quick reply...reall=
y appreciated!
Thanks,C G

--- On Wed, 9/2/09, Brian Bockelman <bbockelm@cse.unl.edu> wrote:

From: Brian Bockelman <bbockelm@cse.unl.edu>
Subject: Re: Building/running fuse_dfs
To: common-user@hadoop.apache.org
Date: Wednesday, September 2, 2009, 2:50 PM


On Sep 2, 2009, at 1:11 PM, C G wrote:

> Hi All:
> I'm trying to build and deploy fuse_dfs and am hitting a couple strange c=
onditions I'm not sure how to resolve.=A0 Any assistance much appreciated..=
.
> First question:=A0 If you install Fuse from an RPM, what do you set FUSE_=
HOME to be when trying to use fuse_dfs ?

I don't set FUSE_HOME.=A0 However, if I installed FUSE with a prefix (i.e.,=
 compiled it manually), you need to set FUSE_HOME to that prefix.

> Second question:=A0 How do you get fuse_dfs.c to compile/link.=A0 Here's =
the scenario:
> Environment:=A0 Virgin build of Hadoop 0.19.2,=A0 per what I think are th=
e correct instructions ran:
>=A0=A0=A0ant compile-libhdfs -Dlibhdfs=3D1=A0 ant package=A0 ant compile-c=
ontrib -Dcompile.c++=3D1 -Dfusedfs=3D1 -Dlibhdfs.noperms=3D1
> At this point I expected to find a binary called fuse_dfs *someplace* wit=
hin the Hadoop-0.19.2/build dir structure, but a search revealed nothing.=
=A0 In the output from the ant commands I never see the C code get compiled=
.

The ant command I use is:

ant compile-contrib -Dlibhdfs=3D1 -Dfusedfs=3D1 jar

Yours seems good enough.=A0 The fuse_dfs binary gets placed in the source d=
irectory.=A0 Don't know why.

> Note that the system is 64-bit Linux, running kernel 2.6.18-128.7.1.el5.=
=A0 I modified the libhdfs makefile to remove the -m32 directive to get a 6=
4-bit compile.

Yup, we do that too.

Brian=0A=0A=0A      
--0-1370839204-1251945068=:48984--

From common-user-return-17236-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 03 03:20:39 2009
Return-Path: <common-user-return-17236-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 15707 invoked from network); 3 Sep 2009 03:20:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Sep 2009 03:20:39 -0000
Received: (qmail 58304 invoked by uid 500); 3 Sep 2009 03:20:37 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 58190 invoked by uid 500); 3 Sep 2009 03:20:37 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 58180 invoked by uid 99); 3 Sep 2009 03:20:36 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 03:20:36 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [155.69.5.207] (HELO exsmtp1.ntu.edu.sg) (155.69.5.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 03:20:27 +0000
Received: from MAIL24.student.main.ntu.edu.sg ([155.69.5.135]) by exsmtp1.ntu.edu.sg with Microsoft SMTPSVC(6.0.3790.1830);
	 Thu, 3 Sep 2009 11:20:03 +0800
x-mimeole: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01CA2C45.6D27EFF5"
Subject: DistributedCache purgeCache()
Date: Thu, 3 Sep 2009 11:20:02 +0800
Message-ID: <B1AA98568C81904FB704DF464FC6216E02A95DAB@MAIL24.student.main.ntu.edu.sg>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: DistributedCache purgeCache()
Thread-Index: AcosRK+91IYari8wT3O1DKUizxBtCg==
From: "#YONG YONG CHENG#" <aarnchng@pmail.ntu.edu.sg>
To: <common-user@hadoop.apache.org>
X-OriginalArrivalTime: 03 Sep 2009 03:20:03.0089 (UTC) FILETIME=[6D420810:01CA2C45]
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01CA2C45.6D27EFF5
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Good Day,

I have a question on the DistributedCache as follows.

I have used DistributedCache to move my executable(.exe) around the =
(onto the local filesystems of) nodes in Hadoop and run the .exe (via =
addCacheArchive() and getLocalCacheArchives()). But I discovered after =
my job, the .exe still resides on the nodes. I have try using =
releaseCache() and/or purgeCache(), but the .exe still on the nodes. Is =
there a way to remove the .exe from the nodes?

Thanks.

------_=_NextPart_001_01CA2C45.6D27EFF5--

From common-user-return-17237-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 03 06:46:25 2009
Return-Path: <common-user-return-17237-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 65578 invoked from network); 3 Sep 2009 06:46:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Sep 2009 06:46:25 -0000
Received: (qmail 99165 invoked by uid 500); 3 Sep 2009 06:46:22 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 99074 invoked by uid 500); 3 Sep 2009 06:46:22 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 99064 invoked by uid 99); 3 Sep 2009 06:46:22 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 06:46:22 +0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=NO_RDNS_DOTCOM_HELO,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [69.147.107.20] (HELO mrout1-b.corp.re1.yahoo.com) (69.147.107.20)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 06:46:10 +0000
Received: from EGL-EX07CAS02.ds.corp.yahoo.com (egl-ex07cas02.eglbp.corp.yahoo.com [203.83.248.209])
	by mrout1-b.corp.re1.yahoo.com (8.13.8/8.13.8/y.out) with ESMTP id n836jOGS020800
	for <common-user@hadoop.apache.org>; Wed, 2 Sep 2009 23:45:24 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; s=serpent; d=yahoo-inc.com; c=nofws; q=dns;
	h=received:from:to:date:subject:thread-topic:thread-index:
	message-id:references:in-reply-to:accept-language:
	content-language:x-ms-has-attach:x-ms-tnef-correlator:acceptlanguage:
	content-type:content-transfer-encoding:mime-version;
	b=z8aHai6hqeW+g13l9flDUxL0nVBT6h+Lb0yN+xLCpHhR4N98SwtCnbBh0ABppGLQ
Received: from EGL-EX07VS01.ds.corp.yahoo.com ([203.83.248.206]) by
 EGL-EX07CAS02.ds.corp.yahoo.com ([203.83.248.216]) with mapi; Thu, 3 Sep 2009
 12:15:23 +0530
From: Amogh Vasekar <amogh@yahoo-inc.com>
To: "common-user@hadoop.apache.org" <common-user@hadoop.apache.org>
Date: Thu, 3 Sep 2009 12:14:01 +0530
Subject: RE: DistributedCache purgeCache()
Thread-Topic: DistributedCache purgeCache()
Thread-Index: AcosRK+91IYari8wT3O1DKUizxBtCgAHQdBQ
Message-ID: <616DA47B2EF5B944B91846785B512FF4CFADEA7506@EGL-EX07VS01.ds.corp.yahoo.com>
References: <B1AA98568C81904FB704DF464FC6216E02A95DAB@MAIL24.student.main.ntu.edu.sg>
In-Reply-To: <B1AA98568C81904FB704DF464FC6216E02A95DAB@MAIL24.student.main.ntu.edu.sg>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

AFAIK, releaseCache only works on cleaning reference to your file. Try usin=
g deletecache in synchronized manner.

Thanks,
Amogh

-----Original Message-----
From: #YONG YONG CHENG# [mailto:aarnchng@pmail.ntu.edu.sg]=20
Sent: Thursday, September 03, 2009 8:50 AM
To: common-user@hadoop.apache.org
Subject: DistributedCache purgeCache()

Good Day,

I have a question on the DistributedCache as follows.

I have used DistributedCache to move my executable(.exe) around the (onto t=
he local filesystems of) nodes in Hadoop and run the .exe (via addCacheArch=
ive() and getLocalCacheArchives()). But I discovered after my job, the .exe=
 still resides on the nodes. I have try using releaseCache() and/or purgeCa=
che(), but the .exe still on the nodes. Is there a way to remove the .exe f=
rom the nodes?

Thanks.

From common-user-return-17238-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 03 07:16:35 2009
Return-Path: <common-user-return-17238-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 72523 invoked from network); 3 Sep 2009 07:16:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Sep 2009 07:16:35 -0000
Received: (qmail 25500 invoked by uid 500); 3 Sep 2009 07:16:32 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 25411 invoked by uid 500); 3 Sep 2009 07:16:32 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 25401 invoked by uid 99); 3 Sep 2009 07:16:32 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 07:16:32 +0000
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [216.145.54.172] (HELO mrout2.yahoo.com) (216.145.54.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 07:16:21 +0000
Received: from localhost (humannice-lx.eglbp.corp.yahoo.com [10.66.76.219])
	by mrout2.yahoo.com (8.13.6/8.13.6/y.out) with ESMTP id n837Fgcm013305
	for <common-user@hadoop.apache.org>; Thu, 3 Sep 2009 00:15:43 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; s=serpent; d=yahoo-inc.com; c=nofws; q=dns;
	h=date:from:to:message-id:in-reply-to:subject:mime-version:
	content-type:content-transfer-encoding;
	b=jNZLvLGIen/WlzrkiWq7dKpF67iZToGdWevBAZsOHmbkAW9iipBjwo0XvoeyzLhl
Date: Thu, 3 Sep 2009 12:45:42 +0530 (GMT+05:30)
From: Ankur Goel <gankur@yahoo-inc.com>
To: common-user@hadoop.apache.org
Message-ID: <23041363.121251962138394.JavaMail.ankur@ankur-laptop>
In-Reply-To: <20233302.101251961626644.JavaMail.ankur@ankur-laptop>
Subject: Re: Efficient sort -u + merge, in Hadoop M/R?
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Take a look at Sort.java in hadoop examples code. You should be able to use it for your case with minimal coding effort.

Typically when merging 2 sorted data-sets in hadoop you load the smaller one in the memory of each map-task and do a merge in the map() API. The job is setup (by the user) to run as map-only and is very efficient since it does not require copy/shuffle/reduce by the framework. Obviously this has the precondition that smaller one should fit in memory and also requires coding effort on your part :-)

You have the option of using SequenceFileFormat for storing your data which is a compressed binary format and takes less storage space. But when using your data outside hadoop you will have to do the necessary SequenceFile to Text conversion. Necessary classes for doing so are available in hadoop but still that's more work.

Regards
-@nkur

----- Original Message -----
From: "Erik Forsberg" <forsberg@opera.com>
To: common-user@hadoop.apache.org
Sent: Thursday, September 3, 2009 1:24:02 AM GMT +05:30 Chennai, Kolkata, Mumbai, New Delhi
Subject: Efficient sort -u + merge, in Hadoop M/R?

Hi!

Let's assume an example use case where Apache's mod_usertrack 
generates randomly selected user id's that are stored in a cookie and
written to the log file.

I want to keep track of the number of daily, weekly, monthly,
quarterly, yearly users, as well as the total number of users since the
application was launched. 

I can do this rather fast on the Linux commandline by creating a file
for each day listing the unique UIDs, one per line, then use sort -u to
get the list of unique such users. To get a weekly count, I can create
a list of weekly users, then merge in each day's users with "sort -u
-m", which works well if both input files are already sorted.

This of course only works up to a rather small amount of data
before the runtime becomes a problem. Now I want to do this using
Hadoop and Map/Reduce. I'm sure this problem have been solved before,
and I'm now looking for hints from experienced people.

Is there perhaps already freely available java code that can do the
sorting/merging for me? 

Should I use some trick to take advantage of the fact that the
weekly/monthly/etc files are already sorted? 

Should I store the weekly/monthly/etc files in some hadoop:ish format
for better performance instead of keeping the textoutputformat?

Thanks,
\EF
-- 
Erik Forsberg <forsberg@opera.com>
Developer, Opera Software, http://www.opera.com/

From common-user-return-17239-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 03 08:37:09 2009
Return-Path: <common-user-return-17239-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 92429 invoked from network); 3 Sep 2009 08:37:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Sep 2009 08:37:09 -0000
Received: (qmail 58325 invoked by uid 500); 3 Sep 2009 08:37:07 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 58281 invoked by uid 500); 3 Sep 2009 08:37:07 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 58271 invoked by uid 99); 3 Sep 2009 08:37:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 08:37:06 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jingkei.ly@gmail.com designates 72.14.220.154 as permitted sender)
Received: from [72.14.220.154] (HELO fg-out-1718.google.com) (72.14.220.154)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 08:36:57 +0000
Received: by fg-out-1718.google.com with SMTP id e12so959177fga.11
        for <common-user@hadoop.apache.org>; Thu, 03 Sep 2009 01:36:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:sender:received:in-reply-to
         :references:from:date:x-google-sender-auth:message-id:subject:to
         :content-type;
        bh=Jy39dD/4VdmfFsq9hQnK+Nx9n2pJ2suoN1oRCHOuT9E=;
        b=pPeJ3h77U2wCCfnwSEgsMBL5etCA6UgJHkeOpexWCQlFfkWCXKFMlBqj8yMBiL7F0N
         EprAupHVT6r79Zj3/Cw4HZUsrNbbc5ufuksfHXXeaFEFvr8hDt/5z3Wut29qPtpusnPT
         UVZbbc3yXogUSp5D/PpugQpBqYZcb9Cnoples=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:in-reply-to:references:from:date
         :x-google-sender-auth:message-id:subject:to:content-type;
        b=SgwqSgk1B2YI+Ycw0r5eCs4tylamQYocrITGFHGmfxpl2kWr7+7KpUWrARk/f8vqjA
         MPNiU1rixytFTu3LVAv9YEl7S+EKmyoXn8l21E4Db/Q+6TZNk3xdsCYGJBjdqlGBAvbA
         3PlFWSnkomPXnQ0zlB49uGCj6efBlyzSK+Qlo=
MIME-Version: 1.0
Sender: jingkei.ly@gmail.com
Received: by 10.86.195.26 with SMTP id s26mr3609083fgf.23.1251966995180; Thu, 
	03 Sep 2009 01:36:35 -0700 (PDT)
In-Reply-To: <23041363.121251962138394.JavaMail.ankur@ankur-laptop>
References: <20233302.101251961626644.JavaMail.ankur@ankur-laptop> 
	<23041363.121251962138394.JavaMail.ankur@ankur-laptop>
From: Jingkei Ly <jly.list@googlemail.com>
Date: Thu, 3 Sep 2009 09:36:15 +0100
X-Google-Sender-Auth: 29748a9c2ed8abaa
Message-ID: <c238cbb50909030136j16bdfa8y4db2b6a143a6b403@mail.gmail.com>
Subject: Re: Efficient sort -u + merge, in Hadoop M/R?
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=00c09ffb561c04b0c70472a84806
X-Virus-Checked: Checked by ClamAV on apache.org

--00c09ffb561c04b0c70472a84806
Content-Type: text/plain; charset=ISO-8859-1

You can also use the mapside join framework (
http://hadoop.apache.org/common/docs/current/api/org/apache/hadoop/mapred/join/package-summary.html)
to perform the merge, which won't require you to store a whole dataset in
memory.

2009/9/3 Ankur Goel <gankur@yahoo-inc.com>

> Take a look at Sort.java in hadoop examples code. You should be able to use
> it for your case with minimal coding effort.
>
> Typically when merging 2 sorted data-sets in hadoop you load the smaller
> one in the memory of each map-task and do a merge in the map() API. The job
> is setup (by the user) to run as map-only and is very efficient since it
> does not require copy/shuffle/reduce by the framework. Obviously this has
> the precondition that smaller one should fit in memory and also requires
> coding effort on your part :-)
>
> You have the option of using SequenceFileFormat for storing your data which
> is a compressed binary format and takes less storage space. But when using
> your data outside hadoop you will have to do the necessary SequenceFile to
> Text conversion. Necessary classes for doing so are available in hadoop but
> still that's more work.
>
> Regards
> -@nkur
>
> ----- Original Message -----
> From: "Erik Forsberg" <forsberg@opera.com>
> To: common-user@hadoop.apache.org
> Sent: Thursday, September 3, 2009 1:24:02 AM GMT +05:30 Chennai, Kolkata,
> Mumbai, New Delhi
> Subject: Efficient sort -u + merge, in Hadoop M/R?
>
> Hi!
>
> Let's assume an example use case where Apache's mod_usertrack
> generates randomly selected user id's that are stored in a cookie and
> written to the log file.
>
> I want to keep track of the number of daily, weekly, monthly,
> quarterly, yearly users, as well as the total number of users since the
> application was launched.
>
> I can do this rather fast on the Linux commandline by creating a file
> for each day listing the unique UIDs, one per line, then use sort -u to
> get the list of unique such users. To get a weekly count, I can create
> a list of weekly users, then merge in each day's users with "sort -u
> -m", which works well if both input files are already sorted.
>
> This of course only works up to a rather small amount of data
> before the runtime becomes a problem. Now I want to do this using
> Hadoop and Map/Reduce. I'm sure this problem have been solved before,
> and I'm now looking for hints from experienced people.
>
> Is there perhaps already freely available java code that can do the
> sorting/merging for me?
>
> Should I use some trick to take advantage of the fact that the
> weekly/monthly/etc files are already sorted?
>
> Should I store the weekly/monthly/etc files in some hadoop:ish format
> for better performance instead of keeping the textoutputformat?
>
> Thanks,
> \EF
> --
> Erik Forsberg <forsberg@opera.com>
> Developer, Opera Software, http://www.opera.com/
>

--00c09ffb561c04b0c70472a84806--

From common-user-return-17240-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 03 08:47:20 2009
Return-Path: <common-user-return-17240-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 94929 invoked from network); 3 Sep 2009 08:47:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Sep 2009 08:47:20 -0000
Received: (qmail 72375 invoked by uid 500); 3 Sep 2009 08:47:17 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 72324 invoked by uid 500); 3 Sep 2009 08:47:17 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 72313 invoked by uid 99); 3 Sep 2009 08:47:17 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 08:47:17 +0000
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [69.147.107.21] (HELO mrout2-b.corp.re1.yahoo.com) (69.147.107.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 08:47:06 +0000
Received: from SNV-EXPF01.ds.corp.yahoo.com (snv-expf01.ds.corp.yahoo.com [207.126.227.250])
	by mrout2-b.corp.re1.yahoo.com (8.13.8/8.13.8/y.out) with ESMTP id n838jFc6086931
	for <common-user@hadoop.apache.org>; Thu, 3 Sep 2009 01:45:16 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; s=serpent; d=yahoo-inc.com; c=nofws; q=dns;
	h=received:user-agent:date:subject:from:to:message-id:
	thread-topic:thread-index:in-reply-to:mime-version:content-type:
	content-transfer-encoding:x-originalarrivaltime;
	b=2cnHEVjtCPeu3C7cI6gQnn/NeYvFxH0J4a9VL633bouepKZERunmrE6i5l3NLCkR
Received: from SNV-EXVS08.ds.corp.yahoo.com ([207.126.227.8]) by SNV-EXPF01.ds.corp.yahoo.com with Microsoft SMTPSVC(6.0.3790.3959);
	 Thu, 3 Sep 2009 01:45:15 -0700
Received: from 10.66.92.213 ([10.66.92.213]) by SNV-EXVS08.ds.corp.yahoo.com ([207.126.227.58]) with Microsoft Exchange Server HTTP-DAV ;
 Thu,  3 Sep 2009 08:45:14 +0000
User-Agent: Microsoft-Entourage/12.20.0.090605
Date: Thu, 03 Sep 2009 14:15:13 +0530
Subject: Re: Map update %
From: Jothi Padmanabhan <jothipn@yahoo-inc.com>
To: <common-user@hadoop.apache.org>
Message-ID: <C6C57FF1.1DFB9%jothipn@yahoo-inc.com>
Thread-Topic: Map update %
Thread-Index: AcosctoSTIpWFUBzd0Gndum0I9waEw==
In-Reply-To: <A97136C2-3756-4E43-83CD-8D5F3810500E@gmail.com>
Mime-version: 1.0
Content-type: text/plain;
	charset="US-ASCII"
Content-transfer-encoding: 7bit
X-OriginalArrivalTime: 03 Sep 2009 08:45:15.0429 (UTC) FILETIME=[DB84D550:01CA2C72]
X-Virus-Checked: Checked by ClamAV on apache.org

Progress information for maps come from the underlying Record reader. For
the common LineRecordReader, this is based on offsets in the file.

Jothi


On 9/2/09 9:21 PM, "Saptarshi Guha" <saptarshi.guha@gmail.com> wrote:

> Hello,
> How does the 'map % complete' (web ui) get updated in Hadoop 0.20?
> i.e when run (in the Mapper class) calls map, does it update the %
> or does it update the % when my map does a context.write?
> 
> Thank you
> Saptarshi
> 
> 


From common-user-return-17241-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 03 15:22:59 2009
Return-Path: <common-user-return-17241-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 26393 invoked from network); 3 Sep 2009 15:22:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Sep 2009 15:22:59 -0000
Received: (qmail 94788 invoked by uid 500); 3 Sep 2009 15:22:56 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 94732 invoked by uid 500); 3 Sep 2009 15:22:56 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 94722 invoked by uid 500); 3 Sep 2009 15:22:56 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 94719 invoked by uid 99); 3 Sep 2009 15:22:56 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 15:22:56 +0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=FORGED_YAHOO_RCVD,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of lists@nabble.com designates 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 15:22:46 +0000
Received: from isper.nabble.com ([192.168.236.156])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lists@nabble.com>)
	id 1MjE8n-0003Zt-S5
	for core-user@hadoop.apache.org; Thu, 03 Sep 2009 08:22:25 -0700
Message-ID: <25278353.post@talk.nabble.com>
Date: Thu, 3 Sep 2009 08:22:25 -0700 (PDT)
From: ll_oz_ll <himanshu_coolguy@yahoo.com>
To: core-user@hadoop.apache.org
Subject: Wrong FS error
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: himanshu_coolguy@yahoo.com
X-Virus-Checked: Checked by ClamAV on apache.org


Hi,
I try to run 2 jobs sequentially with the same configuration. I instantiate
the second job object with the configuration of the old one but setting the
file output path to a different one but I end up getting this error:
Exception in thread "main" java.lang.IllegalArgumentException: Wrong FS:
hdfs://localhost/tmp/hadoop-h/mapred/system/job_200908261341_0064/job.jar,
expected: file:///

I am running hadoop in a pseudo distributed mode, so its not on a cluster
but on a single machine. The first job finished perfectly with no problem,
its the second job that's giving me problems while the configuration is the
same except the output path.

Any help would be great.

thanks
-- 
View this message in context: http://www.nabble.com/Wrong-FS-error-tp25278353p25278353.html
Sent from the Hadoop core-user mailing list archive at Nabble.com.


From common-user-return-17242-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 03 15:34:30 2009
Return-Path: <common-user-return-17242-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 31453 invoked from network); 3 Sep 2009 15:34:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Sep 2009 15:34:30 -0000
Received: (qmail 23530 invoked by uid 500); 3 Sep 2009 15:34:28 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 23453 invoked by uid 500); 3 Sep 2009 15:34:28 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Delivered-To: moderator for common-user@hadoop.apache.org
Received: (qmail 66494 invoked by uid 99); 3 Sep 2009 03:25:56 -0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of futureha@gmail.com designates 209.85.212.185 as permitted sender)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:date:message-id:subject
         :from:to:content-type;
        bh=5uaxQl2mxXbV/CPMtNT43LK4DJseQRBAVIyu9LDq1BY=;
        b=F4I1nf5ahOCncn+polh+FgvHX4fkKq0+caNioINZzMvGI76l3z38HwaOxD9CbB8rJX
         o9WxGtKsOJdWfeIDvHJjh3Py/aebVTZJqgdgwbWJrumapva52H34RFqm0oJD0BFB8dN5
         5AK7R7HCs6MTxgM4X+utahHpLvRT5Qv6t9no8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=Y/TjNur9toFThK1PCJSg6+v4WwgV7bAYWTU3ggYAPpNmxhA2k3No3OYZ/w0FI8X+wC
         bJZlA3rKmc2Xz2U8gXB8GRz+P8gHtOwYD/FJBz5t6NcpXs3H+9AkELCmaLhLY56jIH4W
         a5lu1h2FgvXA5WvrfUUpYzg8i98rByVluyS5c=
MIME-Version: 1.0
Date: Thu, 3 Sep 2009 11:25:27 +0800
Message-ID: <69a198ed0909022025r39000ad4mbc8d721d707029f0@mail.gmail.com>
Subject: Customized OutputFormat doesnt work
From: =?UTF-8?B?5qKB5pmv5piO?= <futureha@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0016e647621457468a0472a3ef55
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e647621457468a0472a3ef55
Content-Type: text/plain; charset=UTF-8

Hi, I have a problem with Customized OutputFormat, my OutputFormat splits
kinds of my seeds and outputs three paths of results,and it works when
running in one node or eclipse plugin but it doesnt work right in 5 nodes
as  a jar running, the file will be smaller than the correct sizes. here is
my code ,any help will be appreciated .
    public static class SepOutputFormat implements OutputFormat {
        public void checkOutputSpecs(FileSystem arg0, JobConf arg1)
                throws IOException {
        }
        public RecordWriter getRecordWriter(final FileSystem fs,
                final JobConf job, final String name, Progressable progress)
                throws IOException {
            return new RecordWriter() {
                String date = DateUtil.getString("yyyy-MM-dd-HH", new
Date());
                Path newPath = new Path("data/seednew/" + date);
                Path lostPath = new Path("data/seedlost/" + date);
                Path basePath = new Path("data/seedbase/" + date);
                SequenceFile.Writer newwriter = new SequenceFile.Writer(fs,
                        job, newPath, Text.class, Seed.class);
                SequenceFile.Writer lostwriter = new SequenceFile.Writer(fs,
                        job, lostPath, Text.class, Seed.class);
                SequenceFile.Writer basewriter = new SequenceFile.Writer(fs,
                        job, basePath, Text.class, Seed.class);

                public void close(Reporter reporter) throws IOException {
                    newwriter.close();
                    basewriter.close();
                    lostwriter.close();
                }
                public void write(Object key, Object value) throws
IOException {
                    String word = key.toString();
                    if (word.startsWith("new_")) {
                        String skey = word.replace("new_", "");
                        newwriter.append(new Text(skey), (Seed) value);
                    } else if (word.startsWith("lost_")) {
                        String skey = word.replace("lost_", "");
                        lostwriter.append(new Text(skey), (Seed) value);
                    } else {
                        basewriter.append(new Text(word), (Seed) value);
                    }
                }
            };
        }
    }

--0016e647621457468a0472a3ef55--

From common-user-return-17243-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 03 15:34:41 2009
Return-Path: <common-user-return-17243-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 31606 invoked from network); 3 Sep 2009 15:34:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Sep 2009 15:34:41 -0000
Received: (qmail 28332 invoked by uid 500); 3 Sep 2009 15:34:38 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 28286 invoked by uid 500); 3 Sep 2009 15:34:38 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Delivered-To: moderator for common-user@hadoop.apache.org
Received: (qmail 64410 invoked by uid 99); 3 Sep 2009 14:29:59 -0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Message-ID: <4A9FD2BE.4020902@swe-blog.net>
Date: Thu, 03 Sep 2009 16:29:18 +0200
From: "Oliver B. Fischer" <o.b.fischer@swe-blog.net>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: common-dev@hadoop.apache.org
CC: common-user@hadoop.apache.org
Subject: Re: Why "java.util.zip.ZipOutputStream" need to use /tmp?
References: <6395.68829.qm@web112107.mail.gq1.yahoo.com>
In-Reply-To: <6395.68829.qm@web112107.mail.gq1.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
X-Authenticated-Sender: dialog@sw-blog.net
X-Virus-Scanned: Clear (ClamAV 0.95.1/9773/Thu Sep  3 09:38:27 2009)
X-Virus-Checked: Checked by ClamAV on apache.org

Hello Steve,

I assume what the java.io.FileOutputStream uses /tmp as tempdir. As you
can see, the errors occurs in a native method. As far I know, /tmp is
standard temp directory on UNIX systems automatically used by many
native library calls. May you can set $TEMPDIR
(http://en.wikipedia.org/wiki/TMPDIR) to another directory?

Best regards,

Oliver

Steve Gao schrieb:
> 
> The hadoop version is 0.18.3 . Recently we got "out of space" issue. It's from "java.util.zip.ZipOutputStream".
> We found that /tmp is full and after cleaning /tmp the problem is solved.
> 
> However why hadoop needs to use /tmp? We had already configured hadoop tmp to a local disk in: hadoop-site.xml
> 
> <property>
>   <name>hadoop.tmp.dir</name>
>   <value> ... some large local disk ... </value>
> </property>
> 
> 
> Could it because java.util.zip.ZipOutputStream uses /tmp even if we configured hadoop.tmp.dir to a large local disk?
> 
> The error log is here FYI:
> 
> java.io.IOException: No space left on device         
> at java.io.FileOutputStream.write(Native Method)        
>  at java.util.zip.ZipOutputStream.writeInt(ZipOutputStream.java:445)         
> at java.util.zip.ZipOutputStream.writeEXT(ZipOutputStream.java:362)         
> at java.util.zip.ZipOutputStream.closeEntry(ZipOutputStream.java:220)         
> at java.util.zip.ZipOutputStream.finish(ZipOutputStream.java:301)         
> at java.util.zip.DeflaterOutputStream.close(DeflaterOutputStream.java:146)         
> at java.util.zip.ZipOutputStream.close(ZipOutputStream.java:321)         
> at org.apache.hadoop.streaming.JarBuilder.merge(JarBuilder.java:79)         
> at org.apache.hadoop.streaming.StreamJob.packageJobJar(StreamJob.java:628)         
> at org.apache.hadoop.streaming.StreamJob.setJobConf(StreamJob.java:843)         
> at org.apache.hadoop.streaming.StreamJob.go(StreamJob.java:110)         
> at org.apache.hadoop.streaming.HadoopStreaming.main(HadoopStreaming.java:33)         
> at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)         
> at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)         
> at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)         
> at java.lang.reflect.Method.invoke(Method.java:597)         
> at org.apache.hadoop.util.RunJar.main(RunJar.java:155)         
> at org.apache.hadoop.mapred.JobShell.run(JobShell.java:194)         
> at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)         
> at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:79)         
> at org.apache.hadoop.mapred.JobShell.main(JobShell.java:220)  
> Executing Hadoop job failure
> 
> 
> 
> 
>       


-- 
Oliver B. Fischer, Schnhauser Allee 64, 10437 Berlin
Tel. +49 30 44793251, Mobil: +49 178 7903538
Mail: o.b.fischer@swe-blog.net Blog: http://www.swe-blog.net


From common-user-return-17244-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 03 15:50:37 2009
Return-Path: <common-user-return-17244-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 37663 invoked from network); 3 Sep 2009 15:50:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Sep 2009 15:50:37 -0000
Received: (qmail 59976 invoked by uid 500); 3 Sep 2009 15:50:34 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 59911 invoked by uid 500); 3 Sep 2009 15:50:34 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 59901 invoked by uid 500); 3 Sep 2009 15:50:34 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 59898 invoked by uid 99); 3 Sep 2009 15:50:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 15:50:34 +0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=FORGED_YAHOO_RCVD,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of lists@nabble.com designates 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 15:50:24 +0000
Received: from isper.nabble.com ([192.168.236.156])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lists@nabble.com>)
	id 1MjEZX-0004gZ-F6
	for core-user@hadoop.apache.org; Thu, 03 Sep 2009 08:50:03 -0700
Message-ID: <25278865.post@talk.nabble.com>
Date: Thu, 3 Sep 2009 08:50:03 -0700 (PDT)
From: ll_oz_ll <himanshu_coolguy@yahoo.com>
To: core-user@hadoop.apache.org
Subject: Multiple map output value types
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: himanshu_coolguy@yahoo.com
X-Virus-Checked: Checked by ClamAV on apache.org


Hi,
Is it possible to have multiple key formats in map and reduce. I am reading
from a file which contains a string and a double. I would like the map to
output the string as a string and convert the double written in the file to
a double from a string. THen I would like reduce to concatenate the strings
and add the doubles. We could have doubles as strings too and we can cast
them back to doubles but I think it would be computationally easy if they
are doubles after the map job to start with.
Any clues?

Thanks
-- 
View this message in context: http://www.nabble.com/Multiple-map-output-value-types-tp25278865p25278865.html
Sent from the Hadoop core-user mailing list archive at Nabble.com.


From common-user-return-17245-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 03 16:47:16 2009
Return-Path: <common-user-return-17245-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 53043 invoked from network); 3 Sep 2009 16:47:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Sep 2009 16:47:16 -0000
Received: (qmail 43241 invoked by uid 500); 3 Sep 2009 16:47:14 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 43150 invoked by uid 500); 3 Sep 2009 16:47:13 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 43140 invoked by uid 500); 3 Sep 2009 16:47:13 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 43137 invoked by uid 99); 3 Sep 2009 16:47:13 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 16:47:13 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of markkerzner@gmail.com designates 209.85.218.214 as permitted sender)
Received: from [209.85.218.214] (HELO mail-bw0-f214.google.com) (209.85.218.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 16:47:05 +0000
Received: by bwz10 with SMTP id 10so76537bwz.29
        for <core-user@hadoop.apache.org>; Thu, 03 Sep 2009 09:46:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:date:message-id:subject
         :from:to:content-type;
        bh=o7TmAXdMfUYxgSes9v6Khz6p32oAo0F+HsZIymfLVc8=;
        b=SlPj2QiuWU5OIWdT6L+H2l06yrG/jA9KsgIKm9VuhnhE3mpGlmZOoEcHdNQbP+drcJ
         2BA2UzLOHKYbCaf5EURCyEYaLK+CoAQCrZTbz+ExuTO2IuvltEHUAM3S/uqjqMXoaxaV
         4gLl5nba4R/gTRT2QKx3SZ5FXoid3u29mH/ho=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=u9Ns+Q7jBMk4GOGpdqvDseBYRfwHuGBJcsO4sc+PuZDBP7PXh/QJXlvJX1LYASBnt2
         1VMIMrpyo29hpVF1ITvlaoLR2sQVPy0g/Qti3VecxViZ/GzimFegOu2APy3FWGL82Eal
         eItDw5SF+Um5AzT8RWSOYJze2xNiU4bpYgzso=
MIME-Version: 1.0
Received: by 10.204.155.67 with SMTP id r3mr8082086bkw.94.1251996403813; Thu, 
	03 Sep 2009 09:46:43 -0700 (PDT)
Date: Thu, 3 Sep 2009 11:46:43 -0500
Message-ID: <c9b0d8bd0909030946i708d3b5k94f6f8a0de8a57a1@mail.gmail.com>
Subject: Pregel
From: Mark Kerzner <markkerzner@gmail.com>
To: core-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0015175cff7ae8cf1b0472af2016
X-Virus-Checked: Checked by ClamAV on apache.org

--0015175cff7ae8cf1b0472af2016
Content-Type: text/plain; charset=ISO-8859-1

Hi, guys,

Pregel has been revealed on 8/11, what is your opinion of, does anybody know
how to get the presentation, and is anyone interested in implementing it?

Thank you,
Mark

--0015175cff7ae8cf1b0472af2016--

From common-user-return-17246-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 03 19:54:30 2009
Return-Path: <common-user-return-17246-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 18159 invoked from network); 3 Sep 2009 19:54:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Sep 2009 19:54:30 -0000
Received: (qmail 96614 invoked by uid 500); 3 Sep 2009 19:54:28 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 96531 invoked by uid 500); 3 Sep 2009 19:54:27 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 96521 invoked by uid 99); 3 Sep 2009 19:54:27 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 19:54:27 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of amansk@gmail.com designates 209.85.210.185 as permitted sender)
Received: from [209.85.210.185] (HELO mail-yx0-f185.google.com) (209.85.210.185)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 19:54:18 +0000
Received: by yxe15 with SMTP id 15so1532353yxe.30
        for <common-user@hadoop.apache.org>; Thu, 03 Sep 2009 12:53:57 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=qZGQBZyIRvazI/YXEle5j1M2CXYaDvBAHNVZ1uxDVZM=;
        b=Fd2sXaNjAXb3K3bYQElVNU4Q3bnMnUtTo7+KTDBkvnUdz463sVjnHvQnFrIGC7Llqw
         6y7HoLV9sV7Dft/D6OP5J/BiubeP8NugwFdOtXJRnIjq61rzp7pfcQixkZmYqtrCM5rl
         Qey7pKL65NUwKQ/SzYjUdVvWQ8oru6+Kju8Vc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=p0cYItx0RJ/FsRDJzEbzZMIFt5l30fkriTehC6JWcX+9QRoscLxH9z+8bx5jokGlBK
         D+ZCb+OoKl9CdBMqpG/huxhs80HMOfBKSBy8o7u24Gordz5fQxS7LOm6vSuRe1Z14ijn
         lv4hIv8qvJxwpD6eycRECzzIoiAw9QzSQfkhs=
MIME-Version: 1.0
Received: by 10.101.85.5 with SMTP id n5mr192126anl.57.1252007631767; Thu, 03 
	Sep 2009 12:53:51 -0700 (PDT)
In-Reply-To: <c9b0d8bd0909030946i708d3b5k94f6f8a0de8a57a1@mail.gmail.com>
References: <c9b0d8bd0909030946i708d3b5k94f6f8a0de8a57a1@mail.gmail.com>
From: Amandeep Khurana <amansk@gmail.com>
Date: Thu, 3 Sep 2009 12:53:31 -0700
Message-ID: <35a22e220909031253n56295ea8yf57e8c4df0cb5a74@mail.gmail.com>
Subject: Re: Pregel
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=001636ed756725c9e50472b1be1f
X-Virus-Checked: Checked by ClamAV on apache.org

--001636ed756725c9e50472b1be1f
Content-Type: text/plain; charset=ISO-8859-1

I'm interested in working on it.

The paper is still not out.. Only the summary has been made available. Am I
missing something?


Amandeep Khurana
Computer Science Graduate Student
University of California, Santa Cruz


On Thu, Sep 3, 2009 at 9:46 AM, Mark Kerzner <markkerzner@gmail.com> wrote:

> Hi, guys,
>
> Pregel has been revealed on 8/11, what is your opinion of, does anybody
> know
> how to get the presentation, and is anyone interested in implementing it?
>
> Thank you,
> Mark
>

--001636ed756725c9e50472b1be1f--

From common-user-return-17247-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 03 20:08:10 2009
Return-Path: <common-user-return-17247-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 21473 invoked from network); 3 Sep 2009 20:08:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Sep 2009 20:08:09 -0000
Received: (qmail 31307 invoked by uid 500); 3 Sep 2009 20:08:07 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 31231 invoked by uid 500); 3 Sep 2009 20:08:07 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 31221 invoked by uid 99); 3 Sep 2009 20:08:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 20:08:07 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of markkerzner@gmail.com designates 209.85.220.225 as permitted sender)
Received: from [209.85.220.225] (HELO mail-fx0-f225.google.com) (209.85.220.225)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 20:07:59 +0000
Received: by fxm25 with SMTP id 25so225084fxm.29
        for <common-user@hadoop.apache.org>; Thu, 03 Sep 2009 13:07:38 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=CKvjCIR2Of97MXYK72QdDuXUaXhBn4+mhVS+9V0Zass=;
        b=SQTE3lbWP8SCG4PIRDwPPL2oHUtVHZEI0YMiaPu+qSFB82oFgdtZncqbtULQxFji6Z
         6eOk2Wkt4UaYH6eERqhQHANgPvA79wj1V29Bmi+Qij/8P0icov0Q53O9ZTEm0pPtw9sG
         snFNFExoA1yKVSqDfzN1J1uCPUYprUTqZ3PUU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=mfv+Pu03oHmxR9x8v67d9EPgZwEn9Hr1wUgRXRU2ExscyVkHs4bk1gh5e0rhOcfyNz
         WKk6GSpBuu1/u3pbUPnq2TUc85DL8KZ+3k1HGwyQhTCQ7+EE6iUsXcRAPihgwZIq46a8
         DL8Y3nyk9X9o6lw97+D31iAiw/P1wiDicQb/c=
MIME-Version: 1.0
Received: by 10.204.34.199 with SMTP id m7mr8232591bkd.48.1252008457382; Thu, 
	03 Sep 2009 13:07:37 -0700 (PDT)
In-Reply-To: <35a22e220909031253n56295ea8yf57e8c4df0cb5a74@mail.gmail.com>
References: <c9b0d8bd0909030946i708d3b5k94f6f8a0de8a57a1@mail.gmail.com>
	 <35a22e220909031253n56295ea8yf57e8c4df0cb5a74@mail.gmail.com>
Date: Thu, 3 Sep 2009 15:07:37 -0500
Message-ID: <c9b0d8bd0909031307n3fc0a5dbjb443a7fee19bb76@mail.gmail.com>
Subject: Re: Pregel
From: Mark Kerzner <markkerzner@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=00032555b5165baeb40472b1efff
X-Virus-Checked: Checked by ClamAV on apache.org

--00032555b5165baeb40472b1efff
Content-Type: text/plain; charset=ISO-8859-1

Then we should think of a name and create the project somewhere. Does not
have to be the same place as Hadoop, can be Google code to start with...
How about

Madoop
Mississippi (221 bridges)
Danube (lotsa bridges)

Mark



On Thu, Sep 3, 2009 at 2:53 PM, Amandeep Khurana <amansk@gmail.com> wrote:

> I'm interested in working on it.
>
> The paper is still not out.. Only the summary has been made available. Am I
> missing something?
>
>
> Amandeep Khurana
> Computer Science Graduate Student
> University of California, Santa Cruz
>
>
> On Thu, Sep 3, 2009 at 9:46 AM, Mark Kerzner <markkerzner@gmail.com>
> wrote:
>
> > Hi, guys,
> >
> > Pregel has been revealed on 8/11, what is your opinion of, does anybody
> > know
> > how to get the presentation, and is anyone interested in implementing it?
> >
> > Thank you,
> > Mark
> >
>

--00032555b5165baeb40472b1efff--

From common-user-return-17248-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 03 20:08:58 2009
Return-Path: <common-user-return-17248-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 21680 invoked from network); 3 Sep 2009 20:08:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Sep 2009 20:08:57 -0000
Received: (qmail 33756 invoked by uid 500); 3 Sep 2009 20:08:55 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 33675 invoked by uid 500); 3 Sep 2009 20:08:55 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 33665 invoked by uid 99); 3 Sep 2009 20:08:55 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 20:08:55 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of markkerzner@gmail.com designates 209.85.220.225 as permitted sender)
Received: from [209.85.220.225] (HELO mail-fx0-f225.google.com) (209.85.220.225)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 20:08:45 +0000
Received: by mail-fx0-f225.google.com with SMTP id 25so225084fxm.29
        for <common-user@hadoop.apache.org>; Thu, 03 Sep 2009 13:08:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=jt5nCBXoxNga5/A0gFOPZySY3CoOZ4A2Ev1VmeY1Fws=;
        b=UsHHIP5iRwvg0CgtXdYYLo2V7kOJweaV9QKBno9vukP+w69t0OHuHzdQUIjQYRChvU
         N+2YJN1oiQddj/6wrJzkrMr6I322op/Tte75mgfMPgvbfUVJ/ScV2EeoSwTjSNC3Jbpe
         PoTKVE5kXX6irowZfFDAY8zah3eNBUy+zFkfQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=juVqmpNGPHxYq3a6p6FpKlmfj6vr6jFJUipr4l1eCURNhdRy59ZQZIxxeywpl7uSh+
         rRdMXmx5UWqMjPDM8knZlN8SsvH/No9oGPXU9UykQm7FpgXfc7n43aOvu9JhiMjQyj6h
         nb0IN0J4wAYWFfhBuZqtKOXV4qBRQAcxEWsqc=
MIME-Version: 1.0
Received: by 10.204.7.220 with SMTP id e28mr8240988bke.210.1252008504910; Thu, 
	03 Sep 2009 13:08:24 -0700 (PDT)
In-Reply-To: <c9b0d8bd0909031307n3fc0a5dbjb443a7fee19bb76@mail.gmail.com>
References: <c9b0d8bd0909030946i708d3b5k94f6f8a0de8a57a1@mail.gmail.com>
	 <35a22e220909031253n56295ea8yf57e8c4df0cb5a74@mail.gmail.com>
	 <c9b0d8bd0909031307n3fc0a5dbjb443a7fee19bb76@mail.gmail.com>
Date: Thu, 3 Sep 2009 15:08:24 -0500
Message-ID: <c9b0d8bd0909031308j3dceae37r85d2932021d0f51d@mail.gmail.com>
Subject: Re: Pregel
From: Mark Kerzner <markkerzner@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0015174c1cfc30e2700472b1f22e
X-Virus-Checked: Checked by ClamAV on apache.org

--0015174c1cfc30e2700472b1f22e
Content-Type: text/plain; charset=ISO-8859-1

Brenta
http://en.wikipedia.org/wiki/Brenta_(river)

On Thu, Sep 3, 2009 at 3:07 PM, Mark Kerzner <markkerzner@gmail.com> wrote:

> Then we should think of a name and create the project somewhere. Does not
> have to be the same place as Hadoop, can be Google code to start with...
> How about
>
> Madoop
> Mississippi (221 bridges)
> Danube (lotsa bridges)
>
> Mark
>
>
>
> On Thu, Sep 3, 2009 at 2:53 PM, Amandeep Khurana <amansk@gmail.com> wrote:
>
>> I'm interested in working on it.
>>
>> The paper is still not out.. Only the summary has been made available. Am
>> I
>> missing something?
>>
>>
>> Amandeep Khurana
>> Computer Science Graduate Student
>> University of California, Santa Cruz
>>
>>
>> On Thu, Sep 3, 2009 at 9:46 AM, Mark Kerzner <markkerzner@gmail.com>
>> wrote:
>>
>> > Hi, guys,
>> >
>> > Pregel has been revealed on 8/11, what is your opinion of, does anybody
>> > know
>> > how to get the presentation, and is anyone interested in implementing
>> it?
>> >
>> > Thank you,
>> > Mark
>> >
>>
>
>

--0015174c1cfc30e2700472b1f22e--

From common-user-return-17249-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 03 20:12:54 2009
Return-Path: <common-user-return-17249-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 23572 invoked from network); 3 Sep 2009 20:12:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Sep 2009 20:12:54 -0000
Received: (qmail 38686 invoked by uid 500); 3 Sep 2009 20:12:52 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 38606 invoked by uid 500); 3 Sep 2009 20:12:52 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 38596 invoked by uid 99); 3 Sep 2009 20:12:52 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 20:12:52 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of amansk@gmail.com designates 209.85.132.250 as permitted sender)
Received: from [209.85.132.250] (HELO an-out-0708.google.com) (209.85.132.250)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 20:12:43 +0000
Received: by an-out-0708.google.com with SMTP id c38so92366ana.29
        for <common-user@hadoop.apache.org>; Thu, 03 Sep 2009 13:12:22 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=lXWLtDe58DjorAZU4RL8ZE41TJl6GcHZnFhjATRbV48=;
        b=Cz5lbTFJvUn6Olf7O89xq5RIDrLFpR6elkeSKiBiGzYF3fxGBalMGZE7hBzDI9YRMT
         3zOgd37B4K466vpHsGXkx4ktDpJr13l/ipKI9DO9b+tFMHeRLoF3AFHFEpc8iJTbDckA
         c7TSusFhHzXh4UPfP+PaEi7r2uLc4TyNvKSQ8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=Vy64SlAV8wVRwEbn9Mldhmzy9/vwiVau/9LebU5PkxG6FamEwROkCxYtgq3NdFblj2
         Up6d7ZRsjjT/K1KjbJ70DBM+qPM9kCbX2QOadFJDU3Eq6LTLl5lSpU5sRnJ2+TXjmpd+
         4ecatY6D5PqodS910crCeU5WHld08PYDv6Q+8=
MIME-Version: 1.0
Received: by 10.100.192.12 with SMTP id p12mr11336635anf.142.1252008742206; 
	Thu, 03 Sep 2009 13:12:22 -0700 (PDT)
In-Reply-To: <c9b0d8bd0909031308j3dceae37r85d2932021d0f51d@mail.gmail.com>
References: <c9b0d8bd0909030946i708d3b5k94f6f8a0de8a57a1@mail.gmail.com> 
	<35a22e220909031253n56295ea8yf57e8c4df0cb5a74@mail.gmail.com> 
	<c9b0d8bd0909031307n3fc0a5dbjb443a7fee19bb76@mail.gmail.com> 
	<c9b0d8bd0909031308j3dceae37r85d2932021d0f51d@mail.gmail.com>
From: Amandeep Khurana <amansk@gmail.com>
Date: Thu, 3 Sep 2009 13:12:02 -0700
Message-ID: <35a22e220909031312n77bd36b3w9e52707b7d0ab2bb@mail.gmail.com>
Subject: Re: Pregel
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0016364ed19455bef90472b200b0
X-Virus-Checked: Checked by ClamAV on apache.org

--0016364ed19455bef90472b200b0
Content-Type: text/plain; charset=ISO-8859-1

There is another project-  Hamburg - on similar lines. Check that out too.


Amandeep Khurana
Computer Science Graduate Student
University of California, Santa Cruz


On Thu, Sep 3, 2009 at 1:08 PM, Mark Kerzner <markkerzner@gmail.com> wrote:

> Brenta
> http://en.wikipedia.org/wiki/Brenta_(river)<http://en.wikipedia.org/wiki/Brenta_%28river%29>
>
> On Thu, Sep 3, 2009 at 3:07 PM, Mark Kerzner <markkerzner@gmail.com>
> wrote:
>
> > Then we should think of a name and create the project somewhere. Does not
> > have to be the same place as Hadoop, can be Google code to start with...
> > How about
> >
> > Madoop
> > Mississippi (221 bridges)
> > Danube (lotsa bridges)
> >
> > Mark
> >
> >
> >
> > On Thu, Sep 3, 2009 at 2:53 PM, Amandeep Khurana <amansk@gmail.com>
> wrote:
> >
> >> I'm interested in working on it.
> >>
> >> The paper is still not out.. Only the summary has been made available.
> Am
> >> I
> >> missing something?
> >>
> >>
> >> Amandeep Khurana
> >> Computer Science Graduate Student
> >> University of California, Santa Cruz
> >>
> >>
> >> On Thu, Sep 3, 2009 at 9:46 AM, Mark Kerzner <markkerzner@gmail.com>
> >> wrote:
> >>
> >> > Hi, guys,
> >> >
> >> > Pregel has been revealed on 8/11, what is your opinion of, does
> anybody
> >> > know
> >> > how to get the presentation, and is anyone interested in implementing
> >> it?
> >> >
> >> > Thank you,
> >> > Mark
> >> >
> >>
> >
> >
>

--0016364ed19455bef90472b200b0--

From common-user-return-17250-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 03 20:20:48 2009
Return-Path: <common-user-return-17250-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 25611 invoked from network); 3 Sep 2009 20:20:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Sep 2009 20:20:48 -0000
Received: (qmail 48627 invoked by uid 500); 3 Sep 2009 20:20:46 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 48543 invoked by uid 500); 3 Sep 2009 20:20:46 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 48533 invoked by uid 500); 3 Sep 2009 20:20:46 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 48530 invoked by uid 99); 3 Sep 2009 20:20:46 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 20:20:46 +0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=FORGED_YAHOO_RCVD,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lists@nabble.com designates 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 20:20:37 +0000
Received: from isper.nabble.com ([192.168.236.156])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lists@nabble.com>)
	id 1MjIn2-0007ni-Oa
	for core-user@hadoop.apache.org; Thu, 03 Sep 2009 13:20:16 -0700
Message-ID: <25283387.post@talk.nabble.com>
Date: Thu, 3 Sep 2009 13:20:16 -0700 (PDT)
From: ll_oz_ll <himanshu_coolguy@yahoo.com>
To: core-user@hadoop.apache.org
Subject: multi core nodes
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: himanshu_coolguy@yahoo.com
X-Virus-Checked: Checked by ClamAV on apache.org


Hi,
Is hadoop able to take into account multi core nodes, so that nodes which
have multiple cores run multiple concurrent jobs ?
Or does that need to be configured manually and if so can that be configured
individually for each node ?

thanks. I would really appreciate any clarification on this.


-- 
View this message in context: http://www.nabble.com/multi-core-nodes-tp25283387p25283387.html
Sent from the Hadoop core-user mailing list archive at Nabble.com.


From common-user-return-17251-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 03 20:42:49 2009
Return-Path: <common-user-return-17251-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 31063 invoked from network); 3 Sep 2009 20:42:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Sep 2009 20:42:48 -0000
Received: (qmail 79354 invoked by uid 500); 3 Sep 2009 20:42:46 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 79268 invoked by uid 500); 3 Sep 2009 20:42:46 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 79258 invoked by uid 99); 3 Sep 2009 20:42:46 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 20:42:46 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of markkerzner@gmail.com designates 209.85.220.225 as permitted sender)
Received: from [209.85.220.225] (HELO mail-fx0-f225.google.com) (209.85.220.225)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 20:42:35 +0000
Received: by fxm25 with SMTP id 25so248283fxm.29
        for <common-user@hadoop.apache.org>; Thu, 03 Sep 2009 13:42:15 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=WNTMNUVNiynniJ+p78Aqd+01oxvLV/i2R9wy4Ce5YpI=;
        b=IiyAe90gR5DW5GipRtS8snXeZbehmxH66QXHUHOgKDdhrWSkUIu7s2XQkYqlRRpEQe
         UvpI/rriRSs0OFp57vXZDyBaC9H+r3qJ3i4FfkqNxQFVLsX7h1jqbztGhXnKn1dcqDzE
         IxzBVUEulO5Fah4bsYtvPK0BpibWBvVudNNPs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=jbYKH2ZzxgrnP9gmMV6OBTlVBfIgN0QRhynN7flbUEPLAWuWnpArSPBNPonGs0WVmo
         onGRZN6sNho/vGRz9rD4TwjHi6axgjVyCmMwhr1DUxmnnq+1kfxbjVdQkDO6ieM2oazB
         Gg1qYu+9xv3vLuNQ1uHaWEUE1d/R5+OLT4k6E=
MIME-Version: 1.0
Received: by 10.204.154.198 with SMTP id p6mr8322180bkw.131.1252010534944; 
	Thu, 03 Sep 2009 13:42:14 -0700 (PDT)
In-Reply-To: <35a22e220909031312n77bd36b3w9e52707b7d0ab2bb@mail.gmail.com>
References: <c9b0d8bd0909030946i708d3b5k94f6f8a0de8a57a1@mail.gmail.com>
	 <35a22e220909031253n56295ea8yf57e8c4df0cb5a74@mail.gmail.com>
	 <c9b0d8bd0909031307n3fc0a5dbjb443a7fee19bb76@mail.gmail.com>
	 <c9b0d8bd0909031308j3dceae37r85d2932021d0f51d@mail.gmail.com>
	 <35a22e220909031312n77bd36b3w9e52707b7d0ab2bb@mail.gmail.com>
Date: Thu, 3 Sep 2009 15:42:14 -0500
Message-ID: <c9b0d8bd0909031342t44455c80sf52c14b4c11c663@mail.gmail.com>
Subject: Re: Pregel
From: Mark Kerzner <markkerzner@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0015175defdc30c3cc0472b26b9d
X-Virus-Checked: Checked by ClamAV on apache.org

--0015175defdc30c3cc0472b26b9d
Content-Type: text/plain; charset=ISO-8859-1

Ok, then, I can join hamburg. Where is it?

On Thu, Sep 3, 2009 at 3:12 PM, Amandeep Khurana <amansk@gmail.com> wrote:

> There is another project-  Hamburg - on similar lines. Check that out too.
>
>
> Amandeep Khurana
> Computer Science Graduate Student
> University of California, Santa Cruz
>
>
> On Thu, Sep 3, 2009 at 1:08 PM, Mark Kerzner <markkerzner@gmail.com>
> wrote:
>
> > Brenta
> > http://en.wikipedia.org/wiki/Brenta_(river)<
> http://en.wikipedia.org/wiki/Brenta_%28river%29>
> >
> > On Thu, Sep 3, 2009 at 3:07 PM, Mark Kerzner <markkerzner@gmail.com>
> > wrote:
> >
> > > Then we should think of a name and create the project somewhere. Does
> not
> > > have to be the same place as Hadoop, can be Google code to start
> with...
> > > How about
> > >
> > > Madoop
> > > Mississippi (221 bridges)
> > > Danube (lotsa bridges)
> > >
> > > Mark
> > >
> > >
> > >
> > > On Thu, Sep 3, 2009 at 2:53 PM, Amandeep Khurana <amansk@gmail.com>
> > wrote:
> > >
> > >> I'm interested in working on it.
> > >>
> > >> The paper is still not out.. Only the summary has been made available.
> > Am
> > >> I
> > >> missing something?
> > >>
> > >>
> > >> Amandeep Khurana
> > >> Computer Science Graduate Student
> > >> University of California, Santa Cruz
> > >>
> > >>
> > >> On Thu, Sep 3, 2009 at 9:46 AM, Mark Kerzner <markkerzner@gmail.com>
> > >> wrote:
> > >>
> > >> > Hi, guys,
> > >> >
> > >> > Pregel has been revealed on 8/11, what is your opinion of, does
> > anybody
> > >> > know
> > >> > how to get the presentation, and is anyone interested in
> implementing
> > >> it?
> > >> >
> > >> > Thank you,
> > >> > Mark
> > >> >
> > >>
> > >
> > >
> >
>

--0015175defdc30c3cc0472b26b9d--

From common-user-return-17252-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 03 22:51:55 2009
Return-Path: <common-user-return-17252-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 70021 invoked from network); 3 Sep 2009 22:51:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Sep 2009 22:51:55 -0000
Received: (qmail 56200 invoked by uid 500); 3 Sep 2009 22:51:53 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 56102 invoked by uid 500); 3 Sep 2009 22:51:52 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 56092 invoked by uid 99); 3 Sep 2009 22:51:52 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 22:51:52 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ashutosh.chauhan@gmail.com designates 209.85.212.185 as permitted sender)
Received: from [209.85.212.185] (HELO mail-vw0-f185.google.com) (209.85.212.185)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 22:51:43 +0000
Received: by vws15 with SMTP id 15so359283vws.5
        for <common-user@hadoop.apache.org>; Thu, 03 Sep 2009 15:51:22 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=XWM3kNCVDYFczzINeNffq/+oOpsjY2H7VuhY6QqV3FY=;
        b=kxYd/rau/klwg8rmBhTEIK6tVPBJdwS7haif4vskW8bMcAkaCW5Uj7kKA4tD0h+2r0
         WWuxZOKJ3cGZuCtNMFKCFqhBV2XTMsVSByQqjnZjuAiyqBwFuFEeriL0BDIQtfkE7vnX
         9to/Pi0ZJv6fhOX+TfXMJMVyOVdMBO+SmrvUM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=Br7uinXOGuwhQfIOqIDpTJiyGfgjVOGzv5s5xb3wqFVRwJY8g4KzOeSaSv8BmprHxY
         seDJGSyjdyT2bH+Xl9zHXE6x52lGcyjGvMXIhsIr1Sq+rEemONDxSgkhuAifZ3PbPMzr
         q9ZND5Spl7nPHyvU+x6l+K/dKdR9zcw+4e7nI=
MIME-Version: 1.0
Received: by 10.220.80.2 with SMTP id r2mr14178281vck.7.1252018282157; Thu, 03 
	Sep 2009 15:51:22 -0700 (PDT)
In-Reply-To: <c9b0d8bd0909031342t44455c80sf52c14b4c11c663@mail.gmail.com>
References: <c9b0d8bd0909030946i708d3b5k94f6f8a0de8a57a1@mail.gmail.com> 
	<35a22e220909031253n56295ea8yf57e8c4df0cb5a74@mail.gmail.com> 
	<c9b0d8bd0909031307n3fc0a5dbjb443a7fee19bb76@mail.gmail.com> 
	<c9b0d8bd0909031308j3dceae37r85d2932021d0f51d@mail.gmail.com> 
	<35a22e220909031312n77bd36b3w9e52707b7d0ab2bb@mail.gmail.com> 
	<c9b0d8bd0909031342t44455c80sf52c14b4c11c663@mail.gmail.com>
From: Ashutosh Chauhan <ashutosh.chauhan@gmail.com>
Date: Thu, 3 Sep 2009 18:51:02 -0400
Message-ID: <54de02ae0909031551y36a0f804lf40ecf4314c4ca3e@mail.gmail.com>
Subject: Re: Pregel
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0016364ee1faf5d7f00472b438d0
X-Virus-Checked: Checked by ClamAV on apache.org

--0016364ee1faf5d7f00472b438d0
Content-Type: text/plain; charset=ISO-8859-1

Hamburg is here: http://wiki.apache.org/hadoop/Hamburg

Ashutosh

On Thu, Sep 3, 2009 at 16:42, Mark Kerzner <markkerzner@gmail.com> wrote:

> Ok, then, I can join hamburg. Where is it?
>
> On Thu, Sep 3, 2009 at 3:12 PM, Amandeep Khurana <amansk@gmail.com> wrote:
>
> > There is another project-  Hamburg - on similar lines. Check that out
> too.
> >
> >
> > Amandeep Khurana
> > Computer Science Graduate Student
> > University of California, Santa Cruz
> >
> >
> > On Thu, Sep 3, 2009 at 1:08 PM, Mark Kerzner <markkerzner@gmail.com>
> > wrote:
> >
> > > Brenta
> > > http://en.wikipedia.org/wiki/Brenta_(river)<http://en.wikipedia.org/wiki/Brenta_%28river%29>
> <
> > http://en.wikipedia.org/wiki/Brenta_%28river%29>
> > >
> > > On Thu, Sep 3, 2009 at 3:07 PM, Mark Kerzner <markkerzner@gmail.com>
> > > wrote:
> > >
> > > > Then we should think of a name and create the project somewhere. Does
> > not
> > > > have to be the same place as Hadoop, can be Google code to start
> > with...
> > > > How about
> > > >
> > > > Madoop
> > > > Mississippi (221 bridges)
> > > > Danube (lotsa bridges)
> > > >
> > > > Mark
> > > >
> > > >
> > > >
> > > > On Thu, Sep 3, 2009 at 2:53 PM, Amandeep Khurana <amansk@gmail.com>
> > > wrote:
> > > >
> > > >> I'm interested in working on it.
> > > >>
> > > >> The paper is still not out.. Only the summary has been made
> available.
> > > Am
> > > >> I
> > > >> missing something?
> > > >>
> > > >>
> > > >> Amandeep Khurana
> > > >> Computer Science Graduate Student
> > > >> University of California, Santa Cruz
> > > >>
> > > >>
> > > >> On Thu, Sep 3, 2009 at 9:46 AM, Mark Kerzner <markkerzner@gmail.com
> >
> > > >> wrote:
> > > >>
> > > >> > Hi, guys,
> > > >> >
> > > >> > Pregel has been revealed on 8/11, what is your opinion of, does
> > > anybody
> > > >> > know
> > > >> > how to get the presentation, and is anyone interested in
> > implementing
> > > >> it?
> > > >> >
> > > >> > Thank you,
> > > >> > Mark
> > > >> >
> > > >>
> > > >
> > > >
> > >
> >
>

--0016364ee1faf5d7f00472b438d0--

From common-user-return-17253-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 03 23:18:08 2009
Return-Path: <common-user-return-17253-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 75956 invoked from network); 3 Sep 2009 23:18:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Sep 2009 23:18:08 -0000
Received: (qmail 84310 invoked by uid 500); 3 Sep 2009 23:18:06 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 84241 invoked by uid 500); 3 Sep 2009 23:18:06 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 84231 invoked by uid 99); 3 Sep 2009 23:18:06 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 23:18:06 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jbalakrishnan@docomolabs-usa.com designates 216.98.102.228 as permitted sender)
Received: from [216.98.102.228] (HELO fridge.docomolabs-usa.com) (216.98.102.228)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 23:17:57 +0000
Received: from dcl-ex.dcml.docomolabs-usa.com (viruswall.docomolabs-usa.com [172.21.96.230])
	by fridge.docomolabs-usa.com (Postfix) with ESMTP id 684851B841
	for <common-user@hadoop.apache.org>; Thu,  3 Sep 2009 16:17:36 -0700 (PDT)
X-MIMEOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: JobTracker startup failure when starting hadoop-0.20.0 cluster on Amazon EC2 with contrib/ec2 scripts
Date: Thu, 3 Sep 2009 16:17:35 -0700
Message-ID: <2FD61F37AFF16D4DB46149330E4273C7025202D2@dcl-ex.dcml.docomolabs-usa.com>
In-Reply-To: <54de02ae0909031551y36a0f804lf40ecf4314c4ca3e@mail.gmail.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: JobTracker startup failure when starting hadoop-0.20.0 cluster on Amazon EC2 with contrib/ec2 scripts
Thread-Index: Acos6SOi1qTNu7qpT3KOB0dNfh8J/QAAokYg
References: <c9b0d8bd0909030946i708d3b5k94f6f8a0de8a57a1@mail.gmail.com> <35a22e220909031253n56295ea8yf57e8c4df0cb5a74@mail.gmail.com> <c9b0d8bd0909031307n3fc0a5dbjb443a7fee19bb76@mail.gmail.com> <c9b0d8bd0909031308j3dceae37r85d2932021d0f51d@mail.gmail.com> <35a22e220909031312n77bd36b3w9e52707b7d0ab2bb@mail.gmail.com> <c9b0d8bd0909031342t44455c80sf52c14b4c11c663@mail.gmail.com> <54de02ae0909031551y36a0f804lf40ecf4314c4ca3e@mail.gmail.com>
From: "Jeyendran Balakrishnan" <jbalakrishnan@docomolabs-usa.com>
To: <common-user@hadoop.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

I downloaded Hadoop 0.20.0 and used the src/contrib/ec2/bin scripts to
launch a Hadoop cluster on Amazon EC2, after building a new Hadoop
0.20.0 AMI.=20

I launched an instance with my new Hadoop 0.20.0 AMI, then logged in and
ran the following to launch a new cluster:
root(/vol/hadoop-0.20.0)> bin/launch-hadoop-cluster hadoop-test 2

After the usual EC2 wait, one master and two slave instances were
launched on EC2, as expected. When I ssh'ed into the instances, here is
what I found:

Slaves: DataNode and NameNode are running
Master: Only NameNode is running

I could use HDFS commands (using $HADOOP_HOME/bin/hadoop scripts)
without any problems, from both master and slaves. However, since
JobTracker is not running, I cannot run map-reduce jobs.

I checked the logs from /vol/hadoop-0.20.0/logs for the JobTracker,
reproduced below:
------------------------------------------------------------------------
----
2009-09-03 18:55:38,486 WARN org.apache.hadoop.conf.Configuration:
DEPRECATED: hadoop-site.xml found in the classpath. Usage of
hadoop-site.xml is deprecated. Instead use core-site.xml,
mapred-site.xml and h
dfs-site.xml to override properties of core-default.xml,
mapred-default.xml and hdfs-default.xml respectively
2009-09-03 18:55:38,520 INFO org.apache.hadoop.mapred.JobTracker:
STARTUP_MSG:=20
/************************************************************
STARTUP_MSG: Starting JobTracker
STARTUP_MSG:   host =3D
domU-12-31-39-06-44-E3.compute-1.internal/10.208.75.17
STARTUP_MSG:   args =3D []
STARTUP_MSG:   version =3D 0.20.0
STARTUP_MSG:   build =3D
https://svn.apache.org/repos/asf/hadoop/core/branches/branch-0.20 -r
763504; compiled by 'ndaley' on Thu Apr  9 05:18:40 UTC 2009
************************************************************/
2009-09-03 18:55:38,652 INFO org.apache.hadoop.ipc.metrics.RpcMetrics:
Initializing RPC Metrics with hostName=3DJobTracker, port=3D50002
2009-09-03 18:55:38,703 INFO org.mortbay.log: Logging to
org.slf4j.impl.Log4jLoggerAdapter(org.mortbay.log) via
org.mortbay.log.Slf4jLog
2009-09-03 18:55:38,827 INFO org.apache.hadoop.http.HttpServer: Jetty
bound to port 50030
2009-09-03 18:55:38,827 INFO org.mortbay.log: jetty-6.1.14
2009-09-03 18:55:48,425 INFO org.mortbay.log: Started
SelectChannelConnector@0.0.0.0:50030
2009-09-03 18:55:48,427 INFO org.apache.hadoop.metrics.jvm.JvmMetrics:
Initializing JVM Metrics with processName=3DJobTracker, sessionId=3D
2009-09-03 18:55:48,432 INFO org.apache.hadoop.mapred.JobTracker:
JobTracker up at: 50002
2009-09-03 18:55:48,432 INFO org.apache.hadoop.mapred.JobTracker:
JobTracker webserver: 50030
2009-09-03 18:55:48,541 INFO org.apache.hadoop.mapred.JobTracker:
Cleaning up the system directory
2009-09-03 18:55:48,628 INFO org.apache.hadoop.hdfs.DFSClient:
org.apache.hadoop.ipc.RemoteException: java.io.IOException: File
/mnt/hadoop/mapred/system/jobtracker.info could only be replicated to 0
nodes,=20
instead of 1
        at
org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getAdditionalBlock(F
SNamesystem.java:1256)
        at
org.apache.hadoop.hdfs.server.namenode.NameNode.addBlock(NameNode.java:4
22)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.jav
a:39)
        at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessor
Impl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:508)
        at org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:959)
        at org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:955)
        at java.security.AccessController.doPrivileged(Native Method)
        at javax.security.auth.Subject.doAs(Subject.java:396)
        at org.apache.hadoop.ipc.Server$Handler.run(Server.java:953)

        at org.apache.hadoop.ipc.Client.call(Client.java:739)
        at org.apache.hadoop.ipc.RPC$Invoker.invoke(RPC.java:220)
        at $Proxy4.addBlock(Unknown Source)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.jav
a:39)
        at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessor
Impl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at
org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvo
cationHandler.java:82)
        at
org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocation
Handler.java:59)
        at $Proxy4.addBlock(Unknown Source)
        at
org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.locateFollowingBlock(DF
SClient.java:2873)
        at
org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.nextBlockOutputStream(D
FSClient.java:2755)

        at
org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.access$2000(DFSClient.j
ava:2046)
        at
org.apache.hadoop.hdfs.DFSClient$DFSOutputStream$DataStreamer.run(DFSCli
ent.java:2232)

2009-09-03 18:55:48,628 WARN org.apache.hadoop.hdfs.DFSClient:
NotReplicatedYetException sleeping
/mnt/hadoop/mapred/system/jobtracker.info retries left 4
2009-09-03 18:55:49,030 INFO org.apache.hadoop.hdfs.DFSClient:
org.apache.hadoop.ipc.RemoteException: java.io.IOException: File
/mnt/hadoop/mapred/system/jobtracker.info could only be replicated to 0
nodes,=20
instead of 1
...
------------------------------------------------------------------------
----
The JobTracker ports are all free [not used by any other process].

Any suggestions would be appreciated.

Thanks a lot,
Jeyendran


From common-user-return-17254-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 03 23:37:09 2009
Return-Path: <common-user-return-17254-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 79273 invoked from network); 3 Sep 2009 23:37:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Sep 2009 23:37:09 -0000
Received: (qmail 5878 invoked by uid 500); 3 Sep 2009 23:37:06 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 5824 invoked by uid 500); 3 Sep 2009 23:37:06 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 5813 invoked by uid 99); 3 Sep 2009 23:37:06 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 23:37:06 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ted.dunning@gmail.com designates 209.85.211.171 as permitted sender)
Received: from [209.85.211.171] (HELO mail-yw0-f171.google.com) (209.85.211.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 23:36:57 +0000
Received: by ywh1 with SMTP id 1so809997ywh.9
        for <common-user@hadoop.apache.org>; Thu, 03 Sep 2009 16:36:36 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=a++XHTeku1W4nMsOc6/oHzuXUKMd0bGoPPb1H8KF5rc=;
        b=Y/TVrRCnkq+kOAgiBOr9CiW/kwS5Ui2tW0xL8MJGUbf/Aer/39zqIBikzFcQ32kXpT
         ShRwdstDvWOEzDBLvGYPvELxP+me/A5vHsxd56BN+ijGLC11+dSxrNPaTdQnwPfGMgrO
         iBWLVDEoRknIgZHEodiITQiFUdu7W5EPeNymM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=uOWeo2on+djniB2xPBovkRn+ti7dJ80IYYxr9VZZqxyc75D/7OQhTBtK61YixlOq1+
         p0t1a7OLvaM6K6vp98TSQ77pyEI6IxFqGPGe7/HZOzcrVvyC/WpJU8AOmA2TvRm78ydq
         bOW0yXtIeick9KYkWthIExWQOsMvi697Ehcao=
MIME-Version: 1.0
Received: by 10.150.165.10 with SMTP id n10mr15948475ybe.147.1252020995052; 
	Thu, 03 Sep 2009 16:36:35 -0700 (PDT)
In-Reply-To: <54de02ae0909031551y36a0f804lf40ecf4314c4ca3e@mail.gmail.com>
References: <c9b0d8bd0909030946i708d3b5k94f6f8a0de8a57a1@mail.gmail.com> 
	<35a22e220909031253n56295ea8yf57e8c4df0cb5a74@mail.gmail.com> 
	<c9b0d8bd0909031307n3fc0a5dbjb443a7fee19bb76@mail.gmail.com> 
	<c9b0d8bd0909031308j3dceae37r85d2932021d0f51d@mail.gmail.com> 
	<35a22e220909031312n77bd36b3w9e52707b7d0ab2bb@mail.gmail.com> 
	<c9b0d8bd0909031342t44455c80sf52c14b4c11c663@mail.gmail.com> 
	<54de02ae0909031551y36a0f804lf40ecf4314c4ca3e@mail.gmail.com>
From: Ted Dunning <ted.dunning@gmail.com>
Date: Thu, 3 Sep 2009 16:36:15 -0700
Message-ID: <c7d45fc70909031636q1508e719y1f57f8e7f2de6dbb@mail.gmail.com>
Subject: Re: Pregel
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=000e0cd58c96a954500472b4da01
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd58c96a954500472b4da01
Content-Type: text/plain; charset=UTF-8

Hamburg has been excessively "stable" for some time.  If you want to do
something, I would recommend contributing to Mahout.

On Thu, Sep 3, 2009 at 3:51 PM, Ashutosh Chauhan <ashutosh.chauhan@gmail.com
> wrote:

> Hamburg is here: http://wiki.apache.org/hadoop/Hamburg
>
>

--000e0cd58c96a954500472b4da01--

From common-user-return-17255-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 03 23:45:45 2009
Return-Path: <common-user-return-17255-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 80441 invoked from network); 3 Sep 2009 23:45:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 3 Sep 2009 23:45:45 -0000
Received: (qmail 11383 invoked by uid 500); 3 Sep 2009 23:45:43 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 11324 invoked by uid 500); 3 Sep 2009 23:45:42 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 11314 invoked by uid 99); 3 Sep 2009 23:45:42 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 23:45:42 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of markkerzner@gmail.com designates 209.85.220.225 as permitted sender)
Received: from [209.85.220.225] (HELO mail-fx0-f225.google.com) (209.85.220.225)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 03 Sep 2009 23:45:34 +0000
Received: by fxm25 with SMTP id 25so340047fxm.29
        for <common-user@hadoop.apache.org>; Thu, 03 Sep 2009 16:45:13 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=249dPSw2H2da5ro+t9+knPZ+czuzCiSQpLhUYRDMStY=;
        b=JpTXHkYrY3+7P7O6IG2GtcyleKrpt/ndbwCGZSo1PoQKdVlB3UDt+VoxMD4pGYp07c
         NSAsSpBUfGSjEpj5xKUKm97tSZZxiUvwALJRFT6IvIvVvu1SV1spFpwui/ZG0nGFYKHv
         6FhyHjtvSZ4BLvOuU5ssOTjJ3RlnidBoQOSLo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=fFbH0s5souKeAZNJyfRRKOPwPm9WLtArKeAagZ78Qnsr8pGRDT77fwWMI6n3sbIHGJ
         1Z5MQJzznc4o6rtLnbsw/J7ZCMBD7hW6p/Ws0NymNnvU64r4vbN1g+AjHbRrmUee6JlE
         2oVVjVzf4Djb3FXf/qNfUUlNvHLvaKvvNFV10=
MIME-Version: 1.0
Received: by 10.204.154.144 with SMTP id o16mr8406056bkw.213.1252021513294; 
	Thu, 03 Sep 2009 16:45:13 -0700 (PDT)
In-Reply-To: <c7d45fc70909031636q1508e719y1f57f8e7f2de6dbb@mail.gmail.com>
References: <c9b0d8bd0909030946i708d3b5k94f6f8a0de8a57a1@mail.gmail.com>
	 <35a22e220909031253n56295ea8yf57e8c4df0cb5a74@mail.gmail.com>
	 <c9b0d8bd0909031307n3fc0a5dbjb443a7fee19bb76@mail.gmail.com>
	 <c9b0d8bd0909031308j3dceae37r85d2932021d0f51d@mail.gmail.com>
	 <35a22e220909031312n77bd36b3w9e52707b7d0ab2bb@mail.gmail.com>
	 <c9b0d8bd0909031342t44455c80sf52c14b4c11c663@mail.gmail.com>
	 <54de02ae0909031551y36a0f804lf40ecf4314c4ca3e@mail.gmail.com>
	 <c7d45fc70909031636q1508e719y1f57f8e7f2de6dbb@mail.gmail.com>
Date: Thu, 3 Sep 2009 18:45:13 -0500
Message-ID: <c9b0d8bd0909031645q204e4fefpb87338c686b64d1a@mail.gmail.com>
Subject: Re: Pregel
From: Mark Kerzner <markkerzner@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0015175cb40a8d11ff0472b4f969
X-Virus-Checked: Checked by ClamAV on apache.org

--0015175cb40a8d11ff0472b4f969
Content-Type: text/plain; charset=ISO-8859-1

But Ted,
I am interested specifically in Pregel kind of system, for distributed graph
operations, and Mahout is for distributed learning. Here what I would
ideally like to do:


   - Somebody must have info on Pregel - it's out, has been presented, and
   the information is public. Anybody has been there and can at least re-tell?
   The subscriptions are expensive, but I could buy one copy of the article, if
   it is available. I will also write directly to the authors;
   - Study that and discuss relevant information and architecture;
   - Do the first implementation.

I personally don't like the name Hamburg, but I could live with that.

Mark

On Thu, Sep 3, 2009 at 6:36 PM, Ted Dunning <ted.dunning@gmail.com> wrote:

> Hamburg has been excessively "stable" for some time.  If you want to do
> something, I would recommend contributing to Mahout.
>
> On Thu, Sep 3, 2009 at 3:51 PM, Ashutosh Chauhan <
> ashutosh.chauhan@gmail.com
> > wrote:
>
> > Hamburg is here: http://wiki.apache.org/hadoop/Hamburg
> >
> >
>

--0015175cb40a8d11ff0472b4f969--

From common-user-return-17256-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 04 00:58:30 2009
Return-Path: <common-user-return-17256-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 4167 invoked from network); 4 Sep 2009 00:58:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Sep 2009 00:58:30 -0000
Received: (qmail 70643 invoked by uid 500); 4 Sep 2009 00:58:28 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 70561 invoked by uid 500); 4 Sep 2009 00:58:27 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 70551 invoked by uid 99); 4 Sep 2009 00:58:27 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 00:58:27 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [209.85.221.186] (HELO mail-qy0-f186.google.com) (209.85.221.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 00:58:17 +0000
Received: by qyk16 with SMTP id 16so398859qyk.20
        for <common-user@hadoop.apache.org>; Thu, 03 Sep 2009 17:57:56 -0700 (PDT)
MIME-Version: 1.0
Sender: edward@udanax.org
Received: by 10.224.118.149 with SMTP id v21mr6962512qaq.289.1252025875967; 
	Thu, 03 Sep 2009 17:57:55 -0700 (PDT)
In-Reply-To: <c9b0d8bd0909031645q204e4fefpb87338c686b64d1a@mail.gmail.com>
References: <c9b0d8bd0909030946i708d3b5k94f6f8a0de8a57a1@mail.gmail.com>
	 <35a22e220909031253n56295ea8yf57e8c4df0cb5a74@mail.gmail.com>
	 <c9b0d8bd0909031307n3fc0a5dbjb443a7fee19bb76@mail.gmail.com>
	 <c9b0d8bd0909031308j3dceae37r85d2932021d0f51d@mail.gmail.com>
	 <35a22e220909031312n77bd36b3w9e52707b7d0ab2bb@mail.gmail.com>
	 <c9b0d8bd0909031342t44455c80sf52c14b4c11c663@mail.gmail.com>
	 <54de02ae0909031551y36a0f804lf40ecf4314c4ca3e@mail.gmail.com>
	 <c7d45fc70909031636q1508e719y1f57f8e7f2de6dbb@mail.gmail.com>
	 <c9b0d8bd0909031645q204e4fefpb87338c686b64d1a@mail.gmail.com>
Date: Fri, 4 Sep 2009 09:57:55 +0900
X-Google-Sender-Auth: ae374dba8d8f5071
Message-ID: <eb4706e0909031757t590423b2xaac522a0e6d4cb93@mail.gmail.com>
Subject: Re: Pregel
From: "Edward J. Yoon" <edwardyoon@apache.org>
To: common-user@hadoop.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

We've already made a prototype of Hamburg based on multi thread. It's
a BSP based graph computing framework, not a M/R based application.

Please Join to ... http://groups.google.com/group/hamburg-dev

On Fri, Sep 4, 2009 at 8:45 AM, Mark Kerzner<markkerzner@gmail.com> wrote:
> But Ted,
> I am interested specifically in Pregel kind of system, for distributed gr=
aph
> operations, and Mahout is for distributed learning. Here what I would
> ideally like to do:
>
>
> =C2=A0 - Somebody must have info on Pregel - it's out, has been presented=
, and
> =C2=A0 the information is public. Anybody has been there and can at least=
 re-tell?
> =C2=A0 The subscriptions are expensive, but I could buy one copy of the a=
rticle, if
> =C2=A0 it is available. I will also write directly to the authors;
> =C2=A0 - Study that and discuss relevant information and architecture;
> =C2=A0 - Do the first implementation.
>
> I personally don't like the name Hamburg, but I could live with that.
>
> Mark
>
> On Thu, Sep 3, 2009 at 6:36 PM, Ted Dunning <ted.dunning@gmail.com> wrote=
:
>
>> Hamburg has been excessively "stable" for some time. =C2=A0If you want t=
o do
>> something, I would recommend contributing to Mahout.
>>
>> On Thu, Sep 3, 2009 at 3:51 PM, Ashutosh Chauhan <
>> ashutosh.chauhan@gmail.com
>> > wrote:
>>
>> > Hamburg is here: http://wiki.apache.org/hadoop/Hamburg
>> >
>> >
>>
>



--=20
Best Regards, Edward J. Yoon @ NHN, corp.
edwardyoon@apache.org
http://blog.udanax.org

From common-user-return-17257-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 04 01:56:30 2009
Return-Path: <common-user-return-17257-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 22958 invoked from network); 4 Sep 2009 01:56:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Sep 2009 01:56:30 -0000
Received: (qmail 7783 invoked by uid 500); 4 Sep 2009 01:56:27 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 7681 invoked by uid 500); 4 Sep 2009 01:56:27 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 7671 invoked by uid 99); 4 Sep 2009 01:56:27 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 01:56:27 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ted.dunning@gmail.com designates 209.85.210.175 as permitted sender)
Received: from [209.85.210.175] (HELO mail-yx0-f175.google.com) (209.85.210.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 01:56:18 +0000
Received: by yxe5 with SMTP id 5so2027648yxe.33
        for <common-user@hadoop.apache.org>; Thu, 03 Sep 2009 18:55:57 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=plrUBJaHTecj+zMbgyAFK6SU6DQrVcKiC721FInRyX8=;
        b=da/F3rvaVt1vMsf3P+Q3PjFm4dMvE048byNLNDmDAALqTXdQ+X7UxWE0ykhrBKyW0K
         2iTjZ8DqS8URaqhEj2LoSHa3sUalRR1AoZOAzdcB+BHtDSD6kURGUHqBJDcCyZqmr0a8
         9ka0KbrW79h1J5PHdWQJNStVYXzVeqYJO3T1A=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=cAEcPMRKjHAUrb4zwEyvzJp9o8ubCbT6+PTFg7GIaPBUvtV5FHXS+/ajOTzw5ngl31
         Edr2zIpvSXijGyB0UKBfOHK/Bb8wcj//iY7pBfft9VkV217O8YqNEgnhZdkER9gTQZPK
         vhU6TXCv8W81z8oa52nZhlK7y9kVP7qzJv1P0=
MIME-Version: 1.0
Received: by 10.150.165.10 with SMTP id n10mr16126610ybe.147.1252029357104; 
	Thu, 03 Sep 2009 18:55:57 -0700 (PDT)
In-Reply-To: <c9b0d8bd0909031645q204e4fefpb87338c686b64d1a@mail.gmail.com>
References: <c9b0d8bd0909030946i708d3b5k94f6f8a0de8a57a1@mail.gmail.com> 
	<35a22e220909031253n56295ea8yf57e8c4df0cb5a74@mail.gmail.com> 
	<c9b0d8bd0909031307n3fc0a5dbjb443a7fee19bb76@mail.gmail.com> 
	<c9b0d8bd0909031308j3dceae37r85d2932021d0f51d@mail.gmail.com> 
	<35a22e220909031312n77bd36b3w9e52707b7d0ab2bb@mail.gmail.com> 
	<c9b0d8bd0909031342t44455c80sf52c14b4c11c663@mail.gmail.com> 
	<54de02ae0909031551y36a0f804lf40ecf4314c4ca3e@mail.gmail.com> 
	<c7d45fc70909031636q1508e719y1f57f8e7f2de6dbb@mail.gmail.com> 
	<c9b0d8bd0909031645q204e4fefpb87338c686b64d1a@mail.gmail.com>
From: Ted Dunning <ted.dunning@gmail.com>
Date: Thu, 3 Sep 2009 18:55:37 -0700
Message-ID: <c7d45fc70909031855o50b19450u35a2068b559f866c@mail.gmail.com>
Subject: Re: Pregel
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=000e0cd58c961456390472b6cd98
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd58c961456390472b6cd98
Content-Type: text/plain; charset=UTF-8

You would be entirely welcome in Mahout.   Graph based algorithms are key
for lots of kinds of interesting learning and would be a fabulous thing to
have in a comprehensive substrate.

I personally would also be very interested in learning more about about what
sorts of things Pregel is doing.  It is relatively easy to build simple
graph algorithms on top of Map-reduce, but these algorithms typically
require a map-reduce iteration to propagate information.  Good algorithms
for that architecture have exponential propagation so that you don't need a
huge number of iterations.  It smelled like Pregel was doing something much
more interesting.

On Thu, Sep 3, 2009 at 4:45 PM, Mark Kerzner <markkerzner@gmail.com> wrote:

> But Ted,
> I am interested specifically in Pregel kind of system, for distributed
> graph
> operations, and Mahout is for distributed learning. Here what I would
> ideally like to do:
>
>
>   - Somebody must have info on Pregel - it's out, has been presented, and
>   the information is public. Anybody has been there and can at least
> re-tell?
>   The subscriptions are expensive, but I could buy one copy of the article,
> if
>   it is available. I will also write directly to the authors;
>   - Study that and discuss relevant information and architecture;
>   - Do the first implementation.
>
> I personally don't like the name Hamburg, but I could live with that.
>
>

--000e0cd58c961456390472b6cd98--

From common-user-return-17258-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 04 02:07:49 2009
Return-Path: <common-user-return-17258-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 25651 invoked from network); 4 Sep 2009 02:07:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Sep 2009 02:07:49 -0000
Received: (qmail 18625 invoked by uid 500); 4 Sep 2009 02:07:46 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 18549 invoked by uid 500); 4 Sep 2009 02:07:46 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 18539 invoked by uid 99); 4 Sep 2009 02:07:46 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 02:07:46 +0000
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [74.125.92.27] (HELO qw-out-2122.google.com) (74.125.92.27)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 02:07:35 +0000
Received: by qw-out-2122.google.com with SMTP id 8so163205qwh.35
        for <common-user@hadoop.apache.org>; Thu, 03 Sep 2009 19:07:12 -0700 (PDT)
MIME-Version: 1.0
Sender: edward@udanax.org
Received: by 10.224.31.13 with SMTP id w13mr6966944qac.223.1252030031896; Thu, 
	03 Sep 2009 19:07:11 -0700 (PDT)
In-Reply-To: <eb4706e0909031757t590423b2xaac522a0e6d4cb93@mail.gmail.com>
References: <c9b0d8bd0909030946i708d3b5k94f6f8a0de8a57a1@mail.gmail.com>
	 <35a22e220909031253n56295ea8yf57e8c4df0cb5a74@mail.gmail.com>
	 <c9b0d8bd0909031307n3fc0a5dbjb443a7fee19bb76@mail.gmail.com>
	 <c9b0d8bd0909031308j3dceae37r85d2932021d0f51d@mail.gmail.com>
	 <35a22e220909031312n77bd36b3w9e52707b7d0ab2bb@mail.gmail.com>
	 <c9b0d8bd0909031342t44455c80sf52c14b4c11c663@mail.gmail.com>
	 <54de02ae0909031551y36a0f804lf40ecf4314c4ca3e@mail.gmail.com>
	 <c7d45fc70909031636q1508e719y1f57f8e7f2de6dbb@mail.gmail.com>
	 <c9b0d8bd0909031645q204e4fefpb87338c686b64d1a@mail.gmail.com>
	 <eb4706e0909031757t590423b2xaac522a0e6d4cb93@mail.gmail.com>
Date: Fri, 4 Sep 2009 11:07:11 +0900
X-Google-Sender-Auth: d9d1d7cc77c1997c
Message-ID: <eb4706e0909031907t498f20b4v17fbbd1904e0ef42@mail.gmail.com>
Subject: Re: Pregel
From: "Edward J. Yoon" <edwardyoon@apache.org>
To: common-user@hadoop.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Just FYI, Hama (Hadoop Matrix, http://incubator.apache.org/hama) also
consider adopting this computing model based on bulk synchronous
parallel.

On Fri, Sep 4, 2009 at 9:57 AM, Edward J. Yoon<edwardyoon@apache.org> wrote=
:
> We've already made a prototype of Hamburg based on multi thread. It's
> a BSP based graph computing framework, not a M/R based application.
>
> Please Join to ... http://groups.google.com/group/hamburg-dev
>
> On Fri, Sep 4, 2009 at 8:45 AM, Mark Kerzner<markkerzner@gmail.com> wrote=
:
>> But Ted,
>> I am interested specifically in Pregel kind of system, for distributed g=
raph
>> operations, and Mahout is for distributed learning. Here what I would
>> ideally like to do:
>>
>>
>> =C2=A0 - Somebody must have info on Pregel - it's out, has been presente=
d, and
>> =C2=A0 the information is public. Anybody has been there and can at leas=
t re-tell?
>> =C2=A0 The subscriptions are expensive, but I could buy one copy of the =
article, if
>> =C2=A0 it is available. I will also write directly to the authors;
>> =C2=A0 - Study that and discuss relevant information and architecture;
>> =C2=A0 - Do the first implementation.
>>
>> I personally don't like the name Hamburg, but I could live with that.
>>
>> Mark
>>
>> On Thu, Sep 3, 2009 at 6:36 PM, Ted Dunning <ted.dunning@gmail.com> wrot=
e:
>>
>>> Hamburg has been excessively "stable" for some time. =C2=A0If you want =
to do
>>> something, I would recommend contributing to Mahout.
>>>
>>> On Thu, Sep 3, 2009 at 3:51 PM, Ashutosh Chauhan <
>>> ashutosh.chauhan@gmail.com
>>> > wrote:
>>>
>>> > Hamburg is here: http://wiki.apache.org/hadoop/Hamburg
>>> >
>>> >
>>>
>>
>
>
>
> --
> Best Regards, Edward J. Yoon @ NHN, corp.
> edwardyoon@apache.org
> http://blog.udanax.org
>



--=20
Best Regards, Edward J. Yoon @ NHN, corp.
edwardyoon@apache.org
http://blog.udanax.org

From common-user-return-17259-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 04 02:14:45 2009
Return-Path: <common-user-return-17259-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 26929 invoked from network); 4 Sep 2009 02:14:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Sep 2009 02:14:45 -0000
Received: (qmail 25628 invoked by uid 500); 4 Sep 2009 02:14:43 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 25530 invoked by uid 500); 4 Sep 2009 02:14:43 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 25520 invoked by uid 99); 4 Sep 2009 02:14:42 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 02:14:42 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of starrysl@gmail.com designates 209.85.132.251 as permitted sender)
Received: from [209.85.132.251] (HELO an-out-0708.google.com) (209.85.132.251)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 02:14:34 +0000
Received: by an-out-0708.google.com with SMTP id c38so200436ana.29
        for <common-user@hadoop.apache.org>; Thu, 03 Sep 2009 19:14:13 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=/unH6ILqgziPmcM697UF1p8Lp7SjOrira7gFc9uQpOc=;
        b=HNpY7xerlJWg9106A7Z1iS2u/msCl4blTsyjaJqR0NSkYu4INdqLSf7vhKUyj0g9ig
         MJAQSpy1XHkiCOzv7lu8FiDEJHJGOjeOjRJ1RV/uphWo77BEPRPKQxd5ytDduqdvpOxp
         tWHEFw3124jw9L07XkQK+eyREa5raD23JqKQ8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=unan9Boji3pZcbzk06zv/al13xknBTVlNxOlJvuMohK2Fqqe8FI1otpu/HsiUTTM1d
         g1bYecqJTBJPuvEkdBKd7t/gWhj6PXUGRcYMdDQjMYWMCFwVTSfpSigPsVoz9Hrn5hwD
         Rb3aACObwFpP2u51cdJ2kwQmGbksZNmVNhvSE=
MIME-Version: 1.0
Received: by 10.231.121.164 with SMTP id h36mr1785347ibr.9.1252030453097; Thu, 
	03 Sep 2009 19:14:13 -0700 (PDT)
In-Reply-To: <25283387.post@talk.nabble.com>
References: <25283387.post@talk.nabble.com>
From: Starry SHI <starrysl@gmail.com>
Date: Fri, 4 Sep 2009 10:13:53 +0800
Message-ID: <a5accba30909031913m35b8b5e7u5e0211d1b4e9e845@mail.gmail.com>
Subject: Re: multi core nodes
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0016e64606ca67a55a0472b70eb4
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e64606ca67a55a0472b70eb4
Content-Type: text/plain; charset=UTF-8

I also would like to know whether it is possible to configure this. Hope
somebody can provide a solution.

Starry


On Fri, Sep 4, 2009 at 04:20, ll_oz_ll <himanshu_coolguy@yahoo.com> wrote:

>
> Hi,
> Is hadoop able to take into account multi core nodes, so that nodes which
> have multiple cores run multiple concurrent jobs ?
> Or does that need to be configured manually and if so can that be
> configured
> individually for each node ?
>
> thanks. I would really appreciate any clarification on this.
>
>
> --
> View this message in context:
> http://www.nabble.com/multi-core-nodes-tp25283387p25283387.html
> Sent from the Hadoop core-user mailing list archive at Nabble.com.
>
>

--0016e64606ca67a55a0472b70eb4--

From common-user-return-17260-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 04 04:53:38 2009
Return-Path: <common-user-return-17260-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 61012 invoked from network); 4 Sep 2009 04:53:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Sep 2009 04:53:38 -0000
Received: (qmail 29443 invoked by uid 500); 4 Sep 2009 04:53:35 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 29381 invoked by uid 500); 4 Sep 2009 04:53:35 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 29371 invoked by uid 99); 4 Sep 2009 04:53:35 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 04:53:35 +0000
X-ASF-Spam-Status: No, hits=1.8 required=10.0
	tests=MIME_QP_LONG_LINE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of Ramiya_V@persistent.co.in designates 202.54.11.87 as permitted sender)
Received: from [202.54.11.87] (HELO bmapps.persistent.co.in) (202.54.11.87)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 04:53:26 +0000
Received: from bmapps.persistent.co.in (unknown [127.0.0.1])
	by bmapps.persistent.co.in (Symantec Mail Security) with ESMTP id B575A464057
	for <common-user@hadoop.apache.org>; Fri,  4 Sep 2009 10:23:02 +0530 (IST)
X-AuditID: 0a4e0006-9da1abb000003705-4e-4aa09d2eae88
Received: from puneexchange.persistent.co.in (unknown [10.78.0.1])
	(using TLSv1 with cipher AES128-SHA (128/128 bits))
	(No client certificate requested)
	by bmapps.persistent.co.in (Symantec Mail Security) with ESMTP id 8FE57420002
	for <common-user@hadoop.apache.org>; Fri,  4 Sep 2009 10:23:02 +0530 (IST)
Received: from Exchange.persistent.co.in ([fe80::ad8a:d553:ef93:bfdd]) by CAS1
 ([10.77.224.46]) with mapi; Fri, 4 Sep 2009 10:23:02 +0530
From: Ramiya V <Ramiya_V@persistent.co.in>
To: "common-user@hadoop.apache.org" <common-user@hadoop.apache.org>
Date: Fri, 4 Sep 2009 10:23:01 +0530
Subject: RE: Issues with performance on Hadoop/Hive
Thread-Topic: Issues with performance on Hadoop/Hive
Thread-Index: Acorok9TztStehcxTPC0+1LpFpgcDwAULoxwAEmteIo=
Message-ID: <4BA5307AF084A04E83875ECC173BC77B9CEF98ED0B@EXCHANGE.persistent.co.in>
References: <4BA5307AF084A04E83875ECC173BC77B9CEF98ED04@EXCHANGE.persistent.co.in>
 <35a22e220909020051t7a66a625h98aa8cc60bcb4750@mail.gmail.com>,<68B7689C98024D43B4C2709456F0B5200A1F75E9D8@SC-MBXC1.TheFacebook.com>
In-Reply-To: <68B7689C98024D43B4C2709456F0B5200A1F75E9D8@SC-MBXC1.TheFacebook.com>
Accept-Language: en-US, en-IN
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US, en-IN
Content-Type: text/plain; charset="us-ascii"
content-transfer-encoding: quoted-printable
MIME-Version: 1.0
X-Brightmail-Tracker: AAAAAA==
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

Thanks Amandeep and Ashish!

@Ashish: I have set the hive.metastore.warehouse.dir parameter as /home/hive=
/warehouse. This warehouse directory is on the local filesystem. So will the=
 tables now get stored on the local filesystem or HDFS? I mean do we need to=
 specify explicitly if we want the path to refer a location on the local fil=
esystem?

@Amandeep:  Actually I need to know how the data gets distributed across the=
 cluster. The master machine has 70GB free space and the 3 slaves have 140GB=
,50GB,140GB free space on Ubuntu. So when I load a table on Hive with 45GB o=
f data,how will it get distributed across 4 nodes? I mean since master has 7=
0GB free space will it store all the data on the master itself? (This I obse=
rved as when I loaded the table, 45GB data was stored on master and some blo=
cks were replicated on the other 3 slaves)  I have set dfs.replication facto=
r as 2. I wanted to know how exactly Hadoop uses its intelligence to utilize=
 the free space effectively to store data on HDFS on a cluster,


 -Ramya
________________________________________
From: Ashish Thusoo [athusoo@facebook.com]
Sent: Wednesday, September 02, 2009 11:02 PM
To: common-user@hadoop.apache.org
Subject: RE: Issues with performance on Hadoop/Hive

Hi Ramya,

If you are using the hive-default.xml and have not overwritten the hive.meta=
store.warehouse.dir parameter then by default the tables will get placed in

/user/hive/warehouse in hdfs.

Ashish

-----Original Message-----
From: Amandeep Khurana [mailto:amansk@gmail.com]
Sent: Wednesday, September 02, 2009 12:52 AM
To: common-user@hadoop.apache.org
Subject: Re: Issues with performance on Hadoop/Hive

Answers inline


Amandeep Khurana
Computer Science Graduate Student
University of California, Santa Cruz


On Tue, Sep 1, 2009 at 10:08 PM, Ramiya V <Ramiya_V@persistent.co.in> wrote:

> Hi,
>
> I have set up a 4 (physica) nodes Hadoop cluster. Configuration: 2GB
> RAM each machine. Currently am using the sub-project Hive for firing
> queries on 45GB of data. I have certain queries that need to be
> resolved:-
>
> 1) The performance that I am getting with the above setup is quite
> bad. It takes app 39 minutes for simple select query (with where
> clause). I have set the mapred.map.tasks=3D13 and mapred.reduce.tasks=3D7.
> Is this setting good enough for the above setup? Are there any
> significant configuration parameters I need to set for getting a better pe=
rformance on Hive?
>
>
Check on the resource utilization. I think you shouldnt be running more than
3 mappers + 1 reducer on each node at any time (given the hardware you are u=
sing). But then that mostly depends on the amount of work being done in the=
 mappers and reducers.

2) Does anybody know how exactly the data on HDFS is distributed across
> nodes in a cluster? Also when we load the tables in Hive (by firing
> Load command on master node),how and where is the data placed on HDFS
> in a cluster?
>

Files are divided into blocks and the blocks are stored on the Datanodes..
Each block is 64MB by default. I'm not sure how the blocks are distributed a=
mong the datanodes..

3) How and when does the data replication for HDFS take place in a cluster?
> Currently I have set the dfs replication factor=3D1. How does this
> affect the performance?
>

Once you put the data into the hdfs, it starts replicating the blocks.
However, the put is successful as soon as one block gets created...


>
> 3) Does adding a Virtual Machine to a physical machine cluster bring
> about significant degradation in the performance?
>

Dont have numbers for this, but it does impact the performance. Moreover, yo=
ur hardware resources are low and there is really no value add in using virt=
ual machines on top of it.


> Please let me know asap.
>
> Thanks,
> Ramya
>
>
>
>
> DISCLAIMER
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> This e-mail may contain privileged and confidential information which
> is the property of Persistent Systems Ltd. It is intended only for the
> use of the individual or entity to which it is addressed. If you are
> not the intended recipient, you are not authorized to read, retain,
> copy, print, distribute or use this message. If you have received this
> communication in error, please notify the sender and delete all copies of=
 this message.
> Persistent Systems Ltd. does not accept any liability for virus
> infected mails.
>

DISCLAIMER=0A=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=0A=
This e-mail may contain privileged and confidential information which is the=
 property of Persistent Systems Ltd. It is intended only for the use of the=
 individual or entity to which it is addressed. If you are not the intended=
 recipient, you are not authorized to read, retain, copy, print, distribute=
 or use this message. If you have received this communication in error, plea=
se notify the sender and delete all copies of this message. Persistent Syste=
ms Ltd. does not accept any liability for virus infected mails.

From common-user-return-17261-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 04 05:14:32 2009
Return-Path: <common-user-return-17261-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 66201 invoked from network); 4 Sep 2009 05:14:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Sep 2009 05:14:32 -0000
Received: (qmail 48436 invoked by uid 500); 4 Sep 2009 05:14:30 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 48391 invoked by uid 500); 4 Sep 2009 05:14:30 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 48381 invoked by uid 99); 4 Sep 2009 05:14:29 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 05:14:29 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of amansk@gmail.com designates 209.85.132.244 as permitted sender)
Received: from [209.85.132.244] (HELO an-out-0708.google.com) (209.85.132.244)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 05:14:21 +0000
Received: by an-out-0708.google.com with SMTP id c38so241156ana.29
        for <common-user@hadoop.apache.org>; Thu, 03 Sep 2009 22:14:01 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=nhYfaTUOx0Sm26rkBocDQ+hBj9mx8tuabs4k7BL1Ia0=;
        b=xwOK64yHudThthTqj6hEOLFhSr+ilSY4i+iiO4zdSBU7caHTmJ/UZZJhc+Cfsep08q
         yiCw0P1r7eDhu2ILCzyrpGfpGlxiqcB0iEXmSWKFuAP27GJxx8aYDUYdqwq9PqqpafQq
         3+OV8VsA1yibOOPBZQs82AH69MR9Is2a4oQAE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=VgmAkVQlJseuFLdPLdVcBbihxPeulHoO1L2+wBzAGOX/kj19ZShV6bWxvyt1WFRst1
         oiw8lzMn0ipq2RFPbSYClhinvWkEplhwuvXTVxOL8vfwekdL5rD3NhKcDqjoy9QuWays
         UBnD2udYVe5BdYFnepDiHC8vZAfUpgS7BHFXY=
MIME-Version: 1.0
Received: by 10.101.176.38 with SMTP id d38mr11850089anp.12.1252041241074; 
	Thu, 03 Sep 2009 22:14:01 -0700 (PDT)
In-Reply-To: <c7d45fc70909031855o50b19450u35a2068b559f866c@mail.gmail.com>
References: <c9b0d8bd0909030946i708d3b5k94f6f8a0de8a57a1@mail.gmail.com> 
	<35a22e220909031253n56295ea8yf57e8c4df0cb5a74@mail.gmail.com> 
	<c9b0d8bd0909031307n3fc0a5dbjb443a7fee19bb76@mail.gmail.com> 
	<c9b0d8bd0909031308j3dceae37r85d2932021d0f51d@mail.gmail.com> 
	<35a22e220909031312n77bd36b3w9e52707b7d0ab2bb@mail.gmail.com> 
	<c9b0d8bd0909031342t44455c80sf52c14b4c11c663@mail.gmail.com> 
	<54de02ae0909031551y36a0f804lf40ecf4314c4ca3e@mail.gmail.com> 
	<c7d45fc70909031636q1508e719y1f57f8e7f2de6dbb@mail.gmail.com> 
	<c9b0d8bd0909031645q204e4fefpb87338c686b64d1a@mail.gmail.com> 
	<c7d45fc70909031855o50b19450u35a2068b559f866c@mail.gmail.com>
From: Amandeep Khurana <amansk@gmail.com>
Date: Thu, 3 Sep 2009 22:13:41 -0700
Message-ID: <35a22e220909032213q336024ffxd5e6ca898f529d28@mail.gmail.com>
Subject: Re: Pregel
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=001636c927f36b1c8f0472b99145
X-Virus-Checked: Checked by ClamAV on apache.org

--001636c927f36b1c8f0472b99145
Content-Type: text/plain; charset=ISO-8859-1

On Thu, Sep 3, 2009 at 6:55 PM, Ted Dunning <ted.dunning@gmail.com> wrote:

> You would be entirely welcome in Mahout.   Graph based algorithms are key
> for lots of kinds of interesting learning and would be a fabulous thing to
> have in a comprehensive substrate.
>
> I personally would also be very interested in learning more about about
> what
> sorts of things Pregel is doing.  It is relatively easy to build simple
> graph algorithms on top of Map-reduce, but these algorithms typically
> require a map-reduce iteration to propagate information.  Good algorithms
> for that architecture have exponential propagation so that you don't need a
> huge number of iterations.  It smelled like Pregel was doing something much
> more interesting.
>

I second that.. Looks like Pregel is something more than just propagation.
However, the paper is still not available on ACM's website. So, we dont know
any details yet... Lets just wait for that to be available before talking
more about it.


>
> On Thu, Sep 3, 2009 at 4:45 PM, Mark Kerzner <markkerzner@gmail.com>
> wrote:
>
> > But Ted,
> > I am interested specifically in Pregel kind of system, for distributed
> > graph
> > operations, and Mahout is for distributed learning. Here what I would
> > ideally like to do:
> >
> >
> >   - Somebody must have info on Pregel - it's out, has been presented, and
> >   the information is public. Anybody has been there and can at least
> > re-tell?
> >   The subscriptions are expensive, but I could buy one copy of the
> article,
> > if
> >   it is available. I will also write directly to the authors;
> >   - Study that and discuss relevant information and architecture;
> >   - Do the first implementation.
> >
> > I personally don't like the name Hamburg, but I could live with that.
> >
> >
>

--001636c927f36b1c8f0472b99145--

From common-user-return-17262-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 04 06:19:59 2009
Return-Path: <common-user-return-17262-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 93839 invoked from network); 4 Sep 2009 06:19:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Sep 2009 06:19:59 -0000
Received: (qmail 16317 invoked by uid 500); 4 Sep 2009 06:19:57 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 16236 invoked by uid 500); 4 Sep 2009 06:19:57 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 16226 invoked by uid 99); 4 Sep 2009 06:19:56 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 06:19:56 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ted.dunning@gmail.com designates 209.85.211.171 as permitted sender)
Received: from [209.85.211.171] (HELO mail-yw0-f171.google.com) (209.85.211.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 06:19:47 +0000
Received: by ywh1 with SMTP id 1so1287429ywh.9
        for <common-user@hadoop.apache.org>; Thu, 03 Sep 2009 23:19:26 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=eAR12OiCAYTO4J2butWDQUMrR4gw+iZV3w+gCHcxCnY=;
        b=uTKHJgUUIYl6i/uKZZVbQ5lTtwCWvcRzCtbzxUP6LeDlgIUaWloDPKvGgG+j0ZVIzG
         YsqrQ0pVQFFA40JHcQ6mgHMubtcaGvl7/e7hF9Y+QtSUvevkejBlbp/BzBAbFvoRtaS+
         HcUR6KEPC6FpmjbCb3ozEhDtXVkHyD/NRwc0Y=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=V04MkH/n5USPjMFaMNNN+yi9Q0pKqGlVEadkDPbEpGffhWSmoo26aoT7wT69ZWBs81
         lrmnpcnjRyQrXvQe7amAjHtxlPW/Qp/kghI4RvOR+Ch8Pr2Gm7GKaLRAStDlAC6uAfsj
         FsAZTnFnX//a0Qw007i9IpgXbpkKJ7DEZKCjs=
MIME-Version: 1.0
Received: by 10.150.244.4 with SMTP id r4mr17799876ybh.127.1252045164134; Thu, 
	03 Sep 2009 23:19:24 -0700 (PDT)
In-Reply-To: <eb4706e0909031907t498f20b4v17fbbd1904e0ef42@mail.gmail.com>
References: <c9b0d8bd0909030946i708d3b5k94f6f8a0de8a57a1@mail.gmail.com> 
	<c9b0d8bd0909031307n3fc0a5dbjb443a7fee19bb76@mail.gmail.com> 
	<c9b0d8bd0909031308j3dceae37r85d2932021d0f51d@mail.gmail.com> 
	<35a22e220909031312n77bd36b3w9e52707b7d0ab2bb@mail.gmail.com> 
	<c9b0d8bd0909031342t44455c80sf52c14b4c11c663@mail.gmail.com> 
	<54de02ae0909031551y36a0f804lf40ecf4314c4ca3e@mail.gmail.com> 
	<c7d45fc70909031636q1508e719y1f57f8e7f2de6dbb@mail.gmail.com> 
	<c9b0d8bd0909031645q204e4fefpb87338c686b64d1a@mail.gmail.com> 
	<eb4706e0909031757t590423b2xaac522a0e6d4cb93@mail.gmail.com> 
	<eb4706e0909031907t498f20b4v17fbbd1904e0ef42@mail.gmail.com>
From: Ted Dunning <ted.dunning@gmail.com>
Date: Thu, 3 Sep 2009 23:19:04 -0700
Message-ID: <c7d45fc70909032319ree812ceja440660911616032@mail.gmail.com>
Subject: Re: Pregel
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=000e0cd25d144040d80472ba7b26
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd25d144040d80472ba7b26
Content-Type: text/plain; charset=UTF-8

Are there any production applications that use Hama?

On Thu, Sep 3, 2009 at 7:07 PM, Edward J. Yoon <edwardyoon@apache.org>wrote:

> Just FYI, Hama (Hadoop Matrix, http://incubator.apache.org/hama) also
> consider adopting this computing model based on bulk synchronous
> parallel.
>
> On Fri, Sep 4, 2009 at 9:57 AM, Edward J. Yoon<edwardyoon@apache.org>
> wrote:
> > We've already made a prototype of Hamburg based on multi thread. It's
> > a BSP based graph computing framework, not a M/R based application.
> >
> > Please Join to ... http://groups.google.com/group/hamburg-dev
>



-- 
Ted Dunning, CTO
DeepDyve

--000e0cd25d144040d80472ba7b26--

From common-user-return-17263-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 04 06:25:37 2009
Return-Path: <common-user-return-17263-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 95888 invoked from network); 4 Sep 2009 06:25:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Sep 2009 06:25:37 -0000
Received: (qmail 20198 invoked by uid 500); 4 Sep 2009 06:25:35 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 20100 invoked by uid 500); 4 Sep 2009 06:25:35 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 20090 invoked by uid 99); 4 Sep 2009 06:25:35 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 06:25:35 +0000
X-ASF-Spam-Status: No, hits=-4.0 required=10.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of forsberg@opera.com designates 213.236.208.81 as permitted sender)
Received: from [213.236.208.81] (HELO smtp.opera.com) (213.236.208.81)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 06:25:23 +0000
Received: from caputradii.linkoping.osa (sgw-oslo.opera.com [213.236.208.47])
	(authenticated bits=0)
	by smtp.opera.com (8.13.4/8.13.4/Debian-3sarge3) with ESMTP id n846P1Ek011297
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT)
	for <common-user@hadoop.apache.org>; Fri, 4 Sep 2009 06:25:01 GMT
Date: Fri, 4 Sep 2009 08:24:59 +0200
From: Erik Forsberg <forsberg@opera.com>
To: common-user@hadoop.apache.org
Subject: Re: multi core nodes
Message-ID: <20090904082459.57237f1f@caputradii.linkoping.osa>
In-Reply-To: <25283387.post@talk.nabble.com>
References: <25283387.post@talk.nabble.com>
Organization: Opera Software
X-Mailer: Claws Mail 3.5.0 (GTK+ 2.14.4; i486-pc-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On Thu, 3 Sep 2009 13:20:16 -0700 (PDT)
ll_oz_ll <himanshu_coolguy@yahoo.com> wrote:

> 
> Hi,
> Is hadoop able to take into account multi core nodes, so that nodes
> which have multiple cores run multiple concurrent jobs ?
> Or does that need to be configured manually and if so can that be
> configured individually for each node ?

Yes, it has to be configured manually. You set the following two
configuration variables in hadoop-site.xml on each node depending on the
number of cores on the node:

mapred.tasktracker.map.tasks.maximum
mapred.tasktracker.reduce.tasks.maximum

According to the book "Hadoop - the definitive guide", a good rule of
thumb is to have between 1 and 2 tasks per processor, counting both map
and reduce tasks. So, for example, if a machine has 8 cores, setting
mapred.tasktracker.map.tasks.maximum = 8 and
mapred.tasktracker.reduce.tasks.maximum = 8 probably makes sense, but
this also depends a bit on your load.

Cheers,
\EF
-- 
Erik Forsberg <forsberg@opera.com>
Developer, Opera Software - http://www.opera.com/

From common-user-return-17264-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 04 07:47:23 2009
Return-Path: <common-user-return-17264-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 17582 invoked from network); 4 Sep 2009 07:47:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Sep 2009 07:47:23 -0000
Received: (qmail 1858 invoked by uid 500); 4 Sep 2009 07:47:20 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 1759 invoked by uid 500); 4 Sep 2009 07:47:20 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 1749 invoked by uid 500); 4 Sep 2009 07:47:20 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 1746 invoked by uid 99); 4 Sep 2009 07:47:20 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 07:47:20 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of sugandha.n87@gmail.com designates 209.85.223.173 as permitted sender)
Received: from [209.85.223.173] (HELO mail-iw0-f173.google.com) (209.85.223.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 07:47:12 +0000
Received: by iwn3 with SMTP id 3so29146iwn.2
        for <core-user@hadoop.apache.org>; Fri, 04 Sep 2009 00:46:52 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:date:message-id:subject
         :from:to:content-type;
        bh=4g9DjIfeTL9dole//ZiHYYAwZAq7u2tt3F0hcdPLYeA=;
        b=H40eReSBqBwDG94uMRnWlQHYoYsg7v5YMs+nn1R7Jd4cKHcJw2P+v4xGa6UplXQHky
         fkpLfXQdi+QA+NGYN2R/kB8gGzYwHNdkYxuMx8zlYj1UdZHUkTnSOZNULOH1A1zoam0L
         InECh98GkpHKdSNxBkVK5bM/au6eLJmyQh9IA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=HiXU0IhW028Bicfc4JhM+04cw0/oI9rPuKq8p44V3aIZnvXR01dwkNPep4JjhJ+FLE
         hbJFmyiQEWqLW2mYQzWYI2UZLBLLuS1h7QHlNlIcIQa4PG9i0qk60QBCHE9E19QJ4/gM
         UIsgqXkEB4rahdynAfc6CHuFboLJ5b+lFpuP4=
MIME-Version: 1.0
Received: by 10.231.26.78 with SMTP id d14mr9869057ibc.30.1252050411967; Fri, 
	04 Sep 2009 00:46:51 -0700 (PDT)
Date: Fri, 4 Sep 2009 13:16:51 +0530
Message-ID: <6f72e2db0909040046v52c5d5d1t2b3962af1e4804b4@mail.gmail.com>
Subject: Some issues!
From: Sugandha Naolekar <sugandha.n87@gmail.com>
To: core-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=001517740c1a0bd6530472bbb4b1
X-Virus-Checked: Checked by ClamAV on apache.org

--001517740c1a0bd6530472bbb4b1
Content-Type: text/plain; charset=ISO-8859-1

Hello!

        Running a simple MR job, and setting a replication factor of 2. Now,
after its execution, the output is split in files named as part-00000 and so
on. I want to ask is, can't we avoid these keys or key values to get printed
in output files? I mean, I am getting the output in the files in key-value
pair. I want just the data and not the keys(integers) in it.




-- 
Regards!
Sugandha

--001517740c1a0bd6530472bbb4b1--

From common-user-return-17265-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 04 07:56:07 2009
Return-Path: <common-user-return-17265-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 20399 invoked from network); 4 Sep 2009 07:56:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Sep 2009 07:56:06 -0000
Received: (qmail 15750 invoked by uid 500); 4 Sep 2009 07:56:04 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 15674 invoked by uid 500); 4 Sep 2009 07:56:04 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 15662 invoked by uid 99); 4 Sep 2009 07:56:04 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 07:56:04 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of zjffdu@gmail.com designates 209.85.222.189 as permitted sender)
Received: from [209.85.222.189] (HELO mail-pz0-f189.google.com) (209.85.222.189)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 07:55:56 +0000
Received: by pzk27 with SMTP id 27so614643pzk.9
        for <common-user@hadoop.apache.org>; Fri, 04 Sep 2009 00:55:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=DR5zE5QUrb9fUjyHw5XqKia2sJWTuAJk6zsBIP8WEps=;
        b=hqyCrjG1mfsRQv9DPg1iP97XeSUQYQ7gW983ZuXArDoEWU2G2ob7uD3JTzkg4ZPubL
         gi9FyrQzpusLjcwFwEXO8ZJZ51cgIk2qsbYpIpEqG16cKk9waodM3iaz4rgEa+s0yhvk
         quPL8dzhy6NrEoTbcydCZxw9XxCKFM1pCeigA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=xMv2fUxfLRTQpjHr1BJ92i58ShUYY3BKPJN2FlQXtz0SXVhB6+VbtQ5B8aKIAxkPeD
         9g9JTsCbwt3ASqDWr1YJ8KhBYcCeZho0Tx6HF/uQdWrcv4OETnlGAT7n1DIUAT3/yK3Y
         4THQSyudzn1jlpcYuQHcOM128HV4q7yQQKGaA=
MIME-Version: 1.0
Received: by 10.142.210.13 with SMTP id i13mr285014wfg.304.1252050935890; Fri, 
	04 Sep 2009 00:55:35 -0700 (PDT)
In-Reply-To: <6f72e2db0909040046v52c5d5d1t2b3962af1e4804b4@mail.gmail.com>
References: <6f72e2db0909040046v52c5d5d1t2b3962af1e4804b4@mail.gmail.com>
Date: Fri, 4 Sep 2009 00:55:35 -0700
Message-ID: <8211a1320909040055g4fc97619r896a6049e0215d8a@mail.gmail.com>
Subject: Re: Some issues!
From: zhang jianfeng <zjffdu@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=000e0cd32eaa46439e0472bbd351
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd32eaa46439e0472bbd351
Content-Type: text/plain; charset=UTF-8

Hi Sugandha ,

If you only want to the value, you need to set the key as NullWritable in
reduce.

e.g.
output.collect(NullWritable.get(), value);



On Fri, Sep 4, 2009 at 12:46 AM, Sugandha Naolekar
<sugandha.n87@gmail.com>wrote:

> Hello!
>
>        Running a simple MR job, and setting a replication factor of 2. Now,
> after its execution, the output is split in files named as part-00000 and
> so
> on. I want to ask is, can't we avoid these keys or key values to get
> printed
> in output files? I mean, I am getting the output in the files in key-value
> pair. I want just the data and not the keys(integers) in it.
>
>
>
>
> --
> Regards!
> Sugandha
>

--000e0cd32eaa46439e0472bbd351--

From common-user-return-17266-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 04 08:24:50 2009
Return-Path: <common-user-return-17266-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 51641 invoked from network); 4 Sep 2009 08:24:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Sep 2009 08:24:50 -0000
Received: (qmail 43892 invoked by uid 500); 4 Sep 2009 08:24:47 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 43815 invoked by uid 500); 4 Sep 2009 08:24:47 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 43805 invoked by uid 99); 4 Sep 2009 08:24:47 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 08:24:47 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of amansk@gmail.com designates 209.85.211.171 as permitted sender)
Received: from [209.85.211.171] (HELO mail-yw0-f171.google.com) (209.85.211.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 08:24:39 +0000
Received: by ywh1 with SMTP id 1so1385609ywh.9
        for <common-user@hadoop.apache.org>; Fri, 04 Sep 2009 01:24:18 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=Y6xAtm4H8z/eX22G/PkKs312As8SyaCFbgXBMb9eV8U=;
        b=Varuy6YwIL2J/sa5ksNoRzVtYD4HMu5NctaSfCOLg/M/AZxZNG2pJleI2LchKUUwQ4
         dlTUO2odAHvJIhxnhPYA4RnV0Sxl5XTMJokiFnW5ma+Z9HK/TzQS1jTyFGd36mQ7wYjQ
         +o4nUCOneARSvoAcYh8yJ5MFu6WfaM8ncgzHU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=lc+ktv4KXJrHcNLzppMl9h+PmfsnrcCsU/GusEBZSYPpQnP58wz0lCGWSpAR2DlOKE
         rN/K0/3zQnipPG+6Miumn0OEz+F3l7WrenGbTAbmyn6pwHzUDY8jFlnwKUNqO4OIMPIl
         nNFXHfLO1e2xpZfbl9+QWzN616j9Oz5lMn/7k=
MIME-Version: 1.0
Received: by 10.101.89.10 with SMTP id r10mr12098694anl.1.1252052658784; Fri, 
	04 Sep 2009 01:24:18 -0700 (PDT)
In-Reply-To: <8211a1320909040055g4fc97619r896a6049e0215d8a@mail.gmail.com>
References: <6f72e2db0909040046v52c5d5d1t2b3962af1e4804b4@mail.gmail.com>
	 <8211a1320909040055g4fc97619r896a6049e0215d8a@mail.gmail.com>
Date: Fri, 4 Sep 2009 01:24:18 -0700
Message-ID: <35a22e220909040124g5a5f6ef0u4794b1a132ddf2aa@mail.gmail.com>
Subject: Re: Some issues!
From: Amandeep Khurana <amansk@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Or you can output the data in the keys and NullWritable as the value.
That ways you'll get only unique data...

On 9/4/09, zhang jianfeng <zjffdu@gmail.com> wrote:
> Hi Sugandha ,
>
> If you only want to the value, you need to set the key as NullWritable in
> reduce.
>
> e.g.
> output.collect(NullWritable.get(), value);
>
>
>
> On Fri, Sep 4, 2009 at 12:46 AM, Sugandha Naolekar
> <sugandha.n87@gmail.com>wrote:
>
>> Hello!
>>
>>        Running a simple MR job, and setting a replication factor of 2.
>> Now,
>> after its execution, the output is split in files named as part-00000 and
>> so
>> on. I want to ask is, can't we avoid these keys or key values to get
>> printed
>> in output files? I mean, I am getting the output in the files in key-value
>> pair. I want just the data and not the keys(integers) in it.
>>
>>
>>
>>
>> --
>> Regards!
>> Sugandha
>>
>


-- 


Amandeep Khurana
Computer Science Graduate Student
University of California, Santa Cruz

From common-user-return-17267-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 04 08:44:35 2009
Return-Path: <common-user-return-17267-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 57465 invoked from network); 4 Sep 2009 08:44:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Sep 2009 08:44:35 -0000
Received: (qmail 78322 invoked by uid 500); 4 Sep 2009 08:44:32 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 78259 invoked by uid 500); 4 Sep 2009 08:44:32 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 78249 invoked by uid 99); 4 Sep 2009 08:44:32 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 08:44:32 +0000
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [199.64.220.26] (HELO az18ip008.honeywell.com) (199.64.220.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 08:44:23 +0000
X-IronPort-AV: E=Sophos;i="4.44,330,1249282800"; 
   d="scan'208,217";a="250350599"
Received: from unknown (HELO az18ex6001.global.ds.honeywell.com) ([10.192.23.90])
  by az18ip008.honeywell.com with ESMTP; 04 Sep 2009 01:44:01 -0700
Received: from IE10EV813.global.ds.honeywell.com ([199.63.32.243]) by az18ex6001.global.ds.honeywell.com with Microsoft SMTPSVC(6.0.3790.3959);
	 Fri, 4 Sep 2009 01:44:01 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01CA2D36.8EA74044"
Subject: Hadoop
Date: Fri, 4 Sep 2009 13:36:07 +0530
Message-ID: <CEDB38A443476D40901289F9F19E288A02F4E1BD@IE10EV813.global.ds.honeywell.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Hadoop
Thread-Index: AcotNo5j+mAEx/HqQpWmvGTthg5MiQ==
From: "Rajpal, Harjeet Kumar" <Harjeet.Kumar@Honeywell.com>
To: <common-user@hadoop.apache.org>
X-OriginalArrivalTime: 04 Sep 2009 08:44:01.0904 (UTC) FILETIME=[DA1B8F00:01CA2D3B]
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01CA2D36.8EA74044
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hello all,

            First of all sorry if this question sounds stupid. I am a
beginner with Hadoop.

        =20

            I am using Hadoop at windows so I have installed java in
following directory

=20

C:\cygwin\home\HadoopAdmin\java

=20

I have given the java home as Hadoop-env file of hadoop configuration as

=20

export JAVA_HOME=3D/home/HadoopAdmin/java/jdk6

=20

but still if I run following command

=20

/home/ HadoopAdmin/hadoop18.3/bin/hadoop namenode -format

=20

It gives error that

There is no file or directory=20

=20

HadoopAdmin//java/jdk6

=20

Please help me on this matter

=20

Best Regards,

Harjeet Kumar

=20


------_=_NextPart_001_01CA2D36.8EA74044--

From common-user-return-17268-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 04 08:58:31 2009
Return-Path: <common-user-return-17268-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 62924 invoked from network); 4 Sep 2009 08:58:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Sep 2009 08:58:31 -0000
Received: (qmail 5849 invoked by uid 500); 4 Sep 2009 08:58:29 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 5781 invoked by uid 500); 4 Sep 2009 08:58:28 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 5771 invoked by uid 99); 4 Sep 2009 08:58:28 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 08:58:28 +0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=NO_RDNS_DOTCOM_HELO,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [216.145.54.171] (HELO mrout1.yahoo.com) (216.145.54.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 08:58:16 +0000
Received: from EGL-EX07CAS01.ds.corp.yahoo.com (egl-ex07cas01.eglbp.corp.yahoo.com [203.83.248.208])
	by mrout1.yahoo.com (8.13.6/8.13.6/y.out) with ESMTP id n848voWj022162
	for <common-user@hadoop.apache.org>; Fri, 4 Sep 2009 01:57:50 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; s=serpent; d=yahoo-inc.com; c=nofws; q=dns;
	h=received:from:to:date:subject:thread-topic:thread-index:
	message-id:references:in-reply-to:accept-language:
	content-language:x-ms-has-attach:x-ms-tnef-correlator:acceptlanguage:
	content-type:content-transfer-encoding:mime-version;
	b=ItgXS2q6tNCtaNy6Zcn9dDDgRC97h4IDdRj8YHodlWUXni0arXVWnczeOLUygJl0
Received: from EGL-EX07VS01.ds.corp.yahoo.com ([203.83.248.206]) by
 EGL-EX07CAS01.ds.corp.yahoo.com ([203.83.248.215]) with mapi; Fri, 4 Sep 2009
 14:27:49 +0530
From: Amogh Vasekar <amogh@yahoo-inc.com>
To: "common-user@hadoop.apache.org" <common-user@hadoop.apache.org>
Date: Fri, 4 Sep 2009 14:26:28 +0530
Subject: RE: multi core nodes
Thread-Topic: multi core nodes
Thread-Index: AcotKIp85g1K8VE3RpuqnTe4D1xbEgAFLBNw
Message-ID: <616DA47B2EF5B944B91846785B512FF4CFADEA75F5@EGL-EX07VS01.ds.corp.yahoo.com>
References: <25283387.post@talk.nabble.com>
 <20090904082459.57237f1f@caputradii.linkoping.osa>
In-Reply-To: <20090904082459.57237f1f@caputradii.linkoping.osa>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

Before setting the task limits, do take into account the memory considerati=
ons ( many archive posts on this can be found ).=20
Also, your tasktracker and datanode daemons will run on that machine as wel=
l, so you might want to set aside some processing power for that.

Cheers!
Amogh

-----Original Message-----
From: Erik Forsberg [mailto:forsberg@opera.com]=20
Sent: Friday, September 04, 2009 11:55 AM
To: common-user@hadoop.apache.org
Subject: Re: multi core nodes

On Thu, 3 Sep 2009 13:20:16 -0700 (PDT)
ll_oz_ll <himanshu_coolguy@yahoo.com> wrote:

>=20
> Hi,
> Is hadoop able to take into account multi core nodes, so that nodes
> which have multiple cores run multiple concurrent jobs ?
> Or does that need to be configured manually and if so can that be
> configured individually for each node ?

Yes, it has to be configured manually. You set the following two
configuration variables in hadoop-site.xml on each node depending on the
number of cores on the node:

mapred.tasktracker.map.tasks.maximum
mapred.tasktracker.reduce.tasks.maximum

According to the book "Hadoop - the definitive guide", a good rule of
thumb is to have between 1 and 2 tasks per processor, counting both map
and reduce tasks. So, for example, if a machine has 8 cores, setting
mapred.tasktracker.map.tasks.maximum =3D 8 and
mapred.tasktracker.reduce.tasks.maximum =3D 8 probably makes sense, but
this also depends a bit on your load.

Cheers,
\EF
--=20
Erik Forsberg <forsberg@opera.com>
Developer, Opera Software - http://www.opera.com/

From common-user-return-17269-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 04 12:43:32 2009
Return-Path: <common-user-return-17269-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 40024 invoked from network); 4 Sep 2009 12:43:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Sep 2009 12:43:32 -0000
Received: (qmail 88831 invoked by uid 500); 4 Sep 2009 12:43:30 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 88752 invoked by uid 500); 4 Sep 2009 12:43:29 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 88742 invoked by uid 99); 4 Sep 2009 12:43:29 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 12:43:29 +0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [129.93.181.2] (HELO mathstat.unl.edu) (129.93.181.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 12:43:18 +0000
Received: from [192.168.0.102] (user-0cdvqhn.cable.mindspring.com [24.223.234.55])
	(authenticated bits=0)
	by mathstat.unl.edu (8.13.8/8.13.8) with ESMTP id n84CgpsP002770
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT)
	for <common-user@hadoop.apache.org>; Fri, 4 Sep 2009 07:42:54 -0500
Message-Id: <A4834471-2AAD-45D6-8EFE-7BE19974E66B@cse.unl.edu>
From: Brian Bockelman <bbockelm@cse.unl.edu>
To: common-user@hadoop.apache.org
In-Reply-To: <4BA5307AF084A04E83875ECC173BC77B9CEF98ED0B@EXCHANGE.persistent.co.in>
Content-Type: multipart/signed; boundary=Apple-Mail-199-1030548339; micalg=sha1; protocol="application/pkcs7-signature"
Mime-Version: 1.0 (Apple Message framework v936)
Subject: Re: Issues with performance on Hadoop/Hive
Date: Fri, 4 Sep 2009 07:42:51 -0500
References: <4BA5307AF084A04E83875ECC173BC77B9CEF98ED04@EXCHANGE.persistent.co.in> <35a22e220909020051t7a66a625h98aa8cc60bcb4750@mail.gmail.com>,<68B7689C98024D43B4C2709456F0B5200A1F75E9D8@SC-MBXC1.TheFacebook.com> <4BA5307AF084A04E83875ECC173BC77B9CEF98ED0B@EXCHANGE.persistent.co.in>
X-Mailer: Apple Mail (2.936)
X-Virus-Checked: Checked by ClamAV on apache.org

--Apple-Mail-199-1030548339
Content-Type: text/plain;
	charset=US-ASCII;
	format=flowed;
	delsp=yes
Content-Transfer-Encoding: 7bit


On Sep 3, 2009, at 11:53 PM, Ramiya V wrote:

> Hi,
>
> Thanks Amandeep and Ashish!
>
> @Ashish: I have set the hive.metastore.warehouse.dir parameter as / 
> home/hive/warehouse. This warehouse directory is on the local  
> filesystem. So will the tables now get stored on the local  
> filesystem or HDFS? I mean do we need to specify explicitly if we  
> want the path to refer a location on the local filesystem?
>
> @Amandeep:  Actually I need to know how the data gets distributed  
> across the cluster. The master machine has 70GB free space and the 3  
> slaves have 140GB,50GB,140GB free space on Ubuntu. So when I load a  
> table on Hive with 45GB of data,how will it get distributed across 4  
> nodes? I mean since master has 70GB free space will it store all the  
> data on the master itself? (This I observed as when I loaded the  
> table, 45GB data was stored on master and some blocks were  
> replicated on the other 3 slaves)  I have set dfs.replication factor  
> as 2. I wanted to know how exactly Hadoop uses its intelligence to  
> utilize the free space effectively to store data on HDFS on a cluster,

Hey Ramya,

I believe this is thoroughly described in the system architecture  
document.  Let us know if there's something you feel is missing:

http://hadoop.apache.org/common/docs/current/hdfs_design.html

Brian

>
>
> -Ramya
> ________________________________________
> From: Ashish Thusoo [athusoo@facebook.com]
> Sent: Wednesday, September 02, 2009 11:02 PM
> To: common-user@hadoop.apache.org
> Subject: RE: Issues with performance on Hadoop/Hive
>
> Hi Ramya,
>
> If you are using the hive-default.xml and have not overwritten the  
> hive.metastore.warehouse.dir parameter then by default the tables  
> will get placed in
>
> /user/hive/warehouse in hdfs.
>
> Ashish
>
> -----Original Message-----
> From: Amandeep Khurana [mailto:amansk@gmail.com]
> Sent: Wednesday, September 02, 2009 12:52 AM
> To: common-user@hadoop.apache.org
> Subject: Re: Issues with performance on Hadoop/Hive
>
> Answers inline
>
>
> Amandeep Khurana
> Computer Science Graduate Student
> University of California, Santa Cruz
>
>
> On Tue, Sep 1, 2009 at 10:08 PM, Ramiya V  
> <Ramiya_V@persistent.co.in> wrote:
>
>> Hi,
>>
>> I have set up a 4 (physica) nodes Hadoop cluster. Configuration: 2GB
>> RAM each machine. Currently am using the sub-project Hive for firing
>> queries on 45GB of data. I have certain queries that need to be
>> resolved:-
>>
>> 1) The performance that I am getting with the above setup is quite
>> bad. It takes app 39 minutes for simple select query (with where
>> clause). I have set the mapred.map.tasks=13 and  
>> mapred.reduce.tasks=7.
>> Is this setting good enough for the above setup? Are there any
>> significant configuration parameters I need to set for getting a  
>> better performance on Hive?
>>
>>
> Check on the resource utilization. I think you shouldnt be running  
> more than
> 3 mappers + 1 reducer on each node at any time (given the hardware  
> you are using). But then that mostly depends on the amount of work  
> being done in the mappers and reducers.
>
> 2) Does anybody know how exactly the data on HDFS is distributed  
> across
>> nodes in a cluster? Also when we load the tables in Hive (by firing
>> Load command on master node),how and where is the data placed on HDFS
>> in a cluster?
>>
>
> Files are divided into blocks and the blocks are stored on the  
> Datanodes..
> Each block is 64MB by default. I'm not sure how the blocks are  
> distributed among the datanodes..
>
> 3) How and when does the data replication for HDFS take place in a  
> cluster?
>> Currently I have set the dfs replication factor=1. How does this
>> affect the performance?
>>
>
> Once you put the data into the hdfs, it starts replicating the blocks.
> However, the put is successful as soon as one block gets created...
>
>
>>
>> 3) Does adding a Virtual Machine to a physical machine cluster bring
>> about significant degradation in the performance?
>>
>
> Dont have numbers for this, but it does impact the performance.  
> Moreover, your hardware resources are low and there is really no  
> value add in using virtual machines on top of it.
>
>
>> Please let me know asap.
>>
>> Thanks,
>> Ramya
>>
>>
>>
>>
>> DISCLAIMER
>> ==========
>> This e-mail may contain privileged and confidential information which
>> is the property of Persistent Systems Ltd. It is intended only for  
>> the
>> use of the individual or entity to which it is addressed. If you are
>> not the intended recipient, you are not authorized to read, retain,
>> copy, print, distribute or use this message. If you have received  
>> this
>> communication in error, please notify the sender and delete all  
>> copies of this message.
>> Persistent Systems Ltd. does not accept any liability for virus
>> infected mails.
>>
>
> DISCLAIMER
> ==========
> This e-mail may contain privileged and confidential information  
> which is the property of Persistent Systems Ltd. It is intended only  
> for the use of the individual or entity to which it is addressed. If  
> you are not the intended recipient, you are not authorized to read,  
> retain, copy, print, distribute or use this message. If you have  
> received this communication in error, please notify the sender and  
> delete all copies of this message. Persistent Systems Ltd. does not  
> accept any liability for virus infected mails.


--Apple-Mail-199-1030548339
Content-Disposition: attachment;
	filename=smime.p7s
Content-Type: application/pkcs7-signature;
	name=smime.p7s
Content-Transfer-Encoding: base64

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIICjCCA/gw
ggLgoAMCAQICASkwDQYJKoZIhvcNAQEFBQAwdTETMBEGCgmSJomT8ixkARkWA25ldDESMBAGCgmS
JomT8ixkARkWAkVTMQ4wDAYDVQQKEwVFU25ldDEgMB4GA1UECxMXQ2VydGlmaWNhdGUgQXV0aG9y
aXRpZXMxGDAWBgNVBAMTD0VTbmV0IFJvb3QgQ0EgMTAeFw0wMjEyMDUwODAwMDBaFw0xMzAxMjUw
ODAwMDBaMGkxEzARBgoJkiaJk/IsZAEZFgNvcmcxGDAWBgoJkiaJk/IsZAEZFghET0VHcmlkczEg
MB4GA1UECxMXQ2VydGlmaWNhdGUgQXV0aG9yaXRpZXMxFjAUBgNVBAMTDURPRUdyaWRzIENBIDEw
ggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC09dYjYaPbCD5mtbiQb7Ka3y1qAm0ZcqKC
FciWcfe8Kwcuy9tjHuIsLf9ZItdkDW4xy8sua9nJlx3KlwjtumTMtOtg35KZCknUd8KM4VGTSFdL
VG9AbNayef76caVCGM1+jyF0Lq03kauGOPTcNfZe1TZa3e1c9rc8ljV5OSWa/mfsCACyS5zFIWu0
yIDNyJdf+n0hwaPN53wllpJ30taD+JBjQ7h2k4xRWzeaznLOb9OztZVRA/1sVze+iczFh2xwa4Vd
Gy0eIIPw1pfvYwxO36rm0S109qvbsNlaroPRbxerPKakQLpKe034Xcx7gBPqUk/FxoRRWin5EWN3
rz9LAgMBAAGjgZ4wgZswDgYDVR0PAQH/BAQDAgGGMBEGCWCGSAGG+EIBAQQEAwIAhzAdBgNVHQ4E
FgQUyhkdEo5upDhdQtQxDgjb2Y0XDV0wHwYDVR0jBBgwFoAUvF1NSC/4NZRZq1yJSz7RsjoUAeow
DwYDVR0TAQH/BAUwAwEB/zAlBgNVHREEHjAcgRpET0VHcmlkcy1DQS0xQGRvZWdyaWRzLm9yZzAN
BgkqhkiG9w0BAQUFAAOCAQEAZNVrIDLqe39CEOiJt7Q7EpBPhAihMvDTSf/42u0SMbUmChww4mLm
ph5DBghZUVF8Yn59kRZMn1QLOtO1HzLqvAvPITacZVPlJgG2IXzlR636YghZFAycbIUEOJDBHR4v
tQO1KDxgZwvAbtmKIoxvhUCq2xsfFt9kCBBn+JYtQ6O5LsBJq3PmuubeMcc7mbQAfJZ7h/3Qghgk
FIhmE1+LBXPJbkuP8vgfg6h2BKoAf5TFfZECgGZKimfN110tBvfedGZwYYd3/GsJc83B0JN1gny0
gqNVPm392UchXGeBRrHnm2gkhIkr48Oq6EmNGV9/a6XfbplQW/JWbtPVPWkaizCCBAowggLyoAMC
AQICAwCB+zANBgkqhkiG9w0BAQUFADBpMRMwEQYKCZImiZPyLGQBGRYDb3JnMRgwFgYKCZImiZPy
LGQBGRYIRE9FR3JpZHMxIDAeBgNVBAsTF0NlcnRpZmljYXRlIEF1dGhvcml0aWVzMRYwFAYDVQQD
Ew1ET0VHcmlkcyBDQSAxMB4XDTA5MDYwMjE5NDExM1oXDTEwMDYwMjE5NDExM1owYTETMBEGCgmS
JomT8ixkARkWA29yZzEYMBYGCgmSJomT8ixkARkWCGRvZWdyaWRzMQ8wDQYDVQQLEwZQZW9wbGUx
HzAdBgNVBAMTFkJyaWFuIEJvY2tlbG1hbiA1MDQzMDcwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw
ggEKAoIBAQDPWEl7hBiuFRVBSY4SwvG0HpkCZi74a0BeD0tNARgxoQVJ7jhJjR3G4y8ino0/5axt
2EEfIWUE+DVpV37IWOQl8q/wdvicnhbfjByxBbq4sfWPLepU7+Kd8k1FKHRHermARn9VxEkFLrLB
Gp7O5EX4mFHDaQy+Vv0thtA+m4qKoM+DA/8cOkJA5Rn6ZS/v/vtBzJh9HimVnhBx4+rw2cvKN+7r
lKsm7qTn9TCZmrQ97CvBEXSkHS11m8vYF6ZwcTgSCJM0M9nnX5JilupQO1vDICXSUZeWX2xpsqeL
x1PFGWgDaYXxFGtTRt2Qc9EPwf9Dr72xGPbKN8u5HylpOMDnAgMBAAGjgcIwgb8wEQYJYIZIAYb4
QgEBBAQDAgWgMA4GA1UdDwEB/wQEAwIF4DAfBgNVHSMEGDAWgBTKGR0Sjm6kOF1C1DEOCNvZjRcN
XTAYBgNVHSAEETAPMA0GCyqGSIb3TAMHAQMAMD4GA1UdHwQ3MDUwM6AxoC+GLWh0dHA6Ly9jcmwu
ZG9lZ3JpZHMub3JnLzFjM2YyY2E4LzFjM2YyY2E4LmNybDAfBgNVHREEGDAWgRRiYm9ja2VsbUBj
c2UudW5sLmVkdTANBgkqhkiG9w0BAQUFAAOCAQEAp6KjcWnfnH/MGlUkUWstE9gtPeymHp+2r4zI
w8JXigncJh/8qpSZqBcVhD24WFowI95otblrKYNZKW9f2G/hWwDSxZFqHhCDxFO12vDthrzOc3EH
CwypJPvIlZPt/E/x93XruzPxJwPz84DKKuPoJAMeNlADbd+92YtRr2y+VuMpgZaebMAoeCdWH8Cq
Y8xheNMajf8uiImBbatDuCu7qRvhwgxsMNLHEt4h853K1Zc181RlFGXG1+uL/Q/8VeKiASiCu+7L
1zpfLg7OCr6rJHb5S7wU+CeAvzSqmyy0fd2mwPeiX7huK+Cw4UjaB3yGKItzWT+KQJnV//wcSrzZ
dTGCAv0wggL5AgEBMHAwaTETMBEGCgmSJomT8ixkARkWA29yZzEYMBYGCgmSJomT8ixkARkWCERP
RUdyaWRzMSAwHgYDVQQLExdDZXJ0aWZpY2F0ZSBBdXRob3JpdGllczEWMBQGA1UEAxMNRE9FR3Jp
ZHMgQ0EgMQIDAIH7MAkGBSsOAwIaBQCgggFiMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJ
KoZIhvcNAQkFMQ8XDTA5MDkwNDEyNDI1MVowIwYJKoZIhvcNAQkEMRYEFANgbM5iMOxGzPEt/z23
nQnPbTlWMH8GCSsGAQQBgjcQBDFyMHAwaTETMBEGCgmSJomT8ixkARkWA29yZzEYMBYGCgmSJomT
8ixkARkWCERPRUdyaWRzMSAwHgYDVQQLExdDZXJ0aWZpY2F0ZSBBdXRob3JpdGllczEWMBQGA1UE
AxMNRE9FR3JpZHMgQ0EgMQIDAIH7MIGBBgsqhkiG9w0BCRACCzFyoHAwaTETMBEGCgmSJomT8ixk
ARkWA29yZzEYMBYGCgmSJomT8ixkARkWCERPRUdyaWRzMSAwHgYDVQQLExdDZXJ0aWZpY2F0ZSBB
dXRob3JpdGllczEWMBQGA1UEAxMNRE9FR3JpZHMgQ0EgMQIDAIH7MA0GCSqGSIb3DQEBAQUABIIB
AHMoVZV2Hy3o+wybUOuT2HqgqHoTMmZrPvlRXk0bBQJ306WLT+F0vOPTVCpUY9aJDFoygWj2ldF0
lfsaki3HP0ed3w/Kd9TqDwoBajpgkFbkzmTy9cRcODXAD+y/Sc9e5Wu9AvN+HKaQ6RU4srqFygAc
9M1eLf7HOmdtM9lWhP6f5MJLUNCFvtMZForpvnvF4gYze8LmFSd7wSk+pwbZqqyPa0OOgR361cok
R6BlhQtOVe+gzJI1hI1IiTq+cHyW/D/lp4G0SdRKL9t+eI0T8wrXfzQ1CcwpnsElWbm4MOssSsRt
z4bYQBuC4AecAAdw0lJqXSUtKFNhs/XaS90A09sAAAAAAAA=

--Apple-Mail-199-1030548339--

From common-user-return-17270-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 04 13:25:18 2009
Return-Path: <common-user-return-17270-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 58451 invoked from network); 4 Sep 2009 13:25:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Sep 2009 13:25:18 -0000
Received: (qmail 62226 invoked by uid 500); 4 Sep 2009 13:25:16 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 62132 invoked by uid 500); 4 Sep 2009 13:25:15 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 62122 invoked by uid 99); 4 Sep 2009 13:25:15 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 13:25:15 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of zjffdu@gmail.com designates 209.85.216.183 as permitted sender)
Received: from [209.85.216.183] (HELO mail-px0-f183.google.com) (209.85.216.183)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 13:25:06 +0000
Received: by pxi13 with SMTP id 13so752834pxi.10
        for <common-user@hadoop.apache.org>; Fri, 04 Sep 2009 06:24:45 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=Y9GY5nm6z5dmc6pduxTynDEgWzEX7/l7BuaOyjCj52A=;
        b=hUYSPGcs2OA4FG8ldxL4/sV+/Pxh2V7ZLtUtzxNm2mzR7c1wzzmJz36LO8UuJISrBn
         QUMbS/twDDiVhg4TArl5m9lhnp4KirPZMHzq2nGAeQa4F7YpgvHVXOd8IU9d+qzs7J80
         r5VOfFvlIruMHawAt/dTS64dbVoHld7d8I+34=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=i16z7AGiQso8XTJK2y0rgWC0yGDUBBn+jn5+aqdo1TVBsG+BYw0mHzEP4+nZdtkhyv
         1nzmhKrDu2daO2WirUERiTgeqqFOJfemmNXhTbXE+HyL8TxqWjbedliPaiZJ8pQFFpcw
         GKZYlNLeDk29NnNR8xZ8bAfbQH9znz01GgplQ=
MIME-Version: 1.0
Received: by 10.142.61.25 with SMTP id j25mr325794wfa.320.1252070685165; Fri, 
	04 Sep 2009 06:24:45 -0700 (PDT)
In-Reply-To: <CEDB38A443476D40901289F9F19E288A02F4E1BD@IE10EV813.global.ds.honeywell.com>
References: <CEDB38A443476D40901289F9F19E288A02F4E1BD@IE10EV813.global.ds.honeywell.com>
Date: Fri, 4 Sep 2009 06:24:45 -0700
Message-ID: <8211a1320909040624k228670aejcc23737c28dcafbc@mail.gmail.com>
Subject: Re: Hadoop
From: Jeff Zhang <zjffdu@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=001636e0b6046c477f0472c06c49
X-Virus-Checked: Checked by ClamAV on apache.org

--001636e0b6046c477f0472c06c49
Content-Type: text/plain; charset=UTF-8

You should set JAVA_HOME like this:

export JAVA_HOME=C:/cygwin/home/HadoopAdmin/java



On Fri, Sep 4, 2009 at 1:06 AM, Rajpal, Harjeet Kumar <
Harjeet.Kumar@honeywell.com> wrote:

> Hello all,
>
>            First of all sorry if this question sounds stupid. I am a
> beginner with Hadoop.
>
>
>
>            I am using Hadoop at windows so I have installed java in
> following directory
>
>
>
> C:\cygwin\home\HadoopAdmin\java
>
>
>
> I have given the java home as Hadoop-env file of hadoop configuration as
>
>
>
> export JAVA_HOME=/home/HadoopAdmin/java/jdk6
>
>
>
> but still if I run following command
>
>
>
> /home/ HadoopAdmin/hadoop18.3/bin/hadoop namenode -format
>
>
>
> It gives error that
>
> There is no file or directory
>
>
>
> HadoopAdmin//java/jdk6
>
>
>
> Please help me on this matter
>
>
>
> Best Regards,
>
> Harjeet Kumar
>
>
>
>

--001636e0b6046c477f0472c06c49--

From common-user-return-17271-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 04 15:46:02 2009
Return-Path: <common-user-return-17271-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 7735 invoked from network); 4 Sep 2009 15:46:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Sep 2009 15:46:02 -0000
Received: (qmail 20972 invoked by uid 500); 4 Sep 2009 15:46:00 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 20877 invoked by uid 500); 4 Sep 2009 15:45:59 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 20867 invoked by uid 99); 4 Sep 2009 15:45:59 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 15:45:59 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of bharathvissapragada1990@gmail.com designates 209.85.221.186 as permitted sender)
Received: from [209.85.221.186] (HELO mail-qy0-f186.google.com) (209.85.221.186)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 15:45:50 +0000
Received: by qyk16 with SMTP id 16so711600qyk.20
        for <common-user@hadoop.apache.org>; Fri, 04 Sep 2009 08:45:29 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=JHxYj8MHeyJYqicTkuuqvp7rm36EmaUUzTxChHK0G4g=;
        b=DYwhyJbV6tHsknF+LgmXVBcY6iZGn6l5XFs2HHa/3hCdMFbc0HbpoBedt3mzmn0QIh
         6qNRkBw16LGB/98hAn9UPMO1i/P1eHUKXYgEVRh7KyqNM+11YrvWMT8ibMP/msrxfRY7
         MEGFd2Aw4OJXu/nwnnvNfq876xNh2CVjM4N2k=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=Qtvp5xnRZXAH9gUMOObnHIr5Z4OmzYUn1lVP694e4mCOrYdLv3jr3/9thkvOQkgZGK
         NYcMOgKGhYq6Sg6AkdDqdqNDpaBE4alsg7Qc3lrH8o3rEPvMpKUEan7jpTiMJ+pMjfur
         xNlauicryI17nPCsyFFz5aBw1NAku9BZQ6Gi4=
MIME-Version: 1.0
Received: by 10.229.116.140 with SMTP id m12mr3309166qcq.54.1252079129196; 
	Fri, 04 Sep 2009 08:45:29 -0700 (PDT)
In-Reply-To: <35a22e220909040124g5a5f6ef0u4794b1a132ddf2aa@mail.gmail.com>
References: <6f72e2db0909040046v52c5d5d1t2b3962af1e4804b4@mail.gmail.com> 
	<8211a1320909040055g4fc97619r896a6049e0215d8a@mail.gmail.com> 
	<35a22e220909040124g5a5f6ef0u4794b1a132ddf2aa@mail.gmail.com>
From: bharath vissapragada <bharathvissapragada1990@gmail.com>
Date: Fri, 4 Sep 2009 21:15:09 +0530
Message-ID: <73d592f60909040845g1319dab8x24270805bedb1a18@mail.gmail.com>
Subject: Re: Some issues!
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=00c09fa216feba2fb40472c263d1
X-Virus-Checked: Checked by ClamAV on apache.org

--00c09fa216feba2fb40472c263d1
Content-Type: text/plain; charset=ISO-8859-1

Hey ,

I have one more doubt , Suppose I have some cascading mapred jobs and
suppose some data which was collected in
MRjob1 is to be used in MRjob2 m is there any way?

Thanks

On Fri, Sep 4, 2009 at 1:54 PM, Amandeep Khurana <amansk@gmail.com> wrote:

> Or you can output the data in the keys and NullWritable as the value.
> That ways you'll get only unique data...
>
> On 9/4/09, zhang jianfeng <zjffdu@gmail.com> wrote:
> > Hi Sugandha ,
> >
> > If you only want to the value, you need to set the key as NullWritable in
> > reduce.
> >
> > e.g.
> > output.collect(NullWritable.get(), value);
> >
> >
> >
> > On Fri, Sep 4, 2009 at 12:46 AM, Sugandha Naolekar
> > <sugandha.n87@gmail.com>wrote:
> >
> >> Hello!
> >>
> >>        Running a simple MR job, and setting a replication factor of 2.
> >> Now,
> >> after its execution, the output is split in files named as part-00000
> and
> >> so
> >> on. I want to ask is, can't we avoid these keys or key values to get
> >> printed
> >> in output files? I mean, I am getting the output in the files in
> key-value
> >> pair. I want just the data and not the keys(integers) in it.
> >>
> >>
> >>
> >>
> >> --
> >> Regards!
> >> Sugandha
> >>
> >
>
>
> --
>
>
> Amandeep Khurana
> Computer Science Graduate Student
> University of California, Santa Cruz
>

--00c09fa216feba2fb40472c263d1--

From common-user-return-17272-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 04 15:59:15 2009
Return-Path: <common-user-return-17272-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 10859 invoked from network); 4 Sep 2009 15:59:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Sep 2009 15:59:14 -0000
Received: (qmail 44977 invoked by uid 500); 4 Sep 2009 15:59:12 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 44886 invoked by uid 500); 4 Sep 2009 15:59:12 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 44876 invoked by uid 99); 4 Sep 2009 15:59:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 15:59:11 +0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=NO_RDNS_DOTCOM_HELO,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [216.145.54.173] (HELO mrout3.yahoo.com) (216.145.54.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 15:59:00 +0000
Received: from EGL-EX07CAS01.ds.corp.yahoo.com (egl-ex07cas01.eglbp.corp.yahoo.com [203.83.248.208])
	by mrout3.yahoo.com (8.13.6/8.13.6/y.out) with ESMTP id n84FvlVn099700
	for <common-user@hadoop.apache.org>; Fri, 4 Sep 2009 08:57:48 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; s=serpent; d=yahoo-inc.com; c=nofws; q=dns;
	h=received:from:to:date:subject:thread-topic:thread-index:
	message-id:references:in-reply-to:accept-language:
	content-language:x-ms-has-attach:x-ms-tnef-correlator:acceptlanguage:
	content-type:content-transfer-encoding:mime-version;
	b=gdhayTsTgr2F01ShvJgddgnSipEVON2ywG9eO268LWa5GsXR/zpxrJ71btYkP8lC
Received: from EGL-EX07VS01.ds.corp.yahoo.com ([203.83.248.206]) by
 EGL-EX07CAS01.ds.corp.yahoo.com ([203.83.248.215]) with mapi; Fri, 4 Sep 2009
 21:27:47 +0530
From: Amogh Vasekar <amogh@yahoo-inc.com>
To: "common-user@hadoop.apache.org" <common-user@hadoop.apache.org>
Date: Fri, 4 Sep 2009 21:26:23 +0530
Subject: RE: Some issues!
Thread-Topic: Some issues!
Thread-Index: AcotdxIddTbiqBU7S3CS/OmL+9hUHAAAI1Sw
Message-ID: <616DA47B2EF5B944B91846785B512FF4CFADEA763F@EGL-EX07VS01.ds.corp.yahoo.com>
References: <6f72e2db0909040046v52c5d5d1t2b3962af1e4804b4@mail.gmail.com>
 	<8211a1320909040055g4fc97619r896a6049e0215d8a@mail.gmail.com>
 	<35a22e220909040124g5a5f6ef0u4794b1a132ddf2aa@mail.gmail.com>
 <73d592f60909040845g1319dab8x24270805bedb1a18@mail.gmail.com>
In-Reply-To: <73d592f60909040845g1319dab8x24270805bedb1a18@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

Have a look at jobclient, it should suffice.

Cheers!
Amogh

-----Original Message-----
From: bharath vissapragada [mailto:bharathvissapragada1990@gmail.com]=20
Sent: Friday, September 04, 2009 9:15 PM
To: common-user@hadoop.apache.org
Subject: Re: Some issues!

Hey ,

I have one more doubt , Suppose I have some cascading mapred jobs and
suppose some data which was collected in
MRjob1 is to be used in MRjob2 m is there any way?

Thanks

On Fri, Sep 4, 2009 at 1:54 PM, Amandeep Khurana <amansk@gmail.com> wrote:

> Or you can output the data in the keys and NullWritable as the value.
> That ways you'll get only unique data...
>
> On 9/4/09, zhang jianfeng <zjffdu@gmail.com> wrote:
> > Hi Sugandha ,
> >
> > If you only want to the value, you need to set the key as NullWritable =
in
> > reduce.
> >
> > e.g.
> > output.collect(NullWritable.get(), value);
> >
> >
> >
> > On Fri, Sep 4, 2009 at 12:46 AM, Sugandha Naolekar
> > <sugandha.n87@gmail.com>wrote:
> >
> >> Hello!
> >>
> >>        Running a simple MR job, and setting a replication factor of 2.
> >> Now,
> >> after its execution, the output is split in files named as part-00000
> and
> >> so
> >> on. I want to ask is, can't we avoid these keys or key values to get
> >> printed
> >> in output files? I mean, I am getting the output in the files in
> key-value
> >> pair. I want just the data and not the keys(integers) in it.
> >>
> >>
> >>
> >>
> >> --
> >> Regards!
> >> Sugandha
> >>
> >
>
>
> --
>
>
> Amandeep Khurana
> Computer Science Graduate Student
> University of California, Santa Cruz
>

From common-user-return-17273-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 04 17:51:16 2009
Return-Path: <common-user-return-17273-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 59493 invoked from network); 4 Sep 2009 17:51:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Sep 2009 17:51:16 -0000
Received: (qmail 99582 invoked by uid 500); 4 Sep 2009 17:51:14 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 99488 invoked by uid 500); 4 Sep 2009 17:51:13 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 99478 invoked by uid 99); 4 Sep 2009 17:51:13 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 17:51:13 +0000
X-ASF-Spam-Status: No, hits=-4.0 required=10.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of athusoo@facebook.com designates 69.63.179.25 as permitted sender)
Received: from [69.63.179.25] (HELO mailout-sf2p.facebook.com) (69.63.179.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 17:51:04 +0000
Received: from mail.thefacebook.com (intlb01.snat.snc1.facebook.com [10.128.203.18] (may be forged))
	by pp02.snc1.tfbnw.net (8.14.1/8.14.1) with ESMTP id n84HoRb8000840
	(version=TLSv1/SSLv3 cipher=RC4-MD5 bits=128 verify=NOT)
	for <common-user@hadoop.apache.org>; Fri, 4 Sep 2009 10:50:29 -0700
Received: from SC-MBXC1.TheFacebook.com ([192.168.18.100]) by
 sc-hub02.TheFacebook.com ([192.168.18.105]) with mapi; Fri, 4 Sep 2009
 10:49:33 -0700
From: Ashish Thusoo <athusoo@facebook.com>
To: "common-user@hadoop.apache.org" <common-user@hadoop.apache.org>
Date: Fri, 4 Sep 2009 10:49:31 -0700
Subject: RE: Issues with performance on Hadoop/Hive
Thread-Topic: Issues with performance on Hadoop/Hive
Thread-Index: AcotXU+ZpwPctEN7ReKsymdeSqNJyAAKmd3w
Message-ID: <68B7689C98024D43B4C2709456F0B5200A1F75EB50@SC-MBXC1.TheFacebook.com>
References: <4BA5307AF084A04E83875ECC173BC77B9CEF98ED04@EXCHANGE.persistent.co.in>
 <35a22e220909020051t7a66a625h98aa8cc60bcb4750@mail.gmail.com>,<68B7689C98024D43B4C2709456F0B5200A1F75E9D8@SC-MBXC1.TheFacebook.com>
 <4BA5307AF084A04E83875ECC173BC77B9CEF98ED0B@EXCHANGE.persistent.co.in>
 <A4834471-2AAD-45D6-8EFE-7BE19974E66B@cse.unl.edu>
In-Reply-To: <A4834471-2AAD-45D6-8EFE-7BE19974E66B@cse.unl.edu>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Proofpoint-Virus-Version: vendor=fsecure engine=1.12.8161:2.4.5,1.2.40,4.0.166 definitions=2009-09-04_09:2009-09-01,2009-09-04,2009-09-04 signatures=0
X-Proofpoint-Spam-Details: rule=notspam policy=default score=0 spamscore=0 ipscore=0 phishscore=0 bulkscore=0 adultscore=0 classifier=spam adjust=0 reason=mlx engine=5.0.0-0908210000 definitions=main-0909040068
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Ramya,

Yes you have to explicitly give the hdfs path, so

Hdfs://<namnode>:<port>/home/hive/warehouse

in case you want to keep the same path in hdfs should work.

Ashish

-----Original Message-----
From: Brian Bockelman [mailto:bbockelm@cse.unl.edu]=20
Sent: Friday, September 04, 2009 5:43 AM
To: common-user@hadoop.apache.org
Subject: Re: Issues with performance on Hadoop/Hive


On Sep 3, 2009, at 11:53 PM, Ramiya V wrote:

> Hi,
>
> Thanks Amandeep and Ashish!
>
> @Ashish: I have set the hive.metastore.warehouse.dir parameter as /=20
> home/hive/warehouse. This warehouse directory is on the local=20
> filesystem. So will the tables now get stored on the local filesystem=20
> or HDFS? I mean do we need to specify explicitly if we want the path=20
> to refer a location on the local filesystem?
>
> @Amandeep:  Actually I need to know how the data gets distributed=20
> across the cluster. The master machine has 70GB free space and the 3=20
> slaves have 140GB,50GB,140GB free space on Ubuntu. So when I load a=20
> table on Hive with 45GB of data,how will it get distributed across 4=20
> nodes? I mean since master has 70GB free space will it store all the=20
> data on the master itself? (This I observed as when I loaded the=20
> table, 45GB data was stored on master and some blocks were replicated=20
> on the other 3 slaves)  I have set dfs.replication factor as 2. I=20
> wanted to know how exactly Hadoop uses its intelligence to utilize the=20
> free space effectively to store data on HDFS on a cluster,

Hey Ramya,

I believe this is thoroughly described in the system architecture document.=
  Let us know if there's something you feel is missing:

http://hadoop.apache.org/common/docs/current/hdfs_design.html

Brian

>
>
> -Ramya
> ________________________________________
> From: Ashish Thusoo [athusoo@facebook.com]
> Sent: Wednesday, September 02, 2009 11:02 PM
> To: common-user@hadoop.apache.org
> Subject: RE: Issues with performance on Hadoop/Hive
>
> Hi Ramya,
>
> If you are using the hive-default.xml and have not overwritten the=20
> hive.metastore.warehouse.dir parameter then by default the tables will=20
> get placed in
>
> /user/hive/warehouse in hdfs.
>
> Ashish
>
> -----Original Message-----
> From: Amandeep Khurana [mailto:amansk@gmail.com]
> Sent: Wednesday, September 02, 2009 12:52 AM
> To: common-user@hadoop.apache.org
> Subject: Re: Issues with performance on Hadoop/Hive
>
> Answers inline
>
>
> Amandeep Khurana
> Computer Science Graduate Student
> University of California, Santa Cruz
>
>
> On Tue, Sep 1, 2009 at 10:08 PM, Ramiya V <Ramiya_V@persistent.co.in>=20
> wrote:
>
>> Hi,
>>
>> I have set up a 4 (physica) nodes Hadoop cluster. Configuration: 2GB=20
>> RAM each machine. Currently am using the sub-project Hive for firing=20
>> queries on 45GB of data. I have certain queries that need to be
>> resolved:-
>>
>> 1) The performance that I am getting with the above setup is quite=20
>> bad. It takes app 39 minutes for simple select query (with where=20
>> clause). I have set the mapred.map.tasks=3D13 and=20
>> mapred.reduce.tasks=3D7.
>> Is this setting good enough for the above setup? Are there any=20
>> significant configuration parameters I need to set for getting a=20
>> better performance on Hive?
>>
>>
> Check on the resource utilization. I think you shouldnt be running=20
> more than
> 3 mappers + 1 reducer on each node at any time (given the hardware you=20
> are using). But then that mostly depends on the amount of work being=20
> done in the mappers and reducers.
>
> 2) Does anybody know how exactly the data on HDFS is distributed=20
> across
>> nodes in a cluster? Also when we load the tables in Hive (by firing=20
>> Load command on master node),how and where is the data placed on HDFS=20
>> in a cluster?
>>
>
> Files are divided into blocks and the blocks are stored on the=20
> Datanodes..
> Each block is 64MB by default. I'm not sure how the blocks are=20
> distributed among the datanodes..
>
> 3) How and when does the data replication for HDFS take place in a=20
> cluster?
>> Currently I have set the dfs replication factor=3D1. How does this=20
>> affect the performance?
>>
>
> Once you put the data into the hdfs, it starts replicating the blocks.
> However, the put is successful as soon as one block gets created...
>
>
>>
>> 3) Does adding a Virtual Machine to a physical machine cluster bring=20
>> about significant degradation in the performance?
>>
>
> Dont have numbers for this, but it does impact the performance. =20
> Moreover, your hardware resources are low and there is really no value=20
> add in using virtual machines on top of it.
>
>
>> Please let me know asap.
>>
>> Thanks,
>> Ramya
>>
>>
>>
>>
>> DISCLAIMER
>> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>> This e-mail may contain privileged and confidential information which=20
>> is the property of Persistent Systems Ltd. It is intended only for=20
>> the use of the individual or entity to which it is addressed. If you=20
>> are not the intended recipient, you are not authorized to read,=20
>> retain, copy, print, distribute or use this message. If you have=20
>> received this communication in error, please notify the sender and=20
>> delete all copies of this message.
>> Persistent Systems Ltd. does not accept any liability for virus=20
>> infected mails.
>>
>
> DISCLAIMER
> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
> This e-mail may contain privileged and confidential information which=20
> is the property of Persistent Systems Ltd. It is intended only for the=20
> use of the individual or entity to which it is addressed. If you are=20
> not the intended recipient, you are not authorized to read, retain,=20
> copy, print, distribute or use this message. If you have received this=20
> communication in error, please notify the sender and delete all copies=20
> of this message. Persistent Systems Ltd. does not accept any liability=20
> for virus infected mails.


From common-user-return-17274-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 04 18:37:20 2009
Return-Path: <common-user-return-17274-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 77657 invoked from network); 4 Sep 2009 18:37:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Sep 2009 18:37:20 -0000
Received: (qmail 54053 invoked by uid 500); 4 Sep 2009 18:37:18 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 53978 invoked by uid 500); 4 Sep 2009 18:37:18 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 53965 invoked by uid 99); 4 Sep 2009 18:37:18 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 18:37:18 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of boyuzhang35@gmail.com designates 209.85.220.225 as permitted sender)
Received: from [209.85.220.225] (HELO mail-fx0-f225.google.com) (209.85.220.225)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 18:37:10 +0000
Received: by fxm25 with SMTP id 25so478902fxm.29
        for <common-user@hadoop.apache.org>; Fri, 04 Sep 2009 11:36:48 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:date:message-id:subject
         :from:to:content-type;
        bh=mEfRZQEc16IxIXcm5smEwJXtHUFzC6h6dmkMQJWiCCI=;
        b=A0P6ItAUeQppHLzoeNiSg6dlJJRriMxBwFK0OoMcfw6Tly4NoSPAXPxOhTZEXY/7nK
         UBNaABaTGZC3ytS6ADQeHlCtBj0Q6k1DFfQhKyC4nbHXVbkTD5vdzqNxVsd6PV9MJpzb
         a5spFR6NQKOIZLleHsHsWode+EbqOV7m+4KwM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=RzTZULBmmNdU3l3cj1LjUUd5EOkPpWF1YoN570ip6NxFRqzpRmKTYOWCo48DJe+sRf
         l5tilVU7JxMLfi+Q8uGZ/uy57lkm6RxcifzbnO9WRrM13JuTgAYrz0ippvHWq4ZfOpD8
         sAZF0ui8QLeVO3Dhvxvf1HPEvZAoX2M/g5rfs=
MIME-Version: 1.0
Received: by 10.204.162.198 with SMTP id w6mr9507362bkx.4.1252089407440; Fri, 
	04 Sep 2009 11:36:47 -0700 (PDT)
Date: Fri, 4 Sep 2009 14:36:47 -0400
Message-ID: <873f8eb60909041136h664abcc8ue92653eeca265557@mail.gmail.com>
Subject: How To Run Multiple Map & Reduce Functions In One Job
From: Boyu Zhang <boyuzhang35@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0003255548b25db9360472c4c8ee
X-Virus-Checked: Checked by ClamAV on apache.org

--0003255548b25db9360472c4c8ee
Content-Type: text/plain; charset=ISO-8859-1

Dear All,

I am using Hadoop 0.20.0. I have an application that needs to run map-reduce
functions iteratively. Right now, the way I am doing this is new a Job for
each pass of the map-reduce. That seems cost a lot. Is there any way to run
map-reduce functions iteratively in one Job?

Thanks a lot for your time!

Boyu Zhang(Emma)

--0003255548b25db9360472c4c8ee--

From common-user-return-17275-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 04 18:40:22 2009
Return-Path: <common-user-return-17275-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 78443 invoked from network); 4 Sep 2009 18:40:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Sep 2009 18:40:22 -0000
Received: (qmail 59551 invoked by uid 500); 4 Sep 2009 18:40:19 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 59445 invoked by uid 500); 4 Sep 2009 18:40:19 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 59435 invoked by uid 99); 4 Sep 2009 18:40:19 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 18:40:19 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of amansk@gmail.com designates 209.85.132.251 as permitted sender)
Received: from [209.85.132.251] (HELO an-out-0708.google.com) (209.85.132.251)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 18:40:10 +0000
Received: by an-out-0708.google.com with SMTP id c38so433413ana.29
        for <common-user@hadoop.apache.org>; Fri, 04 Sep 2009 11:39:49 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=ezUBR3JzpCNFDDVjD92ckfSErvcA1gXBzkFvY3RCACY=;
        b=KFHM3c/l9XENjQ5CBChudG01rQX2hpYQAvoYqsgh94HwhUjyEIa8WfwRkqUw7+n3V5
         576OnaqJUSI4sS652T6VQh7SrD0Pf7bUP0chlyargEpCTcmOPbAT6U6sP0zSa5oW3DTm
         Ik2mitY4r34Go2KHf8FMf9ST5cB/46msMZ7W4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=c2GAKqMjHrpKFRv3+3Gqg8tArfliqlVhWfYZcVlqPCgEePf+C3KdjSlVMqZyxLYgaO
         3gA+EPaRzgsXRsrrCJbZhdlF/tVA4rZwLOCxFGamyF0CkT2lwep0/WQo0ReXGodDOHlY
         LO0tGjPbRR+H1qtTnGkmiLvZmjVx/zghzdbPg=
MIME-Version: 1.0
Received: by 10.101.89.10 with SMTP id r10mr12902864anl.1.1252089589084; Fri, 
	04 Sep 2009 11:39:49 -0700 (PDT)
In-Reply-To: <873f8eb60909041136h664abcc8ue92653eeca265557@mail.gmail.com>
References: <873f8eb60909041136h664abcc8ue92653eeca265557@mail.gmail.com>
From: Amandeep Khurana <amansk@gmail.com>
Date: Fri, 4 Sep 2009 11:39:29 -0700
Message-ID: <35a22e220909041139p797fe5bi1ffedabf9cee7dfb@mail.gmail.com>
Subject: Re: How To Run Multiple Map & Reduce Functions In One Job
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=001636ed74222f31ba0472c4d3a4
X-Virus-Checked: Checked by ClamAV on apache.org

--001636ed74222f31ba0472c4d3a4
Content-Type: text/plain; charset=ISO-8859-1

You can create different mapper and reducer classes and create separate job
configs for them. You can pass these different configs to the Tool object in
the same parent class... But they will essentially be different jobs being
called together from inside the same java parent class.

Why do you say it costs a lot? Whats the issue??


Amandeep Khurana
Computer Science Graduate Student
University of California, Santa Cruz


On Fri, Sep 4, 2009 at 11:36 AM, Boyu Zhang <boyuzhang35@gmail.com> wrote:

> Dear All,
>
> I am using Hadoop 0.20.0. I have an application that needs to run
> map-reduce
> functions iteratively. Right now, the way I am doing this is new a Job for
> each pass of the map-reduce. That seems cost a lot. Is there any way to run
> map-reduce functions iteratively in one Job?
>
> Thanks a lot for your time!
>
> Boyu Zhang(Emma)
>

--001636ed74222f31ba0472c4d3a4--

From common-user-return-17276-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 04 18:49:04 2009
Return-Path: <common-user-return-17276-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 80595 invoked from network); 4 Sep 2009 18:49:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Sep 2009 18:49:03 -0000
Received: (qmail 78460 invoked by uid 500); 4 Sep 2009 18:49:01 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 78388 invoked by uid 500); 4 Sep 2009 18:49:01 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 78369 invoked by uid 99); 4 Sep 2009 18:49:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 18:49:01 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of boyuzhang35@gmail.com designates 209.85.218.214 as permitted sender)
Received: from [209.85.218.214] (HELO mail-bw0-f214.google.com) (209.85.218.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 18:48:52 +0000
Received: by bwz10 with SMTP id 10so876982bwz.29
        for <common-user@hadoop.apache.org>; Fri, 04 Sep 2009 11:48:31 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=bw5whRl8z7KsNHVJ3dqFOeYxSk8hxaj+873Jjz1uBeE=;
        b=WhGG0+6DctW6HDB5HJ9zbGBt2p2wLOGwZwv/L1B+JjzbMGBfUQVU0x5K3mSOt5xf/P
         m+2pwBV4PZUuKLLaW9EQPvfupDQgDzMwzAWwhvTqquZhxib5+2CdTxnyJMCxFOCQ7hTd
         lGwfLXmVh6V8mQ0DcpM0hpy0PoaQE284gIBfM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=L3rIUdxXVklYMso1LQwEiXllbhrXJJZ5Che9X4GcajT54Upa5J87gnh+G+k7smcy8e
         vKGC7LOk8dG0ZNuiiTyh/wds4wzpcITIMqxiyk6XaJ8PeOzCFjq448rExmHsnBGpR5et
         QQzBxHC6F6+PocsZRmLNteteWxbGV8MhQDqgo=
MIME-Version: 1.0
Received: by 10.204.8.72 with SMTP id g8mr9468479bkg.199.1252090111243; Fri, 
	04 Sep 2009 11:48:31 -0700 (PDT)
In-Reply-To: <35a22e220909041139p797fe5bi1ffedabf9cee7dfb@mail.gmail.com>
References: <873f8eb60909041136h664abcc8ue92653eeca265557@mail.gmail.com>
	 <35a22e220909041139p797fe5bi1ffedabf9cee7dfb@mail.gmail.com>
Date: Fri, 4 Sep 2009 14:48:31 -0400
Message-ID: <873f8eb60909041148k3fff877fy7974f14bf70e3574@mail.gmail.com>
Subject: Re: How To Run Multiple Map & Reduce Functions In One Job
From: Boyu Zhang <boyuzhang35@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0015174c36f24eb7670472c4f2ab
X-Virus-Checked: Checked by ClamAV on apache.org

--0015174c36f24eb7670472c4f2ab
Content-Type: text/plain; charset=ISO-8859-1

Dear Amandeep,

Thanks for the fast reply. I will try the method you mentioned.

 In my understanding, when a job is submitted, there will be a separate java
process in jobtracker responsible for that job. And there will be an
initialization and cleanup cost for each job. If every iteration is a new
job, they will be created sequentially by the jobtracker. Say, there are 10
iterations in my code, there will be 10 jobs submitted to the jobtracker. I
am just thinking is there a way to just submit 1 job,  but run 10
iterations, since they are using the same mapper and reducer classes. That
is basiclly why I think they are costly, maybe there is something that I
misunderstood. I hope you could share it with me if I was wrong.

Again, thanks a lot for replying!

Boyu

On Fri, Sep 4, 2009 at 2:39 PM, Amandeep Khurana <amansk@gmail.com> wrote:

> You can create different mapper and reducer classes and create separate job
> configs for them. You can pass these different configs to the Tool object
> in
> the same parent class... But they will essentially be different jobs being
> called together from inside the same java parent class.
>
> Why do you say it costs a lot? Whats the issue??
>
>
> Amandeep Khurana
> Computer Science Graduate Student
> University of California, Santa Cruz
>
>
> On Fri, Sep 4, 2009 at 11:36 AM, Boyu Zhang <boyuzhang35@gmail.com> wrote:
>
> > Dear All,
> >
> > I am using Hadoop 0.20.0. I have an application that needs to run
> > map-reduce
> > functions iteratively. Right now, the way I am doing this is new a Job
> for
> > each pass of the map-reduce. That seems cost a lot. Is there any way to
> run
> > map-reduce functions iteratively in one Job?
> >
> > Thanks a lot for your time!
> >
> > Boyu Zhang(Emma)
> >
>

--0015174c36f24eb7670472c4f2ab--

From common-user-return-17277-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 04 18:52:38 2009
Return-Path: <common-user-return-17277-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 81394 invoked from network); 4 Sep 2009 18:52:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Sep 2009 18:52:38 -0000
Received: (qmail 83966 invoked by uid 500); 4 Sep 2009 18:52:35 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 83860 invoked by uid 500); 4 Sep 2009 18:52:35 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 83850 invoked by uid 99); 4 Sep 2009 18:52:35 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 18:52:35 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of amansk@gmail.com designates 209.85.210.175 as permitted sender)
Received: from [209.85.210.175] (HELO mail-yx0-f175.google.com) (209.85.210.175)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 18:52:26 +0000
Received: by yxe5 with SMTP id 5so2969633yxe.33
        for <common-user@hadoop.apache.org>; Fri, 04 Sep 2009 11:52:04 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=oi0pP9m292J3KgpcVPxm6gz4kOjG1dPTfqhCx79puxs=;
        b=akUv8ngA+zvMbdZgQLxVNa/TZRC/Y+R/ztNmp/RwY4nU3u+P7zKcA3pKBXxcKmA+bH
         bgBCXCXTLGgEMuDxvyeyP6ug+FNYbB5l34449jY2ydpwgzhISvnJGliCedc/xccdPA07
         RMOVr1lmIQQpjXjaUJ1kdC7Mg7/Q2YVyZmin4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=mPqEskXGUQ+iDKgRpDH1RJvGh1OGbUHzARaEVJL+/iQK9aOuq/aInBdsYYG0DZcPxc
         uOGXFuGlMQI6n4cvbDPjz2LSuMpSfaVt8RsCVn83YlLDeWU4aosHGygxfUi+lOr9Q1Bm
         s9clZwl6irv19zYXcPvZ2+DaJle/L/TmrYs+g=
MIME-Version: 1.0
Received: by 10.101.176.38 with SMTP id d38mr12810890anp.12.1252090324123; 
	Fri, 04 Sep 2009 11:52:04 -0700 (PDT)
In-Reply-To: <873f8eb60909041148k3fff877fy7974f14bf70e3574@mail.gmail.com>
References: <873f8eb60909041136h664abcc8ue92653eeca265557@mail.gmail.com> 
	<35a22e220909041139p797fe5bi1ffedabf9cee7dfb@mail.gmail.com> 
	<873f8eb60909041148k3fff877fy7974f14bf70e3574@mail.gmail.com>
From: Amandeep Khurana <amansk@gmail.com>
Date: Fri, 4 Sep 2009 11:51:44 -0700
Message-ID: <35a22e220909041151k4e7df3e3g20d739a324334ad1@mail.gmail.com>
Subject: Re: How To Run Multiple Map & Reduce Functions In One Job
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=001636c927f3ff01840472c4fe39
X-Virus-Checked: Checked by ClamAV on apache.org

--001636c927f3ff01840472c4fe39
Content-Type: text/plain; charset=ISO-8859-1

Wait.. Why are you using the same mapper and reducer and calling it 10
times? Is the output of the first iteration being input into the second one?
What are these jobs doing? Tell a bit more about that. There might be a way
by which you can club some jobs together into one job and reduce the
overheads...


Amandeep Khurana
Computer Science Graduate Student
University of California, Santa Cruz


On Fri, Sep 4, 2009 at 11:48 AM, Boyu Zhang <boyuzhang35@gmail.com> wrote:

> Dear Amandeep,
>
> Thanks for the fast reply. I will try the method you mentioned.
>
>  In my understanding, when a job is submitted, there will be a separate
> java
> process in jobtracker responsible for that job. And there will be an
> initialization and cleanup cost for each job. If every iteration is a new
> job, they will be created sequentially by the jobtracker. Say, there are 10
> iterations in my code, there will be 10 jobs submitted to the jobtracker. I
> am just thinking is there a way to just submit 1 job,  but run 10
> iterations, since they are using the same mapper and reducer classes. That
> is basiclly why I think they are costly, maybe there is something that I
> misunderstood. I hope you could share it with me if I was wrong.
>
> Again, thanks a lot for replying!
>
> Boyu
>
> On Fri, Sep 4, 2009 at 2:39 PM, Amandeep Khurana <amansk@gmail.com> wrote:
>
> > You can create different mapper and reducer classes and create separate
> job
> > configs for them. You can pass these different configs to the Tool object
> > in
> > the same parent class... But they will essentially be different jobs
> being
> > called together from inside the same java parent class.
> >
> > Why do you say it costs a lot? Whats the issue??
> >
> >
> > Amandeep Khurana
> > Computer Science Graduate Student
> > University of California, Santa Cruz
> >
> >
> > On Fri, Sep 4, 2009 at 11:36 AM, Boyu Zhang <boyuzhang35@gmail.com>
> wrote:
> >
> > > Dear All,
> > >
> > > I am using Hadoop 0.20.0. I have an application that needs to run
> > > map-reduce
> > > functions iteratively. Right now, the way I am doing this is new a Job
> > for
> > > each pass of the map-reduce. That seems cost a lot. Is there any way to
> > run
> > > map-reduce functions iteratively in one Job?
> > >
> > > Thanks a lot for your time!
> > >
> > > Boyu Zhang(Emma)
> > >
> >
>

--001636c927f3ff01840472c4fe39--

From common-user-return-17278-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 04 19:01:51 2009
Return-Path: <common-user-return-17278-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 86281 invoked from network); 4 Sep 2009 19:01:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Sep 2009 19:01:50 -0000
Received: (qmail 17246 invoked by uid 500); 4 Sep 2009 19:01:48 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 17170 invoked by uid 500); 4 Sep 2009 19:01:48 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 17160 invoked by uid 99); 4 Sep 2009 19:01:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 19:01:48 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of yuzhihong@gmail.com designates 74.125.92.27 as permitted sender)
Received: from [74.125.92.27] (HELO qw-out-2122.google.com) (74.125.92.27)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 19:01:40 +0000
Received: by qw-out-2122.google.com with SMTP id 8so312061qwh.35
        for <common-user@hadoop.apache.org>; Fri, 04 Sep 2009 12:01:19 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:date:message-id:subject
         :from:to:content-type;
        bh=iVqQHC5pAFd5SbbmBq3FgzOMtWZWfyfnlb/e10OFpHo=;
        b=lrz3InMDCLnv7/VABJd7Qr0si6jPV12sI+Bw+q7Be80uCYibBU8M8g35oSkurr1g3e
         rcj8Z74jtP0GaXBLbwZiEKb+c8ex72mo3X5rZP4QfdxPUPE+NgX8LAjuusbBkf5T6uxC
         zb6pFcwi12P8CONjwpnh2CBbFSJ5hvazHPiAc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=dQXN9LZawIB9/HrVcyNROQ40TI3TI9w3T0UUWUtX/+Rnh++urgdr31ugN4304yY0ru
         dWOaR9t8tIzVjvjCkHdawo/ZdB5IFh9Hqk5CKcww9bswnVNo7rdl4Puoa6wO6+q1uWRM
         ut5bnLKAV6XmIEIzmsUS0WG+lw+rng3We2ECM=
MIME-Version: 1.0
Received: by 10.229.47.79 with SMTP id m15mr3392506qcf.19.1252090879076; Fri, 
	04 Sep 2009 12:01:19 -0700 (PDT)
Date: Fri, 4 Sep 2009 12:01:19 -0700
Message-ID: <17e273100909041201t25c290bbr5b8a531d0a7a3673@mail.gmail.com>
Subject: measuring memory usage
From: Ted Yu <yuzhihong@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=00163641722f12ec100472c520f8
X-Virus-Checked: Checked by ClamAV on apache.org

--00163641722f12ec100472c520f8
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I am using Hadoop 0.20.0



How can I get pass the exception below ?



[hadoop@vh20 hadoop]$ jmap -heap 3837

Attaching to process ID 3837, please wait...

sun.jvm.hotspot.debugger.NoSuchSymbolException: Could not find symbol
"gHotSpotVMTypeEntryTypeNameOffset" in any of the known library names
(libjvm.so, libjvm_g.so, gamma_g)

        at
sun.jvm.hotspot.HotSpotTypeDataBase.lookupInProcess(HotSpotTypeDataBase.java:388)

        at
sun.jvm.hotspot.HotSpotTypeDataBase.getLongValueFromProcess(HotSpotTypeDataBase.java:369)

        at
sun.jvm.hotspot.HotSpotTypeDataBase.readVMTypes(HotSpotTypeDataBase.java:102)

        at
sun.jvm.hotspot.HotSpotTypeDataBase.<init>(HotSpotTypeDataBase.java:85)

        at
sun.jvm.hotspot.bugspot.BugSpotAgent.setupVM(BugSpotAgent.java:568)

        at sun.jvm.hotspot.bugspot.BugSpotAgent.go(BugSpotAgent.java:494)

        at
sun.jvm.hotspot.bugspot.BugSpotAgent.attach(BugSpotAgent.java:332)

        at sun.jvm.hotspot.tools.Tool.start(Tool.java:163)

        at sun.jvm.hotspot.tools.HeapSummary.main(HeapSummary.java:39)

        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)

        at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)

        at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)

        at java.lang.reflect.Method.invoke(Method.java:616)

        at sun.tools.jmap.JMap.runTool(JMap.java:196)

        at sun.tools.jmap.JMap.main(JMap.java:128)

Debugger attached successfully.

sun.jvm.hotspot.tools.HeapSummary requires a java VM process/core!



Thanks

--00163641722f12ec100472c520f8--

From common-user-return-17279-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 04 19:22:39 2009
Return-Path: <common-user-return-17279-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 92788 invoked from network); 4 Sep 2009 19:22:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Sep 2009 19:22:39 -0000
Received: (qmail 42274 invoked by uid 500); 4 Sep 2009 19:22:37 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 42202 invoked by uid 500); 4 Sep 2009 19:22:37 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 42192 invoked by uid 99); 4 Sep 2009 19:22:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 19:22:36 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of boyuzhang35@gmail.com designates 209.85.218.214 as permitted sender)
Received: from [209.85.218.214] (HELO mail-bw0-f214.google.com) (209.85.218.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 19:22:27 +0000
Received: by bwz10 with SMTP id 10so894779bwz.29
        for <common-user@hadoop.apache.org>; Fri, 04 Sep 2009 12:22:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=GH3F8TQFqyLaOrg3SmfvFZzqyotlw24wquivX1ygacE=;
        b=mbDc/fQ9WXzr7o0dhNPQcutf3Efi2ntEfrf+g9dKStwHVpBSf8ByYW6foL6/sDIjDp
         z0spj3XQ7HWYptQKgQiA/XwXvQra2xvtKe/Wer13aFWW0jVIIKvx+Gs5a/cnF2GUWNze
         FTg/FLYZXBm4/07qIGPcuMLCmchooVjoVe8RE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=pKr1wJDv4s6Q30JVUpotbzKUemIh/ME2sVPvS1XJNGeZJuvifDewvcK8pV+0NUHEht
         XNtE2oXNvllDq4DZoaJAQUYe3IpkdyEl3luxFGv4nrBwXCivuKj2WIRY6i0lRoYT5sva
         I+OWSmb22l/aj/y73d1reWp6gIlTA3XvV0P3Q=
MIME-Version: 1.0
Received: by 10.204.151.209 with SMTP id d17mr9393774bkw.120.1252092126779; 
	Fri, 04 Sep 2009 12:22:06 -0700 (PDT)
In-Reply-To: <35a22e220909041151k4e7df3e3g20d739a324334ad1@mail.gmail.com>
References: <873f8eb60909041136h664abcc8ue92653eeca265557@mail.gmail.com>
	 <35a22e220909041139p797fe5bi1ffedabf9cee7dfb@mail.gmail.com>
	 <873f8eb60909041148k3fff877fy7974f14bf70e3574@mail.gmail.com>
	 <35a22e220909041151k4e7df3e3g20d739a324334ad1@mail.gmail.com>
Date: Fri, 4 Sep 2009 15:22:02 -0400
Message-ID: <873f8eb60909041222g5175df62w94e73039f77f7d21@mail.gmail.com>
Subject: Re: How To Run Multiple Map & Reduce Functions In One Job
From: Boyu Zhang <boyuzhang35@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0015175d67ec719b350472c56a7a
X-Virus-Checked: Checked by ClamAV on apache.org

--0015175d67ec719b350472c56a7a
Content-Type: text/plain; charset=ISO-8859-1

Yes, the output of the first iteration is the input of the second iteration.
Actually, I am trying the page ranking problem. In the algorithm, you have
to run several iterations each using the output of previous iteration as
input and producing the output for latter.

It is not a real life application, I just want to try some applications with
iterations. Thanks a lot!

Boyu

On Fri, Sep 4, 2009 at 2:51 PM, Amandeep Khurana <amansk@gmail.com> wrote:

> Wait.. Why are you using the same mapper and reducer and calling it 10
> times? Is the output of the first iteration being input into the second
> one?
> What are these jobs doing? Tell a bit more about that. There might be a way
> by which you can club some jobs together into one job and reduce the
> overheads...
>
>
> Amandeep Khurana
> Computer Science Graduate Student
> University of California, Santa Cruz
>
>
> On Fri, Sep 4, 2009 at 11:48 AM, Boyu Zhang <boyuzhang35@gmail.com> wrote:
>
> > Dear Amandeep,
> >
> > Thanks for the fast reply. I will try the method you mentioned.
> >
> >  In my understanding, when a job is submitted, there will be a separate
> > java
> > process in jobtracker responsible for that job. And there will be an
> > initialization and cleanup cost for each job. If every iteration is a new
> > job, they will be created sequentially by the jobtracker. Say, there are
> 10
> > iterations in my code, there will be 10 jobs submitted to the jobtracker.
> I
> > am just thinking is there a way to just submit 1 job,  but run 10
> > iterations, since they are using the same mapper and reducer classes.
> That
> > is basiclly why I think they are costly, maybe there is something that I
> > misunderstood. I hope you could share it with me if I was wrong.
> >
> > Again, thanks a lot for replying!
> >
> > Boyu
> >
> > On Fri, Sep 4, 2009 at 2:39 PM, Amandeep Khurana <amansk@gmail.com>
> wrote:
> >
> > > You can create different mapper and reducer classes and create separate
> > job
> > > configs for them. You can pass these different configs to the Tool
> object
> > > in
> > > the same parent class... But they will essentially be different jobs
> > being
> > > called together from inside the same java parent class.
> > >
> > > Why do you say it costs a lot? Whats the issue??
> > >
> > >
> > > Amandeep Khurana
> > > Computer Science Graduate Student
> > > University of California, Santa Cruz
> > >
> > >
> > > On Fri, Sep 4, 2009 at 11:36 AM, Boyu Zhang <boyuzhang35@gmail.com>
> > wrote:
> > >
> > > > Dear All,
> > > >
> > > > I am using Hadoop 0.20.0. I have an application that needs to run
> > > > map-reduce
> > > > functions iteratively. Right now, the way I am doing this is new a
> Job
> > > for
> > > > each pass of the map-reduce. That seems cost a lot. Is there any way
> to
> > > run
> > > > map-reduce functions iteratively in one Job?
> > > >
> > > > Thanks a lot for your time!
> > > >
> > > > Boyu Zhang(Emma)
> > > >
> > >
> >
>

--0015175d67ec719b350472c56a7a--

From common-user-return-17280-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 04 19:25:55 2009
Return-Path: <common-user-return-17280-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 93637 invoked from network); 4 Sep 2009 19:25:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Sep 2009 19:25:54 -0000
Received: (qmail 46629 invoked by uid 500); 4 Sep 2009 19:25:52 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 46539 invoked by uid 500); 4 Sep 2009 19:25:52 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 46529 invoked by uid 99); 4 Sep 2009 19:25:52 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 19:25:52 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of amansk@gmail.com designates 209.85.222.201 as permitted sender)
Received: from [209.85.222.201] (HELO mail-pz0-f201.google.com) (209.85.222.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 19:25:44 +0000
Received: by pzk39 with SMTP id 39so1031874pzk.15
        for <common-user@hadoop.apache.org>; Fri, 04 Sep 2009 12:25:24 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=0u+sXlKOv6xLzYJo8aLvUF5lgfmolEYvtj3d9RT/4SA=;
        b=e4KGL7i/+ncQWZBQPaBnJliM1o3NSC85P3Ho8h22D0T0xRP4gbDqVqwiwXRaXz9dIT
         MhSrl2rq8oI5a8DP2a1m0fueMHBD8EnpLo7uK6iuDj81nfykiYoo38WhyeDkXEyVujwY
         OBNiAXZ19r+UyWglekWBKtFZsyLHf/b2HZnLE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=JssaGUxBGOliO0k0sDOY67rMgQ/BKUf89tCPK74UgT/MLmJNxYO0cgt7gIXdKJFuPJ
         WQjokd6C6/42eqhdj87ytyp+94cES54f/dWNbElOQArLixtlGcu91x+hJaAra/LzMP82
         0UU1qmfv/27A11sTYO4kAq+KJ7gRoDxXzpfJ8=
MIME-Version: 1.0
Received: by 10.142.59.17 with SMTP id h17mr378980wfa.45.1252092324102; Fri, 
	04 Sep 2009 12:25:24 -0700 (PDT)
In-Reply-To: <873f8eb60909041222g5175df62w94e73039f77f7d21@mail.gmail.com>
References: <873f8eb60909041136h664abcc8ue92653eeca265557@mail.gmail.com> 
	<35a22e220909041139p797fe5bi1ffedabf9cee7dfb@mail.gmail.com> 
	<873f8eb60909041148k3fff877fy7974f14bf70e3574@mail.gmail.com> 
	<35a22e220909041151k4e7df3e3g20d739a324334ad1@mail.gmail.com> 
	<873f8eb60909041222g5175df62w94e73039f77f7d21@mail.gmail.com>
From: Amandeep Khurana <amansk@gmail.com>
Date: Fri, 4 Sep 2009 12:25:04 -0700
Message-ID: <35a22e220909041225t50d08cf3l17da943a074a2bb6@mail.gmail.com>
Subject: Re: How To Run Multiple Map & Reduce Functions In One Job
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=00504502b8803441c20472c57683
X-Virus-Checked: Checked by ClamAV on apache.org

--00504502b8803441c20472c57683
Content-Type: text/plain; charset=ISO-8859-1

Ah ok.. Then I think you'll have to fire separate jobs. But they can all be
fired from inside one parent job - the method I explained earlier. Try that
out...

On Fri, Sep 4, 2009 at 12:22 PM, Boyu Zhang <boyuzhang35@gmail.com> wrote:

> Yes, the output of the first iteration is the input of the second
> iteration.
> Actually, I am trying the page ranking problem. In the algorithm, you have
> to run several iterations each using the output of previous iteration as
> input and producing the output for latter.
>
> It is not a real life application, I just want to try some applications
> with
> iterations. Thanks a lot!
>
> Boyu
>
> On Fri, Sep 4, 2009 at 2:51 PM, Amandeep Khurana <amansk@gmail.com> wrote:
>
> > Wait.. Why are you using the same mapper and reducer and calling it 10
> > times? Is the output of the first iteration being input into the second
> > one?
> > What are these jobs doing? Tell a bit more about that. There might be a
> way
> > by which you can club some jobs together into one job and reduce the
> > overheads...
> >
> >
> > Amandeep Khurana
> > Computer Science Graduate Student
> > University of California, Santa Cruz
> >
> >
> > On Fri, Sep 4, 2009 at 11:48 AM, Boyu Zhang <boyuzhang35@gmail.com>
> wrote:
> >
> > > Dear Amandeep,
> > >
> > > Thanks for the fast reply. I will try the method you mentioned.
> > >
> > >  In my understanding, when a job is submitted, there will be a separate
> > > java
> > > process in jobtracker responsible for that job. And there will be an
> > > initialization and cleanup cost for each job. If every iteration is a
> new
> > > job, they will be created sequentially by the jobtracker. Say, there
> are
> > 10
> > > iterations in my code, there will be 10 jobs submitted to the
> jobtracker.
> > I
> > > am just thinking is there a way to just submit 1 job,  but run 10
> > > iterations, since they are using the same mapper and reducer classes.
> > That
> > > is basiclly why I think they are costly, maybe there is something that
> I
> > > misunderstood. I hope you could share it with me if I was wrong.
> > >
> > > Again, thanks a lot for replying!
> > >
> > > Boyu
> > >
> > > On Fri, Sep 4, 2009 at 2:39 PM, Amandeep Khurana <amansk@gmail.com>
> > wrote:
> > >
> > > > You can create different mapper and reducer classes and create
> separate
> > > job
> > > > configs for them. You can pass these different configs to the Tool
> > object
> > > > in
> > > > the same parent class... But they will essentially be different jobs
> > > being
> > > > called together from inside the same java parent class.
> > > >
> > > > Why do you say it costs a lot? Whats the issue??
> > > >
> > > >
> > > > Amandeep Khurana
> > > > Computer Science Graduate Student
> > > > University of California, Santa Cruz
> > > >
> > > >
> > > > On Fri, Sep 4, 2009 at 11:36 AM, Boyu Zhang <boyuzhang35@gmail.com>
> > > wrote:
> > > >
> > > > > Dear All,
> > > > >
> > > > > I am using Hadoop 0.20.0. I have an application that needs to run
> > > > > map-reduce
> > > > > functions iteratively. Right now, the way I am doing this is new a
> > Job
> > > > for
> > > > > each pass of the map-reduce. That seems cost a lot. Is there any
> way
> > to
> > > > run
> > > > > map-reduce functions iteratively in one Job?
> > > > >
> > > > > Thanks a lot for your time!
> > > > >
> > > > > Boyu Zhang(Emma)
> > > > >
> > > >
> > >
> >
>

--00504502b8803441c20472c57683--

From common-user-return-17281-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 04 19:27:20 2009
Return-Path: <common-user-return-17281-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 93876 invoked from network); 4 Sep 2009 19:27:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 4 Sep 2009 19:27:20 -0000
Received: (qmail 49164 invoked by uid 500); 4 Sep 2009 19:27:18 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 49066 invoked by uid 500); 4 Sep 2009 19:27:18 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 49056 invoked by uid 99); 4 Sep 2009 19:27:17 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 19:27:17 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of boyuzhang35@gmail.com designates 209.85.220.225 as permitted sender)
Received: from [209.85.220.225] (HELO mail-fx0-f225.google.com) (209.85.220.225)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 04 Sep 2009 19:27:08 +0000
Received: by fxm25 with SMTP id 25so505039fxm.29
        for <common-user@hadoop.apache.org>; Fri, 04 Sep 2009 12:26:48 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=OICzUGuKzjNu53sQVPl5QjZGSn2U4AZ43LMjLJYXmUs=;
        b=DP4wzs6rvsIb0OjUn1ZYf6LxucBt/mhRjSuuh9SqDZFPQ3V+hNMozgB6WiKe8N4vQr
         F6jx+VoUJPSqU9AGyYRhZMdEiAuEnEKXs8rEPASQ0LO+LiUcbn375nL8URF4vbCJVFtV
         VaFG9CGSNAVLnZc1FqeJxS+mG84HhysL8oFBc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=tkh+TsEhwGQ8FqDq1cR1U85TIgT6EJzJeSB3VPlNW0Oc1AIEIoLvqCnCIIZqC1SO9O
         v1lb6Ja/f7CGucR3c4WBIoOMkK5WU/dBN20pOya/OEfllyPstF7VNAmz5/MfcvYGfF9M
         HsVwQ9tQIO6Sn92zcAWjHaofw4YpCB7I8HjMc=
MIME-Version: 1.0
Received: by 10.204.34.69 with SMTP id k5mr9375933bkd.2.1252092408049; Fri, 04 
	Sep 2009 12:26:48 -0700 (PDT)
In-Reply-To: <35a22e220909041225t50d08cf3l17da943a074a2bb6@mail.gmail.com>
References: <873f8eb60909041136h664abcc8ue92653eeca265557@mail.gmail.com>
	 <35a22e220909041139p797fe5bi1ffedabf9cee7dfb@mail.gmail.com>
	 <873f8eb60909041148k3fff877fy7974f14bf70e3574@mail.gmail.com>
	 <35a22e220909041151k4e7df3e3g20d739a324334ad1@mail.gmail.com>
	 <873f8eb60909041222g5175df62w94e73039f77f7d21@mail.gmail.com>
	 <35a22e220909041225t50d08cf3l17da943a074a2bb6@mail.gmail.com>
Date: Fri, 4 Sep 2009 15:26:48 -0400
Message-ID: <873f8eb60909041226w1a7ee0deh31696cda7e21e694@mail.gmail.com>
Subject: Re: How To Run Multiple Map & Reduce Functions In One Job
From: Boyu Zhang <boyuzhang35@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=000325559e823532640472c57b0d
X-Virus-Checked: Checked by ClamAV on apache.org

--000325559e823532640472c57b0d
Content-Type: text/plain; charset=ISO-8859-1

OK. Thank you very much! Helps me a lot, I will try it.

Boyu

On Fri, Sep 4, 2009 at 3:25 PM, Amandeep Khurana <amansk@gmail.com> wrote:

> Ah ok.. Then I think you'll have to fire separate jobs. But they can all be
> fired from inside one parent job - the method I explained earlier. Try that
> out...
>
> On Fri, Sep 4, 2009 at 12:22 PM, Boyu Zhang <boyuzhang35@gmail.com> wrote:
>
> > Yes, the output of the first iteration is the input of the second
> > iteration.
> > Actually, I am trying the page ranking problem. In the algorithm, you
> have
> > to run several iterations each using the output of previous iteration as
> > input and producing the output for latter.
> >
> > It is not a real life application, I just want to try some applications
> > with
> > iterations. Thanks a lot!
> >
> > Boyu
> >
> > On Fri, Sep 4, 2009 at 2:51 PM, Amandeep Khurana <amansk@gmail.com>
> wrote:
> >
> > > Wait.. Why are you using the same mapper and reducer and calling it 10
> > > times? Is the output of the first iteration being input into the second
> > > one?
> > > What are these jobs doing? Tell a bit more about that. There might be a
> > way
> > > by which you can club some jobs together into one job and reduce the
> > > overheads...
> > >
> > >
> > > Amandeep Khurana
> > > Computer Science Graduate Student
> > > University of California, Santa Cruz
> > >
> > >
> > > On Fri, Sep 4, 2009 at 11:48 AM, Boyu Zhang <boyuzhang35@gmail.com>
> > wrote:
> > >
> > > > Dear Amandeep,
> > > >
> > > > Thanks for the fast reply. I will try the method you mentioned.
> > > >
> > > >  In my understanding, when a job is submitted, there will be a
> separate
> > > > java
> > > > process in jobtracker responsible for that job. And there will be an
> > > > initialization and cleanup cost for each job. If every iteration is a
> > new
> > > > job, they will be created sequentially by the jobtracker. Say, there
> > are
> > > 10
> > > > iterations in my code, there will be 10 jobs submitted to the
> > jobtracker.
> > > I
> > > > am just thinking is there a way to just submit 1 job,  but run 10
> > > > iterations, since they are using the same mapper and reducer classes.
> > > That
> > > > is basiclly why I think they are costly, maybe there is something
> that
> > I
> > > > misunderstood. I hope you could share it with me if I was wrong.
> > > >
> > > > Again, thanks a lot for replying!
> > > >
> > > > Boyu
> > > >
> > > > On Fri, Sep 4, 2009 at 2:39 PM, Amandeep Khurana <amansk@gmail.com>
> > > wrote:
> > > >
> > > > > You can create different mapper and reducer classes and create
> > separate
> > > > job
> > > > > configs for them. You can pass these different configs to the Tool
> > > object
> > > > > in
> > > > > the same parent class... But they will essentially be different
> jobs
> > > > being
> > > > > called together from inside the same java parent class.
> > > > >
> > > > > Why do you say it costs a lot? Whats the issue??
> > > > >
> > > > >
> > > > > Amandeep Khurana
> > > > > Computer Science Graduate Student
> > > > > University of California, Santa Cruz
> > > > >
> > > > >
> > > > > On Fri, Sep 4, 2009 at 11:36 AM, Boyu Zhang <boyuzhang35@gmail.com
> >
> > > > wrote:
> > > > >
> > > > > > Dear All,
> > > > > >
> > > > > > I am using Hadoop 0.20.0. I have an application that needs to run
> > > > > > map-reduce
> > > > > > functions iteratively. Right now, the way I am doing this is new
> a
> > > Job
> > > > > for
> > > > > > each pass of the map-reduce. That seems cost a lot. Is there any
> > way
> > > to
> > > > > run
> > > > > > map-reduce functions iteratively in one Job?
> > > > > >
> > > > > > Thanks a lot for your time!
> > > > > >
> > > > > > Boyu Zhang(Emma)
> > > > > >
> > > > >
> > > >
> > >
> >
>

--000325559e823532640472c57b0d--

From common-user-return-17282-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Sat Sep 05 00:15:55 2009
Return-Path: <common-user-return-17282-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 55441 invoked from network); 5 Sep 2009 00:15:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 5 Sep 2009 00:15:54 -0000
Received: (qmail 54797 invoked by uid 500); 5 Sep 2009 00:15:52 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 54724 invoked by uid 500); 5 Sep 2009 00:15:52 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 54714 invoked by uid 99); 5 Sep 2009 00:15:52 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Sep 2009 00:15:52 +0000
X-ASF-Spam-Status: No, hits=3.4 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: 209.85.216.183 is neither permitted nor denied by domain of kjirapinyo@biz360.com)
Received: from [209.85.216.183] (HELO mail-px0-f183.google.com) (209.85.216.183)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Sep 2009 00:15:43 +0000
Received: by pxi13 with SMTP id 13so1126785pxi.10
        for <common-user@hadoop.apache.org>; Fri, 04 Sep 2009 17:15:21 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.143.129.7 with SMTP id g7mr366845wfn.43.1252109721093; Fri, 04 
	Sep 2009 17:15:21 -0700 (PDT)
From: Kris Jirapinyo <kjirapinyo@biz360.com>
Date: Fri, 4 Sep 2009 17:15:00 -0700
Message-ID: <42a1925b0909041715t4c8c5401h129b6c1a672cd570@mail.gmail.com>
Subject: Copying directories out of HDFS
To: common-user <common-user@hadoop.apache.org>
Content-Type: multipart/alternative; boundary=000e0cd72db625497c0472c9835b
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd72db625497c0472c9835b
Content-Type: text/plain; charset=ISO-8859-1

Hi all,
    What is the best way to copy directories from HDFS to local disk in
0.19.1?

Thanks,
Kris.

--000e0cd72db625497c0472c9835b--

From common-user-return-17283-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Sat Sep 05 02:30:02 2009
Return-Path: <common-user-return-17283-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 76862 invoked from network); 5 Sep 2009 02:30:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 5 Sep 2009 02:30:02 -0000
Received: (qmail 27828 invoked by uid 500); 5 Sep 2009 02:29:59 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 27733 invoked by uid 500); 5 Sep 2009 02:29:59 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 27723 invoked by uid 99); 5 Sep 2009 02:29:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Sep 2009 02:29:59 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of bharathvissapragada1990@gmail.com designates 74.125.92.27 as permitted sender)
Received: from [74.125.92.27] (HELO qw-out-2122.google.com) (74.125.92.27)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Sep 2009 02:29:51 +0000
Received: by qw-out-2122.google.com with SMTP id 8so368388qwh.35
        for <common-user@hadoop.apache.org>; Fri, 04 Sep 2009 19:29:30 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=4oaiOIaPMNM5aKII/3CFHy+CT6cw20WLCHwZ6YtuKVc=;
        b=EJGDt5wYU3T24/XEvGGXBEPMztFYXlgggldKqO95FG5/LdDDL79WzjqljWS7WQ48i9
         7XjZROCuNQIYWJK4KHxrhnkbynqyM47ys5kviGpoW00nx+ZWZYbwPZBh8ZTj2pCjoyGT
         Cy4/MdsweFFWR+7VLU9zS+j0hviGeWyHA3n8A=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=rlUD70iHrepQ7tY0GH7prqwvWGcsqHwtUzGS5nt40DOb0SdhpZQtnnjLBtPLMeP9ll
         H0CQmYgnbXVzju7tGq/8JK6NZOdIXy2RrHGjZbs5AG1hhiv62hcDTiNydN26htxdXWUA
         l7z3jjomflnV51Bxo5cINrWperUWIbBSrvQk0=
MIME-Version: 1.0
Received: by 10.229.39.69 with SMTP id f5mr3354066qce.107.1252117770183; Fri, 
	04 Sep 2009 19:29:30 -0700 (PDT)
In-Reply-To: <616DA47B2EF5B944B91846785B512FF4CFADEA763F@EGL-EX07VS01.ds.corp.yahoo.com>
References: <6f72e2db0909040046v52c5d5d1t2b3962af1e4804b4@mail.gmail.com> 
	<8211a1320909040055g4fc97619r896a6049e0215d8a@mail.gmail.com> 
	<35a22e220909040124g5a5f6ef0u4794b1a132ddf2aa@mail.gmail.com> 
	<73d592f60909040845g1319dab8x24270805bedb1a18@mail.gmail.com> 
	<616DA47B2EF5B944B91846785B512FF4CFADEA763F@EGL-EX07VS01.ds.corp.yahoo.com>
From: bharath vissapragada <bharathvissapragada1990@gmail.com>
Date: Sat, 5 Sep 2009 07:59:10 +0530
Message-ID: <73d592f60909041929l6a133795k22d629cdd62cce41@mail.gmail.com>
Subject: Re: Some issues!
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0016364275f7e8a5140472cb62dc
X-Virus-Checked: Checked by ClamAV on apache.org

--0016364275f7e8a5140472cb62dc
Content-Type: text/plain; charset=ISO-8859-1

Amogh , thanks for yout reply.

I will make my question more clear ,

Suppose I have an array and it got updated in the MRjob1 . and i want to
access it in MRjob2 . This is what i intended in my previous question . I
have gone through the JobConf class , but i haven't found anything useful .
If  Iam wrong , kindly point me to the correct methods. .

Thanks

On Fri, Sep 4, 2009 at 9:26 PM, Amogh Vasekar <amogh@yahoo-inc.com> wrote:

> Have a look at jobclient, it should suffice.
>
> Cheers!
> Amogh
>
> -----Original Message-----
> From: bharath vissapragada [mailto:bharathvissapragada1990@gmail.com]
> Sent: Friday, September 04, 2009 9:15 PM
> To: common-user@hadoop.apache.org
> Subject: Re: Some issues!
>
> Hey ,
>
> I have one more doubt , Suppose I have some cascading mapred jobs and
> suppose some data which was collected in
> MRjob1 is to be used in MRjob2 m is there any way?
>
> Thanks
>
> On Fri, Sep 4, 2009 at 1:54 PM, Amandeep Khurana <amansk@gmail.com> wrote:
>
> > Or you can output the data in the keys and NullWritable as the value.
> > That ways you'll get only unique data...
> >
> > On 9/4/09, zhang jianfeng <zjffdu@gmail.com> wrote:
> > > Hi Sugandha ,
> > >
> > > If you only want to the value, you need to set the key as NullWritable
> in
> > > reduce.
> > >
> > > e.g.
> > > output.collect(NullWritable.get(), value);
> > >
> > >
> > >
> > > On Fri, Sep 4, 2009 at 12:46 AM, Sugandha Naolekar
> > > <sugandha.n87@gmail.com>wrote:
> > >
> > >> Hello!
> > >>
> > >>        Running a simple MR job, and setting a replication factor of 2.
> > >> Now,
> > >> after its execution, the output is split in files named as part-00000
> > and
> > >> so
> > >> on. I want to ask is, can't we avoid these keys or key values to get
> > >> printed
> > >> in output files? I mean, I am getting the output in the files in
> > key-value
> > >> pair. I want just the data and not the keys(integers) in it.
> > >>
> > >>
> > >>
> > >>
> > >> --
> > >> Regards!
> > >> Sugandha
> > >>
> > >
> >
> >
> > --
> >
> >
> > Amandeep Khurana
> > Computer Science Graduate Student
> > University of California, Santa Cruz
> >
>

--0016364275f7e8a5140472cb62dc--

From common-user-return-17284-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Sat Sep 05 04:10:31 2009
Return-Path: <common-user-return-17284-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 89130 invoked from network); 5 Sep 2009 04:10:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 5 Sep 2009 04:10:31 -0000
Received: (qmail 65692 invoked by uid 500); 5 Sep 2009 04:10:29 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 65560 invoked by uid 500); 5 Sep 2009 04:10:29 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 65550 invoked by uid 99); 5 Sep 2009 04:10:29 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Sep 2009 04:10:29 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.136.44.45] (HELO n77.bullet.mail.sp1.yahoo.com) (98.136.44.45)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 05 Sep 2009 04:10:16 +0000
Received: from [216.252.122.217] by n77.bullet.mail.sp1.yahoo.com with NNFMP; 05 Sep 2009 04:09:53 -0000
Received: from [67.195.9.82] by t2.bullet.sp1.yahoo.com with NNFMP; 05 Sep 2009 04:09:53 -0000
Received: from [67.195.9.109] by t2.bullet.mail.gq1.yahoo.com with NNFMP; 05 Sep 2009 04:09:53 -0000
Received: from [127.0.0.1] by omp113.mail.gq1.yahoo.com with NNFMP; 05 Sep 2009 04:09:53 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 54436.88751.bm@omp113.mail.gq1.yahoo.com
Received: (qmail 7539 invoked by uid 60001); 5 Sep 2009 04:09:53 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1252123792; bh=f0FvXFDuzJ8uTStyuTxXVeZFFqwceYa2g5DGQp4/0oE=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=AUQecYfGvo+MvrW5tgT09piBHgaXwNARZ2ay+XJl7e/9NlEq9ggJ+I88jdF1oMa0xvB54jTsoFe5fMxx+GO4t7ZiEIL9F3FHNeHOlspEi+QqCsVSMvwi9FeUob7dJezFegV7Twe3t14mQ/Wvq/HECDqN43bD5w/w0Uz5auCLb7I=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=qPVfpnFvkEBvvcxkGpxtmhe1eXFS0KuOBuCyUQBNvxiR7/QZQ7FaDEOJqkKoe8KUUmiWXJViOINICIkg1Om6DDFl4LXchWLRYfkUazJMdfcZkS0iG7IAJMiBP5aC4k6KFkOxqJszlijmAhKusmF31SJN3rX+ssUE8yEjqTDZfpg=;
Message-ID: <879032.6248.qm@web110114.mail.gq1.yahoo.com>
X-YMail-OSG: 8eCABZwVM1kOhwMqZIdF.Q_GB5QPKeeLnzA.ooRSnRLpA5tVwpmsiggw5W9MfIXUYZ4ThSLCSnivo_lZY7XBosN5VXoReHwP4yAwK4wzxM2RMxdiHkHxYwoU2UPt20Q0pvgW1DiR8tZgMasYjRnCcnWK4gyTnqVO0Qq3sfwGNhymdsVbPvjZiXN31t_vYulOpYNsRQt5psQP0FU6HGyipMLQ5Okmqsh4Cm3ZRiGvJg5iErlF7usjJmDCn71kT8fMAKWoMFYghzm1IEcA7pm5FqN2UBqUcGewebhKzpdAvXG58lmq5343HyZOOIHwaSbV5IZUhvs08Q--
Received: from [71.135.13.106] by web110114.mail.gq1.yahoo.com via HTTP; Fri, 04 Sep 2009 21:09:52 PDT
X-Mailer: YahooMailRC/1358.27 YahooMailWebService/0.7.347.2
References: <42a1925b0909041715t4c8c5401h129b6c1a672cd570@mail.gmail.com>
Date: Fri, 4 Sep 2009 21:09:52 -0700 (PDT)
From: Arvind Sharma <arvind321@yahoo.com>
Subject: Re: Copying directories out of HDFS
To: common-user@hadoop.apache.org
In-Reply-To: <42a1925b0909041715t4c8c5401h129b6c1a672cd570@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1824841029-1252123792=:6248"
X-Virus-Checked: Checked by ClamAV on apache.org

--0-1824841029-1252123792=:6248
Content-Type: text/plain; charset=us-ascii

You mean programmatically or command line ?

Command line :

bin/hadoop -get /path/to/dfs/dir  /path/to/local/dir

Arvind




________________________________
From: Kris Jirapinyo <kjirapinyo@biz360.com>
To: common-user <common-user@hadoop.apache.org>
Sent: Friday, September 4, 2009 5:15:00 PM
Subject: Copying directories out of HDFS

Hi all,
    What is the best way to copy directories from HDFS to local disk in
0.19.1?

Thanks,
Kris.



      
--0-1824841029-1252123792=:6248--


From common-user-return-17285-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Sat Sep 05 04:49:34 2009
Return-Path: <common-user-return-17285-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 92565 invoked from network); 5 Sep 2009 04:49:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 5 Sep 2009 04:49:33 -0000
Received: (qmail 73012 invoked by uid 500); 5 Sep 2009 04:49:31 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 72916 invoked by uid 500); 5 Sep 2009 04:49:31 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 72906 invoked by uid 99); 5 Sep 2009 04:49:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Sep 2009 04:49:30 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of zjffdu@gmail.com designates 209.85.216.183 as permitted sender)
Received: from [209.85.216.183] (HELO mail-px0-f183.google.com) (209.85.216.183)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Sep 2009 04:49:22 +0000
Received: by pxi13 with SMTP id 13so1253508pxi.10
        for <common-user@hadoop.apache.org>; Fri, 04 Sep 2009 21:49:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=0S/x75aJzts91fXGLVdcyxEJQVDe9Y3t9VJgdh1Fipw=;
        b=xKSMeKz9bxMT5gaRYsMsCaOlZMOq9bjYdzom6zeYRKPEicsDRuPzQa233IW5jxYZ48
         BtaN+Lma0fCRvdCxcsFyWJO4E8V9bLNIxWwGuVRnuKXbN9W586VuQSMv6TPDuIArk17m
         QL1FdK23vwS7ABQqbMyjIAQrAQQTfLaTpqSpk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=BeWAAdHkjl+ZTUmjcPtBjtg/NayfXMvv9CDSg2pCeYJlQ/bNNru438WPOkONvTYrm4
         Qj2J05/wS1vnHMV3v5Y6g2WsssKuE2VdcMT/mcgFPwZl9/p++nZmaLehDif4n+tn+30T
         JfrZ39Q5XOU1P8lHefJsZoR/BtfQf0dQbDQ90=
MIME-Version: 1.0
Received: by 10.142.202.14 with SMTP id z14mr352852wff.30.1252126142185; Fri, 
	04 Sep 2009 21:49:02 -0700 (PDT)
In-Reply-To: <879032.6248.qm@web110114.mail.gq1.yahoo.com>
References: <42a1925b0909041715t4c8c5401h129b6c1a672cd570@mail.gmail.com>
	 <879032.6248.qm@web110114.mail.gq1.yahoo.com>
Date: Fri, 4 Sep 2009 21:49:02 -0700
Message-ID: <8211a1320909042149g7a12d699hd59acaeab87448d5@mail.gmail.com>
Subject: Re: Copying directories out of HDFS
From: Jeff Zhang <zjffdu@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=000e0cd2e2faeb41db0472cd55f0
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd2e2faeb41db0472cd55f0
Content-Type: text/plain; charset=UTF-8

Hi Arvind,

You miss the fs

The command should be:

bin/hadoop fs -get /path/to/dfs/dir  /path/to/local/dir
or
bin/hadoop fs -copyToLocal /path/to/dfs/dir  /path/to/local/dir

The is the link of shell command for your reference.
http://hadoop.apache.org/common/docs/r0.20.0/hdfs_shell.html



On Fri, Sep 4, 2009 at 9:09 PM, Arvind Sharma <arvind321@yahoo.com> wrote:

> You mean programmatically or command line ?
>
> Command line :
>
> bin/hadoop -get /path/to/dfs/dir  /path/to/local/dir
>
> Arvind
>
>
>
>
> ________________________________
> From: Kris Jirapinyo <kjirapinyo@biz360.com>
> To: common-user <common-user@hadoop.apache.org>
> Sent: Friday, September 4, 2009 5:15:00 PM
> Subject: Copying directories out of HDFS
>
> Hi all,
>    What is the best way to copy directories from HDFS to local disk in
> 0.19.1?
>
> Thanks,
> Kris.
>
>
>
>
>

--000e0cd2e2faeb41db0472cd55f0--

From common-user-return-17286-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Sat Sep 05 06:42:13 2009
Return-Path: <common-user-return-17286-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 18408 invoked from network); 5 Sep 2009 06:42:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 5 Sep 2009 06:42:13 -0000
Received: (qmail 797 invoked by uid 500); 5 Sep 2009 06:42:11 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 747 invoked by uid 500); 5 Sep 2009 06:42:11 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 736 invoked by uid 99); 5 Sep 2009 06:42:10 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Sep 2009 06:42:10 +0000
X-ASF-Spam-Status: No, hits=3.4 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: 209.85.216.183 is neither permitted nor denied by domain of kjirapinyo@biz360.com)
Received: from [209.85.216.183] (HELO mail-px0-f183.google.com) (209.85.216.183)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Sep 2009 06:42:02 +0000
Received: by pxi13 with SMTP id 13so1316036pxi.10
        for <common-user@hadoop.apache.org>; Fri, 04 Sep 2009 23:41:42 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.142.7.39 with SMTP id 39mr365085wfg.113.1252132902289; Fri, 04 
	Sep 2009 23:41:42 -0700 (PDT)
In-Reply-To: <8211a1320909042149g7a12d699hd59acaeab87448d5@mail.gmail.com>
References: <42a1925b0909041715t4c8c5401h129b6c1a672cd570@mail.gmail.com> 
	<879032.6248.qm@web110114.mail.gq1.yahoo.com> <8211a1320909042149g7a12d699hd59acaeab87448d5@mail.gmail.com>
From: Kris Jirapinyo <kris.jirapinyo@biz360.com>
Date: Fri, 4 Sep 2009 23:41:22 -0700
Message-ID: <42a1925b0909042341x5edcfb87q17875690975258c9@mail.gmail.com>
Subject: Re: Copying directories out of HDFS
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=00504502ae47da43590472cee8e2
X-Virus-Checked: Checked by ClamAV on apache.org

--00504502ae47da43590472cee8e2
Content-Type: text/plain; charset=ISO-8859-1

I thought -get and -copyToLocal don't work on directories, only on single
files.

On Fri, Sep 4, 2009 at 9:49 PM, Jeff Zhang <zjffdu@gmail.com> wrote:

> Hi Arvind,
>
> You miss the fs
>
> The command should be:
>
> bin/hadoop fs -get /path/to/dfs/dir  /path/to/local/dir
> or
> bin/hadoop fs -copyToLocal /path/to/dfs/dir  /path/to/local/dir
>
> The is the link of shell command for your reference.
> http://hadoop.apache.org/common/docs/r0.20.0/hdfs_shell.html
>
>
>
> On Fri, Sep 4, 2009 at 9:09 PM, Arvind Sharma <arvind321@yahoo.com> wrote:
>
> > You mean programmatically or command line ?
> >
> > Command line :
> >
> > bin/hadoop -get /path/to/dfs/dir  /path/to/local/dir
> >
> > Arvind
> >
> >
> >
> >
> > ________________________________
> > From: Kris Jirapinyo <kjirapinyo@biz360.com>
> > To: common-user <common-user@hadoop.apache.org>
> > Sent: Friday, September 4, 2009 5:15:00 PM
> > Subject: Copying directories out of HDFS
> >
> > Hi all,
> >    What is the best way to copy directories from HDFS to local disk in
> > 0.19.1?
> >
> > Thanks,
> > Kris.
> >
> >
> >
> >
> >
>

--00504502ae47da43590472cee8e2--

From common-user-return-17287-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Sat Sep 05 16:26:47 2009
Return-Path: <common-user-return-17287-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 16031 invoked from network); 5 Sep 2009 16:26:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 5 Sep 2009 16:26:47 -0000
Received: (qmail 7039 invoked by uid 500); 5 Sep 2009 16:26:44 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 6955 invoked by uid 500); 5 Sep 2009 16:26:44 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 6945 invoked by uid 99); 5 Sep 2009 16:26:44 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Sep 2009 16:26:44 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [98.136.44.41] (HELO n69.bullet.mail.sp1.yahoo.com) (98.136.44.41)
    by apache.org (qpsmtpd/0.29) with SMTP; Sat, 05 Sep 2009 16:26:32 +0000
Received: from [216.252.122.216] by n69.bullet.mail.sp1.yahoo.com with NNFMP; 05 Sep 2009 16:26:10 -0000
Received: from [67.195.9.81] by t1.bullet.sp1.yahoo.com with NNFMP; 05 Sep 2009 16:26:10 -0000
Received: from [67.195.9.108] by t1.bullet.mail.gq1.yahoo.com with NNFMP; 05 Sep 2009 16:26:10 -0000
Received: from [127.0.0.1] by omp112.mail.gq1.yahoo.com with NNFMP; 05 Sep 2009 16:26:10 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 414326.50173.bm@omp112.mail.gq1.yahoo.com
Received: (qmail 41307 invoked by uid 60001); 5 Sep 2009 16:26:09 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1252167969; bh=95Tm/nZCc9Zry1thnZKdrCJBwATRhrX6T9gTnOgVxsc=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=PJGzkWhbjaCSejB12q6ZAqFft13aqHAMr+FfGxrsSyNxjtGGoOCtumsP2ImDLsAREwJIpAU7dZ8eEpwMSbSi62ER2fiWxDTcpU/Jw3y9MfO9Ym85ZN76ekmtr49W//7tZihl9ls2QpINT1pO35XIA/IjgzRe4aeQwKVOwEkQEU8=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=XI1Ym0lkklsw0GV7U2QjtA4/WlrytH2UZb9Et7NayimA2YqghZACzEUcjNb6AtIxA6q9XL8h65jaV+qL6hC1csoI6nZdOpX6L7aNQhjPLyAvw2iXyxYMCgzf3pmVxpqDP3cXkAlsq/8uOKsbmuOSnT4sD5yeH/TqNB66u0dXf9Q=;
Message-ID: <496866.40927.qm@web110106.mail.gq1.yahoo.com>
X-YMail-OSG: 0ghnldEVM1m7_pPRHmCJO2Ji1pw9LOV_M65fSzJ3kfliOXEPMXNixBC6cC50dPor6a9WdXo8vsL4XN4LmtNjNPQ4JEnDJCGVec5DossRW3htz7a9AsLLIvPrh4gQJqg7KlKj5A4Hq6MWi3uUJ7Yh3eKC3X3k8CkqxGC6ls9xbnrBC7YOBcVf6x.rx4qVxHNHoTxrA9vkRYQ5vgORzDpXdzLmpz0ClursaiTxlD.1aAI5UTYX6fIcqBH26f1gljUKUZb7cPJoDXhr.3VbzQHETUwEOzxTMVX_cy92rzE0gh9WTmV0mc.8TqU7lPF5goHvOKTx_w--
Received: from [71.135.13.106] by web110106.mail.gq1.yahoo.com via HTTP; Sat, 05 Sep 2009 09:26:09 PDT
X-Mailer: YahooMailRC/1358.27 YahooMailWebService/0.7.347.2
References: <42a1925b0909041715t4c8c5401h129b6c1a672cd570@mail.gmail.com>  <879032.6248.qm@web110114.mail.gq1.yahoo.com> <8211a1320909042149g7a12d699hd59acaeab87448d5@mail.gmail.com> <42a1925b0909042341x5edcfb87q17875690975258c9@mail.gmail.com>
Date: Sat, 5 Sep 2009 09:26:09 -0700 (PDT)
From: Arvind Sharma <arvind321@yahoo.com>
Subject: Re: Copying directories out of HDFS
To: common-user@hadoop.apache.org
In-Reply-To: <42a1925b0909042341x5edcfb87q17875690975258c9@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-352285880-1252167969=:40927"
X-Virus-Checked: Checked by ClamAV on apache.org

--0-352285880-1252167969=:40927
Content-Type: text/plain; charset=us-ascii

They do work on directories as well... 

Arvind




________________________________
From: Kris Jirapinyo <kris.jirapinyo@biz360.com>
To: common-user@hadoop.apache.org
Sent: Friday, September 4, 2009 11:41:22 PM
Subject: Re: Copying directories out of HDFS

I thought -get and -copyToLocal don't work on directories, only on single
files.

On Fri, Sep 4, 2009 at 9:49 PM, Jeff Zhang <zjffdu@gmail.com> wrote:

> Hi Arvind,
>
> You miss the fs
>
> The command should be:
>
> bin/hadoop fs -get /path/to/dfs/dir  /path/to/local/dir
> or
> bin/hadoop fs -copyToLocal /path/to/dfs/dir  /path/to/local/dir
>
> The is the link of shell command for your reference.
> http://hadoop.apache.org/common/docs/r0.20.0/hdfs_shell.html
>
>
>
> On Fri, Sep 4, 2009 at 9:09 PM, Arvind Sharma <arvind321@yahoo.com> wrote:
>
> > You mean programmatically or command line ?
> >
> > Command line :
> >
> > bin/hadoop -get /path/to/dfs/dir  /path/to/local/dir
> >
> > Arvind
> >
> >
> >
> >
> > ________________________________
> > From: Kris Jirapinyo <kjirapinyo@biz360.com>
> > To: common-user <common-user@hadoop.apache.org>
> > Sent: Friday, September 4, 2009 5:15:00 PM
> > Subject: Copying directories out of HDFS
> >
> > Hi all,
> >    What is the best way to copy directories from HDFS to local disk in
> > 0.19.1?
> >
> > Thanks,
> > Kris.
> >
> >
> >
> >
> >
>



      
--0-352285880-1252167969=:40927--


From common-user-return-17288-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Sat Sep 05 18:11:27 2009
Return-Path: <common-user-return-17288-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 35853 invoked from network); 5 Sep 2009 18:11:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 5 Sep 2009 18:11:26 -0000
Received: (qmail 59685 invoked by uid 500); 5 Sep 2009 18:11:24 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 59592 invoked by uid 500); 5 Sep 2009 18:11:24 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 59582 invoked by uid 99); 5 Sep 2009 18:11:24 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Sep 2009 18:11:24 +0000
X-ASF-Spam-Status: No, hits=3.4 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: 209.85.216.185 is neither permitted nor denied by domain of kjirapinyo@biz360.com)
Received: from [209.85.216.185] (HELO mail-px0-f185.google.com) (209.85.216.185)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Sep 2009 18:11:14 +0000
Received: by pxi15 with SMTP id 15so1448661pxi.23
        for <common-user@hadoop.apache.org>; Sat, 05 Sep 2009 11:10:53 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.142.207.18 with SMTP id e18mr398821wfg.343.1252174253148; Sat, 
	05 Sep 2009 11:10:53 -0700 (PDT)
In-Reply-To: <496866.40927.qm@web110106.mail.gq1.yahoo.com>
References: <42a1925b0909041715t4c8c5401h129b6c1a672cd570@mail.gmail.com> 
	<879032.6248.qm@web110114.mail.gq1.yahoo.com> <8211a1320909042149g7a12d699hd59acaeab87448d5@mail.gmail.com> 
	<42a1925b0909042341x5edcfb87q17875690975258c9@mail.gmail.com> 
	<496866.40927.qm@web110106.mail.gq1.yahoo.com>
From: Kris Jirapinyo <kris.jirapinyo@biz360.com>
Date: Sat, 5 Sep 2009 11:10:33 -0700
Message-ID: <42a1925b0909051110r546b3eb2me6a05eb901f41f6b@mail.gmail.com>
Subject: Re: Copying directories out of HDFS
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=000e0cd32f968e4cb50472d88985
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd32f968e4cb50472d88985
Content-Type: text/plain; charset=ISO-8859-1

I just tried the command right now on a directory, and it says:

get: No such file or directory

but when i do -ls the directory is there, and i get a listing of files
underneath that directory.

Kris.

On Sat, Sep 5, 2009 at 9:26 AM, Arvind Sharma <arvind321@yahoo.com> wrote:

> They do work on directories as well...
>
> Arvind
>
>
>
>
> ________________________________
> From: Kris Jirapinyo <kris.jirapinyo@biz360.com>
> To: common-user@hadoop.apache.org
> Sent: Friday, September 4, 2009 11:41:22 PM
> Subject: Re: Copying directories out of HDFS
>
> I thought -get and -copyToLocal don't work on directories, only on single
> files.
>
> On Fri, Sep 4, 2009 at 9:49 PM, Jeff Zhang <zjffdu@gmail.com> wrote:
>
> > Hi Arvind,
> >
> > You miss the fs
> >
> > The command should be:
> >
> > bin/hadoop fs -get /path/to/dfs/dir  /path/to/local/dir
> > or
> > bin/hadoop fs -copyToLocal /path/to/dfs/dir  /path/to/local/dir
> >
> > The is the link of shell command for your reference.
> > http://hadoop.apache.org/common/docs/r0.20.0/hdfs_shell.html
> >
> >
> >
> > On Fri, Sep 4, 2009 at 9:09 PM, Arvind Sharma <arvind321@yahoo.com>
> wrote:
> >
> > > You mean programmatically or command line ?
> > >
> > > Command line :
> > >
> > > bin/hadoop -get /path/to/dfs/dir  /path/to/local/dir
> > >
> > > Arvind
> > >
> > >
> > >
> > >
> > > ________________________________
> > > From: Kris Jirapinyo <kjirapinyo@biz360.com>
> > > To: common-user <common-user@hadoop.apache.org>
> > > Sent: Friday, September 4, 2009 5:15:00 PM
> > > Subject: Copying directories out of HDFS
> > >
> > > Hi all,
> > >    What is the best way to copy directories from HDFS to local disk in
> > > 0.19.1?
> > >
> > > Thanks,
> > > Kris.
> > >
> > >
> > >
> > >
> > >
> >
>
>
>
>
>

--000e0cd32f968e4cb50472d88985--

From common-user-return-17289-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Sat Sep 05 19:23:36 2009
Return-Path: <common-user-return-17289-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 51047 invoked from network); 5 Sep 2009 19:23:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 5 Sep 2009 19:23:36 -0000
Received: (qmail 91863 invoked by uid 500); 5 Sep 2009 19:23:34 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 91781 invoked by uid 500); 5 Sep 2009 19:23:34 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 91770 invoked by uid 99); 5 Sep 2009 19:23:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Sep 2009 19:23:34 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of saptarshi.guha@gmail.com designates 209.85.211.189 as permitted sender)
Received: from [209.85.211.189] (HELO mail-yw0-f189.google.com) (209.85.211.189)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 05 Sep 2009 19:23:22 +0000
Received: by ywh27 with SMTP id 27so2686479ywh.2
        for <common-user@hadoop.apache.org>; Sat, 05 Sep 2009 12:23:01 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:message-id:from:to
         :content-type:mime-version:subject:date:x-mailer;
        bh=ACkwX+jrqdvv2KRnU/l4dID3zjAFz3xdwELIIA3NdME=;
        b=lGYoA28/A9vIitZ+Ph5vrurKDZEemcsoPEwrtqpml7TUtypnFruSnKFJjEPTvn6Ssb
         vsVdkMXXQHC+rCNYpSVSev8QVzCtgqVmHxvfr+zAJXcJVAMsmnv07DVTDXtbkxWIPDJT
         TKVKAiFsPC3GQx8ryc+tCPzl0wtWvYsaTUkY0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:from:to:content-type:mime-version:subject:date:x-mailer;
        b=l3IuEVvwTUTDl5ulJEws7C9eDeGmbzcdVoPHwIgDgb1ywHX1C4ST8mQQJqfumPV+V5
         b0pkED44y9HuuiYy262J98RjsRLIP9SqhFHUtFDc9umZsW1pb/Uve0dPp3aKXqbowfJm
         RrQ6EPhVyu5qcfFpgLNEJI8ch4YkWFJPpYNog=
Received: by 10.150.61.15 with SMTP id j15mr19777547yba.331.1252178580892;
        Sat, 05 Sep 2009 12:23:00 -0700 (PDT)
Received: from ?192.168.1.100? ([98.223.111.222])
        by mx.google.com with ESMTPS id 22sm1284665ywh.0.2009.09.05.12.22.58
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Sat, 05 Sep 2009 12:23:00 -0700 (PDT)
Message-Id: <B06C787F-7D58-42B1-90E0-6E8B7F92E082@gmail.com>
From: Saptarshi Guha <saptarshi.guha@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=Apple-Mail-14--1006529503
Mime-Version: 1.0 (Apple Message framework v936)
Subject: Textoutputformat not outputting all keys in Hadoop 0.20?
Date: Sat, 5 Sep 2009 15:22:57 -0400
X-Mailer: Apple Mail (2.936)
X-Virus-Checked: Checked by ClamAV on apache.org

--Apple-Mail-14--1006529503
Content-Type: text/plain;
	charset=US-ASCII;
	format=flowed;
	delsp=yes
Content-Transfer-Encoding: 7bit

Hello,
I'm using the the textoutputformat in mapreduce/lib/output with Hadoop  
0.20 and it appears it is not writing all the keys to the output file  
even though the
the write method in the RecordWriter is recieving them. Let me explain

1) I copied TextOutputFormat  save for some debugging print messages

     public synchronized void write(K key, V value)
       throws IOException {

       boolean nullKey = key == null || key instanceof NullWritable;
       boolean nullValue = value == null || value instanceof  
NullWritable;
       if (nullKey && nullValue) {
         return;
       }
       if (!nullKey) {
         writeObject(key);
       }
       if (!(nullKey || nullValue)) {
         out.write(keyValueSeparator);
       }
       if (!nullValue) {
         writeObject(value);
       }
       out.write(newline);

             System.out.println("Key="+key.toString());
	    System.out.println("Value="+value.toString());
     }

I expect 52 keys corresponding to the upper/lower case keys of the  
alphabet.  I get < 52 keys in the output folder, sometimes 44, some  
times, and once even 52.
/However/, the write method above does recieve the missing K,V value  
as evidenced by the log file messages, i.e i see Key=(missing key) and  
Value=(missing-value)
Hence for some reason, a) it is not writing,b) writing but not  
flushing/commiting or c) the temporary outputs are getting deleted.
Also if a given reducer has received  e.g 5 keys, i see messages for 5  
keys, of which a few (but not all) are missing.

SequenceFileOutputFormat does not have the same issues(all 52 present)

Any ideas?My bug?
Kind Regards
Saptarshi

Version: 0.20.0, r763504
Compiled: Thu Apr 9 05:18:40 UTC 2009 by ndaley
Identifier: 200908281653



Saptarshi Guha | saptarshi.guha@gmail.com | http://www.stat.purdue.edu/~sguha
Kindness is a language which the deaf can hear and the blind can read.
		-- Mark Twain


--Apple-Mail-14--1006529503--

From common-user-return-17290-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Sun Sep 06 23:05:52 2009
Return-Path: <common-user-return-17290-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 19839 invoked from network); 6 Sep 2009 23:05:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 6 Sep 2009 23:05:52 -0000
Received: (qmail 90816 invoked by uid 500); 6 Sep 2009 23:05:49 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 90706 invoked by uid 500); 6 Sep 2009 23:05:48 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 90437 invoked by uid 99); 6 Sep 2009 23:05:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Sep 2009 23:05:48 +0000
X-ASF-Spam-Status: No, hits=3.7 required=10.0
	tests=ASF_LIST_OPS,HEAD_LONG,HTML_FONT_FACE_BAD,HTML_FONT_SIZE_HUGE,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of digvijaysinghshaktawat@gmail.com designates 209.85.222.202 as permitted sender)
Received: from [209.85.222.202] (HELO mail-pz0-f202.google.com) (209.85.222.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 06 Sep 2009 23:05:35 +0000
Received: by pzk40 with SMTP id 40so604782pzk.30
        for <multiple recipients>; Sun, 06 Sep 2009 16:05:13 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=kmh4qIw+gv9BRLTmDebrM5f82TRIbbPxNLsRlkQlhHA=;
        b=EioHjwYJBasFShe00FdHrW7f3yVSE70Ziw99fVqlkNMLVOpgR02BWI5vjMT04lc6Ms
         VY8aAwBmsmP+tRKB0ZQ1xJknKIhqRua4Wdc3eBvvulbI9wsLfsb2aYJgxGkfk7KZimDg
         ckYuhAnn04zYKY/8LrWqdJaR6RuyXtsQrVMIg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=N6V78ui1TlNrKsqbVmpdx7JsUO7KuEPx2maKnGIUTHv7P4OzEwltOKjnUCsV8e+b3z
         5oNIwek6QTuusqeg47g3ffaDlWDpmJAjcb8eflIMGMS62RCn7yzIcavds+MzZaXuNx8o
         WLvxjdzfG/5+nAKK185hQvr66YdLDUC+3c1+s=
MIME-Version: 1.0
Received: by 10.142.8.12 with SMTP id 12mr457826wfh.70.1252276316327; Sun, 06 
	Sep 2009 15:31:56 -0700 (PDT)
In-Reply-To: <8e0e69ea0909061502x6df82175y91f642dd8882e895@mail.gmail.com>
References: <8e0e69ea0909061502x6df82175y91f642dd8882e895@mail.gmail.com>
Date: Mon, 7 Sep 2009 04:01:56 +0530
Message-ID: <bf8befe30909061531j5832c0faud7d74c941cc8a4b7@mail.gmail.com>
Subject: Fwd: MUST READ - we can all use a little luck in our lives...
From: digvijay singh shaktawat <digvijaysinghshaktawat@gmail.com>
To: =?ISO-8859-1?B?rUFycGl0IEpvc2hpIH4uLi4uLml0cyBhIG5ldyBzdGFydA==?= <arpitdjosh@gmail.com>, 
	=?ISO-8859-1?Q?=ADRishitosh_=AD_Bhatia?= <rsbhatia.eden@gmail.com>, 
	=?UTF-8?B?J+KAoCBBZlRlUmdsT3cg4oCgJyAn?= <tastemaker19@gmail.com>, 
	=?ISO-8859-1?Q?=BBM=DFR=AB_=D8PTIMIST_kunal_sanghvi?= <kunalsanghvi@gmail.com>, 
	"@bH!$HEk Vy@$" <abhishekvyas777@yahoo.co.in>, "//eht@ ." <am9993011880@gmail.com>, 
	"/0te fr t/j... www.new7wonders.com" <namitjain111@gmail.com>, 
	"<<>> Can't Get U Out Of My Head.." <ankitnichani@gmail.com>, 
	=?UTF-8?B?4pa6IMOFz4DOmM6Yz4Hil4QtIC3CpC0tXl0gQCBIb21lIFteLS3CpC0gLQ==?= <anoopdh@yahoo.com>, 
	=?UTF-8?B?4piF4peP4pWg4pWjxJA54oSi4pS84oSi4peP4pSM4oip4pSQKOKXo+KXoiDilojilZHkuYLQs86YY2s=?=
	=?UTF-8?B?xaHPhM6x4pWR4paIKOKXoyDil6IpR+C4hOCusEfguKPRgsSD?= <harshhd9@gmail.com>, 
	=?UTF-8?B?4pmlIOC4hOC5ktGS4LmA4Lij0ZLRlNC6IOKZpQ==?= <abhishekkasliwa@gmail.com>, 
	=?UTF-8?B?4pmlUmFodWzimaUgamFpbuKZpeKZpQ==?= <rahul.hi@gmail.com>, 
	"Ab Pappu saala nachega..." <puneet2757@gmail.com>, Abhijay Sisodia <abhijaysisodia@gmail.com>, 
	abhijay sisodia <abhijaysisodia@yahoo.co.in>, Abhishek Gupta <abhishekguptaiitb@gmail.com>, 
	"ABHISHEK... I PLAY TO WIN!!!" <vyas1717@gmail.com>, ADITYA PAREEK <adytommyusa@yahoo.co.in>, 
	"ADITYA...... PAREEK DIU ROXXXXXXX!!!!" <pareek.aditya@gmail.com>, afhaam qureshi <ben_afflek19@yahoo.com>, 
	"Akash...I M LOST IN ORKUT" <sumit.khera007@gmail.com>, akshat oswal <akshatoswal@gmail.com>, 
	akshat oswal <akshatoswal_11@yahoo.co.in>, algorythmus2008@gmail.com, 
	"analprakhar\"best of THE BEAST\"........." <analprakhar@gmail.com>, 
	"anchit (bhanu).......back from home" <lukhha@gmail.com>, 
	"anchit(bhanu) ...........tech time" <anchit_iitb@yahoo.co.in>, Anil Kishore <anil.daiict@gmail.com>, 
	"ANKIT ##K^^OW ME```## K^^OW =@LIFE" <vit.ankit@gmail.com>, "Ankit anubhav $$$$$$$$$$$$$$$" <koolritchie@gmail.com>, 
	"Ankit....... @VIT" <ankit_hishyguy@yahoo.co.in>, 
	"ankur .......missing home" <agrawalgood@gmail.com>, ankur mittal <ankurmittal123@gmail.com>, 
	"ankur mittal bvp I.T ki jai ho!!" <ankurmittal123@yahoo.co.in>, =?windows-1252?B?QW5rdXIgmSAuLi4uLi4=?= <masterankur@gmail.com>, 
	"aNshuL ....\" in crow'th dimension\"" <yhpans@gmail.com>, 
	=?UTF-8?B?QW5zaHVsIMKrz4ZlYWNlZnVswqvPiWFycmnimLxywqs=?= <anshul.go87@gmail.com>, 
	anshulika singh <raunak2727@gmail.com>, Anurag Garg <boilergarg@gmail.com>, 
	Anurag Garg <garg@purdue.edu>, 
	"arjun Singhal...vote for taj" <singhal_arjun19@yahoo.co.in>, Arpit maru <arpit.maru@gmail.com>, 
	ARPIT-A DAY DREAMMER <iictarpit@gmail.com>, Arti Krishnawat <artikrishnawat@gmail.com>, 
	Ashish Aeran <aeran.ashish@gmail.com>, Atishay <atishay.kumar@gmail.com>, 
	"avi.... New Hair Style..." <manit.avi@gmail.com>, "avi....new no. 9993794257" <aviavi007@yahoo.com>, 
	"AVINASH.. 9723895020!!!" <wiedler@gmail.com>, Ayush Modi <ayushmod@gmail.com>, 
	"ayush modi..." <ayush_modi@hotmail.com>, 
	"Being AbHimaNyu ...ThinKi|| DifferentlY..." <abhi.baidya@gmail.com>, bharath@vmukti.com, bhumika.planet@gmail.com, 
	"check my album.. web-site updated" <shriyasingh@gmail.com>, chitbhav bhatjiwale <kool_hotguy007@yahoo.co.in>, 
	"chitbhav<>" <chitbhav@gmail.com>, common-user@hadoop.apache.org, 
	Dhaval Sanghvi <sanghvi.dhaval86@gmail.com>, 
	digvijay singh shaktawat <digvijaysinghshaktawat@gmail.com>, digvijay.shaktawat@gmail.com, 
	Divyendra Chauhan <divyendrachauhan@gmail.com>, dorav kumar <doravkumar.goyal@gmail.com>, 
	Ehtesham Hazarika <ehteshamhazarika@gmail.com>, 
	Ehtesham Hazarika <ehtesham_hazarika@yahoo.com>, 
	"Every thin U can imagine is REAL!!!...." <afhaam12345@gmail.com>, 
	fren list full join on s rajora2 <rajoras@gmail.com>, Gaurav Singh <gaurav1712@gmail.com>, 
	general-sc.1250981800.ndbmfpfinodhoijpmloj-digvijaysinghshaktawat=gmail.com@hadoop.apache.org, 
	general-subscribe@hadoop.apache.org, general@hadoop.apache.org, 
	Himanshu gupta <hemantoocool@gmail.com>, himanshu gupta <heman_too_cool@yahoo.co.in>, 
	"hnkuprai.. m so messd up rite nw.!" <pankhy@gmail.com>, "I hate HOLIDAYS.........." <pracheerag87@gmail.com>, 
	"Ishan - Rare Orkutting 4m now on ...." <ishanjain16@yahoo.com>, 
	"Jackson Life is ful of fun!!!!!!!!!!" <jackson.garg@gmail.com>, "jigyasa.. njoin at home...." <jigz_107@yahoo.com>, 
	"kamakhya ..lifes so cul wid CrIcKeT.." <kamakhya30@yahoo.com>, kamakhya pratap <kamakhya22@gmail.com>, 
	kartik kudada <kartik.kudada@gmail.com>, lebinitiz <lebinitiz@gmail.com>, 
	"M@dDy~~If U W@Nt SoMe~~ CoMe GeT SoMe" <maddyonlyluvs@gmail.com>, 
	"Marlo Group .... Ankit Agarwal" <ankitatdaiict@gmail.com>, 
	"miles to go..tnt the king of agraba......." <tanaythetnt@gmail.com>, "mohit @ 9608339390" <mohit.vit@gmail.com>, 
	mohit agarwal <heart_mohit87@yahoo.com>, mohit mittal <mohitnadbai@gmail.com>, 
	"moving towards the correct side ....." <manishguptaiitb@gmail.com>, 
	"Nakul raavviiing visit www.iitr.ac.in/rave" <nakulbende@gmail.com>, Naman Patni <namanpatni@gmail.com>, 
	navneet singh <nav.attitude@gmail.com>, Neha Garg <nehagarg07@gmail.com>, 
	"No orkuting till 3 dec......................." <pracheer_ag87@yahoo.co.in>, "pankhuri.. ." <pankhuri_patni@yahoo.co.in>, 
	"parth patel (satyameva jayate)" <parth.gmc@gmail.com>, Pawan garg <p4pawan@gmail.com>, 
	pawan garg <p4pawan_g@yahoo.co.in>, pk girpade <priyanka.svnit@gmail.com>, 
	PRABHAT PRATAP RAO <prabhat_tony_rao@yahoo.co.in>, PRABHAT RAO <prabsiiit@gmail.com>, 
	Prateek Agarwal <agarwal.prateek@gmail.com>, 
	"praveen it$ begining of new er@" <praveensvnit87@gmail.com>, 
	"Praveen..... GOOD ol' days are over..." <pravn.iitb@gmail.com>, PrAvIr JhA <jhapravir@gmail.com>, 
	"puneet... ALIGATOR BREAKS FREE" <puneet2787@yahoo.co.in>, Rahul Ladhania <heyrahulhere@gmail.com>, 
	Rahul Sharma <rashanality@gmail.com>, rahulsharma.bitsg@gmail.com, 
	Rajeev Gupta <grajeev@in.ibm.com>, rakesh kumar <rakesh.iict@gmail.com>, 
	"Rakesh More........." <ra9826110074@gmail.com>, ravi agrawal <src.ravi@gmail.com>, 
	"Rishika ~ in Bbay now...!!! missin Pune.." <kothari.rishika@gmail.com>, 
	"Rohan - \"BUTRU\" -..........In GOA..........." <bindasbandahaii@gmail.com>, 
	rohan --- hoping fr brighter sunshine in life <rohanricky@gmail.com>, "Rohit09376910288 ..!!" <glancerohit@gmail.com>, 
	romit pandey <romit_pandey2003@yahoo.co.in>, 
	romit PROUD TO BE AN INDIAN <romitpandey@gmail.com>, saleema omar <saleema2omar@gmail.com>, 
	sameer khan <spectrojin@gmail.com>, 
	"sameer khan ** sacred 4 all times++" <spectrojin_005@yahoo.co.in>, Sarah Lal <connect2sarah@gmail.com>, 
	Saurabh Arora <ishere.arora@gmail.com>, SEEMANT GUPTA <arpi.seem0507@gmail.com>, 
	shivraj singh rathore <shivraj.rathore@conizant.com>, 
	"Shrenik:-TrUsT A PoIsEn snake BuT NeVr GIrL" <citmills@gmail.com>, shweta.svnit@gmail.com, shweta@vmukti.com, 
	"SIDDHARTH:- HAPPY AND NJOYING" <siddharth09111987@gmail.com>, Siddhartha Lal <siddhartha797@gmail.com>, 
	Sky Dots Systems <skyinfonet@gmail.com>, somya garg <somya.garg@gmail.com>, 
	"Sonali ..." <sonali.karia@gmail.com>, sopan.shewale@gmail.com, 
	"Sourabh...raped in this sem" <iitr.sourabh@gmail.com>, suman_dongre <suman_dongre@yahoo.com>, sumanmdongre@gmail.com, 
	"SUMIT.......... ." <styleagain@gmail.com>, support@salesforce.com, 
	suresh remember moments not days <sankrank@gmail.com>, "swasti ." <dr.swasti19@rediffmail.com>, sweta@vmukti.com, 
	TANMAY D Party Starter <terrifictanmay@gmail.com>, Taru Sardana <tarusardana@gmail.com>, 
	Tejas der Bonbon <tej2687@gmail.com>, The Darker side of LIGHT <jatinder.chhabra@gmail.com>, 
	Trusha Dave <hospitality@nmumang.org>, urmi patel <urmipatel86@gmail.com>, 
	urmi patel <urmi_patel86@yahoo.co.in>, "vaibhav jindal ." <rushto.vj@gmail.com>, 
	Vanshvardhan Singh Hada <staytunedwithvansh@hotmail.com>, 
	"varun : mob. no. changed" <varungupta.the.great@gmail.com>, varun gupta <meetvarun1987@yahoo.co.in>, 
	Vasistha Chowdhary <vchowdhary01@gmail.com>, 
	"Vibhor Tulsyan on -**---TOUR---**-" <vibhortulsyan@gmail.com>, 
	"vijit....HurRaY :D ItS TimE 2 ----->HOme" <akkubest@gmail.com>, Vikas Gupta <vikas2003hi@yahoo.co.in>, 
	"Vikas..... HP 7 too gud" <thegr8vikas@gmail.com>, "www.moodi.org -mauly" <smartyetsweet@gmail.com>, 
	=?UTF-8?B?0YLQvdGUINC90ZTOsdGP0YIg0L3OsdGVIM6xINC8zrnQuOKIgiDPg2YgzrnRgtGVIM+Dz4nQuCDOsQ==?=
	=?UTF-8?B?4bmJw7jDuM+B?= <anoopdh2005@gmail.com>
Content-Type: multipart/alternative; boundary=00504502be98fed6ad0472f04c4b
X-Virus-Checked: Checked by ClamAV on apache.org

--00504502be98fed6ad0472f04c4b
Content-Type: text/plain; charset=ISO-8859-1

---------- Forwarded message ----------
From: Sameer Khan <spectrojin@gmail.com>
Date: Mon, Sep 7, 2009 at 3:32 AM
Subject: MUST READ - we can all use a little luck in our lives...
To: "desparate 2 make .....undeterred progress...." <
lovin_johnny@hotmail.com>



 Good advice! Believe!

 *This is without a doubt one of the nicest good luck forwards I have
received. Hope it works for you -- and me! *



*Lotus Touts: You have 6 minutes*



*There's some mighty fine advice in these words, even if you're not
superstitious. This Lotus Touts has been sent to you for good luck from the
Anthony Robbins organization. It has been sent around the world ten times so
far. *



*Do not keep this message..*



*The Lotus Touts must leave your hands in 6 MINUTES. Otherwise you will get
a very unpleasant surprise. This is true, even if you are not superstitious,
agnostic, or otherwise faith impaired. *



*ONE. Give people more than they expect and do it cheerfully.*



*TWO. Marry a man/woman you love to talk to. As you get older, their
conversational skills will be as important as any other. *



*THREE. Don't believe all you hear, spend all you have or sleep all you
want. *



*FOUR.. When you say, 'I love you,' mean it.** *



*FIVE. When you say, 'I'm sorry,' look the person in the eye. *



*SIX. Be engaged at least six months before you get married. *



*SEVEN. **Believe in love at first sight.** *



*EIGHT. Never laugh at anyone's dreams. People who don't have dreams don't
have much. *



*NINE. Love deeply and passionately. You might get hurt but it's the only
way to live life completely. *



*TEN.. In disagreements, fight fairly. No name calling. *



*ELEVEN.** **Don't judge people by their relatives.** *



*TWELVE. Talk slowly but think quickly. *



*THIRTEEN! .. When someone asks you a question you don't want to answer,
smile and ask, 'Why do you want to know?' *



*FOURTEEN. Remember that great love and great achievements involve great
risk. *



*FIFTEEN. Say 'bless you' when you hear someone sneeze. *



*SIXTEEN. When you lose, don't lose the lesson.*



*SEVENTEEN. **Remember the three R's: Respect for self; Respect for others;
and Responsibility for all your actions. *



*EIGHTEEN. Don't let a little dispute injure a great friendship. *



*NINETEEN. When you realize you've made a mistake, take immediate steps to
correct it.** *



*TWENTY. Smile when picking up the phone. The caller will hear it in your
voice *



*TWENTY- ONE.. Spend some time alone. *



*Now, here's the FUN part!  *

*Send this to at least 5 people and your life will improve. *


*  *
*1-4 people: Your life will improve slightly. *
*  *
*5-9 people: Your life will improve to your liking.*
*  *
*9-14 people: You will have at least 5 surprises in the next 3 weeks *

*15 and above: Your life will improve drastically and everything you ever
dreamed of will begin to take shape. *


*A true friend is someone who reaches for your hand and touches your heart.*
* Do not keep this message.*


 ------------------------------




-- 
Sameer khan's BLOG - http://sameerkhansblog.blogspot.com/

Follow @ Twitter - http://twitter.com/Sameer_Khan

Facebook Page - http://www.facebook.com/pages/Sameer-Khans-BLOG/73173892290

Friend Feed - http://friendfeed.com/spectrojin

--00504502be98fed6ad0472f04c4b--

From common-user-return-17291-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 00:09:27 2009
Return-Path: <common-user-return-17291-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 31733 invoked from network); 7 Sep 2009 00:09:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 00:09:27 -0000
Received: (qmail 16148 invoked by uid 500); 7 Sep 2009 00:09:25 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 16042 invoked by uid 500); 7 Sep 2009 00:09:24 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 16032 invoked by uid 500); 7 Sep 2009 00:09:24 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 16029 invoked by uid 99); 7 Sep 2009 00:09:24 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 00:09:24 +0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=FORGED_YAHOO_RCVD,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lists@nabble.com designates 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 00:09:15 +0000
Received: from isper.nabble.com ([192.168.236.156])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lists@nabble.com>)
	id 1MkRmw-0003j6-QO
	for core-user@hadoop.apache.org; Sun, 06 Sep 2009 17:08:54 -0700
Message-ID: <25323434.post@talk.nabble.com>
Date: Sun, 6 Sep 2009 17:08:54 -0700 (PDT)
From: ll_oz_ll <himanshu_coolguy@yahoo.com>
To: core-user@hadoop.apache.org
Subject: Re: Some issues!
In-Reply-To: <6f72e2db0909040046v52c5d5d1t2b3962af1e4804b4@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: himanshu_coolguy@yahoo.com
References: <6f72e2db0909040046v52c5d5d1t2b3962af1e4804b4@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org


Yes, you can do that. Just output null as the key in reducer and you wont get
the key or the tab delimiter in your output.


Sugandha Naolekar wrote:
> 
> Hello!
> 
>         Running a simple MR job, and setting a replication factor of 2.
> Now,
> after its execution, the output is split in files named as part-00000 and
> so
> on. I want to ask is, can't we avoid these keys or key values to get
> printed
> in output files? I mean, I am getting the output in the files in key-value
> pair. I want just the data and not the keys(integers) in it.
> 
> 
> 
> 
> -- 
> Regards!
> Sugandha
> 
> 

-- 
View this message in context: http://www.nabble.com/Some-issues%21-tp25289798p25323434.html
Sent from the Hadoop core-user mailing list archive at Nabble.com.


From common-user-return-17292-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 04:58:27 2009
Return-Path: <common-user-return-17292-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 88410 invoked from network); 7 Sep 2009 04:58:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 04:58:26 -0000
Received: (qmail 24566 invoked by uid 500); 7 Sep 2009 04:58:24 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 24474 invoked by uid 500); 7 Sep 2009 04:58:24 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 24464 invoked by uid 99); 7 Sep 2009 04:58:23 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 04:58:23 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [155.69.5.207] (HELO exsmtp1.ntu.edu.sg) (155.69.5.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 04:58:14 +0000
Received: from MAIL24.student.main.ntu.edu.sg ([155.69.5.135]) by exsmtp1.ntu.edu.sg with Microsoft SMTPSVC(6.0.3790.1830);
	 Mon, 7 Sep 2009 12:57:49 +0800
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01CA2F77.BFA57825"
Subject: RE: DistributedCache purgeCache()
Date: Mon, 7 Sep 2009 12:57:10 +0800
Message-ID: <B1AA98568C81904FB704DF464FC6216E02A95DB2@MAIL24.student.main.ntu.edu.sg>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <B1AA98568C81904FB704DF464FC6216E02A95DB2@MAIL24.student.main.ntu.edu.sg>
Thread-Topic: DistributedCache purgeCache()
Thread-Index: AcosRK+91IYari8wT3O1DKUizxBtCgAHQdBQAMV8XFA=
References: <B1AA98568C81904FB704DF464FC6216E02A95DAB@MAIL24.student.main.ntu.edu.sg> <616DA47B2EF5B944B91846785B512FF4CFADEA7506@EGL-EX07VS01.ds.corp.yahoo.com>
From: "#YONG YONG CHENG#" <aarnchng@pmail.ntu.edu.sg>
To: <common-user@hadoop.apache.org>
X-OriginalArrivalTime: 07 Sep 2009 04:57:49.0719 (UTC) FILETIME=[BFB1BA70:01CA2F77]
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01CA2F77.BFA57825
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Thanks for your swift response.

But where can I find deletecache()?

Thanks.


-----Original Message-----
From: Amogh Vasekar [mailto:amogh@yahoo-inc.com]
Sent: Thu 9/3/2009 2:44 PM
To: common-user@hadoop.apache.org
Subject: RE: DistributedCache purgeCache()
=20
AFAIK, releaseCache only works on cleaning reference to your file. Try =
using deletecache in synchronized manner.

Thanks,
Amogh

-----Original Message-----
From: #YONG YONG CHENG# [mailto:aarnchng@pmail.ntu.edu.sg]=20
Sent: Thursday, September 03, 2009 8:50 AM
To: common-user@hadoop.apache.org
Subject: DistributedCache purgeCache()

Good Day,

I have a question on the DistributedCache as follows.

I have used DistributedCache to move my executable(.exe) around the =
(onto the local filesystems of) nodes in Hadoop and run the .exe (via =
addCacheArchive() and getLocalCacheArchives()). But I discovered after =
my job, the .exe still resides on the nodes. I have try using =
releaseCache() and/or purgeCache(), but the .exe still on the nodes. Is =
there a way to remove the .exe from the nodes?

Thanks.


------_=_NextPart_001_01CA2F77.BFA57825--

From common-user-return-17293-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 05:46:02 2009
Return-Path: <common-user-return-17293-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 96272 invoked from network); 7 Sep 2009 05:46:01 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 05:46:01 -0000
Received: (qmail 49322 invoked by uid 500); 7 Sep 2009 05:45:59 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 49233 invoked by uid 500); 7 Sep 2009 05:45:59 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 49223 invoked by uid 500); 7 Sep 2009 05:45:59 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 49216 invoked by uid 99); 7 Sep 2009 05:45:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 05:45:59 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [68.180.197.88] (HELO web45405.mail.sp1.yahoo.com) (68.180.197.88)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 07 Sep 2009 05:45:49 +0000
Received: (qmail 15765 invoked by uid 60001); 7 Sep 2009 05:45:28 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1252302328; bh=yFQuFq4PrjS0RIIxFimiaf6w5/4g9kgnSJ/sW7bN/Rc=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type; b=YNuh2xpWKfvbyon3WPSda/H+4LTPmhCZ8S74hRsZAtlQfMs1ZNB1NwmAoiulSGwpeQaZUyi5cYvRuxaLEhr75y4398ckJdAvWhArFAD9yLg/rvJfyscx54Kxt/lyzIIrh4v3v41DZHrt/rH+ZM/AUo3mISamG5cNNZ2nRx9wBqY=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type;
  b=zaJ7xv/E14hhld8iezbRZtGw0eaPAyfPpX1uAbXgm9T46jgy9g1IcVO+C8PVqPR0XD5EyXXR6me5DBuJtXi1LJqImabIsT4IzXhE2K4livjmIuFHW+3hbyr0IBihYvc6GtxFFhVVOUaf7bi7JcGLcyPNkk3Gw9887Fx0844ZA30=;
Message-ID: <496962.13331.qm@web45405.mail.sp1.yahoo.com>
X-YMail-OSG: 2gsZRtsVM1k6myAXNiSHajLRSlt5fqKSxFm_W_RvPUEMDBdnir3liBzORu4z4y1wnw0dJFinxbTTrnI0JZWhaBq2fabKebuvhw8Xg_F_._06HQQ8BGZxQk4K6SywjR8eKrPb5CTtfG6XAdf2VRM08UOJ7ROn7fphTORynXScPxfNqjyc0lcdhw--
Received: from [24.62.107.64] by web45405.mail.sp1.yahoo.com via HTTP; Sun, 06 Sep 2009 22:45:28 PDT
X-Mailer: YahooMailClassic/6.1.2 YahooMailWebService/0.7.338.2
Date: Sun, 6 Sep 2009 22:45:28 -0700 (PDT)
From: C G <parallelguy@yahoo.com>
Subject: discyp between different versions of Hadoop...
To: core-user@hadoop.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1966249845-1252302328=:13331"
X-Virus-Checked: Checked by ClamAV on apache.org

--0-1966249845-1252302328=:13331
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Hi All:
Does anybody know if it's possible to distcp between an old version of Hado=
op (0.15.x, for example) and a modern version (0.19.2)?
A quick check trying to move from an "old" grid =A0to a "new" grid shows a =
"Incorrect header or version mismatch" error in the new grid's NameNode log=
, and a SocketTimeOut exception on the distcp on the old grid.
Any help/info most appreciated.
Thanks,C G
=0A=0A=0A      
--0-1966249845-1252302328=:13331--

From common-user-return-17294-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 05:51:25 2009
Return-Path: <common-user-return-17294-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 96959 invoked from network); 7 Sep 2009 05:51:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 05:51:25 -0000
Received: (qmail 53278 invoked by uid 500); 7 Sep 2009 05:51:23 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 53205 invoked by uid 500); 7 Sep 2009 05:51:22 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 53195 invoked by uid 99); 7 Sep 2009 05:51:22 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 05:51:22 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [68.180.197.133] (HELO web45410.mail.sp1.yahoo.com) (68.180.197.133)
    by apache.org (qpsmtpd/0.29) with SMTP; Mon, 07 Sep 2009 05:51:13 +0000
Received: (qmail 16734 invoked by uid 60001); 7 Sep 2009 05:50:52 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1252302652; bh=hPYeX3lzp/7hZMlfXWiDio9ks3nu1jBymF6CwL1x92I=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=3GJpSF0wC+VdPsh6PXhs8ZBmpg0mzin36MkUpU3LPdcSy+vym2BaLKSCUASgCSVUSyAd0OG7ceXzSZcvQ2AWa8kH+MkB2v65FBy9Ugeii3kYI8ET/DEGtaB+alCWfPW8l9qtWBxxYDsua0PEUuF3SeYYOk7O1JvggM2EqjitOm8=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=rl8t+WtNdNshWTg4V/PcWvqd5LU06kBvsN4EbugnsW/Q7Vt13T4i7wKJrpEfjxc5kd3FpHC45ZRkMEpyRDTIONcSzGd76jQDYlNzndumnKrrA2Ytsz4flfaWJn6k6cHSLehhPwdveN6lGVJZ7o9UsX13nqdaz420jVAmcw2jrso=;
Message-ID: <537285.15245.qm@web45410.mail.sp1.yahoo.com>
X-YMail-OSG: ZJlEAnQVM1kERqZ9Zmw0Fk12dYStgG.BaBbSezpVabWTFity1msGyB6jjybVjxwTLn4hY5xrgk9bJNdTucMC9cba8_Pjf7IHwFyp5jg.kmZNzjlKDnIQ0TW7X9RezWamh.xDoXl_UWx3TcibcTTf8Yg6QhtXdPGSg9kE3dOLix8aVUVmM4h03MJq_DiMShblsdA.Sn6qq4kGvo5B3NmhJTK2um6AIiv_.Uh7jpkVLLlX6yYZizI-
Received: from [24.62.107.64] by web45410.mail.sp1.yahoo.com via HTTP; Sun, 06 Sep 2009 22:50:52 PDT
X-Mailer: YahooMailClassic/6.1.2 YahooMailWebService/0.7.338.2
Date: Sun, 6 Sep 2009 22:50:52 -0700 (PDT)
From: C G <parallelguy@yahoo.com>
Subject: Re: discyp between different versions of Hadoop...
To: common-user@hadoop.apache.org
In-Reply-To: <496962.13331.qm@web45405.mail.sp1.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-774876419-1252302652=:15245"
X-Virus-Checked: Checked by ClamAV on apache.org

--0-774876419-1252302652=:15245
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: quoted-printable

Sorry...subject should be "distcp" obviously...
Also trying to pull from the new grid from the old yields a java.io.EOFExce=
ption...

--- On Mon, 9/7/09, C G <parallelguy@yahoo.com> wrote:

From: C G <parallelguy@yahoo.com>
Subject: discyp between different versions of Hadoop...
To: core-user@hadoop.apache.org
Date: Monday, September 7, 2009, 1:45 AM

Hi All:
Does anybody know if it's possible to distcp between an old version of Hado=
op (0.15.x, for example) and a modern version (0.19.2)?
A quick check trying to move from an "old" grid =A0to a "new" grid shows a =
"Incorrect header or version mismatch" error in the new grid's NameNode log=
, and a SocketTimeOut exception on the distcp on the old grid.
Any help/info most appreciated.
Thanks,C G



=A0 =A0 =A0 =0A=0A=0A      
--0-774876419-1252302652=:15245--

From common-user-return-17295-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 06:18:16 2009
Return-Path: <common-user-return-17295-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 1483 invoked from network); 7 Sep 2009 06:18:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 06:18:16 -0000
Received: (qmail 72993 invoked by uid 500); 7 Sep 2009 06:18:14 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 72903 invoked by uid 500); 7 Sep 2009 06:18:13 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 72893 invoked by uid 99); 7 Sep 2009 06:18:13 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 06:18:13 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jason.hadoop@gmail.com designates 209.85.212.185 as permitted sender)
Received: from [209.85.212.185] (HELO mail-vw0-f185.google.com) (209.85.212.185)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 06:18:02 +0000
Received: by vws15 with SMTP id 15so1914997vws.5
        for <common-user@hadoop.apache.org>; Sun, 06 Sep 2009 23:17:41 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=FVtXU3QMtQ+wgWT2J9SQX/VMbURneVeSGAjViwmjy6k=;
        b=Newe9GjXiwqlAOMtMeSje+XVSTkoBRjxEH5uqYELjD6zzj8QHAVuz6dYQVnIM+vjvs
         4XLsTIlrcoVeSOWnw37WUmy6y/0xPuqQV82sDWhPAa9BnJXP7n5zYyL1juLwKPU2K6uG
         6ijwVbEfahq0m0SsoyW3oqs+za97gQ6oDsTQY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=qu2+4RvALYk1xYwkOZx7p3OqnfVT9Wru9g2Gb5uvlE/WRutpfDpUs5SAxzceIvs2KH
         YliUdAUqmzj0uhdeyDyYNdZRxphELkP0WL33T+5/QuQSkgUStced8lOZGH6CzGLvlCUb
         LpnWXwhJHgbsrnX4e+AEjQd4uMLUOKpL8T5P4=
MIME-Version: 1.0
Received: by 10.220.69.211 with SMTP id a19mr19516103vcj.20.1252304260751; 
	Sun, 06 Sep 2009 23:17:40 -0700 (PDT)
In-Reply-To: <537285.15245.qm@web45410.mail.sp1.yahoo.com>
References: <496962.13331.qm@web45405.mail.sp1.yahoo.com>
	 <537285.15245.qm@web45410.mail.sp1.yahoo.com>
Date: Sun, 6 Sep 2009 23:17:40 -0700
Message-ID: <314098690909062317x298f75a3rb8a29e9235832f31@mail.gmail.com>
Subject: Re: discyp between different versions of Hadoop...
From: Jason Venner <jason.hadoop@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0016e6475bea9ce3e30472f6cef5
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e6475bea9ce3e30472f6cef5
Content-Type: text/plain; charset=ISO-8859-1

You pretty much have to stage the files through somethime.
If you can make source version of hadoop's fuse mount work, you can copy in,
using the fuse mount as a source.

On Sun, Sep 6, 2009 at 10:50 PM, C G <parallelguy@yahoo.com> wrote:

> Sorry...subject should be "distcp" obviously...
> Also trying to pull from the new grid from the old yields a
> java.io.EOFException...
>
> --- On Mon, 9/7/09, C G <parallelguy@yahoo.com> wrote:
>
> From: C G <parallelguy@yahoo.com>
> Subject: discyp between different versions of Hadoop...
> To: core-user@hadoop.apache.org
> Date: Monday, September 7, 2009, 1:45 AM
>
> Hi All:
> Does anybody know if it's possible to distcp between an old version of
> Hadoop (0.15.x, for example) and a modern version (0.19.2)?
> A quick check trying to move from an "old" grid  to a "new" grid shows a
> "Incorrect header or version mismatch" error in the new grid's NameNode log,
> and a SocketTimeOut exception on the distcp on the old grid.
> Any help/info most appreciated.
> Thanks,C G
>
>
>
>
>
>
>
>



-- 
Pro Hadoop, a book to guide you from beginner to hadoop mastery,
http://www.amazon.com/dp/1430219424?tag=jewlerymall
www.prohadoopbook.com a community for Hadoop Professionals

--0016e6475bea9ce3e30472f6cef5--

From common-user-return-17296-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 06:48:26 2009
Return-Path: <common-user-return-17296-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 14999 invoked from network); 7 Sep 2009 06:48:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 06:48:26 -0000
Received: (qmail 91502 invoked by uid 500); 7 Sep 2009 06:48:23 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 91415 invoked by uid 500); 7 Sep 2009 06:48:23 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 91405 invoked by uid 99); 7 Sep 2009 06:48:23 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 06:48:23 +0000
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [69.147.107.21] (HELO mrout2-b.corp.re1.yahoo.com) (69.147.107.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 06:48:11 +0000
Received: from [10.66.78.218] (powerelectric-dr.eglbp.corp.yahoo.com [10.66.78.218])
	by mrout2-b.corp.re1.yahoo.com (8.13.8/8.13.8/y.out) with ESMTP id n876ifhT070592;
	Sun, 6 Sep 2009 23:44:42 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; s=serpent; d=yahoo-inc.com; c=nofws; q=dns;
	h=subject:from:reply-to:to:cc:in-reply-to:references:
	content-type:organization:date:message-id:mime-version:x-mailer:content-transfer-encoding;
	b=m+KBMLbSb801obkBdH/B0XmFAOnn+lJ0YNkEQBw/g2Huz8B5zSP9zMCsAgrEwGGv
Subject: Re: HOD contacts?
From: Peeyush Bishnoi <peeyushb@yahoo-inc.com>
Reply-To: peeyushb@yahoo-inc.com
To: common-user@hadoop.apache.org
Cc: Seb Seith <saseith@gmail.com>, jkusznir@gmail.com
In-Reply-To: <b500f92e0909020949l520117f5nb9a770e322e83a31@mail.gmail.com>
References: <df8c8a6d0909020902s3cb5d9d1o7b0679023440189d@mail.gmail.com>
	 <b500f92e0909020949l520117f5nb9a770e322e83a31@mail.gmail.com>
Content-Type: text/plain
Organization: Yahoo! Inc.
Date: Mon, 07 Sep 2009 12:07:49 +0530
Message-Id: <1252305469.30704.6.camel@powerelectric-dr>
Mime-Version: 1.0
X-Mailer: Evolution 2.22.1 (2.22.1-2.fc9) 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Jim,

It would be glad for us to assist you related to HOD. Please let us know
what kind of issues you faced and what assistance you are looking
related to HOD.


Thanks,
---
Peeyush


On Wed, 2009-09-02 at 11:49 -0500, Seb Seith wrote:
> I would like to second this request.  While I have pushed through the
> issue I posted about the other day, most of my HOD progress is by
> not-so-educated guessing, and it would help to know who we could ask
> for more help given the relative sparsity of responses here.
> 
> Seb
> 
> On Wed, Sep 2, 2009 at 11:02 AM, Jim Kusznir<jkusznir@gmail.com> wrote:
> > Hi all:
> >
> > I've got some issues getting HOD (Hadoop On Demand) working correctly,
> > and would really like to speak to some of the authors about it.
> > Unfortunately, I have not managed to find any of the hod author
> > contact information anywhere.  I previously posted my series of
> > questions here, but got no responses.
> >
> > We'd really like to start using hadoop here, but the only machine we
> > can run it on MUST continue to be able to run mpi jobs, and ALL
> > resource utilization must be managed/controlled via torque/maui.
> > Hadoop jobs will be a small percentage of the cluster's total usage.
> >
> > Can anyone point me toward the HOD authors to get further assistance?
> >
> > Thanks!
> > --Jim
> >


From common-user-return-17297-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 07:01:29 2009
Return-Path: <common-user-return-17297-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 19165 invoked from network); 7 Sep 2009 07:01:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 07:01:29 -0000
Received: (qmail 3042 invoked by uid 500); 7 Sep 2009 07:01:27 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 2945 invoked by uid 500); 7 Sep 2009 07:01:27 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 2935 invoked by uid 99); 7 Sep 2009 07:01:27 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 07:01:27 +0000
X-ASF-Spam-Status: No, hits=-4.0 required=10.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of forsberg@opera.com designates 213.236.208.81 as permitted sender)
Received: from [213.236.208.81] (HELO smtp.opera.com) (213.236.208.81)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 07:01:16 +0000
Received: from caputradii.linkoping.osa (sgw-oslo.opera.com [213.236.208.47])
	(authenticated bits=0)
	by smtp.opera.com (8.13.4/8.13.4/Debian-3sarge3) with ESMTP id n8770r0M010172
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT)
	for <common-user@hadoop.apache.org>; Mon, 7 Sep 2009 07:00:53 GMT
Date: Mon, 7 Sep 2009 09:00:51 +0200
From: Erik Forsberg <forsberg@opera.com>
To: common-user@hadoop.apache.org
Subject: Re: discyp between different versions of Hadoop...
Message-ID: <20090907090051.3520f71e@caputradii.linkoping.osa>
In-Reply-To: <496962.13331.qm@web45405.mail.sp1.yahoo.com>
References: <496962.13331.qm@web45405.mail.sp1.yahoo.com>
Organization: Opera Software
X-Mailer: Claws Mail 3.5.0 (GTK+ 2.14.4; i486-pc-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=US-ASCII
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On Sun, 6 Sep 2009 22:45:28 -0700 (PDT)
C G <parallelguy@yahoo.com> wrote:

> Hi All:
> Does anybody know if it's possible to distcp between an old version
> of Hadoop (0.15.x, for example) and a modern version (0.19.2)?

Yes:

1) Run the distcp job on the newer cluster.
2) Use the hftp method in the source URI.

Example: 

hadoop distcp hftp://oldclusternamenode:50070/path/to/src \
hdfs://newclusternamenode:8020/path/to/dst

See http://hadoop.apache.org/common/docs/r0.20.0/distcp.html#cpver

Cheers,
\EF
-- 
Erik Forsberg <forsberg@opera.com>
Developer, Opera Software - http://www.opera.com/

From common-user-return-17298-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 07:25:08 2009
Return-Path: <common-user-return-17298-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 23143 invoked from network); 7 Sep 2009 07:25:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 07:25:08 -0000
Received: (qmail 18693 invoked by uid 500); 7 Sep 2009 07:25:05 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 18618 invoked by uid 500); 7 Sep 2009 07:25:05 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 18577 invoked by uid 99); 7 Sep 2009 07:25:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 07:25:05 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of jason.hadoop@gmail.com designates 209.85.212.185 as permitted sender)
Received: from [209.85.212.185] (HELO mail-vw0-f185.google.com) (209.85.212.185)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 07:24:55 +0000
Received: by vws15 with SMTP id 15so1936456vws.5
        for <common-user@hadoop.apache.org>; Mon, 07 Sep 2009 00:24:34 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=Llp3vW3hRLHLAi1CiMFEZ/pritac3fDHNFl81E10iyg=;
        b=RZURbti1VoAdERbiI9UAMEX0e7cbd7gODAhwByU+e8l4gvPphbJs+tbGnB8l7mtAMc
         dXgqV2sgN6NP8zQU7Ax2q7W7jMfOjBkRFZ7SuN3gRhgurMJhgaeJ/vM2TnwQbP1ZkIRS
         vuAbm6QTF4UcdXTgwA/Wun9VtKeFA5wsWEsUA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=Dhlpmkypp8WHUhaH5DBMwCbYrACYMPKTKmqtJhQ1UIF7PWd4cpePlR9CT3D2mWmwFI
         46pm2H2+8pL/OLFS2c3JS59O/pyHbrDCaTTS00Jy0tDPhjB3rO39bKpe6IEg1jkPgDkC
         HXz5MDB+/VzAdyMhBPdGD4VnPyI/qtmSX6cbs=
MIME-Version: 1.0
Received: by 10.220.102.137 with SMTP id g9mr4046978vco.89.1252308274211; Mon, 
	07 Sep 2009 00:24:34 -0700 (PDT)
In-Reply-To: <20090907090051.3520f71e@caputradii.linkoping.osa>
References: <496962.13331.qm@web45405.mail.sp1.yahoo.com>
	 <20090907090051.3520f71e@caputradii.linkoping.osa>
Date: Mon, 7 Sep 2009 00:24:34 -0700
Message-ID: <314098690909070024p2464ac30x8f63d1901b818bca@mail.gmail.com>
Subject: Re: discyp between different versions of Hadoop...
From: Jason Venner <jason.hadoop@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0016e6460538d56fed0472f7bd4b
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e6460538d56fed0472f7bd4b
Content-Type: text/plain; charset=ISO-8859-1

Thank you, I don't think of the ftp interface at all and had completely
forgotten it.

On Mon, Sep 7, 2009 at 12:00 AM, Erik Forsberg <forsberg@opera.com> wrote:

> On Sun, 6 Sep 2009 22:45:28 -0700 (PDT)
> C G <parallelguy@yahoo.com> wrote:
>
> > Hi All:
> > Does anybody know if it's possible to distcp between an old version
> > of Hadoop (0.15.x, for example) and a modern version (0.19.2)?
>
> Yes:
>
> 1) Run the distcp job on the newer cluster.
> 2) Use the hftp method in the source URI.
>
> Example:
>
> hadoop distcp hftp://oldclusternamenode:50070/path/to/src \
> hdfs://newclusternamenode:8020/path/to/dst
>
> See http://hadoop.apache.org/common/docs/r0.20.0/distcp.html#cpver
>
> Cheers,
> \EF
> --
> Erik Forsberg <forsberg@opera.com>
> Developer, Opera Software - http://www.opera.com/
>



-- 
Pro Hadoop, a book to guide you from beginner to hadoop mastery,
http://www.amazon.com/dp/1430219424?tag=jewlerymall
www.prohadoopbook.com a community for Hadoop Professionals

--0016e6460538d56fed0472f7bd4b--

From common-user-return-17299-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 08:23:50 2009
Return-Path: <common-user-return-17299-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 36672 invoked from network); 7 Sep 2009 08:23:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 08:23:50 -0000
Received: (qmail 65882 invoked by uid 500); 7 Sep 2009 08:23:48 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 65779 invoked by uid 500); 7 Sep 2009 08:23:48 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 65768 invoked by uid 99); 7 Sep 2009 08:23:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 08:23:48 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [155.69.5.207] (HELO exsmtp1.ntu.edu.sg) (155.69.5.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 08:23:37 +0000
Received: from MAIL24.student.main.ntu.edu.sg ([155.69.5.135]) by exsmtp1.ntu.edu.sg with Microsoft SMTPSVC(6.0.3790.1830);
	 Mon, 7 Sep 2009 16:23:12 +0800
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_001_01CA2F94.70968229"
Subject: RE: Hadoop
Date: Mon, 7 Sep 2009 16:20:02 +0800
Message-ID: <B1AA98568C81904FB704DF464FC6216E02A95DB5@MAIL24.student.main.ntu.edu.sg>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: <B1AA98568C81904FB704DF464FC6216E02A95DB5@MAIL24.student.main.ntu.edu.sg>
Thread-Topic: Hadoop
Thread-Index: AcotNo5j+mAEx/HqQpWmvGTthg5MiQCXXDxq
References: <CEDB38A443476D40901289F9F19E288A02F4E1BD@IE10EV813.global.ds.honeywell.com>
From: "#YONG YONG CHENG#" <aarnchng@pmail.ntu.edu.sg>
To: <common-user@hadoop.apache.org>
X-OriginalArrivalTime: 07 Sep 2009 08:23:12.0413 (UTC) FILETIME=[70979CD0:01CA2F94]
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01CA2F94.70968229
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Good Day,
=20
Use this:
=20
export JAVA_HOME=3DC:\\cygwin\\home\\HadoopAdmin\\java
=20
This should work fine.

________________________________

From: Rajpal, Harjeet Kumar [mailto:Harjeet.Kumar@Honeywell.com]
Sent: Fri 9/4/2009 4:06 PM
To: common-user@hadoop.apache.org
Subject: Hadoop



Hello all,

            First of all sorry if this question sounds stupid. I am a
beginner with Hadoop.

       =20

            I am using Hadoop at windows so I have installed java in
following directory



C:\cygwin\home\HadoopAdmin\java



I have given the java home as Hadoop-env file of hadoop configuration as



export JAVA_HOME=3D/home/HadoopAdmin/java/jdk6



but still if I run following command



/home/ HadoopAdmin/hadoop18.3/bin/hadoop namenode -format



It gives error that

There is no file or directory



HadoopAdmin//java/jdk6



Please help me on this matter



Best Regards,

Harjeet Kumar






------_=_NextPart_001_01CA2F94.70968229--

From common-user-return-17300-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 08:48:31 2009
Return-Path: <common-user-return-17300-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 42358 invoked from network); 7 Sep 2009 08:48:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 08:48:31 -0000
Received: (qmail 84521 invoked by uid 500); 7 Sep 2009 08:48:28 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 84447 invoked by uid 500); 7 Sep 2009 08:48:28 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 84437 invoked by uid 99); 7 Sep 2009 08:48:28 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 08:48:28 +0000
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.219.208] (HELO mail-ew0-f208.google.com) (209.85.219.208)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 08:48:19 +0000
Received: by ewy4 with SMTP id 4so696080ewy.36
        for <common-user@hadoop.apache.org>; Mon, 07 Sep 2009 01:47:56 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.216.28.209 with SMTP id g59mr1449294wea.96.1252313275497; Mon, 
	07 Sep 2009 01:47:55 -0700 (PDT)
In-Reply-To: <2FD61F37AFF16D4DB46149330E4273C7025202D2@dcl-ex.dcml.docomolabs-usa.com>
References: <c9b0d8bd0909030946i708d3b5k94f6f8a0de8a57a1@mail.gmail.com>
	 <35a22e220909031253n56295ea8yf57e8c4df0cb5a74@mail.gmail.com>
	 <c9b0d8bd0909031307n3fc0a5dbjb443a7fee19bb76@mail.gmail.com>
	 <c9b0d8bd0909031308j3dceae37r85d2932021d0f51d@mail.gmail.com>
	 <35a22e220909031312n77bd36b3w9e52707b7d0ab2bb@mail.gmail.com>
	 <c9b0d8bd0909031342t44455c80sf52c14b4c11c663@mail.gmail.com>
	 <54de02ae0909031551y36a0f804lf40ecf4314c4ca3e@mail.gmail.com>
	 <2FD61F37AFF16D4DB46149330E4273C7025202D2@dcl-ex.dcml.docomolabs-usa.com>
Date: Mon, 7 Sep 2009 09:47:55 +0100
Message-ID: <ac79ea400909070147r24463827y2fa0439c49c2ef18@mail.gmail.com>
Subject: Re: JobTracker startup failure when starting hadoop-0.20.0 cluster on 
	Amazon EC2 with contrib/ec2 scripts
From: Tom White <tom@cloudera.com>
To: common-user@hadoop.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Hi Jeyendran,

Were there any errors reported in the datanode logs? There could be a
problem with datanodes contacting the namenode, caused by firewall
configuration problems (EC2 security groups).

Cheers,
Tom

On Fri, Sep 4, 2009 at 12:17 AM, Jeyendran
Balakrishnan<jbalakrishnan@docomolabs-usa.com> wrote:
> I downloaded Hadoop 0.20.0 and used the src/contrib/ec2/bin scripts to
> launch a Hadoop cluster on Amazon EC2, after building a new Hadoop
> 0.20.0 AMI.
>
> I launched an instance with my new Hadoop 0.20.0 AMI, then logged in and
> ran the following to launch a new cluster:
> root(/vol/hadoop-0.20.0)> bin/launch-hadoop-cluster hadoop-test 2
>
> After the usual EC2 wait, one master and two slave instances were
> launched on EC2, as expected. When I ssh'ed into the instances, here is
> what I found:
>
> Slaves: DataNode and NameNode are running
> Master: Only NameNode is running
>
> I could use HDFS commands (using $HADOOP_HOME/bin/hadoop scripts)
> without any problems, from both master and slaves. However, since
> JobTracker is not running, I cannot run map-reduce jobs.
>
> I checked the logs from /vol/hadoop-0.20.0/logs for the JobTracker,
> reproduced below:
> ------------------------------------------------------------------------
> ----
> 2009-09-03 18:55:38,486 WARN org.apache.hadoop.conf.Configuration:
> DEPRECATED: hadoop-site.xml found in the classpath. Usage of
> hadoop-site.xml is deprecated. Instead use core-site.xml,
> mapred-site.xml and h
> dfs-site.xml to override properties of core-default.xml,
> mapred-default.xml and hdfs-default.xml respectively
> 2009-09-03 18:55:38,520 INFO org.apache.hadoop.mapred.JobTracker:
> STARTUP_MSG:
> /************************************************************
> STARTUP_MSG: Starting JobTracker
> STARTUP_MSG: =A0 host =3D
> domU-12-31-39-06-44-E3.compute-1.internal/10.208.75.17
> STARTUP_MSG: =A0 args =3D []
> STARTUP_MSG: =A0 version =3D 0.20.0
> STARTUP_MSG: =A0 build =3D
> https://svn.apache.org/repos/asf/hadoop/core/branches/branch-0.20 -r
> 763504; compiled by 'ndaley' on Thu Apr =A09 05:18:40 UTC 2009
> ************************************************************/
> 2009-09-03 18:55:38,652 INFO org.apache.hadoop.ipc.metrics.RpcMetrics:
> Initializing RPC Metrics with hostName=3DJobTracker, port=3D50002
> 2009-09-03 18:55:38,703 INFO org.mortbay.log: Logging to
> org.slf4j.impl.Log4jLoggerAdapter(org.mortbay.log) via
> org.mortbay.log.Slf4jLog
> 2009-09-03 18:55:38,827 INFO org.apache.hadoop.http.HttpServer: Jetty
> bound to port 50030
> 2009-09-03 18:55:38,827 INFO org.mortbay.log: jetty-6.1.14
> 2009-09-03 18:55:48,425 INFO org.mortbay.log: Started
> SelectChannelConnector@0.0.0.0:50030
> 2009-09-03 18:55:48,427 INFO org.apache.hadoop.metrics.jvm.JvmMetrics:
> Initializing JVM Metrics with processName=3DJobTracker, sessionId=3D
> 2009-09-03 18:55:48,432 INFO org.apache.hadoop.mapred.JobTracker:
> JobTracker up at: 50002
> 2009-09-03 18:55:48,432 INFO org.apache.hadoop.mapred.JobTracker:
> JobTracker webserver: 50030
> 2009-09-03 18:55:48,541 INFO org.apache.hadoop.mapred.JobTracker:
> Cleaning up the system directory
> 2009-09-03 18:55:48,628 INFO org.apache.hadoop.hdfs.DFSClient:
> org.apache.hadoop.ipc.RemoteException: java.io.IOException: File
> /mnt/hadoop/mapred/system/jobtracker.info could only be replicated to 0
> nodes,
> instead of 1
> =A0 =A0 =A0 =A0at
> org.apache.hadoop.hdfs.server.namenode.FSNamesystem.getAdditionalBlock(F
> SNamesystem.java:1256)
> =A0 =A0 =A0 =A0at
> org.apache.hadoop.hdfs.server.namenode.NameNode.addBlock(NameNode.java:4
> 22)
> =A0 =A0 =A0 =A0at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Met=
hod)
> =A0 =A0 =A0 =A0at
> sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.jav
> a:39)
> =A0 =A0 =A0 =A0at
> sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessor
> Impl.java:25)
> =A0 =A0 =A0 =A0at java.lang.reflect.Method.invoke(Method.java:597)
> =A0 =A0 =A0 =A0at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:508)
> =A0 =A0 =A0 =A0at org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:=
959)
> =A0 =A0 =A0 =A0at org.apache.hadoop.ipc.Server$Handler$1.run(Server.java:=
955)
> =A0 =A0 =A0 =A0at java.security.AccessController.doPrivileged(Native Meth=
od)
> =A0 =A0 =A0 =A0at javax.security.auth.Subject.doAs(Subject.java:396)
> =A0 =A0 =A0 =A0at org.apache.hadoop.ipc.Server$Handler.run(Server.java:95=
3)
>
> =A0 =A0 =A0 =A0at org.apache.hadoop.ipc.Client.call(Client.java:739)
> =A0 =A0 =A0 =A0at org.apache.hadoop.ipc.RPC$Invoker.invoke(RPC.java:220)
> =A0 =A0 =A0 =A0at $Proxy4.addBlock(Unknown Source)
> =A0 =A0 =A0 =A0at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Met=
hod)
> =A0 =A0 =A0 =A0at
> sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.jav
> a:39)
> =A0 =A0 =A0 =A0at
> sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessor
> Impl.java:25)
> =A0 =A0 =A0 =A0at java.lang.reflect.Method.invoke(Method.java:597)
> =A0 =A0 =A0 =A0at
> org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvo
> cationHandler.java:82)
> =A0 =A0 =A0 =A0at
> org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocation
> Handler.java:59)
> =A0 =A0 =A0 =A0at $Proxy4.addBlock(Unknown Source)
> =A0 =A0 =A0 =A0at
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.locateFollowingBlock(DF
> SClient.java:2873)
> =A0 =A0 =A0 =A0at
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.nextBlockOutputStream(D
> FSClient.java:2755)
>
> =A0 =A0 =A0 =A0at
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.access$2000(DFSClient.j
> ava:2046)
> =A0 =A0 =A0 =A0at
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream$DataStreamer.run(DFSCli
> ent.java:2232)
>
> 2009-09-03 18:55:48,628 WARN org.apache.hadoop.hdfs.DFSClient:
> NotReplicatedYetException sleeping
> /mnt/hadoop/mapred/system/jobtracker.info retries left 4
> 2009-09-03 18:55:49,030 INFO org.apache.hadoop.hdfs.DFSClient:
> org.apache.hadoop.ipc.RemoteException: java.io.IOException: File
> /mnt/hadoop/mapred/system/jobtracker.info could only be replicated to 0
> nodes,
> instead of 1
> ...
> ------------------------------------------------------------------------
> ----
> The JobTracker ports are all free [not used by any other process].
>
> Any suggestions would be appreciated.
>
> Thanks a lot,
> Jeyendran
>
>

From common-user-return-17301-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 09:19:17 2009
Return-Path: <common-user-return-17301-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 51629 invoked from network); 7 Sep 2009 09:19:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 09:19:16 -0000
Received: (qmail 20395 invoked by uid 500); 7 Sep 2009 09:19:14 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 20301 invoked by uid 500); 7 Sep 2009 09:19:14 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 20291 invoked by uid 99); 7 Sep 2009 09:19:14 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 09:19:14 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of yuzhihong@gmail.com designates 74.125.92.25 as permitted sender)
Received: from [74.125.92.25] (HELO qw-out-2122.google.com) (74.125.92.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 09:19:05 +0000
Received: by qw-out-2122.google.com with SMTP id 8so584759qwh.35
        for <common-user@hadoop.apache.org>; Mon, 07 Sep 2009 02:18:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:date:message-id:subject
         :from:to:content-type;
        bh=C4X0XwWFwNVmEW5h3MpxwO7XY2Q4ikNE/CQ0tscezCA=;
        b=QjY7OGPPU+AN+q+CH1ujGTb3SWM5n7mel2gP9Heyz5X/L0exL34VL2mAQIJ8cALAr8
         h3f8/Jmps8zfLzuwhfxhYyHNFdmyPq1qr/L/QRgqmGjrSLO1FhgRoI24KfAvtAsZ4QDh
         BoIvImWPQ99yLs9y0DfS2OXJWi6BtOXNcrT/o=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=K4Yt2FjLV07hQC1sM/PxJk7+CbbbUhgNz1fD2CURj5SnoAmXTuxOgiH3dLpOQYPVJG
         m3Mzlm3sgsHNWtm2QBPIm7hfFCQVOcrmkXQ4Y2iXGqALkxAUOWPfTIroCcJwCFW48UgI
         BYCtddx7j6UDMeK/JepOHaj1xwwVzw3mVless=
MIME-Version: 1.0
Received: by 10.229.68.7 with SMTP id t7mr3740048qci.83.1252315124435; Mon, 07 
	Sep 2009 02:18:44 -0700 (PDT)
Date: Mon, 7 Sep 2009 02:18:44 -0700
Message-ID: <17e273100909070218v4659e2dcu8598207843adeed6@mail.gmail.com>
Subject: HDFS and Linux File System
From: Ted Yu <yuzhihong@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0021cc021cb2238b450472f9566b
X-Virus-Checked: Checked by ClamAV on apache.org

--0021cc021cb2238b450472f9566b
Content-Type: text/plain; charset=ISO-8859-1

We're using hadoop 0.20.0 to analyze large log files from web servers.
I am looking for better HDFS support so that I don't have to copy log files
from Linux File System over.

Please comment.

Thanks

--0021cc021cb2238b450472f9566b--

From common-user-return-17302-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 09:32:45 2009
Return-Path: <common-user-return-17302-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 58448 invoked from network); 7 Sep 2009 09:32:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 09:32:45 -0000
Received: (qmail 40638 invoked by uid 500); 7 Sep 2009 09:32:42 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 40555 invoked by uid 500); 7 Sep 2009 09:32:42 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 40545 invoked by uid 500); 7 Sep 2009 09:32:42 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 40542 invoked by uid 99); 7 Sep 2009 09:32:42 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 09:32:42 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of stchu.cloud@gmail.com designates 209.85.222.202 as permitted sender)
Received: from [209.85.222.202] (HELO mail-pz0-f202.google.com) (209.85.222.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 09:32:33 +0000
Received: by pzk40 with SMTP id 40so948690pzk.30
        for <core-user@hadoop.apache.org>; Mon, 07 Sep 2009 02:32:12 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:date:message-id:subject
         :from:to:content-type;
        bh=6+FuADOwm98efySgmDrcCRCPemUGOsxFEa0SXWElcX4=;
        b=G0ytKX7X5x5QgMHX9ASEaqanzk3NTSw/nGYLc0KfeluHMMScZIFcGPQxkz4cdQy1fs
         wFUPNQLtlnER4IBBZFQNdzF7vT0Z8IFoA1v0Bgth7HAE03b9cYK096uZgbAnGXqt5RSP
         aER458dFvSgVXrJccGxf5aumZAj/AUwT1P030=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=SkkP+1vKD1P5rbQwWXT4l5cDy+5o1E2GbOk059/r0FBeKbP/EiN23/BDMmYcZ5YZG+
         eMzqh0IKmcowzVch2jgjybmwOmVzOJ0Wlw8V90GUIQm2RTs53htO7q6x/dMwv0sKKM09
         h/wPs6U1RImj6g09I/1hT0O+pdMbwhh0gqurA=
MIME-Version: 1.0
Received: by 10.142.118.3 with SMTP id q3mr505147wfc.9.1252315932444; Mon, 07 
	Sep 2009 02:32:12 -0700 (PDT)
Date: Mon, 7 Sep 2009 17:32:12 +0800
Message-ID: <430378a70909070232j4ba469a4ia861ec9a8a8499c8@mail.gmail.com>
Subject: copy data (distcp) from local cluster to the EC2 cluster
From: stchu <stchu.cloud@gmail.com>
To: core-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=001636e0b9624cc9d60472f9868d
X-Virus-Checked: Checked by ClamAV on apache.org

--001636e0b9624cc9d60472f9868d
Content-Type: text/plain; charset=ISO-8859-1

Hi,

Does Distcp support to copy data from my local cluster (1 master+3 slaves,
fs=hdfs) to the EC2 cluster (1master+2slaves, fs=hdfs)?
If it's supported, how can I do? I appreciate for any guide or suggestion.

stchu

--001636e0b9624cc9d60472f9868d--

From common-user-return-17303-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 09:53:34 2009
Return-Path: <common-user-return-17303-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 66847 invoked from network); 7 Sep 2009 09:53:33 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 09:53:33 -0000
Received: (qmail 62268 invoked by uid 500); 7 Sep 2009 09:53:31 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 62170 invoked by uid 500); 7 Sep 2009 09:53:30 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 62148 invoked by uid 99); 7 Sep 2009 09:53:30 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 09:53:30 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of hkumar.arora@gmail.com designates 209.85.223.173 as permitted sender)
Received: from [209.85.223.173] (HELO mail-iw0-f173.google.com) (209.85.223.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 09:53:18 +0000
Received: by iwn3 with SMTP id 3so173571iwn.2
        for <multiple recipients>; Mon, 07 Sep 2009 02:52:57 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:cc:content-type;
        bh=c2GYonU9yimdaHVaIH59Ibf97l8ZRKv+aX9RMODC8q8=;
        b=FX8bHD8OudCTGtrS5h1KdLn1uT05cI4EayGDgDGZuKX9bhyRX8/bIBDjWKTtfkmAa1
         LUzjAHI4lR14szgKnCtQdcgsQCictcS9LXlTwHNpO4MRwJyPLoCMCiRHl09dv3gefRA7
         kYuJ4YzBK1HVT12mUz8Ri6hmQY/gtu767RzpU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        b=seMzlW35ZpZA2U5qn6zuu3pk0pctFjM+rF0Tl1mMyy9hH6kZ+QPEDIV63sRgPkuAxi
         lY7Jgcx8rVGfOto6Zlq3J1hNKQOYwvPv9RbgJZpgU1MizuHX1mnLmxqny5Lvpx1Je6d4
         iDvT9D5DGioiclbsvMUF3YyIwhAVagitFgY1c=
MIME-Version: 1.0
Received: by 10.231.42.81 with SMTP id r17mr11262732ibe.50.1252317176961; Mon, 
	07 Sep 2009 02:52:56 -0700 (PDT)
In-Reply-To: <e497591c0909070248u347f1ca5j42b7435864fd31ed@mail.gmail.com>
References: <e497591c0909070248u347f1ca5j42b7435864fd31ed@mail.gmail.com>
Date: Mon, 7 Sep 2009 18:52:56 +0900
Message-ID: <e497591c0909070252r6cc64751jd0a2fefdc7c863fa@mail.gmail.com>
Subject: Fwd: Type mismatch in value from map: expected org.apache.hadoop.io.Text, 
	recieved org.apache.hadoop.io.IntWritable
From: Harshit Kumar <hkumar.arora@gmail.com>
To: common-dev@hadoop.apache.org
Cc: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=00151773e4587a9b6a0472f9d02c
X-Virus-Checked: Checked by ClamAV on apache.org

--00151773e4587a9b6a0472f9d02c
Content-Type: text/plain; charset=UTF-8

I get this error on WordCount program, originally copied from the examples
folder in Hadoop-0.19.2.
I dont understand why I get this error. Everything is set right. Please see
the code and give feedback.

import java.io.IOException;
import java.util.*;
 import org.apache.hadoop.fs.Path;
 import org.apache.hadoop.conf.*;
import org.apache.hadoop.io.*;
import org.apache.hadoop.mapred.*;
 import org.apache.hadoop.util.*;
 public class WordCount {
     public static class Map extends MapReduceBase implements
Mapper<LongWritable, Text, Text, Text> {
      private Text word = new Text();
      private Text upperWord = new Text();

      public void map(LongWritable key, Text value, OutputCollector<Text,
Text> output, Reporter reporter) throws IOException {
        String line = value.toString();
        StringTokenizer tokenizer = new StringTokenizer(line);
        while (tokenizer.hasMoreTokens()) {
         String temp =tokenizer.nextToken();
          word.set(temp);
          upperWord.set(temp.toUpperCase());
          output.collect(word, upperWord);
        }
      }
    }
     public static class Reduce extends MapReduceBase implements
Reducer<Text, Text, Text, Text> {
      public void reduce(Text key, Iterator<Text> values,
OutputCollector<Text, Text> output, Reporter reporter) throws IOException {
        String sum = new String();
        boolean flag=true;
        while (values.hasNext()) {
         if(!flag)
         sum = sum.concat(", "+values.next().toString());
         else
         sum = values.next().toString();

         flag=false;
        }
        output.collect(key, new Text(sum));
      }
    }
     public static void main(String[] args) throws Exception {
      JobConf conf = new JobConf(WordCount.class);
      conf.setJobName("wordcount");
      conf.setOutputKeyClass(Text.class);
      conf.setOutputValueClass(Text.class);

      conf.setMapOutputKeyClass(Text.class);
      conf.setMapOutputValueClass(Text.class);
      conf.setMapperClass(Map.class);
      //conf.setCombinerClass(Reduce.class);
      conf.setReducerClass(Reduce.class);
       conf.setInputFormat(TextInputFormat.class);
      conf.setOutputFormat(TextOutputFormat.class);
       FileInputFormat.setInputPaths(conf, new Path("In"));
      FileOutputFormat.setOutputPath(conf, new Path("Outer"));
       JobClient.runJob(conf);
    }
 }


Thanks
H. Kumar
Phone(Mobile): +82-10-2892-9663
Phone(Office): +82-31-
skype: harshit900
Blog: http://harshitkumar.wordpress.com
Website: http:/kumarharmuscat.tripod.com

--00151773e4587a9b6a0472f9d02c--

From common-user-return-17304-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 10:41:06 2009
Return-Path: <common-user-return-17304-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 76121 invoked from network); 7 Sep 2009 10:41:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 10:41:05 -0000
Received: (qmail 18637 invoked by uid 500); 7 Sep 2009 10:41:01 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 18475 invoked by uid 500); 7 Sep 2009 10:41:00 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 18440 invoked by uid 99); 7 Sep 2009 10:41:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 10:41:00 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of hkumar.arora@gmail.com designates 209.85.223.173 as permitted sender)
Received: from [209.85.223.173] (HELO mail-iw0-f173.google.com) (209.85.223.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 10:40:52 +0000
Received: by iwn3 with SMTP id 3so179010iwn.2
        for <multiple recipients>; Mon, 07 Sep 2009 03:40:31 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:date:message-id:subject
         :from:to:cc:content-type;
        bh=FlQO013bEp/UozZbSk3ESR5cEMRyY6BvXtMxHVcEaNA=;
        b=Pyour4WbNS7lwDmI1SqNU5UBHUoEN7LoXy4bkmGoBRYqf0iMZguTZDMTV0Nfls4JZk
         TAChETgqVZ5cEDD4gdU8l+/SAoyB+KehGORCZy3W1kK9hn508OZCrtd7YVF7o4QBy2ig
         K6fRAKxYR0IiB1eXuRE6yLWyVGWbbghsnF7hc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:cc:content-type;
        b=uzZcKPPs/WH28Ng5snLQ38plzzHrBngGAp5XocQdfNGwfJuUFu2XhZqZBrrYL46rtf
         DTsAfFuYTCrF+9KYJIqyBZGnhYVnszOsOUpWxyUkCZPoLRBBC2rSsZWkST33vYGN2x62
         zKb9Dey+iLxCc6A/nh4G8MAF86xQcoQv2tTfA=
MIME-Version: 1.0
Received: by 10.231.26.78 with SMTP id d14mr11342557ibc.30.1252320031750; Mon, 
	07 Sep 2009 03:40:31 -0700 (PDT)
Date: Mon, 7 Sep 2009 19:40:29 +0900
Message-ID: <e497591c0909070340t46f7f5afvc86ef66c02da8693@mail.gmail.com>
Subject: Please interpret the output -please help - going mad
From: Harshit Kumar <hkumar.arora@gmail.com>
To: general@hadoop.apache.org
Cc: common-user@hadoop.apache.org, common-dev@hadoop.apache.org
Content-Type: multipart/alternative; boundary=001517740c1aa34a710472fa7a44
X-Virus-Checked: Checked by ClamAV on apache.org

--001517740c1aa34a710472fa7a44
Content-Type: text/plain; charset=UTF-8

Hi
I am going mad, pulling my hairs now, past 2 days, trying to figure out the
output by this map-reduce program. Please help or you can find me in asylum.

in the map function below, output.collect(Text,Duo) - Duo is a custom input
format, map functions trasnfers "hello, duo("hello,hello")" key-value pair
to the reducer.

The reducer ouptuts "<hello,2>" as the key-value pair, however, the output
is actually different.

The input file is
I love you
you love me
we love eachother


The output is
I I love you
we we love eachother
you you love me

Please make me understand,  why the output is not <hello,2>.


---------------------------
Here is the code

public class SplitFile {

public static class Map extends MapReduceBase implements
Mapper<LongWritable, Text, Text, Duo> {


       public void map(LongWritable key, Text value, OutputCollector<Text,
Duo> output, Reporter reporter) throws IOException {
           String property=new String();
           String object = new String();
       String line = value.toString();
           StringTokenizer st = new StringTokenizer(line);
           Text subject = new Text(st.nextToken());
           property = st.nextToken();
   object = st.nextToken();
   Duo d = new Duo(property,object);
               output.collect(new Text("hello"),new Duo("hello","hello"));

       }
    }


    public static class Reduce extends MapReduceBase implements
Reducer<Text, Duo, Text, IntWritable> {

       public void reduce(Text key, Iterator<Duo> values,
OutputCollector<Text, IntWritable> output, Reporter reporter) throws
IOException {
     /*  String finalString=null;
      System.out.println("key"+key);
      Duo d = new Duo();
  while (values.hasNext()) {
           d = values.next();
           System.out.println("duo object received is = "+d.toString());
           finalString = d.getProperty()+ " " + d.getObject();
           //System.out.println("final String ="+finalString);
           }*/
  output.collect(new Text("hello"), new IntWritable(2));
       }
    }


    public static void main(String[] args) throws Exception {

       JobConf conf = new JobConf(SplitFile.class);
       conf.setJobName("SplitFile");

       conf.setMapOutputKeyClass(Text.class);
       conf.setMapOutputValueClass(Duo.class);

       conf.setOutputKeyClass(Text.class);
       conf.setOutputValueClass(IntWritable.class);

       conf.setMapperClass(Map.class);
       //conf.setCombinerClass(Reduce.class);
       conf.setReducerClass(Reduce.class);

       conf.setInputFormat(TextInputFormat.class);
       conf.setOutputFormat(TextOutputFormat.class);

       FileInputFormat.setInputPaths(conf, new Path("In"));
       FileOutputFormat.setOutputPath(conf, new Path("Out"));
       //System.out.println("2");
       JobClient.runJob(conf);
    }

}

Thanks and Regards
H. Kumar

--001517740c1aa34a710472fa7a44--

From common-user-return-17305-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 10:55:23 2009
Return-Path: <common-user-return-17305-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 79006 invoked from network); 7 Sep 2009 10:55:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 10:55:23 -0000
Received: (qmail 33581 invoked by uid 500); 7 Sep 2009 10:55:21 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 33489 invoked by uid 500); 7 Sep 2009 10:55:21 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 33479 invoked by uid 500); 7 Sep 2009 10:55:21 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 33476 invoked by uid 99); 7 Sep 2009 10:55:21 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 10:55:21 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of wasimbari@msn.com designates 65.55.90.108 as permitted sender)
Received: from [65.55.90.108] (HELO snt0-omc2-s33.snt0.hotmail.com) (65.55.90.108)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 10:55:09 +0000
Received: from SNT124-W11 ([65.55.90.73]) by snt0-omc2-s33.snt0.hotmail.com with Microsoft SMTPSVC(6.0.3790.3959);
	 Mon, 7 Sep 2009 03:54:49 -0700
Message-ID: <SNT124-W11F811BE876064B22E9872BCEB0@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_cc42942e-9a83-496b-a352-9b98a77642ec_"
X-Originating-IP: [212.117.81.29]
From: Wasim Bari <wasimbari@msn.com>
To: <core-user@hadoop.apache.org>
Subject: Stop mapper in middle
Date: Mon, 7 Sep 2009 10:54:48 +0000
Importance: Normal
MIME-Version: 1.0
X-OriginalArrivalTime: 07 Sep 2009 10:54:49.0201 (UTC) FILETIME=[9EB34E10:01CA2FA9]
X-Virus-Checked: Checked by ClamAV on apache.org

--_cc42942e-9a83-496b-a352-9b98a77642ec_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


=20

Hi=2C

   Is there some way to return control from MAP funtion and complete the jo=
b.

=20

I am searching a file and when i get my required data i want mappers to sto=
p rather than seraching the remaning part.

=20

Thanks.=20

=20

Wasim=20

--_cc42942e-9a83-496b-a352-9b98a77642ec_--

From common-user-return-17306-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 10:55:34 2009
Return-Path: <common-user-return-17306-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 79128 invoked from network); 7 Sep 2009 10:55:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 10:55:34 -0000
Received: (qmail 35473 invoked by uid 500); 7 Sep 2009 10:55:31 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 35382 invoked by uid 500); 7 Sep 2009 10:55:31 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 35372 invoked by uid 99); 7 Sep 2009 10:55:31 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 10:55:31 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of bogdan.maryniuk@gmail.com designates 209.85.218.214 as permitted sender)
Received: from [209.85.218.214] (HELO mail-bw0-f214.google.com) (209.85.218.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 10:55:23 +0000
Received: by bwz10 with SMTP id 10so942602bwz.29
        for <common-user@hadoop.apache.org>; Mon, 07 Sep 2009 03:55:02 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=9tSKuxXBMKC1nN+3ZvKTsWUFqU7M36R5VkcFerZyxGg=;
        b=N+rPN+wifzUBKjYYZmXerbm8wVbH8aavuRnSkVj7pOAmw3UTYETpqITBwoPjXiKdEz
         7zGfeAFm9388kYtxuVq+O7vE6ETj2JMJoP7BRXD6AFq6pUEI5s3NjELXZ3jcCAitqpAy
         752w2oGjMj2NPJgTXWU9+SqMCy4fW9rfGIrVI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=x1YMJPOj1x5A+1FYQkzFMmzNAupDWuoxn028lGNHXzTOyq3wtUlcgyntf5SyiaH/dZ
         sZK38eBSToLLIM/g4AHNXQJWyr/jYA7U5E30vNz2fHsMC99IhlRq8VqkTxK2GwZPVotS
         T4rZbCjvCPYLu30YOWctvl04t6efpgkSUGyC4=
MIME-Version: 1.0
Received: by 10.223.4.148 with SMTP id 20mr5407570far.0.1252320901870; Mon, 07 
	Sep 2009 03:55:01 -0700 (PDT)
In-Reply-To: <17e273100909070218v4659e2dcu8598207843adeed6@mail.gmail.com>
References: <17e273100909070218v4659e2dcu8598207843adeed6@mail.gmail.com>
Date: Mon, 7 Sep 2009 19:55:01 +0900
Message-ID: <fa561940909070355v103ee667xb9355f18f0519abc@mail.gmail.com>
Subject: Re: HDFS and Linux File System
From: "Bogdan M. Maryniuk" <bogdan.maryniuk@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Mon, Sep 7, 2009 at 6:18 PM, Ted Yu<yuzhihong@gmail.com> wrote:
> We're using hadoop 0.20.0 to analyze large log files from web servers.
> I am looking for better HDFS support so that I don't have to copy log files
> from Linux File System over.

FUSE + syslog + FIFO?

-- 
Kind regards, BM

Things, that are stupid at the beginning, rarely ends up wisely.

From common-user-return-17307-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 11:01:33 2009
Return-Path: <common-user-return-17307-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 80253 invoked from network); 7 Sep 2009 11:01:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 11:01:32 -0000
Received: (qmail 40010 invoked by uid 500); 7 Sep 2009 11:01:30 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 39931 invoked by uid 500); 7 Sep 2009 11:01:30 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 39919 invoked by uid 99); 7 Sep 2009 11:01:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 11:01:30 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of bogdan.maryniuk@gmail.com designates 209.85.218.214 as permitted sender)
Received: from [209.85.218.214] (HELO mail-bw0-f214.google.com) (209.85.218.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 11:01:22 +0000
Received: by bwz10 with SMTP id 10so945505bwz.29
        for <common-user@hadoop.apache.org>; Mon, 07 Sep 2009 04:01:00 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=9tSKuxXBMKC1nN+3ZvKTsWUFqU7M36R5VkcFerZyxGg=;
        b=N+rPN+wifzUBKjYYZmXerbm8wVbH8aavuRnSkVj7pOAmw3UTYETpqITBwoPjXiKdEz
         7zGfeAFm9388kYtxuVq+O7vE6ETj2JMJoP7BRXD6AFq6pUEI5s3NjELXZ3jcCAitqpAy
         752w2oGjMj2NPJgTXWU9+SqMCy4fW9rfGIrVI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=x1YMJPOj1x5A+1FYQkzFMmzNAupDWuoxn028lGNHXzTOyq3wtUlcgyntf5SyiaH/dZ
         sZK38eBSToLLIM/g4AHNXQJWyr/jYA7U5E30vNz2fHsMC99IhlRq8VqkTxK2GwZPVotS
         T4rZbCjvCPYLu30YOWctvl04t6efpgkSUGyC4=
MIME-Version: 1.0
Received: by 10.223.4.148 with SMTP id 20mr5407570far.0.1252320901870; Mon, 07 
	Sep 2009 03:55:01 -0700 (PDT)
In-Reply-To: <17e273100909070218v4659e2dcu8598207843adeed6@mail.gmail.com>
References: <17e273100909070218v4659e2dcu8598207843adeed6@mail.gmail.com>
Date: Mon, 7 Sep 2009 19:55:01 +0900
Message-ID: <fa561940909070355v103ee667xb9355f18f0519abc@mail.gmail.com>
Subject: Re: HDFS and Linux File System
From: "Bogdan M. Maryniuk" <bogdan.maryniuk@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Mon, Sep 7, 2009 at 6:18 PM, Ted Yu<yuzhihong@gmail.com> wrote:
> We're using hadoop 0.20.0 to analyze large log files from web servers.
> I am looking for better HDFS support so that I don't have to copy log files
> from Linux File System over.

FUSE + syslog + FIFO?

-- 
Kind regards, BM

Things, that are stupid at the beginning, rarely ends up wisely.

From common-user-return-17308-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 11:33:12 2009
Return-Path: <common-user-return-17308-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 87007 invoked from network); 7 Sep 2009 11:33:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 11:33:12 -0000
Received: (qmail 75881 invoked by uid 500); 7 Sep 2009 11:33:10 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 75794 invoked by uid 500); 7 Sep 2009 11:33:09 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 75778 invoked by uid 99); 7 Sep 2009 11:33:09 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 11:33:09 +0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=NO_RDNS_DOTCOM_HELO,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [69.147.107.21] (HELO mrout2-b.corp.re1.yahoo.com) (69.147.107.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 11:32:59 +0000
Received: from EGL-EX07CAS01.ds.corp.yahoo.com (egl-ex07cas01.eglbp.corp.yahoo.com [203.83.248.208])
	by mrout2-b.corp.re1.yahoo.com (8.13.8/8.13.8/y.out) with ESMTP id n87BV80j080783
	for <common-user@hadoop.apache.org>; Mon, 7 Sep 2009 04:31:08 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; s=serpent; d=yahoo-inc.com; c=nofws; q=dns;
	h=received:from:to:date:subject:thread-topic:thread-index:
	message-id:references:in-reply-to:accept-language:
	content-language:x-ms-has-attach:x-ms-tnef-correlator:acceptlanguage:
	content-type:content-transfer-encoding:mime-version;
	b=LOF7af9w8vWCTociCzmgfpe5sBj+druAtXUr6X0G6mq1ehgCiqJKvFuJ6Wz4Nj5N
Received: from EGL-EX07VS01.ds.corp.yahoo.com ([203.83.248.206]) by
 EGL-EX07CAS01.ds.corp.yahoo.com ([203.83.248.215]) with mapi; Mon, 7 Sep 2009
 17:01:07 +0530
From: Amogh Vasekar <amogh@yahoo-inc.com>
To: "common-user@hadoop.apache.org" <common-user@hadoop.apache.org>
Date: Mon, 7 Sep 2009 16:59:40 +0530
Subject: RE: DistributedCache purgeCache()
Thread-Topic: DistributedCache purgeCache()
Thread-Index: AcosRK+91IYari8wT3O1DKUizxBtCgAHQdBQAMV8XFAADVCy0A==
Message-ID: <616DA47B2EF5B944B91846785B512FF4CFADEA772F@EGL-EX07VS01.ds.corp.yahoo.com>
References: <B1AA98568C81904FB704DF464FC6216E02A95DAB@MAIL24.student.main.ntu.edu.sg>
 <616DA47B2EF5B944B91846785B512FF4CFADEA7506@EGL-EX07VS01.ds.corp.yahoo.com>
 <B1AA98568C81904FB704DF464FC6216E02A95DB2@MAIL24.student.main.ntu.edu.sg>
In-Reply-To: <B1AA98568C81904FB704DF464FC6216E02A95DB2@MAIL24.student.main.ntu.edu.sg>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

My bad, its not exposed.=20
If nothing else's available, may be mimic its behaviour in the code?

Thanks,
Amogh=20

-----Original Message-----
From: #YONG YONG CHENG# [mailto:aarnchng@pmail.ntu.edu.sg]=20
Sent: Monday, September 07, 2009 10:27 AM
To: common-user@hadoop.apache.org
Subject: RE: DistributedCache purgeCache()

Thanks for your swift response.

But where can I find deletecache()?

Thanks.


-----Original Message-----
From: Amogh Vasekar [mailto:amogh@yahoo-inc.com]
Sent: Thu 9/3/2009 2:44 PM
To: common-user@hadoop.apache.org
Subject: RE: DistributedCache purgeCache()
=20
AFAIK, releaseCache only works on cleaning reference to your file. Try usin=
g deletecache in synchronized manner.

Thanks,
Amogh

-----Original Message-----
From: #YONG YONG CHENG# [mailto:aarnchng@pmail.ntu.edu.sg]=20
Sent: Thursday, September 03, 2009 8:50 AM
To: common-user@hadoop.apache.org
Subject: DistributedCache purgeCache()

Good Day,

I have a question on the DistributedCache as follows.

I have used DistributedCache to move my executable(.exe) around the (onto t=
he local filesystems of) nodes in Hadoop and run the .exe (via addCacheArch=
ive() and getLocalCacheArchives()). But I discovered after my job, the .exe=
 still resides on the nodes. I have try using releaseCache() and/or purgeCa=
che(), but the .exe still on the nodes. Is there a way to remove the .exe f=
rom the nodes?

Thanks.


From common-user-return-17309-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 12:01:04 2009
Return-Path: <common-user-return-17309-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 91711 invoked from network); 7 Sep 2009 12:01:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 12:01:04 -0000
Received: (qmail 3830 invoked by uid 500); 7 Sep 2009 12:01:01 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 3745 invoked by uid 500); 7 Sep 2009 12:01:01 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 3735 invoked by uid 99); 7 Sep 2009 12:01:01 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 12:01:01 +0000
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [216.145.54.172] (HELO mrout2.yahoo.com) (216.145.54.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 12:00:49 +0000
Received: from [10.66.74.221] (spacestar-lr.eglbp.corp.yahoo.com [10.66.74.221])
	by mrout2.yahoo.com (8.13.6/8.13.6/y.out) with ESMTP id n87BxV2W016577
	for <common-user@hadoop.apache.org>; Mon, 7 Sep 2009 04:59:32 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; s=serpent; d=yahoo-inc.com; c=nofws; q=dns;
	h=message-id:date:from:user-agent:mime-version:to:subject:
	references:in-reply-to:content-type:content-transfer-encoding;
	b=clsLoEAhIDm1cWQokWf1Rn73p7ayoIdyYXHa0idB8lGElgPXBbx+y8KMLgUqXMSM
Message-ID: <4AA4F5A3.1020008@yahoo-inc.com>
Date: Mon, 07 Sep 2009 17:29:31 +0530
From: Vinod KV <vinodkv@yahoo-inc.com>
User-Agent: Thunderbird 2.0.0.21 (X11/20090409)
MIME-Version: 1.0
To: common-user@hadoop.apache.org
Subject: Re: DistributedCache purgeCache()
References: <B1AA98568C81904FB704DF464FC6216E02A95DAB@MAIL24.student.main.ntu.edu.sg> <616DA47B2EF5B944B91846785B512FF4CFADEA7506@EGL-EX07VS01.ds.corp.yahoo.com> <B1AA98568C81904FB704DF464FC6216E02A95DB2@MAIL24.student.main.ntu.edu.sg> <616DA47B2EF5B944B91846785B512FF4CFADEA772F@EGL-EX07VS01.ds.corp.yahoo.com>
In-Reply-To: <616DA47B2EF5B944B91846785B512FF4CFADEA772F@EGL-EX07VS01.ds.corp.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org


It is not expected that the users clear the distributed cache files. The 
files are left as they are on the TT so that they can be used by other 
jobs that refer to the same cache files on the same TT. They will be 
deleted by the TT only when it is shutting down or when it tries to 
purge some unused files when the total disk usage of all dist-cache 
files hits a limit.

HTH,
+Vinod

Amogh Vasekar wrote:
> My bad, its not exposed. 
> If nothing else's available, may be mimic its behaviour in the code?
>
> Thanks,
> Amogh 
>
> -----Original Message-----
> From: #YONG YONG CHENG# [mailto:aarnchng@pmail.ntu.edu.sg] 
> Sent: Monday, September 07, 2009 10:27 AM
> To: common-user@hadoop.apache.org
> Subject: RE: DistributedCache purgeCache()
>
> Thanks for your swift response.
>
> But where can I find deletecache()?
>
> Thanks.
>
>
> -----Original Message-----
> From: Amogh Vasekar [mailto:amogh@yahoo-inc.com]
> Sent: Thu 9/3/2009 2:44 PM
> To: common-user@hadoop.apache.org
> Subject: RE: DistributedCache purgeCache()
>  
> AFAIK, releaseCache only works on cleaning reference to your file. Try using deletecache in synchronized manner.
>
> Thanks,
> Amogh
>
> -----Original Message-----
> From: #YONG YONG CHENG# [mailto:aarnchng@pmail.ntu.edu.sg] 
> Sent: Thursday, September 03, 2009 8:50 AM
> To: common-user@hadoop.apache.org
> Subject: DistributedCache purgeCache()
>
> Good Day,
>
> I have a question on the DistributedCache as follows.
>
> I have used DistributedCache to move my executable(.exe) around the (onto the local filesystems of) nodes in Hadoop and run the .exe (via addCacheArchive() and getLocalCacheArchives()). But I discovered after my job, the .exe still resides on the nodes. I have try using releaseCache() and/or purgeCache(), but the .exe still on the nodes. Is there a way to remove the .exe from the nodes?
>
> Thanks.
>
>
>   


From common-user-return-17310-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 12:11:59 2009
Return-Path: <common-user-return-17310-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 94040 invoked from network); 7 Sep 2009 12:11:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 12:11:59 -0000
Received: (qmail 15972 invoked by uid 500); 7 Sep 2009 12:11:57 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 15879 invoked by uid 500); 7 Sep 2009 12:11:57 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 15869 invoked by uid 99); 7 Sep 2009 12:11:57 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 12:11:57 +0000
X-ASF-Spam-Status: No, hits=4.0 required=10.0
	tests=HTML_MESSAGE,MIME_QP_LONG_LINE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [155.69.5.207] (HELO exsmtp1.ntu.edu.sg) (155.69.5.207)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 12:11:47 +0000
Received: from MAIL24.student.main.ntu.edu.sg ([155.69.5.135]) by exsmtp1.ntu.edu.sg with Microsoft SMTPSVC(6.0.3790.1830);
	 Mon, 7 Sep 2009 20:11:23 +0800
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01CA2FB4.50CFB3A9"
Subject: TaskTracker Unable To Run Task
Date: Mon, 7 Sep 2009 20:11:22 +0800
Message-ID: <B1AA98568C81904FB704DF464FC6216E02A95DB6@MAIL24.student.main.ntu.edu.sg>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: TaskTracker Unable To Run Task
Thread-Index: AcovtFCnMdiS/IFZQserVPnImZ8pmQ==
From: "#YONG YONG CHENG#" <aarnchng@pmail.ntu.edu.sg>
To: <common-user@hadoop.apache.org>
X-OriginalArrivalTime: 07 Sep 2009 12:11:23.0766 (UTC) FILETIME=[51464960:01CA2FB4]
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01CA2FB4.50CFB3A9
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Good Day,
=20
I have managed to run my hadoop cluster (3-nodes, TT/JT and NN/DN) =
currently by using Windows Service via Java Wrapper Service. But my =
tasktracker seems unable to run any task.
=20
I thought the spawn jvm will inherit the classpath of the parent jvm, =
even starting using Windows. Is Windows the cause? If it is the cause, =
is there any other way that I can do via configuration to solve this =
problem?
=20
Below is the logs
=20
Log By One Of The Map Task Attempt =
(attempt_200909071902_0006_m_000004_3)
=20
java.lang.NoClassDefFoundError: org/apache/hadoop/mapred/Child Caused =
by: java.lang.ClassNotFoundException: org.apache.hadoop.mapred.Child at =
java.net.URLClassLoader$1.run(URLClassLoader.java:200) at =
java.security.AccessController.doPrivileged(Native Method) at =
java.net.URLClassLoader.findClass(URLClassLoader.java:188) at =
java.lang.ClassLoader.loadClass(ClassLoader.java:306) at =
sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:276) at =
java.lang.ClassLoader.loadClass(ClassLoader.java:251) at =
java.lang.ClassLoader.loadClassInternal(ClassLoader.java:319) Exception =
in thread "main"=20
=20
Log In The TaskTracker (for the above attempt)
=20
2009-09-07 19:21:42,181 INFO org.apache.hadoop.mapred.TaskTracker: =
addFreeSlot : current free slots : 2
2009-09-07 19:21:42,181 INFO org.apache.hadoop.mapred.TaskTracker: =
LaunchTaskAction (registerTask): attempt_200909071902_0006_m_000004_3 =
task's state:UNASSIGNED
2009-09-07 19:21:42,181 INFO org.apache.hadoop.mapred.TaskTracker: =
Trying to launch : attempt_200909071902_0006_m_000004_3
2009-09-07 19:21:42,181 INFO org.apache.hadoop.mapred.TaskTracker: In =
TaskLauncher, current free slots : 2 and trying to launch =
attempt_200909071902_0006_m_000004_3
2009-09-07 19:21:42,243 INFO org.apache.hadoop.mapred.JvmManager: In =
JvmRunner constructed JVM ID: jvm_200909071902_0006_m_1046393994
2009-09-07 19:21:42,243 INFO org.apache.hadoop.mapred.JvmManager: JVM =
Runner jvm_200909071902_0006_m_1046393994 spawned.
2009-09-07 19:21:42,743 WARN org.apache.hadoop.mapred.TaskRunner: =
attempt_200909071902_0006_m_000004_3 Child Error
java.io.IOException: Task process exit with nonzero status of 1.
 at org.apache.hadoop.mapred.TaskRunner.run(TaskRunner.java:425)
2009-09-07 19:21:42,743 INFO org.apache.hadoop.mapred.JvmManager: JVM : =
jvm_200909071902_0006_m_1046393994 exited. Number of tasks it ran: 0
2009-09-07 19:21:45,743 INFO org.apache.hadoop.mapred.TaskRunner: =
attempt_200909071902_0006_m_000004_3 done; removing files.
=20
=20
=20

------_=_NextPart_001_01CA2FB4.50CFB3A9--

From common-user-return-17311-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 14:09:32 2009
Return-Path: <common-user-return-17311-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 26996 invoked from network); 7 Sep 2009 14:09:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 14:09:31 -0000
Received: (qmail 52042 invoked by uid 500); 7 Sep 2009 14:09:29 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 51965 invoked by uid 500); 7 Sep 2009 14:09:29 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 51955 invoked by uid 99); 7 Sep 2009 14:09:29 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 14:09:29 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of clarkemjj@gmail.com designates 209.85.220.225 as permitted sender)
Received: from [209.85.220.225] (HELO mail-fx0-f225.google.com) (209.85.220.225)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 14:09:19 +0000
Received: by fxm25 with SMTP id 25so1749932fxm.29
        for <common-user@hadoop.apache.org>; Mon, 07 Sep 2009 07:08:59 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:date:message-id:subject
         :from:to:content-type;
        bh=pJhLPN0fz3c07JgHMpoAoOP+AeDAIL71lcQpKs3H6bA=;
        b=PL2IE/a3NFz8mzrz6PUCGmdzrMMhvmU8hW6vlQ8JiBhfQ533FXE8YB/M2VmFudF+HY
         PHkVWNN4FJnYoTmlfPKH3oJLA7hrnDtQJ64/kDv61AbfJAaeaZ3Vlhac+IGjRvhZ2DsH
         z9vF5lg4hI775fBh+RdCM8y2qH42LypfOkEE8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=K4UpplZlhXMHJxPxCHxt8VsaUBCB+9Ric0p6NFKQgjzoga9OlO4ZKNAS99oai5MLed
         RAsvpC92QUOkD53THyI79HLA8ELdUR4Lse0LkGq24gM02k8oHMCthr9do+ljqBZaqQW2
         qXEA54FWQd1JTdo0wxKlFgTgYVJDBUvC7EjHg=
MIME-Version: 1.0
Received: by 10.204.155.88 with SMTP id r24mr12129891bkw.132.1252332539533; 
	Mon, 07 Sep 2009 07:08:59 -0700 (PDT)
Date: Mon, 7 Sep 2009 15:08:59 +0100
Message-ID: <4238036a0909070708v6c34d80fv3ca9ec7892096c58@mail.gmail.com>
Subject: Hadoop on EC2 - public AMIs in hadoop-images
From: John Clarke <clarkemjj@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0015175cf8ce28dbeb0472fd6445
X-Virus-Checked: Checked by ClamAV on apache.org

--0015175cf8ce28dbeb0472fd6445
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I am planning on running my MapReduce app on Amazon's EC2. I had a look at
the public Hadoop images in the hadoop-images bucket and there is no image
for the stable 0.18.3 release. The most recent Hadoop versions I see are
0.18.1 and 0.19.0. Which of those would be better to use? Or should I try
and create my own AMI from one of the existing ones with the stable 0.18.3?

Who owns the AMIs in hadoop-images? If they are owned by the Hadoop project
I'm surprised there isn't one for the stable 0.18.3 or a later 0.19.x.

Thanks,
John

--0015175cf8ce28dbeb0472fd6445--

From common-user-return-17312-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 14:26:57 2009
Return-Path: <common-user-return-17312-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 30127 invoked from network); 7 Sep 2009 14:26:56 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 14:26:56 -0000
Received: (qmail 76317 invoked by uid 500); 7 Sep 2009 14:26:54 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 76239 invoked by uid 500); 7 Sep 2009 14:26:54 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 76229 invoked by uid 99); 7 Sep 2009 14:26:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 14:26:54 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of edlinuxguru@gmail.com designates 209.85.220.225 as permitted sender)
Received: from [209.85.220.225] (HELO mail-fx0-f225.google.com) (209.85.220.225)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 14:26:46 +0000
Received: by fxm25 with SMTP id 25so1760431fxm.29
        for <common-user@hadoop.apache.org>; Mon, 07 Sep 2009 07:26:24 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=PpjcUscLrjsOmuilOf1dkUPsNohwZuMzM7OcEAqKvOM=;
        b=xUIMzYuuNisy1kMQtLpo+wO7NpZs8lrOGJHcxSaIVsid5MPfnFV/jNXKPG0P+dgWNE
         v5a9UcSUjDUhEfVJ8FqzEFD9pNPKC0ZkorZRVvJyYUqCmsj99qcEIbL/RhQVnfcZxxhL
         jj7hiYO7r5iTSYkmWNJIo8uNXXwfwkrTZjIVE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=XwF7T679BrMkpr609NRrWjR5KkeiREKVJCAKVEsUaTUZjnfP5zf8SiFp9Amg34YQoU
         EvlDjyhtRQgdcHZyHi2shO8TpzpGkEtHSv1p5afs55BJdMjw0PxSvcL84meevvqkJGuI
         mFJ5l+nZ4eIKP1r2zUiPloVoNDjn7FPoheTyA=
MIME-Version: 1.0
Received: by 10.239.130.35 with SMTP id 35mr1326275hbh.31.1252333584657; Mon, 
	07 Sep 2009 07:26:24 -0700 (PDT)
In-Reply-To: <17e273100909070218v4659e2dcu8598207843adeed6@mail.gmail.com>
References: <17e273100909070218v4659e2dcu8598207843adeed6@mail.gmail.com>
Date: Mon, 7 Sep 2009 10:26:24 -0400
Message-ID: <cbbf4b570909070726r74e78c7bw4369dafb3ad806b6@mail.gmail.com>
Subject: Re: HDFS and Linux File System
From: Edward Capriolo <edlinuxguru@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

On Mon, Sep 7, 2009 at 5:18 AM, Ted Yu<yuzhihong@gmail.com> wrote:
> We're using hadoop 0.20.0 to analyze large log files from web servers.
> I am looking for better HDFS support so that I don't have to copy log files
> from Linux File System over.
>
> Please comment.
>
> Thanks
>

Also you may want to take a look at scribe or choctaw but have tactics
for pulling web server logs.

From common-user-return-17313-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 14:31:15 2009
Return-Path: <common-user-return-17313-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 31198 invoked from network); 7 Sep 2009 14:31:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 14:31:15 -0000
Received: (qmail 84183 invoked by uid 500); 7 Sep 2009 14:31:12 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 84115 invoked by uid 500); 7 Sep 2009 14:31:12 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 84105 invoked by uid 99); 7 Sep 2009 14:31:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 14:31:12 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of timrobertson100@gmail.com designates 209.85.219.208 as permitted sender)
Received: from [209.85.219.208] (HELO mail-ew0-f208.google.com) (209.85.219.208)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 14:31:01 +0000
Received: by ewy4 with SMTP id 4so908546ewy.36
        for <common-user@hadoop.apache.org>; Mon, 07 Sep 2009 07:30:41 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=ZlJpF5vXgVPKItq0Iq1zQHpZJx1hGJmuwGH2B4JBEl8=;
        b=bv31ZmOX29cbU82eOL/KDJh80T1LSrA3FbJ4PEEwP7t8piN9P2nbRuXMmunvzGfYk1
         9Z5vLQi9aHD1gHwyIhruyKMKByj5+TPXCLcsFUiTk3OWLxL+ydiphxgPItbw3PGtkFXj
         V3+DKy5sLJW7iEuZ0Cq0/Mni6eGHZLT8K4YIk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=qWQQLgl1M6iELgVKseMmNdFaQ9t7x1p1dgReelH6ehvQOD6yh3v0DdPY3Kj9CRnHDh
         N+izKjjb+AHO9yMxGXf43Cy5gBqnCWUHsTf7TLicayGX4BeXiw8ulW3Q+vmzJJGdoyYb
         8zpIj12ql2NnuPjipV73mXQvEGmIF53+uJF9I=
MIME-Version: 1.0
Received: by 10.216.87.9 with SMTP id x9mr1667962wee.0.1252333841259; Mon, 07 
	Sep 2009 07:30:41 -0700 (PDT)
In-Reply-To: <4238036a0909070708v6c34d80fv3ca9ec7892096c58@mail.gmail.com>
References: <4238036a0909070708v6c34d80fv3ca9ec7892096c58@mail.gmail.com>
Date: Mon, 7 Sep 2009 07:30:41 -0700
Message-ID: <32120a6a0909070730o7be79042xf87802360d1800eb@mail.gmail.com>
Subject: Re: Hadoop on EC2 - public AMIs in hadoop-images
From: tim robertson <timrobertson100@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

I can recommend the cloudera EC2 images.  I am not sure what version
they are built on right now, but I think they pick stable ones and
apply critical patches I believe.
http://www.cloudera.com/hadoop-ec2

Cheers,
Tim

On Mon, Sep 7, 2009 at 7:08 AM, John Clarke<clarkemjj@gmail.com> wrote:
> Hi,
>
> I am planning on running my MapReduce app on Amazon's EC2. I had a look at
> the public Hadoop images in the hadoop-images bucket and there is no image
> for the stable 0.18.3 release. The most recent Hadoop versions I see are
> 0.18.1 and 0.19.0. Which of those would be better to use? Or should I try
> and create my own AMI from one of the existing ones with the stable 0.18.3?
>
> Who owns the AMIs in hadoop-images? If they are owned by the Hadoop project
> I'm surprised there isn't one for the stable 0.18.3 or a later 0.19.x.
>
> Thanks,
> John
>

From common-user-return-17314-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 14:36:19 2009
Return-Path: <common-user-return-17314-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 32230 invoked from network); 7 Sep 2009 14:36:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 14:36:19 -0000
Received: (qmail 89617 invoked by uid 500); 7 Sep 2009 14:36:17 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 89528 invoked by uid 500); 7 Sep 2009 14:36:17 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 89518 invoked by uid 99); 7 Sep 2009 14:36:17 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 14:36:17 +0000
X-ASF-Spam-Status: No, hits=3.4 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.210.199] (HELO mail-yx0-f199.google.com) (209.85.210.199)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 14:36:07 +0000
Received: by yxe37 with SMTP id 37so5196450yxe.5
        for <common-user@hadoop.apache.org>; Mon, 07 Sep 2009 07:35:46 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.91.20.12 with SMTP id x12mr4105073agi.19.1252334145119; Mon, 
	07 Sep 2009 07:35:45 -0700 (PDT)
In-Reply-To: <32120a6a0909070730o7be79042xf87802360d1800eb@mail.gmail.com>
References: <4238036a0909070708v6c34d80fv3ca9ec7892096c58@mail.gmail.com> 
	<32120a6a0909070730o7be79042xf87802360d1800eb@mail.gmail.com>
From: Todd Lipcon <todd@cloudera.com>
Date: Mon, 7 Sep 2009 07:35:25 -0700
Message-ID: <45f85f70909070735l31d7195scf9f349536978afe@mail.gmail.com>
Subject: Re: Hadoop on EC2 - public AMIs in hadoop-images
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0016e640cfcadc250a0472fdc3cd
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e640cfcadc250a0472fdc3cd
Content-Type: text/plain; charset=ISO-8859-1

Hi,

The EC2 scripts will boot Cloudera's distribution for Hadoop. Currently they
boot our distribution of 0.18.3, but 0.20 support should be ready pretty
soon now. Here's a list of what patches are in our newest 0.18.3
distribution:

http://archive.cloudera.com/cdh/testing/hadoop-0.18.3+70.CHANGES.txt

-Todd

On Mon, Sep 7, 2009 at 7:30 AM, tim robertson <timrobertson100@gmail.com>wrote:

> I can recommend the cloudera EC2 images.  I am not sure what version
> they are built on right now, but I think they pick stable ones and
> apply critical patches I believe.
> http://www.cloudera.com/hadoop-ec2
>
> Cheers,
> Tim
>
> On Mon, Sep 7, 2009 at 7:08 AM, John Clarke<clarkemjj@gmail.com> wrote:
> > Hi,
> >
> > I am planning on running my MapReduce app on Amazon's EC2. I had a look
> at
> > the public Hadoop images in the hadoop-images bucket and there is no
> image
> > for the stable 0.18.3 release. The most recent Hadoop versions I see are
> > 0.18.1 and 0.19.0. Which of those would be better to use? Or should I try
> > and create my own AMI from one of the existing ones with the stable
> 0.18.3?
> >
> > Who owns the AMIs in hadoop-images? If they are owned by the Hadoop
> project
> > I'm surprised there isn't one for the stable 0.18.3 or a later 0.19.x.
> >
> > Thanks,
> > John
> >
>

--0016e640cfcadc250a0472fdc3cd--

From common-user-return-17315-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 15:14:58 2009
Return-Path: <common-user-return-17315-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 41579 invoked from network); 7 Sep 2009 15:14:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 15:14:58 -0000
Received: (qmail 38203 invoked by uid 500); 7 Sep 2009 15:14:56 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 38134 invoked by uid 500); 7 Sep 2009 15:14:56 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 38124 invoked by uid 99); 7 Sep 2009 15:14:56 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 15:14:56 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of clarkemjj@gmail.com designates 209.85.218.210 as permitted sender)
Received: from [209.85.218.210] (HELO mail-bw0-f210.google.com) (209.85.218.210)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 15:14:45 +0000
Received: by bwz6 with SMTP id 6so2109192bwz.36
        for <common-user@hadoop.apache.org>; Mon, 07 Sep 2009 08:14:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=liHdGuv7LXW8yudxGJ9LfRTzzbkmA+02XE6Gf8d6Ts0=;
        b=SDRQuuNcNmtSIvmkL3cOPB+cISjhZmFwL1hn5JA1OOcNCvCzCMIOgPlyprOebpjX/E
         c1nSNbeA0a+3flpt0K8ZQo3ZR4m9cDlagYvwn24tkqOq6PxwemX9gGxUssqPwkDBFf2T
         IqanQaxFjEc4S6YT1QuXEsJfTnECXth8qIroE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=TfFHUVFJJFI9sBONI4TPtAbuGxMrMBLjJSuK3w62WFuRd0c+LBNQ/bk9EL50NOJxZS
         rV5vPzdPFQo+TlgmgwVBjARZ0VAXh8IkiwBuImx4GJ+q6w7XVG7TlA7EUtp2atiz3cIx
         NVJEsn3e042L//dTGDkQLO/Vd9vfS6n4UQiok=
MIME-Version: 1.0
Received: by 10.204.3.10 with SMTP id 10mr12113025bkl.196.1252336464967; Mon, 
	07 Sep 2009 08:14:24 -0700 (PDT)
In-Reply-To: <45f85f70909070735l31d7195scf9f349536978afe@mail.gmail.com>
References: <4238036a0909070708v6c34d80fv3ca9ec7892096c58@mail.gmail.com>
	 <32120a6a0909070730o7be79042xf87802360d1800eb@mail.gmail.com>
	 <45f85f70909070735l31d7195scf9f349536978afe@mail.gmail.com>
Date: Mon, 7 Sep 2009 16:14:24 +0100
Message-ID: <4238036a0909070814t74551462o7ed37f756dd0939a@mail.gmail.com>
Subject: Re: Hadoop on EC2 - public AMIs in hadoop-images
From: John Clarke <clarkemjj@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0015174c427a2237680472fe4e75
X-Virus-Checked: Checked by ClamAV on apache.org

--0015174c427a2237680472fe4e75
Content-Type: text/plain; charset=ISO-8859-1

Thanks for the replies, I've been developing against 0.18.3 under Windows XP
and testing on Ubuntu.

That seems like a long list of changes from 0.18.3! Should I expect any
specific issues if I try Cloudera's version on EC2 seeing as I have only
tested against the stock 0.18.3?

Cheers,
John





2009/9/7 Todd Lipcon <todd@cloudera.com>

> Hi,
>
> The EC2 scripts will boot Cloudera's distribution for Hadoop. Currently
> they
> boot our distribution of 0.18.3, but 0.20 support should be ready pretty
> soon now. Here's a list of what patches are in our newest 0.18.3
> distribution:
>
> http://archive.cloudera.com/cdh/testing/hadoop-0.18.3+70.CHANGES.txt
>
> -Todd
>
> On Mon, Sep 7, 2009 at 7:30 AM, tim robertson <timrobertson100@gmail.com
> >wrote:
>
> > I can recommend the cloudera EC2 images.  I am not sure what version
> > they are built on right now, but I think they pick stable ones and
> > apply critical patches I believe.
> > http://www.cloudera.com/hadoop-ec2
> >
> > Cheers,
> > Tim
> >
> > On Mon, Sep 7, 2009 at 7:08 AM, John Clarke<clarkemjj@gmail.com> wrote:
> > > Hi,
> > >
> > > I am planning on running my MapReduce app on Amazon's EC2. I had a look
> > at
> > > the public Hadoop images in the hadoop-images bucket and there is no
> > image
> > > for the stable 0.18.3 release. The most recent Hadoop versions I see
> are
> > > 0.18.1 and 0.19.0. Which of those would be better to use? Or should I
> try
> > > and create my own AMI from one of the existing ones with the stable
> > 0.18.3?
> > >
> > > Who owns the AMIs in hadoop-images? If they are owned by the Hadoop
> > project
> > > I'm surprised there isn't one for the stable 0.18.3 or a later 0.19.x.
> > >
> > > Thanks,
> > > John
> > >
> >
>

--0015174c427a2237680472fe4e75--

From common-user-return-17316-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 15:43:34 2009
Return-Path: <common-user-return-17316-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 49163 invoked from network); 7 Sep 2009 15:43:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 15:43:34 -0000
Received: (qmail 73703 invoked by uid 500); 7 Sep 2009 15:43:31 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 73637 invoked by uid 500); 7 Sep 2009 15:43:31 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 73627 invoked by uid 99); 7 Sep 2009 15:43:31 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 15:43:31 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of enis.soz@gmail.com designates 209.85.220.225 as permitted sender)
Received: from [209.85.220.225] (HELO mail-fx0-f225.google.com) (209.85.220.225)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 15:43:20 +0000
Received: by fxm25 with SMTP id 25so1806143fxm.29
        for <common-user@hadoop.apache.org>; Mon, 07 Sep 2009 08:43:00 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:message-id:date:from
         :user-agent:mime-version:to:subject:references:in-reply-to
         :content-type:content-transfer-encoding;
        bh=oF4b/IJTGa0iiL+fZDB3kBBSx/rnmFtHXB35QsDlssQ=;
        b=u8mYSp0TEW8LOv02r4WVt3fmaB+cuecKvj4hyGv4DOfhYN9lbOfaxpBs1m/YLr8HPe
         RWqSxrHjH03YJEPwl1VG3Rz3PYzSeuJ3+toRDP+JylG+oESFMTb4prgEU2yDxSXe7URE
         H/1r9/+61svxhE2cfB+BRhLfkNL6jrjtRaSGQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type:content-transfer-encoding;
        b=VlG7PvhxWyOWvORFwZR5Mj/9WsrtTBicWuomiaCPdbpJZleEy3LmXokjWTg8SQSHZQ
         lyIEkEiUWC6R33e7g57C42r+ufiCDMUjIVdLQcpiN/XaLNsaH9JcNMJ/MAy/aoii5+gE
         /Y+aSQVymIW47OVomTLOpnReIoRyJ1htf0gWU=
Received: by 10.103.76.34 with SMTP id d34mr6176634mul.31.1252337710092;
        Mon, 07 Sep 2009 08:35:10 -0700 (PDT)
Received: from ?192.168.2.12? ([85.105.135.220])
        by mx.google.com with ESMTPS id 23sm58474mum.49.2009.09.07.08.35.08
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Mon, 07 Sep 2009 08:35:09 -0700 (PDT)
Message-ID: <4AA52829.3010101@gmail.com>
Date: Mon, 07 Sep 2009 18:35:05 +0300
From: Enis Soztutar <enis.soz@gmail.com>
User-Agent: Thunderbird 2.0.0.23 (X11/20090817)
MIME-Version: 1.0
To: common-user@hadoop.apache.org
Subject: Re: Stop mapper in middle
References: <SNT124-W11F811BE876064B22E9872BCEB0@phx.gbl>
In-Reply-To: <SNT124-W11F811BE876064B22E9872BCEB0@phx.gbl>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

Currently there is no way to signal a message to the map/reducer tasks. 
The issue was closed as won't fix.

What you can do for now, is for example periodically check for a 
existence of a file in HDFS and if the file is present, just return from 
all map tasks.



Wasim Bari wrote:
>  
>
> Hi,
>
>    Is there some way to return control from MAP funtion and complete the job.
>
>  
>
> I am searching a file and when i get my required data i want mappers to stop rather than seraching the remaning part.
>
>  
>
> Thanks. 
>
>  
>
> Wasim 
>
>   


From common-user-return-17317-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 16:04:48 2009
Return-Path: <common-user-return-17317-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 54074 invoked from network); 7 Sep 2009 16:04:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 16:04:48 -0000
Received: (qmail 96279 invoked by uid 500); 7 Sep 2009 16:04:46 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 96194 invoked by uid 500); 7 Sep 2009 16:04:45 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 96184 invoked by uid 99); 7 Sep 2009 16:04:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 16:04:45 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [209.85.211.189] (HELO mail-yw0-f189.google.com) (209.85.211.189)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 16:04:36 +0000
Received: by ywh27 with SMTP id 27so4062843ywh.2
        for <common-user@hadoop.apache.org>; Mon, 07 Sep 2009 09:04:15 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.90.125.3 with SMTP id x3mr11360110agc.23.1252339455118; Mon, 
	07 Sep 2009 09:04:15 -0700 (PDT)
In-Reply-To: <4238036a0909070814t74551462o7ed37f756dd0939a@mail.gmail.com>
References: <4238036a0909070708v6c34d80fv3ca9ec7892096c58@mail.gmail.com> 
	<32120a6a0909070730o7be79042xf87802360d1800eb@mail.gmail.com> 
	<45f85f70909070735l31d7195scf9f349536978afe@mail.gmail.com> 
	<4238036a0909070814t74551462o7ed37f756dd0939a@mail.gmail.com>
From: Todd Lipcon <todd@cloudera.com>
Date: Mon, 7 Sep 2009 09:03:55 -0700
Message-ID: <45f85f70909070903l7d9eaf1bw816ac0ef53f03dd4@mail.gmail.com>
Subject: Re: Hadoop on EC2 - public AMIs in hadoop-images
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=00163630fee55c4fb70472ff0094
X-Virus-Checked: Checked by ClamAV on apache.org

--00163630fee55c4fb70472ff0094
Content-Type: text/plain; charset=ISO-8859-1

On Mon, Sep 7, 2009 at 8:14 AM, John Clarke <clarkemjj@gmail.com> wrote:

> Thanks for the replies, I've been developing against 0.18.3 under Windows
> XP
> and testing on Ubuntu.
>
> That seems like a long list of changes from 0.18.3! Should I expect any
> specific issues if I try Cloudera's version on EC2 seeing as I have only
> tested against the stock 0.18.3?
>
>
Everything should work fine if you've tested on Apache 0.18.3 - we guarantee
API compatibility between our distribution and Apache's release. Sometimes
we may add APIs, but nothing should be removed or altered. In our current
"testing" level release (CDH2) we're now also running jdiff between the
stock Apache release and our own so as to verify the above guarantee.

-Todd

>
>
>
>
> 2009/9/7 Todd Lipcon <todd@cloudera.com>
>
> > Hi,
> >
> > The EC2 scripts will boot Cloudera's distribution for Hadoop. Currently
> > they
> > boot our distribution of 0.18.3, but 0.20 support should be ready pretty
> > soon now. Here's a list of what patches are in our newest 0.18.3
> > distribution:
> >
> > http://archive.cloudera.com/cdh/testing/hadoop-0.18.3+70.CHANGES.txt
> >
> > -Todd
> >
> > On Mon, Sep 7, 2009 at 7:30 AM, tim robertson <timrobertson100@gmail.com
> > >wrote:
> >
> > > I can recommend the cloudera EC2 images.  I am not sure what version
> > > they are built on right now, but I think they pick stable ones and
> > > apply critical patches I believe.
> > > http://www.cloudera.com/hadoop-ec2
> > >
> > > Cheers,
> > > Tim
> > >
> > > On Mon, Sep 7, 2009 at 7:08 AM, John Clarke<clarkemjj@gmail.com>
> wrote:
> > > > Hi,
> > > >
> > > > I am planning on running my MapReduce app on Amazon's EC2. I had a
> look
> > > at
> > > > the public Hadoop images in the hadoop-images bucket and there is no
> > > image
> > > > for the stable 0.18.3 release. The most recent Hadoop versions I see
> > are
> > > > 0.18.1 and 0.19.0. Which of those would be better to use? Or should I
> > try
> > > > and create my own AMI from one of the existing ones with the stable
> > > 0.18.3?
> > > >
> > > > Who owns the AMIs in hadoop-images? If they are owned by the Hadoop
> > > project
> > > > I'm surprised there isn't one for the stable 0.18.3 or a later
> 0.19.x.
> > > >
> > > > Thanks,
> > > > John
> > > >
> > >
> >
>

--00163630fee55c4fb70472ff0094--

From common-user-return-17318-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 16:17:25 2009
Return-Path: <common-user-return-17318-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 57703 invoked from network); 7 Sep 2009 16:17:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 16:17:25 -0000
Received: (qmail 17841 invoked by uid 500); 7 Sep 2009 16:17:22 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 17744 invoked by uid 500); 7 Sep 2009 16:17:22 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 17734 invoked by uid 99); 7 Sep 2009 16:17:22 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 16:17:22 +0000
X-ASF-Spam-Status: No, hits=3.4 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.211.189] (HELO mail-yw0-f189.google.com) (209.85.211.189)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 16:17:11 +0000
Received: by ywh27 with SMTP id 27so4073292ywh.2
        for <common-user@hadoop.apache.org>; Mon, 07 Sep 2009 09:16:48 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.91.19.15 with SMTP id w15mr2012772agi.12.1252340208615; Mon, 
	07 Sep 2009 09:16:48 -0700 (PDT)
In-Reply-To: <B06C787F-7D58-42B1-90E0-6E8B7F92E082@gmail.com>
References: <B06C787F-7D58-42B1-90E0-6E8B7F92E082@gmail.com>
From: Todd Lipcon <todd@cloudera.com>
Date: Mon, 7 Sep 2009 09:16:24 -0700
Message-ID: <45f85f70909070916y5cc1beei665993d066bbeba9@mail.gmail.com>
Subject: Re: Textoutputformat not outputting all keys in Hadoop 0.20?
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=001485f94df045c0c90472ff2df0
X-Virus-Checked: Checked by ClamAV on apache.org

--001485f94df045c0c90472ff2df0
Content-Type: text/plain; charset=ISO-8859-1

Hi Saptarshi,

Are you able to reproduce this on the 0.20.1rc1 uploaded last week?

http://people.apache.org/~omalley/hadoop-0.20.1-rc1/

If so, it would be worth putting together a test case. If you can reproduce
this in a JUnit test (even if it only happens once every few runs) you
should definitely open a JIRA.

Thanks,
-Todd

On Sat, Sep 5, 2009 at 12:22 PM, Saptarshi Guha <saptarshi.guha@gmail.com>wrote:

> Hello,
> I'm using the the textoutputformat in mapreduce/lib/output with Hadoop 0.20
> and it appears it is not writing all the keys to the output file even though
> the
> the write method in the RecordWriter is recieving them. Let me explain
>
> 1) I copied TextOutputFormat  save for some debugging print messages
>
>    public synchronized void write(K key, V value)
>      throws IOException {
>
>      boolean nullKey = key == null || key instanceof NullWritable;
>      boolean nullValue = value == null || value instanceof NullWritable;
>      if (nullKey && nullValue) {
>        return;
>      }
>      if (!nullKey) {
>        writeObject(key);
>      }
>      if (!(nullKey || nullValue)) {
>        out.write(keyValueSeparator);
>      }
>      if (!nullValue) {
>        writeObject(value);
>      }
>      out.write(newline);
>
>            System.out.println("Key="+key.toString());
>            System.out.println("Value="+value.toString());
>    }
>
> I expect 52 keys corresponding to the upper/lower case keys of the
> alphabet.  I get < 52 keys in the output folder, sometimes 44, some times,
> and once even 52.
> /However/, the write method above does recieve the missing K,V value as
> evidenced by the log file messages, i.e i see Key=(missing key) and
> Value=(missing-value)
> Hence for some reason, a) it is not writing,b) writing but not
> flushing/commiting or c) the temporary outputs are getting deleted.
> Also if a given reducer has received  e.g 5 keys, i see messages for 5
> keys, of which a few (but not all) are missing.
>
> SequenceFileOutputFormat does not have the same issues(all 52 present)
>
> Any ideas?My bug?
> Kind Regards
> Saptarshi
>
> Version: 0.20.0, r763504
> Compiled: Thu Apr 9 05:18:40 UTC 2009 by ndaley
> Identifier: 200908281653
>
>
>
> Saptarshi Guha | saptarshi.guha@gmail.com |
> http://www.stat.purdue.edu/~sguha <http://www.stat.purdue.edu/%7Esguha>
> Kindness is a language which the deaf can hear and the blind can read.
>                -- Mark Twain
>
>

--001485f94df045c0c90472ff2df0--

From common-user-return-17319-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 16:26:24 2009
Return-Path: <common-user-return-17319-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 58720 invoked from network); 7 Sep 2009 16:26:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 16:26:23 -0000
Received: (qmail 23290 invoked by uid 500); 7 Sep 2009 16:26:21 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 23197 invoked by uid 500); 7 Sep 2009 16:26:21 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 23187 invoked by uid 99); 7 Sep 2009 16:26:21 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 16:26:21 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of clarkemjj@gmail.com designates 209.85.218.214 as permitted sender)
Received: from [209.85.218.214] (HELO mail-bw0-f214.google.com) (209.85.218.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 16:26:11 +0000
Received: by bwz10 with SMTP id 10so1130862bwz.29
        for <common-user@hadoop.apache.org>; Mon, 07 Sep 2009 09:25:50 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=gVKN0SnOymBe1D8EQbQhaBFIMGL9+913i6PWiJo6IwI=;
        b=nmlrg6V8b7i4FfoQLanATG8YJ5m64P681QQqAeBoY5WQbBMlVWiAIUFSNzNWoGtjNd
         6lIwdb+DRNtfaa4bcR1t8Dzg1AsZYsxWVCb3H/4i1bgcfp9YxzC/492HNbI81SfRvduU
         uw4lp3B19bIY9gA0dgH6ZhTYXC8pE+6MI6EWY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=P5K3iThQXbnzPgAVA/Oimp2W2N+qj6Tr1GZvH5LK/XdHpyZdSwOUr80j0GxhUxKvYT
         HPBQAUjYd2r8Edmy6/wKUoA1/rRIUbI0TaG65SD9ck0SHbXbSf5VL/mM8VPsp7llyYuE
         cFgnp36EzC4JoFHZwqnUTxoFZmR/LHXN/cQbg=
MIME-Version: 1.0
Received: by 10.204.13.204 with SMTP id d12mr12076216bka.61.1252340749998; 
	Mon, 07 Sep 2009 09:25:49 -0700 (PDT)
In-Reply-To: <45f85f70909070903l7d9eaf1bw816ac0ef53f03dd4@mail.gmail.com>
References: <4238036a0909070708v6c34d80fv3ca9ec7892096c58@mail.gmail.com>
	 <32120a6a0909070730o7be79042xf87802360d1800eb@mail.gmail.com>
	 <45f85f70909070735l31d7195scf9f349536978afe@mail.gmail.com>
	 <4238036a0909070814t74551462o7ed37f756dd0939a@mail.gmail.com>
	 <45f85f70909070903l7d9eaf1bw816ac0ef53f03dd4@mail.gmail.com>
Date: Mon, 7 Sep 2009 17:25:49 +0100
Message-ID: <4238036a0909070925h3bf18be3i31c3b4f9e7ae4635@mail.gmail.com>
Subject: Re: Hadoop on EC2 - public AMIs in hadoop-images
From: John Clarke <clarkemjj@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0003255596868a9c280472ff4dc8
X-Virus-Checked: Checked by ClamAV on apache.org

--0003255596868a9c280472ff4dc8
Content-Type: text/plain; charset=ISO-8859-1

Thanks Todd, when you said "The EC2 scripts will boot Cloudera's
distribution for Hadoop." were you referring to the EC2 scripts that come
with Hadoop or Cloudera's python scripts?

Are there advantages to using Cloudera's scripts over the stock ones for a
fairly standard job - i.e. up to 20 nodes and using S3 for input and output.

Thanks again,
John



2009/9/7 Todd Lipcon <todd@cloudera.com>

> On Mon, Sep 7, 2009 at 8:14 AM, John Clarke <clarkemjj@gmail.com> wrote:
>
> > Thanks for the replies, I've been developing against 0.18.3 under Windows
> > XP
> > and testing on Ubuntu.
> >
> > That seems like a long list of changes from 0.18.3! Should I expect any
> > specific issues if I try Cloudera's version on EC2 seeing as I have only
> > tested against the stock 0.18.3?
> >
> >
> Everything should work fine if you've tested on Apache 0.18.3 - we
> guarantee
> API compatibility between our distribution and Apache's release. Sometimes
> we may add APIs, but nothing should be removed or altered. In our current
> "testing" level release (CDH2) we're now also running jdiff between the
> stock Apache release and our own so as to verify the above guarantee.
>
> -Todd
>
> >
> >
> >
> >
> > 2009/9/7 Todd Lipcon <todd@cloudera.com>
> >
> > > Hi,
> > >
> > > The EC2 scripts will boot Cloudera's distribution for Hadoop. Currently
> > > they
> > > boot our distribution of 0.18.3, but 0.20 support should be ready
> pretty
> > > soon now. Here's a list of what patches are in our newest 0.18.3
> > > distribution:
> > >
> > > http://archive.cloudera.com/cdh/testing/hadoop-0.18.3+70.CHANGES.txt
> > >
> > > -Todd
> > >
> > > On Mon, Sep 7, 2009 at 7:30 AM, tim robertson <
> timrobertson100@gmail.com
> > > >wrote:
> > >
> > > > I can recommend the cloudera EC2 images.  I am not sure what version
> > > > they are built on right now, but I think they pick stable ones and
> > > > apply critical patches I believe.
> > > > http://www.cloudera.com/hadoop-ec2
> > > >
> > > > Cheers,
> > > > Tim
> > > >
> > > > On Mon, Sep 7, 2009 at 7:08 AM, John Clarke<clarkemjj@gmail.com>
> > wrote:
> > > > > Hi,
> > > > >
> > > > > I am planning on running my MapReduce app on Amazon's EC2. I had a
> > look
> > > > at
> > > > > the public Hadoop images in the hadoop-images bucket and there is
> no
> > > > image
> > > > > for the stable 0.18.3 release. The most recent Hadoop versions I
> see
> > > are
> > > > > 0.18.1 and 0.19.0. Which of those would be better to use? Or should
> I
> > > try
> > > > > and create my own AMI from one of the existing ones with the stable
> > > > 0.18.3?
> > > > >
> > > > > Who owns the AMIs in hadoop-images? If they are owned by the Hadoop
> > > > project
> > > > > I'm surprised there isn't one for the stable 0.18.3 or a later
> > 0.19.x.
> > > > >
> > > > > Thanks,
> > > > > John
> > > > >
> > > >
> > >
> >
>

--0003255596868a9c280472ff4dc8--

From common-user-return-17320-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 16:41:35 2009
Return-Path: <common-user-return-17320-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 61188 invoked from network); 7 Sep 2009 16:41:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 16:41:35 -0000
Received: (qmail 38934 invoked by uid 500); 7 Sep 2009 16:41:32 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 38849 invoked by uid 500); 7 Sep 2009 16:41:32 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 38838 invoked by uid 99); 7 Sep 2009 16:41:32 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 16:41:32 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [209.85.211.189] (HELO mail-yw0-f189.google.com) (209.85.211.189)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 16:41:22 +0000
Received: by ywh27 with SMTP id 27so4093050ywh.2
        for <common-user@hadoop.apache.org>; Mon, 07 Sep 2009 09:41:01 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.90.13.15 with SMTP id 15mr6538552agm.74.1252341660113; Mon, 07 
	Sep 2009 09:41:00 -0700 (PDT)
In-Reply-To: <4238036a0909070925h3bf18be3i31c3b4f9e7ae4635@mail.gmail.com>
References: <4238036a0909070708v6c34d80fv3ca9ec7892096c58@mail.gmail.com> 
	<32120a6a0909070730o7be79042xf87802360d1800eb@mail.gmail.com> 
	<45f85f70909070735l31d7195scf9f349536978afe@mail.gmail.com> 
	<4238036a0909070814t74551462o7ed37f756dd0939a@mail.gmail.com> 
	<45f85f70909070903l7d9eaf1bw816ac0ef53f03dd4@mail.gmail.com> 
	<4238036a0909070925h3bf18be3i31c3b4f9e7ae4635@mail.gmail.com>
From: Todd Lipcon <todd@cloudera.com>
Date: Mon, 7 Sep 2009 09:40:40 -0700
Message-ID: <45f85f70909070940w700e22e4n2c4a452f638bf2b3@mail.gmail.com>
Subject: Re: Hadoop on EC2 - public AMIs in hadoop-images
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0016361e7d12c9dc940472ff8380
X-Virus-Checked: Checked by ClamAV on apache.org

--0016361e7d12c9dc940472ff8380
Content-Type: text/plain; charset=ISO-8859-1

On Mon, Sep 7, 2009 at 9:25 AM, John Clarke <clarkemjj@gmail.com> wrote:

> Thanks Todd, when you said "The EC2 scripts will boot Cloudera's
> distribution for Hadoop." were you referring to the EC2 scripts that come
> with Hadoop or Cloudera's python scripts?
>
>
Sorry that wasn't clear -- the Cloudera scripts are very similar to those in
the Apache distribution, but are updated more often since they're on a
separate release schedule. We try to contribute the changes back where
possible.


> Are there advantages to using Cloudera's scripts over the stock ones for a
> fairly standard job - i.e. up to 20 nodes and using S3 for input and
> output.
>
>
You'll take advantage of patches in our distribution that aren't in the
stock release. We include a number of patches (many written by the Amazon
guys) that are specific to the AWS/S3 environment. These are all currently
in trunk, but some will not be in an Apache release until 0.21. There's a
partial list of these patches about 2/3 down this page:
http://www.cloudera.com/hadoop-manifest

If you have more questions specific to our distribution, the best forum is
http://getsatisfaction.com/cloudera/products/cloudera_cloudera_s_distribution_for_hadoop

-Todd



2009/9/7 Todd Lipcon <todd@cloudera.com>

> On Mon, Sep 7, 2009 at 8:14 AM, John Clarke <clarkemjj@gmail.com> wrote:
>
> > Thanks for the replies, I've been developing against 0.18.3 under
Windows
> > XP
> > and testing on Ubuntu.
> >
> > That seems like a long list of changes from 0.18.3! Should I expect any
> > specific issues if I try Cloudera's version on EC2 seeing as I have only
> > tested against the stock 0.18.3?
> >
> >
> Everything should work fine if you've tested on Apache 0.18.3 - we
> guarantee
> API compatibility between our distribution and Apache's release. Sometimes
> we may add APIs, but nothing should be removed or altered. In our current
> "testing" level release (CDH2) we're now also running jdiff between the
> stock Apache release and our own so as to verify the above guarantee.
>
> -Todd
>
> >
> >
> >
> >
> > 2009/9/7 Todd Lipcon <todd@cloudera.com>
> >
> > > Hi,
> > >
> > > The EC2 scripts will boot Cloudera's distribution for Hadoop.
Currently
> > > they
> > > boot our distribution of 0.18.3, but 0.20 support should be ready
> pretty
> > > soon now. Here's a list of what patches are in our newest 0.18.3
> > > distribution:
> > >
> > > http://archive.cloudera.com/cdh/testing/hadoop-0.18.3+70.CHANGES.txt
> > >
> > > -Todd
> > >
> > > On Mon, Sep 7, 2009 at 7:30 AM, tim robertson <
> timrobertson100@gmail.com
> > > >wrote:
> > >
> > > > I can recommend the cloudera EC2 images.  I am not sure what version
> > > > they are built on right now, but I think they pick stable ones and
> > > > apply critical patches I believe.
> > > > http://www.cloudera.com/hadoop-ec2
> > > >
> > > > Cheers,
> > > > Tim
> > > >
> > > > On Mon, Sep 7, 2009 at 7:08 AM, John Clarke<clarkemjj@gmail.com>
> > wrote:
> > > > > Hi,
> > > > >
> > > > > I am planning on running my MapReduce app on Amazon's EC2. I had a
> > look
> > > > at
> > > > > the public Hadoop images in the hadoop-images bucket and there is
> no
> > > > image
> > > > > for the stable 0.18.3 release. The most recent Hadoop versions I
> see
> > > are
> > > > > 0.18.1 and 0.19.0. Which of those would be better to use? Or
should
> I
> > > try
> > > > > and create my own AMI from one of the existing ones with the
stable
> > > > 0.18.3?
> > > > >
> > > > > Who owns the AMIs in hadoop-images? If they are owned by the
Hadoop
> > > > project
> > > > > I'm surprised there isn't one for the stable 0.18.3 or a later
> > 0.19.x.
> > > > >
> > > > > Thanks,
> > > > > John
> > > > >
> > > >
> > >
> >
>

--0016361e7d12c9dc940472ff8380--

From common-user-return-17321-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 16:43:45 2009
Return-Path: <common-user-return-17321-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 61448 invoked from network); 7 Sep 2009 16:43:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 16:43:45 -0000
Received: (qmail 42654 invoked by uid 500); 7 Sep 2009 16:43:43 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 42579 invoked by uid 500); 7 Sep 2009 16:43:42 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 42569 invoked by uid 99); 7 Sep 2009 16:43:42 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 16:43:42 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ted.dunning@gmail.com designates 209.85.210.199 as permitted sender)
Received: from [209.85.210.199] (HELO mail-yx0-f199.google.com) (209.85.210.199)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 16:43:33 +0000
Received: by yxe37 with SMTP id 37so60963yxe.5
        for <common-user@hadoop.apache.org>; Mon, 07 Sep 2009 09:43:12 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=gDNKnODMMdBck3rR0DlBaiE1pVbm9XoUZc0SpUY9Ez4=;
        b=fwmx9js8oGyWnvNf6FzyRW6xugDeixWuTZvNiRZhq5GvQPz3G0/kXawnnOC0fCVafe
         DoPI1v9f7oJoN9LD9wv1qQxxc2rbi7TH8ZBWg6R7+UolI01fc7Mk9IXcwwGqcGPZUf8B
         Tk60Gwi9BjF1KJKivNubvZgMPzoU2k4qvi6WU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=RXxJ4Bd/D7KwqNjy12hDjF3pfXGfk6MK4gUCS82IhhZOMGeBuafxbojyUabOtXPpIn
         vxTqDg8/MKwcKQ31gSo11DC3S1Q/N1abejYA+WqE7JMEu9/oJCqWMkfI8dyT2C8AOCgW
         89Yk/JdT7JVJejXlFMThx4cfqlhFE7z0j4FfU=
MIME-Version: 1.0
Received: by 10.150.238.4 with SMTP id l4mr24274235ybh.177.1252341792450; Mon, 
	07 Sep 2009 09:43:12 -0700 (PDT)
In-Reply-To: <17e273100909070218v4659e2dcu8598207843adeed6@mail.gmail.com>
References: <17e273100909070218v4659e2dcu8598207843adeed6@mail.gmail.com>
From: Ted Dunning <ted.dunning@gmail.com>
Date: Mon, 7 Sep 2009 09:42:52 -0700
Message-ID: <c7d45fc70909070942n49eceed1y3256c546bb9d24c5@mail.gmail.com>
Subject: Re: HDFS and Linux File System
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=000e0cd2d8f6ad35ab0472ff8b03
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd2d8f6ad35ab0472ff8b03
Content-Type: text/plain; charset=UTF-8

Since hadoop still doesn't have append and small files kill performance, it
is difficult to avoid local disk or memory buffering.

On Mon, Sep 7, 2009 at 2:18 AM, Ted Yu <yuzhihong@gmail.com> wrote:

> We're using hadoop 0.20.0 to analyze large log files from web servers.
> I am looking for better HDFS support so that I don't have to copy log files
> from Linux File System over.
>
> Please comment.
>
> Thanks
>



-- 
Ted Dunning, CTO
DeepDyve

--000e0cd2d8f6ad35ab0472ff8b03--

From common-user-return-17322-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 19:09:15 2009
Return-Path: <common-user-return-17322-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 4956 invoked from network); 7 Sep 2009 19:09:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 19:09:15 -0000
Received: (qmail 48874 invoked by uid 500); 7 Sep 2009 19:09:12 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 48792 invoked by uid 500); 7 Sep 2009 19:09:12 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 48781 invoked by uid 99); 7 Sep 2009 19:09:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 19:09:12 +0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [129.93.181.2] (HELO mathstat.unl.edu) (129.93.181.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 19:09:03 +0000
Received: from [192.168.0.102] (user-0cdvqhn.cable.mindspring.com [24.223.234.55])
	(authenticated bits=0)
	by mathstat.unl.edu (8.13.8/8.13.8) with ESMTP id n87J8dpP005530
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT)
	for <common-user@hadoop.apache.org>; Mon, 7 Sep 2009 14:08:42 -0500
From: Brian Bockelman <bbockelm@cse.unl.edu>
Mime-Version: 1.0 (Apple Message framework v1075.2)
Content-Type: multipart/signed; boundary=Apple-Mail-2--834587751; protocol="application/pkcs7-signature"; micalg=sha1
Subject: Re: HDFS and Linux File System
Date: Mon, 7 Sep 2009 14:08:39 -0500
In-Reply-To: <17e273100909070218v4659e2dcu8598207843adeed6@mail.gmail.com>
To: common-user@hadoop.apache.org
References: <17e273100909070218v4659e2dcu8598207843adeed6@mail.gmail.com>
Message-Id: <2EBE5668-CC80-4151-8577-2A923C4A1AFF@cse.unl.edu>
X-Mailer: Apple Mail (2.1075.2)
X-Virus-Checked: Checked by ClamAV on apache.org

--Apple-Mail-2--834587751
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset=us-ascii;
	format=flowed;
	delsp=yes

Hey Ted,

It's hard to avoid copying files, unless if you are able to change  
your application to talk to HDFS directly (and even then, there are a  
lot of "gotchas" that you wouldn't have to put up with at an  
application level -- look at the Chukwa paper).

I would advise looking at Chukwa, http://wiki.apache.org/hadoop/ 
Chukwa, and then rotating logfiles quickly.

Facebook's Scribe is supposed to do this sort of stuff too (and is  
very impressive), but I'm not familiar with it.  On face value, it  
appears that it might take more effort to get scribe well-integrated,  
but it would have more functionality.

Brian

On Sep 7, 2009, at 4:18 AM, Ted Yu wrote:

> We're using hadoop 0.20.0 to analyze large log files from web servers.
> I am looking for better HDFS support so that I don't have to copy  
> log files
> from Linux File System over.
>
> Please comment.
>
> Thanks


--Apple-Mail-2--834587751
Content-Disposition: attachment;
	filename=smime.p7s
Content-Type: application/pkcs7-signature;
	name=smime.p7s
Content-Transfer-Encoding: base64

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIICjCCA/gw
ggLgoAMCAQICASkwDQYJKoZIhvcNAQEFBQAwdTETMBEGCgmSJomT8ixkARkWA25ldDESMBAGCgmS
JomT8ixkARkWAkVTMQ4wDAYDVQQKEwVFU25ldDEgMB4GA1UECxMXQ2VydGlmaWNhdGUgQXV0aG9y
aXRpZXMxGDAWBgNVBAMTD0VTbmV0IFJvb3QgQ0EgMTAeFw0wMjEyMDUwODAwMDBaFw0xMzAxMjUw
ODAwMDBaMGkxEzARBgoJkiaJk/IsZAEZFgNvcmcxGDAWBgoJkiaJk/IsZAEZFghET0VHcmlkczEg
MB4GA1UECxMXQ2VydGlmaWNhdGUgQXV0aG9yaXRpZXMxFjAUBgNVBAMTDURPRUdyaWRzIENBIDEw
ggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC09dYjYaPbCD5mtbiQb7Ka3y1qAm0ZcqKC
FciWcfe8Kwcuy9tjHuIsLf9ZItdkDW4xy8sua9nJlx3KlwjtumTMtOtg35KZCknUd8KM4VGTSFdL
VG9AbNayef76caVCGM1+jyF0Lq03kauGOPTcNfZe1TZa3e1c9rc8ljV5OSWa/mfsCACyS5zFIWu0
yIDNyJdf+n0hwaPN53wllpJ30taD+JBjQ7h2k4xRWzeaznLOb9OztZVRA/1sVze+iczFh2xwa4Vd
Gy0eIIPw1pfvYwxO36rm0S109qvbsNlaroPRbxerPKakQLpKe034Xcx7gBPqUk/FxoRRWin5EWN3
rz9LAgMBAAGjgZ4wgZswDgYDVR0PAQH/BAQDAgGGMBEGCWCGSAGG+EIBAQQEAwIAhzAdBgNVHQ4E
FgQUyhkdEo5upDhdQtQxDgjb2Y0XDV0wHwYDVR0jBBgwFoAUvF1NSC/4NZRZq1yJSz7RsjoUAeow
DwYDVR0TAQH/BAUwAwEB/zAlBgNVHREEHjAcgRpET0VHcmlkcy1DQS0xQGRvZWdyaWRzLm9yZzAN
BgkqhkiG9w0BAQUFAAOCAQEAZNVrIDLqe39CEOiJt7Q7EpBPhAihMvDTSf/42u0SMbUmChww4mLm
ph5DBghZUVF8Yn59kRZMn1QLOtO1HzLqvAvPITacZVPlJgG2IXzlR636YghZFAycbIUEOJDBHR4v
tQO1KDxgZwvAbtmKIoxvhUCq2xsfFt9kCBBn+JYtQ6O5LsBJq3PmuubeMcc7mbQAfJZ7h/3Qghgk
FIhmE1+LBXPJbkuP8vgfg6h2BKoAf5TFfZECgGZKimfN110tBvfedGZwYYd3/GsJc83B0JN1gny0
gqNVPm392UchXGeBRrHnm2gkhIkr48Oq6EmNGV9/a6XfbplQW/JWbtPVPWkaizCCBAowggLyoAMC
AQICAwCB+zANBgkqhkiG9w0BAQUFADBpMRMwEQYKCZImiZPyLGQBGRYDb3JnMRgwFgYKCZImiZPy
LGQBGRYIRE9FR3JpZHMxIDAeBgNVBAsTF0NlcnRpZmljYXRlIEF1dGhvcml0aWVzMRYwFAYDVQQD
Ew1ET0VHcmlkcyBDQSAxMB4XDTA5MDYwMjE5NDExM1oXDTEwMDYwMjE5NDExM1owYTETMBEGCgmS
JomT8ixkARkWA29yZzEYMBYGCgmSJomT8ixkARkWCGRvZWdyaWRzMQ8wDQYDVQQLEwZQZW9wbGUx
HzAdBgNVBAMTFkJyaWFuIEJvY2tlbG1hbiA1MDQzMDcwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw
ggEKAoIBAQDPWEl7hBiuFRVBSY4SwvG0HpkCZi74a0BeD0tNARgxoQVJ7jhJjR3G4y8ino0/5axt
2EEfIWUE+DVpV37IWOQl8q/wdvicnhbfjByxBbq4sfWPLepU7+Kd8k1FKHRHermARn9VxEkFLrLB
Gp7O5EX4mFHDaQy+Vv0thtA+m4qKoM+DA/8cOkJA5Rn6ZS/v/vtBzJh9HimVnhBx4+rw2cvKN+7r
lKsm7qTn9TCZmrQ97CvBEXSkHS11m8vYF6ZwcTgSCJM0M9nnX5JilupQO1vDICXSUZeWX2xpsqeL
x1PFGWgDaYXxFGtTRt2Qc9EPwf9Dr72xGPbKN8u5HylpOMDnAgMBAAGjgcIwgb8wEQYJYIZIAYb4
QgEBBAQDAgWgMA4GA1UdDwEB/wQEAwIF4DAfBgNVHSMEGDAWgBTKGR0Sjm6kOF1C1DEOCNvZjRcN
XTAYBgNVHSAEETAPMA0GCyqGSIb3TAMHAQMAMD4GA1UdHwQ3MDUwM6AxoC+GLWh0dHA6Ly9jcmwu
ZG9lZ3JpZHMub3JnLzFjM2YyY2E4LzFjM2YyY2E4LmNybDAfBgNVHREEGDAWgRRiYm9ja2VsbUBj
c2UudW5sLmVkdTANBgkqhkiG9w0BAQUFAAOCAQEAp6KjcWnfnH/MGlUkUWstE9gtPeymHp+2r4zI
w8JXigncJh/8qpSZqBcVhD24WFowI95otblrKYNZKW9f2G/hWwDSxZFqHhCDxFO12vDthrzOc3EH
CwypJPvIlZPt/E/x93XruzPxJwPz84DKKuPoJAMeNlADbd+92YtRr2y+VuMpgZaebMAoeCdWH8Cq
Y8xheNMajf8uiImBbatDuCu7qRvhwgxsMNLHEt4h853K1Zc181RlFGXG1+uL/Q/8VeKiASiCu+7L
1zpfLg7OCr6rJHb5S7wU+CeAvzSqmyy0fd2mwPeiX7huK+Cw4UjaB3yGKItzWT+KQJnV//wcSrzZ
dTGCAv0wggL5AgEBMHAwaTETMBEGCgmSJomT8ixkARkWA29yZzEYMBYGCgmSJomT8ixkARkWCERP
RUdyaWRzMSAwHgYDVQQLExdDZXJ0aWZpY2F0ZSBBdXRob3JpdGllczEWMBQGA1UEAxMNRE9FR3Jp
ZHMgQ0EgMQIDAIH7MAkGBSsOAwIaBQCgggFiMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJ
KoZIhvcNAQkFMQ8XDTA5MDkwNzE5MDgzOVowIwYJKoZIhvcNAQkEMRYEFPqzUny5Ge6UkzxS+FsS
eH29X/KIMH8GCSsGAQQBgjcQBDFyMHAwaTETMBEGCgmSJomT8ixkARkWA29yZzEYMBYGCgmSJomT
8ixkARkWCERPRUdyaWRzMSAwHgYDVQQLExdDZXJ0aWZpY2F0ZSBBdXRob3JpdGllczEWMBQGA1UE
AxMNRE9FR3JpZHMgQ0EgMQIDAIH7MIGBBgsqhkiG9w0BCRACCzFyoHAwaTETMBEGCgmSJomT8ixk
ARkWA29yZzEYMBYGCgmSJomT8ixkARkWCERPRUdyaWRzMSAwHgYDVQQLExdDZXJ0aWZpY2F0ZSBB
dXRob3JpdGllczEWMBQGA1UEAxMNRE9FR3JpZHMgQ0EgMQIDAIH7MA0GCSqGSIb3DQEBAQUABIIB
AIE5/a1t2kqCLGGGqUTyHmPWnEyV/PhyK/6vmy2lfnJVzZOTaeZUCPftI+sfKg9p3g+SUM0/idF9
HwEXeq1ts4BghvmakyLuD2lGcFcVHDFyNLuBidvIJnsma+MUn3Zntb4S9Jq0L6ngx5JSMWeSnYWn
T4UzDOfj5wNNAxBb+adKX/o4ZZquzUf+T0d8+mKY1Z1GG6d1OYXGrXdB3Bsk/62yqsFRs31EKE8m
bxzokJGNY1jyJ1badZxgtSOupiHWihd8Hq0Ag8kKnwCr+CF6sTDjPELW++3+W/g6AxQ0v92DNE/G
o0kZtCO5HLeKwwfdRr7dSSYdT0VmuBVh5dxqSGUAAAAAAAA=

--Apple-Mail-2--834587751--

From common-user-return-17323-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 21:43:22 2009
Return-Path: <common-user-return-17323-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 41551 invoked from network); 7 Sep 2009 21:43:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 21:43:22 -0000
Received: (qmail 34344 invoked by uid 500); 7 Sep 2009 21:43:20 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 34266 invoked by uid 500); 7 Sep 2009 21:43:20 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 34256 invoked by uid 99); 7 Sep 2009 21:43:20 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 21:43:20 +0000
X-ASF-Spam-Status: No, hits=2.8 required=10.0
	tests=HTML_FONT_FACE_BAD,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of saptarshi.guha@gmail.com designates 74.125.92.25 as permitted sender)
Received: from [74.125.92.25] (HELO qw-out-2122.google.com) (74.125.92.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 21:43:09 +0000
Received: by qw-out-2122.google.com with SMTP id 8so672893qwh.35
        for <common-user@hadoop.apache.org>; Mon, 07 Sep 2009 14:42:48 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:message-id:from:to
         :content-type:mime-version:subject:date:x-mailer;
        bh=z70F28ZDILWPevibDhPbSHyVWVg/GmA50/hIlJa0dbw=;
        b=uj1pfDvFiBrFB2aYg5QWS6w+FdrW+Po1pDMNWqAffyP8ieN9yyGUpOkbDIWY6kU3sl
         g9vuqUzptHZ3roEzV0ptxlLDYSUjY5rZKfAH4hGdifOLGyAgHuPx2ocxt1mM2Qp9wadR
         bBmvWgc2QdM56Ps1cbxjoxyLGthqQoLGFBJig=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:from:to:content-type:mime-version:subject:date:x-mailer;
        b=o+EiqTLUdooBdsZ5NI4zpHouok9ujLQuHP77zW3pY431Xc1CujN26QQziPaXC7opm0
         2XrmKFVwuJfZDHtmQ8WGfTclVSuzF2ZRkFsVVFD2XI0/jpzioHxDINGFkkqKYAmWz/C1
         OtLECy+//YNtysJEOLT7ZcpyjVba4xafZK2TM=
Received: by 10.224.5.135 with SMTP id 7mr9337381qav.148.1252359768588;
        Mon, 07 Sep 2009 14:42:48 -0700 (PDT)
Received: from ?192.168.1.100? ([98.223.111.222])
        by mx.google.com with ESMTPS id 21sm2654106qyk.12.2009.09.07.14.42.47
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Mon, 07 Sep 2009 14:42:47 -0700 (PDT)
Message-Id: <3CC3C335-3431-4790-B32A-AC211546126B@gmail.com>
From: Saptarshi Guha <saptarshi.guha@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=Apple-Mail-26--825341777
Mime-Version: 1.0 (Apple Message framework v936)
Subject: Outputformat with a header attached
Date: Mon, 7 Sep 2009 17:42:45 -0400
X-Mailer: Apple Mail (2.936)
X-Virus-Checked: Checked by ClamAV on apache.org

--Apple-Mail-26--825341777
Content-Type: text/plain;
	charset=US-ASCII;
	format=flowed;
	delsp=yes
Content-Transfer-Encoding: 7bit

Hello,
Suppose I'd like to subclass TextOutputFormat(Hadoop 0.20) wherein the  
first 12 bytes is an offset. The record writer does its thing
and in the close method I write some information (metadata if you wlll)

Similarl to the close method is there any method in OutputFormat  
subclasses where I can write something /before/ any records are written?
Thank you
Saptarshi



--Apple-Mail-26--825341777--

From common-user-return-17324-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 21:44:39 2009
Return-Path: <common-user-return-17324-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 41738 invoked from network); 7 Sep 2009 21:44:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 21:44:39 -0000
Received: (qmail 36681 invoked by uid 500); 7 Sep 2009 21:44:37 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 36593 invoked by uid 500); 7 Sep 2009 21:44:37 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 36583 invoked by uid 99); 7 Sep 2009 21:44:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 21:44:37 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of yuzhihong@gmail.com designates 209.85.221.171 as permitted sender)
Received: from [209.85.221.171] (HELO mail-qy0-f171.google.com) (209.85.221.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 21:44:28 +0000
Received: by qyk1 with SMTP id 1so1989906qyk.22
        for <common-user@hadoop.apache.org>; Mon, 07 Sep 2009 14:44:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=u5Y/84TuJBTOQ4RcW7yE/UfZrEPqwv7s38LWulOVqa4=;
        b=q+6GuWwOzBhvjnNv1wbzpUaITodJlHYCKZyPvZtx8gYlUZ6jqefaga2pU2tttmLu9z
         wPlNoxWAPN1OprxhZbpoYQV3FZd5DW6s0yQIuoZnTj54RfCqVgLi3kgt7TpIWYliPqwV
         btvOtvlhResxyyP5g9or1Nmbi8snQY/f5BNoM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=l1cz/TQe4hqTNrqxKCTkpJ7dmslD/UuQt37aP9aqFL3gVteLSXyeD5rsOmTjsal+by
         gG38jFEWspTko3RsnMqkWZpnDBGKV0Ecg9CAwsVLS8QIbik5ygKNChNrN7y6V93Pq/In
         7pqVB3S+GbPHSL64klAC5hnZrXpcfXa3Gok0o=
MIME-Version: 1.0
Received: by 10.229.93.4 with SMTP id t4mr3809428qcm.93.1252359847297; Mon, 07 
	Sep 2009 14:44:07 -0700 (PDT)
In-Reply-To: <2EBE5668-CC80-4151-8577-2A923C4A1AFF@cse.unl.edu>
References: <17e273100909070218v4659e2dcu8598207843adeed6@mail.gmail.com>
	 <2EBE5668-CC80-4151-8577-2A923C4A1AFF@cse.unl.edu>
Date: Mon, 7 Sep 2009 14:44:07 -0700
Message-ID: <17e273100909071444h664758e7tb6f5260edacad07a@mail.gmail.com>
Subject: Re: HDFS and Linux File System
From: Ted Yu <yuzhihong@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=000e0cd6b30ad4425e047303bf15
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd6b30ad4425e047303bf15
Content-Type: text/plain; charset=ISO-8859-1

I tried to compile fuse-dfs. libhdfs.so has been compiled.

Under hadoop/src/contrib/fuse-dfs:
ant -Dlibhdfs=1 -Dfusedfs=1

Then I got:
     [exec] make[1]: Entering directory
`/usr/local/hadoop/src/contrib/fuse-dfs/src'
     [exec] if gcc -DPACKAGE_NAME=\"fuse_dfs\"
-DPACKAGE_TARNAME=\"fuse_dfs\" -DPACKAGE_VERSION=\"0.1.0\"
-DPACKAGE_STRING=\"fuse_dfs\ 0.1.0\" -DPACKAGE_BUGREPORT=\"\"
-DGETGROUPS_T=gid_t -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1
-DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE_MEMORY_H=1
-DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1
-DHAVE_GETGROUPS=1 -DGETGROUPS_T=gid_t  -I. -I.  -DPERMS=1
-D_FILE_OFFSET_BITS=64 -I/usr/lib/jvm/java-1.6.0-openjdk-1.6.0.0/include
-I/usr/local/hadoop/src/c++/libhdfs/
-I/usr/lib/jvm/java-1.6.0-openjdk-1.6.0.0/include/linux/
-D_FUSE_DFS_VERSION=\"0.1.0\" -DPROTECTED_PATHS=\"\" -I/include   -Wall -O3
-MT fuse_dfs.o -MD -MP -MF ".deps/fuse_dfs.Tpo" -c -o fuse_dfs.o fuse_dfs.c;
\
     [exec]     then mv -f ".deps/fuse_dfs.Tpo" ".deps/fuse_dfs.Po"; else rm
-f ".deps/fuse_dfs.Tpo"; exit 1; fi
     [exec] In file included from fuse_dfs.c:19:
     [exec] fuse_dfs.h:31:18: error: fuse.h: No such file or directory
     [exec] fuse_dfs.h:32:27: error: fuse/fuse_opt.h: No such file or
directory
     [exec] In file included from fuse_dfs.c:20:

Where can I find fuse_opt.h and fuse.h ?

Thanks

On Mon, Sep 7, 2009 at 12:08 PM, Brian Bockelman <bbockelm@cse.unl.edu>wrote:

> Hey Ted,
>
> It's hard to avoid copying files, unless if you are able to change your
> application to talk to HDFS directly (and even then, there are a lot of
> "gotchas" that you wouldn't have to put up with at an application level --
> look at the Chukwa paper).
>
> I would advise looking at Chukwa, http://wiki.apache.org/hadoop/Chukwa,
> and then rotating logfiles quickly.
>
> Facebook's Scribe is supposed to do this sort of stuff too (and is very
> impressive), but I'm not familiar with it.  On face value, it appears that
> it might take more effort to get scribe well-integrated, but it would have
> more functionality.
>
> Brian
>
>
> On Sep 7, 2009, at 4:18 AM, Ted Yu wrote:
>
>  We're using hadoop 0.20.0 to analyze large log files from web servers.
>> I am looking for better HDFS support so that I don't have to copy log
>> files
>> from Linux File System over.
>>
>> Please comment.
>>
>> Thanks
>>
>
>

--000e0cd6b30ad4425e047303bf15--

From common-user-return-17325-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 22:04:02 2009
Return-Path: <common-user-return-17325-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 45432 invoked from network); 7 Sep 2009 22:04:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 22:04:02 -0000
Received: (qmail 49923 invoked by uid 500); 7 Sep 2009 22:03:59 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 49843 invoked by uid 500); 7 Sep 2009 22:03:59 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 49833 invoked by uid 99); 7 Sep 2009 22:03:59 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 22:03:59 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of yuzhihong@gmail.com designates 209.85.221.171 as permitted sender)
Received: from [209.85.221.171] (HELO mail-qy0-f171.google.com) (209.85.221.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 22:03:52 +0000
Received: by qyk1 with SMTP id 1so1997647qyk.22
        for <common-user@hadoop.apache.org>; Mon, 07 Sep 2009 15:03:31 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=wcZi7R1BM6/ae2vOp7JjVVKRP/1K7r9NN0fHvLWlZVc=;
        b=DnWZMQcLO0mdf45HERh0ryeG7lw6CMhqzSFzpi+rZpLoIJPkqgv5DqlC+cm/znvATV
         yhzWtrvVqIPNUrmYjoI4lE5NQjzGxmx9tdj7n4B47GBkxwkkTTyInkC/8uYBraHXKhHD
         QPWFIkAZsJIGFYEXWLTipU/rhtorZ/qtdMgFc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=rswV12hPSd3+F236Kr831sR5SUah5tBDPmISnKX0PtVbJZi5D7qGFLW0OuuunbNPaw
         RqhVPoOwGczDj7CDEQd/031VGVYmW73PSZIp2HObzr3MzGMgrDKowSXwfQJl39qOXwlF
         la4Jbszm3zjuKFRh9LBnuqF3umO29SWlkgQSo=
MIME-Version: 1.0
Received: by 10.229.54.148 with SMTP id q20mr3854644qcg.18.1252361011389; Mon, 
	07 Sep 2009 15:03:31 -0700 (PDT)
In-Reply-To: <17e273100909071444h664758e7tb6f5260edacad07a@mail.gmail.com>
References: <17e273100909070218v4659e2dcu8598207843adeed6@mail.gmail.com>
	 <2EBE5668-CC80-4151-8577-2A923C4A1AFF@cse.unl.edu>
	 <17e273100909071444h664758e7tb6f5260edacad07a@mail.gmail.com>
Date: Mon, 7 Sep 2009 15:03:31 -0700
Message-ID: <17e273100909071503i2fa08ec8q312c8ab06a074dca@mail.gmail.com>
Subject: Re: HDFS and Linux File System
From: Ted Yu <yuzhihong@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=001517741bbc36e49a047304053f
X-Virus-Checked: Checked by ClamAV on apache.org

--001517741bbc36e49a047304053f
Content-Type: text/plain; charset=ISO-8859-1

http://svn.apache.org/viewvc/hadoop/core/trunk/src/contrib/chukwa/ produced
an exception.
And Chukwa isn't in hadoop/src/contrib of 0.20.0

On Mon, Sep 7, 2009 at 2:44 PM, Ted Yu <yuzhihong@gmail.com> wrote:

> I tried to compile fuse-dfs. libhdfs.so has been compiled.
>
> Under hadoop/src/contrib/fuse-dfs:
> ant -Dlibhdfs=1 -Dfusedfs=1
>
> Then I got:
>      [exec] make[1]: Entering directory
> `/usr/local/hadoop/src/contrib/fuse-dfs/src'
>      [exec] if gcc -DPACKAGE_NAME=\"fuse_dfs\"
> -DPACKAGE_TARNAME=\"fuse_dfs\" -DPACKAGE_VERSION=\"0.1.0\"
> -DPACKAGE_STRING=\"fuse_dfs\ 0.1.0\" -DPACKAGE_BUGREPORT=\"\"
> -DGETGROUPS_T=gid_t -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1
> -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE_MEMORY_H=1
> -DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1
> -DHAVE_GETGROUPS=1 -DGETGROUPS_T=gid_t  -I. -I.  -DPERMS=1
> -D_FILE_OFFSET_BITS=64 -I/usr/lib/jvm/java-1.6.0-openjdk-1.6.0.0/include
> -I/usr/local/hadoop/src/c++/libhdfs/
> -I/usr/lib/jvm/java-1.6.0-openjdk-1.6.0.0/include/linux/
> -D_FUSE_DFS_VERSION=\"0.1.0\" -DPROTECTED_PATHS=\"\" -I/include   -Wall -O3
> -MT fuse_dfs.o -MD -MP -MF ".deps/fuse_dfs.Tpo" -c -o fuse_dfs.o fuse_dfs.c;
> \
>      [exec]     then mv -f ".deps/fuse_dfs.Tpo" ".deps/fuse_dfs.Po"; else
> rm -f ".deps/fuse_dfs.Tpo"; exit 1; fi
>      [exec] In file included from fuse_dfs.c:19:
>      [exec] fuse_dfs.h:31:18: error: fuse.h: No such file or directory
>      [exec] fuse_dfs.h:32:27: error: fuse/fuse_opt.h: No such file or
> directory
>      [exec] In file included from fuse_dfs.c:20:
>
> Where can I find fuse_opt.h and fuse.h ?
>
> Thanks
>
>
> On Mon, Sep 7, 2009 at 12:08 PM, Brian Bockelman <bbockelm@cse.unl.edu>wrote:
>
>> Hey Ted,
>>
>> It's hard to avoid copying files, unless if you are able to change your
>> application to talk to HDFS directly (and even then, there are a lot of
>> "gotchas" that you wouldn't have to put up with at an application level --
>> look at the Chukwa paper).
>>
>> I would advise looking at Chukwa, http://wiki.apache.org/hadoop/Chukwa,
>> and then rotating logfiles quickly.
>>
>> Facebook's Scribe is supposed to do this sort of stuff too (and is very
>> impressive), but I'm not familiar with it.  On face value, it appears that
>> it might take more effort to get scribe well-integrated, but it would have
>> more functionality.
>>
>> Brian
>>
>>
>> On Sep 7, 2009, at 4:18 AM, Ted Yu wrote:
>>
>>  We're using hadoop 0.20.0 to analyze large log files from web servers.
>>> I am looking for better HDFS support so that I don't have to copy log
>>> files
>>> from Linux File System over.
>>>
>>> Please comment.
>>>
>>> Thanks
>>>
>>
>>
>

--001517741bbc36e49a047304053f--

From common-user-return-17326-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 22:05:04 2009
Return-Path: <common-user-return-17326-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 45623 invoked from network); 7 Sep 2009 22:05:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 22:05:03 -0000
Received: (qmail 51778 invoked by uid 500); 7 Sep 2009 22:05:01 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 51708 invoked by uid 500); 7 Sep 2009 22:05:01 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 51698 invoked by uid 99); 7 Sep 2009 22:05:01 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 22:05:01 +0000
X-ASF-Spam-Status: No, hits=3.4 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.216.190] (HELO mail-px0-f190.google.com) (209.85.216.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 22:04:54 +0000
Received: by pxi28 with SMTP id 28so2793039pxi.2
        for <common-user@hadoop.apache.org>; Mon, 07 Sep 2009 15:04:33 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.141.36.9 with SMTP id o9mr3395630rvj.4.1252360748541; Mon, 07 
	Sep 2009 14:59:08 -0700 (PDT)
In-Reply-To: <17e273100909071444h664758e7tb6f5260edacad07a@mail.gmail.com>
References: <17e273100909070218v4659e2dcu8598207843adeed6@mail.gmail.com>
	 <2EBE5668-CC80-4151-8577-2A923C4A1AFF@cse.unl.edu>
	 <17e273100909071444h664758e7tb6f5260edacad07a@mail.gmail.com>
Date: Mon, 7 Sep 2009 14:59:08 -0700
Message-ID: <35538fbe0909071459h4c768c1cp7f9c36101d9aec96@mail.gmail.com>
Subject: Re: HDFS and Linux File System
From: Matt Massie <matt@cloudera.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=000e0cd1d5008c26dc047303f5b3
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd1d5008c26dc047303f5b3
Content-Type: text/plain; charset=ISO-8859-1

Ted-

You'll need to run `yum search fuse` on Redhat based systems or `apt-cache
search fuse` on Debian based systems to find the FUSE packages, e.g.

$ yum search fuse
fuse.x86_64 : File System in Userspace (FUSE) utilities
fuse-clamfs.x86_64 : FUSE-based user-space file system for Linux with
on-access anti-virus file scanning
fuse-cryptofs.x86_64 : FUSE-based user-space encrypted filesystem
fuse-curlftpfs.x86_64 : FUSE filesystem for accessing FTP hosts using
libcurl
fuse-davfs2.x86_64 : FUSE-Filesystem to access WebDAV servers
fuse-devel.x86_64 : Header files, libraries and development documentation
for fuse.
fuse-encfs.x86_64 : Encrypted pass-thru filesystem in userspace
fuse-hpafs.x86_64 : FUSE based filesystem to access the Hidden Protected
Area (HPA) on disk
fuse-iso.x86_64 : FUSE module to mount ISO filesystem images
fuse-ntfs-3g.x86_64 : Linux NTFS userspace driver
fuse-ntfs-3g-devel.x86_64 : Header files, libraries and development
documentation for fuse-ntfs-3g.
fuse-obexfs.x86_64 : FUSE based filesystem using ObexFTP
fuse-smb.x86_64 : FUSE-Filesystem to fast and easy access remote resources
via SMB
fuse-sshfs.x86_64 : FUSE-Filesystem to access remote filesystems via SSH
fuse-unionfs.x86_64 : FUSE-base user-space union filesystem

For Hadoop, you should be able to compile with just "fuse" and "fuse-devel"
installed.  You can ignore the other packages.

You could also just download FUSE directly from
http://fuse.sourceforge.net/if you wanted.

Good luck!

-Matt

On Mon, Sep 7, 2009 at 2:44 PM, Ted Yu <yuzhihong@gmail.com> wrote:

> I tried to compile fuse-dfs. libhdfs.so has been compiled.
>
> Under hadoop/src/contrib/fuse-dfs:
> ant -Dlibhdfs=1 -Dfusedfs=1
>
> Then I got:
>     [exec] make[1]: Entering directory
> `/usr/local/hadoop/src/contrib/fuse-dfs/src'
>     [exec] if gcc -DPACKAGE_NAME=\"fuse_dfs\"
> -DPACKAGE_TARNAME=\"fuse_dfs\" -DPACKAGE_VERSION=\"0.1.0\"
> -DPACKAGE_STRING=\"fuse_dfs\ 0.1.0\" -DPACKAGE_BUGREPORT=\"\"
> -DGETGROUPS_T=gid_t -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1
> -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE_MEMORY_H=1
> -DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1
> -DHAVE_GETGROUPS=1 -DGETGROUPS_T=gid_t  -I. -I.  -DPERMS=1
> -D_FILE_OFFSET_BITS=64 -I/usr/lib/jvm/java-1.6.0-openjdk-1.6.0.0/include
> -I/usr/local/hadoop/src/c++/libhdfs/
> -I/usr/lib/jvm/java-1.6.0-openjdk-1.6.0.0/include/linux/
> -D_FUSE_DFS_VERSION=\"0.1.0\" -DPROTECTED_PATHS=\"\" -I/include   -Wall -O3
> -MT fuse_dfs.o -MD -MP -MF ".deps/fuse_dfs.Tpo" -c -o fuse_dfs.o
> fuse_dfs.c;
> \
>     [exec]     then mv -f ".deps/fuse_dfs.Tpo" ".deps/fuse_dfs.Po"; else rm
> -f ".deps/fuse_dfs.Tpo"; exit 1; fi
>     [exec] In file included from fuse_dfs.c:19:
>     [exec] fuse_dfs.h:31:18: error: fuse.h: No such file or directory
>     [exec] fuse_dfs.h:32:27: error: fuse/fuse_opt.h: No such file or
> directory
>     [exec] In file included from fuse_dfs.c:20:
>
> Where can I find fuse_opt.h and fuse.h ?
>
> Thanks
>
> On Mon, Sep 7, 2009 at 12:08 PM, Brian Bockelman <bbockelm@cse.unl.edu
> >wrote:
>
> > Hey Ted,
> >
> > It's hard to avoid copying files, unless if you are able to change your
> > application to talk to HDFS directly (and even then, there are a lot of
> > "gotchas" that you wouldn't have to put up with at an application level
> --
> > look at the Chukwa paper).
> >
> > I would advise looking at Chukwa, http://wiki.apache.org/hadoop/Chukwa,
> > and then rotating logfiles quickly.
> >
> > Facebook's Scribe is supposed to do this sort of stuff too (and is very
> > impressive), but I'm not familiar with it.  On face value, it appears
> that
> > it might take more effort to get scribe well-integrated, but it would
> have
> > more functionality.
> >
> > Brian
> >
> >
> > On Sep 7, 2009, at 4:18 AM, Ted Yu wrote:
> >
> >  We're using hadoop 0.20.0 to analyze large log files from web servers.
> >> I am looking for better HDFS support so that I don't have to copy log
> >> files
> >> from Linux File System over.
> >>
> >> Please comment.
> >>
> >> Thanks
> >>
> >
> >
>

--000e0cd1d5008c26dc047303f5b3--

From common-user-return-17327-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 22:12:54 2009
Return-Path: <common-user-return-17327-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 47060 invoked from network); 7 Sep 2009 22:12:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 22:12:54 -0000
Received: (qmail 57785 invoked by uid 500); 7 Sep 2009 22:12:51 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 57695 invoked by uid 500); 7 Sep 2009 22:12:51 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 57685 invoked by uid 99); 7 Sep 2009 22:12:51 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 22:12:51 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of saptarshi.guha@gmail.com designates 209.85.212.185 as permitted sender)
Received: from [209.85.212.185] (HELO mail-vw0-f185.google.com) (209.85.212.185)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 22:12:41 +0000
Received: by vws15 with SMTP id 15so2284033vws.5
        for <common-user@hadoop.apache.org>; Mon, 07 Sep 2009 15:12:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:reply-to:in-reply-to
         :references:from:date:message-id:subject:to:content-type
         :content-transfer-encoding;
        bh=9pFpaKhitVUIgMxz9kFCoadaQBWbJmmke7D9Z2Bq6os=;
        b=QorfgvUIp8Ygih/QmgJw+Yt1klV/NK6mZBhAbU3/Wk0dsSFyM2EGJMTs1BjFlj3gy7
         2qxrtV059rs9eNXUjZIa9JmO4MMBVfL8vOH4B5skr87D2DCEfo5B4xzVdeR4CtkeP6aF
         w3KVw5XzdCf5Q/VvqwE3Ej9Yk8ohCpUJYqATs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:from:date:message-id
         :subject:to:content-type:content-transfer-encoding;
        b=xc3HCx+jI/pOwtPFWAROJp15y9PB360w25MRWFdQ+wCu5U0Ov3Uqz9LrcENZ30ayOu
         PZhya98HxKa9fGmIYf4GRmXDoXX2vqhO0Cak1PL+o0TZmm97cDdVivNrN+xR3gfKf0Dx
         Kztl5IaYkHUpqGc7igRtkb+Mh6fSeZPZFgg/I=
MIME-Version: 1.0
Received: by 10.220.15.68 with SMTP id j4mr12166895vca.18.1252361540124; Mon, 
	07 Sep 2009 15:12:20 -0700 (PDT)
Reply-To: sguha@purdue.edu
In-Reply-To: <45f85f70909070916y5cc1beei665993d066bbeba9@mail.gmail.com>
References: <B06C787F-7D58-42B1-90E0-6E8B7F92E082@gmail.com> 
	<45f85f70909070916y5cc1beei665993d066bbeba9@mail.gmail.com>
From: Saptarshi Guha <saptarshi.guha@gmail.com>
Date: Mon, 7 Sep 2009 18:12:00 -0400
Message-ID: <1e7471d50909071512l130b8664seb004f0b9abae45d@mail.gmail.com>
Subject: Re: Textoutputformat not outputting all keys in Hadoop 0.20?
To: common-user@hadoop.apache.org
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Hello,
The problem is rather odd. I installed the version you mentioned and
still have the same problem. My HBBytesWritable has a toString method.
Texouputformat calls this.

a) If my toString method outputs a the bytes (like the toString method
in BytesWritable), i do not have any skipped keys
b) if instead my toString calls an external function (given byte[]
return a string), though the
TextOutputFormat receives the bytes(as I mentioned before), it doesn't
get written to disk.

Not sure whether this my design fault or not
Regards
Saptarshi


On Mon, Sep 7, 2009 at 12:16 PM, Todd Lipcon<todd@cloudera.com> wrote:
> Hi Saptarshi,
>
> Are you able to reproduce this on the 0.20.1rc1 uploaded last week?
>
> http://people.apache.org/~omalley/hadoop-0.20.1-rc1/
>
> If so, it would be worth putting together a test case. If you can reprodu=
ce
> this in a JUnit test (even if it only happens once every few runs) you
> should definitely open a JIRA.
>
> Thanks,
> -Todd
>
> On Sat, Sep 5, 2009 at 12:22 PM, Saptarshi Guha <saptarshi.guha@gmail.com=
>wrote:
>
>> Hello,
>> I'm using the the textoutputformat in mapreduce/lib/output with Hadoop 0=
.20
>> and it appears it is not writing all the keys to the output file even th=
ough
>> the
>> the write method in the RecordWriter is recieving them. Let me explain
>>
>> 1) I copied TextOutputFormat =C2=A0save for some debugging print message=
s
>>
>> =C2=A0 =C2=A0public synchronized void write(K key, V value)
>> =C2=A0 =C2=A0 =C2=A0throws IOException {
>>
>> =C2=A0 =C2=A0 =C2=A0boolean nullKey =3D key =3D=3D null || key instanceo=
f NullWritable;
>> =C2=A0 =C2=A0 =C2=A0boolean nullValue =3D value =3D=3D null || value ins=
tanceof NullWritable;
>> =C2=A0 =C2=A0 =C2=A0if (nullKey && nullValue) {
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0return;
>> =C2=A0 =C2=A0 =C2=A0}
>> =C2=A0 =C2=A0 =C2=A0if (!nullKey) {
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0writeObject(key);
>> =C2=A0 =C2=A0 =C2=A0}
>> =C2=A0 =C2=A0 =C2=A0if (!(nullKey || nullValue)) {
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0out.write(keyValueSeparator);
>> =C2=A0 =C2=A0 =C2=A0}
>> =C2=A0 =C2=A0 =C2=A0if (!nullValue) {
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0writeObject(value);
>> =C2=A0 =C2=A0 =C2=A0}
>> =C2=A0 =C2=A0 =C2=A0out.write(newline);
>>
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0System.out.println("Key=3D"+key=
.toString());
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0System.out.println("Value=3D"+v=
alue.toString());
>> =C2=A0 =C2=A0}
>>
>> I expect 52 keys corresponding to the upper/lower case keys of the
>> alphabet. =C2=A0I get < 52 keys in the output folder, sometimes 44, some=
 times,
>> and once even 52.
>> /However/, the write method above does recieve the missing K,V value as
>> evidenced by the log file messages, i.e i see Key=3D(missing key) and
>> Value=3D(missing-value)
>> Hence for some reason, a) it is not writing,b) writing but not
>> flushing/commiting or c) the temporary outputs are getting deleted.
>> Also if a given reducer has received =C2=A0e.g 5 keys, i see messages fo=
r 5
>> keys, of which a few (but not all) are missing.
>>
>> SequenceFileOutputFormat does not have the same issues(all 52 present)
>>
>> Any ideas?My bug?
>> Kind Regards
>> Saptarshi
>>
>> Version: 0.20.0, r763504
>> Compiled: Thu Apr 9 05:18:40 UTC 2009 by ndaley
>> Identifier: 200908281653
>>
>>
>>
>> Saptarshi Guha | saptarshi.guha@gmail.com |
>> http://www.stat.purdue.edu/~sguha <http://www.stat.purdue.edu/%7Esguha>
>> Kindness is a language which the deaf can hear and the blind can read.
>> =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0-- Mark Twain
>>
>>
>

From common-user-return-17328-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 22:27:34 2009
Return-Path: <common-user-return-17328-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 48836 invoked from network); 7 Sep 2009 22:27:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 22:27:34 -0000
Received: (qmail 67554 invoked by uid 500); 7 Sep 2009 22:27:32 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 67475 invoked by uid 500); 7 Sep 2009 22:27:32 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 67465 invoked by uid 99); 7 Sep 2009 22:27:32 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 22:27:32 +0000
X-ASF-Spam-Status: No, hits=2.8 required=10.0
	tests=HTML_FONT_FACE_BAD,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of saptarshi.guha@gmail.com designates 209.85.211.189 as permitted sender)
Received: from [209.85.211.189] (HELO mail-yw0-f189.google.com) (209.85.211.189)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 22:27:23 +0000
Received: by ywh27 with SMTP id 27so4356349ywh.2
        for <common-user@hadoop.apache.org>; Mon, 07 Sep 2009 15:27:03 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:message-id:from:to
         :content-type:mime-version:subject:date:x-mailer;
        bh=F7jtNzEz7coJqyGV4Sx3BmBP/jtCaDR5cqt2nLqzWnc=;
        b=D8IQnf6no7eK/QfMUyJufDns78BGKtBHHGzZVLbk60ebz0NbmM2YDpSiN8Gvceoa8J
         kV3BjhQW8T8mwyxXW9Dbp0tNwjq3xDvJKAVpycE7X+hKqedrA8cF8vPviuagMVepoG9Q
         RtHuNyg26tq05chhglSdiZ8sEIK3Ykm0ywRLY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:from:to:content-type:mime-version:subject:date:x-mailer;
        b=VSHM4k8e/CwHep+RvE9QjydmAyQEryASnF2Ki29JLiTcTyHZZFV6UfN+t3J2NtkD/C
         C4QZKIJdVtaj78QZEhqIi+wc5VDJnhK0C0G5aSw7UzWnZqSRotTSWIDt35PoPt+Qn2cW
         +MSBn6JIQI6bYMaqxr1r1LqdHpmKta6sN42N8=
Received: by 10.150.65.19 with SMTP id n19mr4352185yba.233.1252362422976;
        Mon, 07 Sep 2009 15:27:02 -0700 (PDT)
Received: from ?192.168.1.100? ([98.223.111.222])
        by mx.google.com with ESMTPS id 20sm2358350ywh.10.2009.09.07.15.27.02
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Mon, 07 Sep 2009 15:27:02 -0700 (PDT)
Message-Id: <27DBCD11-5E0D-433E-B1A9-F615E8031516@gmail.com>
From: Saptarshi Guha <saptarshi.guha@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=Apple-Mail-27--822685868
Mime-Version: 1.0 (Apple Message framework v936)
Subject: Number of maps do not correspond to mapred.tasktracker.map.tasks.maximum
Date: Mon, 7 Sep 2009 18:27:00 -0400
X-Mailer: Apple Mail (2.936)
X-Virus-Checked: Checked by ClamAV on apache.org

--Apple-Mail-27--822685868
Content-Type: text/plain;
	charset=US-ASCII;
	format=flowed;
	delsp=yes
Content-Transfer-Encoding: 7bit

Hello,
I'm using Hadoop 0.21 and have mapred.tasktracker.map.task.max set to  
6. Yet despite there being 1000 tasks
only is being run (according to the web ui)(the corresponding one for  
reduce is 4)
 From the webui

ttempt_200909071242_0014_r_000000_0  RUNNING  9.76%
   attempt_200909071242_0014_r_000001_0  RUNNING  9.70%
   attempt_200909071242_0014_r_000002_0  RUNNING  9.73%
   attempt_200909071242_0014_r_000003_0  RUNNING  9.70%
   attempt_200909071242_0014_m_000295_0  RUNNING  0.00%

4 reduces, and only 1 map

Host  # running tasks  Max Map Tasks  Max Reduce Tasks  Failures   
Seconds since heartbeat
   tracker_acrux:localhost.localdomain/127.0.0.1:36144  acrux.edu  5   
6  4  0  0

Any reasons why? is it a problem with my Inputformat? I have 1000  
tasks of each length 1000.

I'm subclassing  Hadoop 0.21 mapreduce (not mapred) inputformats.

Thank you
Saptarshi



--Apple-Mail-27--822685868--

From common-user-return-17329-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 07 23:22:00 2009
Return-Path: <common-user-return-17329-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 57041 invoked from network); 7 Sep 2009 23:22:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 7 Sep 2009 23:22:00 -0000
Received: (qmail 93923 invoked by uid 500); 7 Sep 2009 23:21:57 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 93866 invoked by uid 500); 7 Sep 2009 23:21:57 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 93856 invoked by uid 99); 7 Sep 2009 23:21:57 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 23:21:57 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [209.85.222.196] (HELO mail-pz0-f196.google.com) (209.85.222.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 07 Sep 2009 23:21:50 +0000
Received: by pzk34 with SMTP id 34so1210380pzk.25
        for <common-user@hadoop.apache.org>; Mon, 07 Sep 2009 16:21:28 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.141.12.18 with SMTP id p18mr629832rvi.57.1252365688445; Mon, 
	07 Sep 2009 16:21:28 -0700 (PDT)
In-Reply-To: <17e273100909071503i2fa08ec8q312c8ab06a074dca@mail.gmail.com>
References: <17e273100909070218v4659e2dcu8598207843adeed6@mail.gmail.com>
	 <2EBE5668-CC80-4151-8577-2A923C4A1AFF@cse.unl.edu>
	 <17e273100909071444h664758e7tb6f5260edacad07a@mail.gmail.com>
	 <17e273100909071503i2fa08ec8q312c8ab06a074dca@mail.gmail.com>
Date: Mon, 7 Sep 2009 16:21:28 -0700
Message-ID: <35538fbe0909071621x4c07d1baod665ee347f186501@mail.gmail.com>
Subject: Re: HDFS and Linux File System
From: Matt Massie <matt@cloudera.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=000e0cd509c2fd1d990473051bde
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd509c2fd1d990473051bde
Content-Type: text/plain; charset=ISO-8859-1

You can find chukwa at...

http://svn.apache.org/viewvc/hadoop/chukwa/

-Matt


On Mon, Sep 7, 2009 at 3:03 PM, Ted Yu <yuzhihong@gmail.com> wrote:

> http://svn.apache.org/viewvc/hadoop/core/trunk/src/contrib/chukwa/produced
> an exception.
> And Chukwa isn't in hadoop/src/contrib of 0.20.0
>
> On Mon, Sep 7, 2009 at 2:44 PM, Ted Yu <yuzhihong@gmail.com> wrote:
>
> > I tried to compile fuse-dfs. libhdfs.so has been compiled.
> >
> > Under hadoop/src/contrib/fuse-dfs:
> > ant -Dlibhdfs=1 -Dfusedfs=1
> >
> > Then I got:
> >      [exec] make[1]: Entering directory
> > `/usr/local/hadoop/src/contrib/fuse-dfs/src'
> >      [exec] if gcc -DPACKAGE_NAME=\"fuse_dfs\"
> > -DPACKAGE_TARNAME=\"fuse_dfs\" -DPACKAGE_VERSION=\"0.1.0\"
> > -DPACKAGE_STRING=\"fuse_dfs\ 0.1.0\" -DPACKAGE_BUGREPORT=\"\"
> > -DGETGROUPS_T=gid_t -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1
> > -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE_MEMORY_H=1
> > -DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1
> -DHAVE_UNISTD_H=1
> > -DHAVE_GETGROUPS=1 -DGETGROUPS_T=gid_t  -I. -I.  -DPERMS=1
> > -D_FILE_OFFSET_BITS=64 -I/usr/lib/jvm/java-1.6.0-openjdk-1.6.0.0/include
> > -I/usr/local/hadoop/src/c++/libhdfs/
> > -I/usr/lib/jvm/java-1.6.0-openjdk-1.6.0.0/include/linux/
> > -D_FUSE_DFS_VERSION=\"0.1.0\" -DPROTECTED_PATHS=\"\" -I/include   -Wall
> -O3
> > -MT fuse_dfs.o -MD -MP -MF ".deps/fuse_dfs.Tpo" -c -o fuse_dfs.o
> fuse_dfs.c;
> > \
> >      [exec]     then mv -f ".deps/fuse_dfs.Tpo" ".deps/fuse_dfs.Po"; else
> > rm -f ".deps/fuse_dfs.Tpo"; exit 1; fi
> >      [exec] In file included from fuse_dfs.c:19:
> >      [exec] fuse_dfs.h:31:18: error: fuse.h: No such file or directory
> >      [exec] fuse_dfs.h:32:27: error: fuse/fuse_opt.h: No such file or
> > directory
> >      [exec] In file included from fuse_dfs.c:20:
> >
> > Where can I find fuse_opt.h and fuse.h ?
> >
> > Thanks
> >
> >
> > On Mon, Sep 7, 2009 at 12:08 PM, Brian Bockelman <bbockelm@cse.unl.edu
> >wrote:
> >
> >> Hey Ted,
> >>
> >> It's hard to avoid copying files, unless if you are able to change your
> >> application to talk to HDFS directly (and even then, there are a lot of
> >> "gotchas" that you wouldn't have to put up with at an application level
> --
> >> look at the Chukwa paper).
> >>
> >> I would advise looking at Chukwa, http://wiki.apache.org/hadoop/Chukwa,
> >> and then rotating logfiles quickly.
> >>
> >> Facebook's Scribe is supposed to do this sort of stuff too (and is very
> >> impressive), but I'm not familiar with it.  On face value, it appears
> that
> >> it might take more effort to get scribe well-integrated, but it would
> have
> >> more functionality.
> >>
> >> Brian
> >>
> >>
> >> On Sep 7, 2009, at 4:18 AM, Ted Yu wrote:
> >>
> >>  We're using hadoop 0.20.0 to analyze large log files from web servers.
> >>> I am looking for better HDFS support so that I don't have to copy log
> >>> files
> >>> from Linux File System over.
> >>>
> >>> Please comment.
> >>>
> >>> Thanks
> >>>
> >>
> >>
> >
>

--000e0cd509c2fd1d990473051bde--

From common-user-return-17330-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 08 04:23:43 2009
Return-Path: <common-user-return-17330-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 6019 invoked from network); 8 Sep 2009 04:23:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 8 Sep 2009 04:23:43 -0000
Received: (qmail 27569 invoked by uid 500); 8 Sep 2009 04:23:41 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 27497 invoked by uid 500); 8 Sep 2009 04:23:41 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 27487 invoked by uid 99); 8 Sep 2009 04:23:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Sep 2009 04:23:40 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of yuzhihong@gmail.com designates 209.85.221.171 as permitted sender)
Received: from [209.85.221.171] (HELO mail-qy0-f171.google.com) (209.85.221.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Sep 2009 04:23:33 +0000
Received: by qyk1 with SMTP id 1so2149506qyk.22
        for <common-user@hadoop.apache.org>; Mon, 07 Sep 2009 21:23:12 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=hQcp/NXKrGvtcH+7Jh8atTR2FvNoe2BXmGC3npwEeBc=;
        b=L34WmFpnqhM4o+Pfw54jN0OoSKoEQCBf9opaj3GNg7JPs35CcWJ+x+MFWfZaqhkhBd
         Hq86FF6Q/RahlGiqwBxYMwP4Y2SLqNCy8AF8NvbNeF/ivJsQTm1rnJukFdGsHGA5KfXb
         1odSRJappQPdxpjYY6qV1xAJ00NAIdg8KXlyU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=cdRzRoOZfSvgGXe/8kdy1SepJf3jXAAfi5GHkg+wj0TekaZnvBIvMUCGe5lQmPy12N
         HjqPA4w+BVHdeq2+CQz6yX3H4VaqtwfKLSi9eWDZAciBS4ZymGGqyn54VQ3XqLS+iMVn
         CwE3w6Qy3NAa2e8jBbybh/wTgblnvyJV2UVhQ=
MIME-Version: 1.0
Received: by 10.229.14.211 with SMTP id h19mr3916569qca.42.1252383792683; Mon, 
	07 Sep 2009 21:23:12 -0700 (PDT)
In-Reply-To: <35538fbe0909071621x4c07d1baod665ee347f186501@mail.gmail.com>
References: <17e273100909070218v4659e2dcu8598207843adeed6@mail.gmail.com>
	 <2EBE5668-CC80-4151-8577-2A923C4A1AFF@cse.unl.edu>
	 <17e273100909071444h664758e7tb6f5260edacad07a@mail.gmail.com>
	 <17e273100909071503i2fa08ec8q312c8ab06a074dca@mail.gmail.com>
	 <35538fbe0909071621x4c07d1baod665ee347f186501@mail.gmail.com>
Date: Mon, 7 Sep 2009 21:23:12 -0700
Message-ID: <17e273100909072123j21be9ac4ne3a029d8113d43d7@mail.gmail.com>
Subject: Re: HDFS and Linux File System
From: Ted Yu <yuzhihong@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=001517576c5e15dc2b04730953e9
X-Virus-Checked: Checked by ClamAV on apache.org

--001517576c5e15dc2b04730953e9
Content-Type: text/plain; charset=ISO-8859-1

I see "Repository moved temporarily to '/viewvc/hadoop/chukwa/'. Please
relocate"

On Mon, Sep 7, 2009 at 4:21 PM, Matt Massie <matt@cloudera.com> wrote:

> You can find chukwa at...
>
> http://svn.apache.org/viewvc/hadoop/chukwa/
>
> -Matt
>
>
> On Mon, Sep 7, 2009 at 3:03 PM, Ted Yu <yuzhihong@gmail.com> wrote:
>
> >
> http://svn.apache.org/viewvc/hadoop/core/trunk/src/contrib/chukwa/produced
> > an exception.
> > And Chukwa isn't in hadoop/src/contrib of 0.20.0
> >
> > On Mon, Sep 7, 2009 at 2:44 PM, Ted Yu <yuzhihong@gmail.com> wrote:
> >
> > > I tried to compile fuse-dfs. libhdfs.so has been compiled.
> > >
> > > Under hadoop/src/contrib/fuse-dfs:
> > > ant -Dlibhdfs=1 -Dfusedfs=1
> > >
> > > Then I got:
> > >      [exec] make[1]: Entering directory
> > > `/usr/local/hadoop/src/contrib/fuse-dfs/src'
> > >      [exec] if gcc -DPACKAGE_NAME=\"fuse_dfs\"
> > > -DPACKAGE_TARNAME=\"fuse_dfs\" -DPACKAGE_VERSION=\"0.1.0\"
> > > -DPACKAGE_STRING=\"fuse_dfs\ 0.1.0\" -DPACKAGE_BUGREPORT=\"\"
> > > -DGETGROUPS_T=gid_t -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1
> > > -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1
> -DHAVE_MEMORY_H=1
> > > -DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1
> > -DHAVE_UNISTD_H=1
> > > -DHAVE_GETGROUPS=1 -DGETGROUPS_T=gid_t  -I. -I.  -DPERMS=1
> > > -D_FILE_OFFSET_BITS=64
> -I/usr/lib/jvm/java-1.6.0-openjdk-1.6.0.0/include
> > > -I/usr/local/hadoop/src/c++/libhdfs/
> > > -I/usr/lib/jvm/java-1.6.0-openjdk-1.6.0.0/include/linux/
> > > -D_FUSE_DFS_VERSION=\"0.1.0\" -DPROTECTED_PATHS=\"\" -I/include   -Wall
> > -O3
> > > -MT fuse_dfs.o -MD -MP -MF ".deps/fuse_dfs.Tpo" -c -o fuse_dfs.o
> > fuse_dfs.c;
> > > \
> > >      [exec]     then mv -f ".deps/fuse_dfs.Tpo" ".deps/fuse_dfs.Po";
> else
> > > rm -f ".deps/fuse_dfs.Tpo"; exit 1; fi
> > >      [exec] In file included from fuse_dfs.c:19:
> > >      [exec] fuse_dfs.h:31:18: error: fuse.h: No such file or directory
> > >      [exec] fuse_dfs.h:32:27: error: fuse/fuse_opt.h: No such file or
> > > directory
> > >      [exec] In file included from fuse_dfs.c:20:
> > >
> > > Where can I find fuse_opt.h and fuse.h ?
> > >
> > > Thanks
> > >
> > >
> > > On Mon, Sep 7, 2009 at 12:08 PM, Brian Bockelman <bbockelm@cse.unl.edu
> > >wrote:
> > >
> > >> Hey Ted,
> > >>
> > >> It's hard to avoid copying files, unless if you are able to change
> your
> > >> application to talk to HDFS directly (and even then, there are a lot
> of
> > >> "gotchas" that you wouldn't have to put up with at an application
> level
> > --
> > >> look at the Chukwa paper).
> > >>
> > >> I would advise looking at Chukwa,
> http://wiki.apache.org/hadoop/Chukwa,
> > >> and then rotating logfiles quickly.
> > >>
> > >> Facebook's Scribe is supposed to do this sort of stuff too (and is
> very
> > >> impressive), but I'm not familiar with it.  On face value, it appears
> > that
> > >> it might take more effort to get scribe well-integrated, but it would
> > have
> > >> more functionality.
> > >>
> > >> Brian
> > >>
> > >>
> > >> On Sep 7, 2009, at 4:18 AM, Ted Yu wrote:
> > >>
> > >>  We're using hadoop 0.20.0 to analyze large log files from web
> servers.
> > >>> I am looking for better HDFS support so that I don't have to copy log
> > >>> files
> > >>> from Linux File System over.
> > >>>
> > >>> Please comment.
> > >>>
> > >>> Thanks
> > >>>
> > >>
> > >>
> > >
> >
>

--001517576c5e15dc2b04730953e9--

From common-user-return-17331-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 08 05:38:20 2009
Return-Path: <common-user-return-17331-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 17554 invoked from network); 8 Sep 2009 05:38:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 8 Sep 2009 05:38:20 -0000
Received: (qmail 72040 invoked by uid 500); 8 Sep 2009 05:38:18 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 71952 invoked by uid 500); 8 Sep 2009 05:38:18 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 71941 invoked by uid 99); 8 Sep 2009 05:38:18 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Sep 2009 05:38:18 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of stchu.cloud@gmail.com designates 209.85.216.190 as permitted sender)
Received: from [209.85.216.190] (HELO mail-px0-f190.google.com) (209.85.216.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Sep 2009 05:38:09 +0000
Received: by pxi28 with SMTP id 28so2974489pxi.2
        for <common-user@hadoop.apache.org>; Mon, 07 Sep 2009 22:37:47 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:date:message-id:subject
         :from:to:content-type;
        bh=U5pJiNL7WjK/lvpPL4nkBJjmbVDIEHaOfGu7ZMnQdi8=;
        b=fHPUOtSd06SGU34wO2V+78LNmIQEF9+NWOrvmedIRQTUgojA3KvX94vigmdt2KlDrD
         J2hPfAdjzt8f3ULN5Ck6dt0fPAjAGLwLehuTAr7k6uDC7FV6rc0WZ99eRibIn+12dmRt
         GlRGN7BZWVdVOz3136gsM1N3D6BLrYUxq2SwY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=tLH+6rnQ4TM7S+c2mBTAsAoNSxYQItU/XuwRMi3kkQ9fggX4BAVyqthm+jgb+K4ZuB
         L/j6IxmbO5eNmQqIoucAqmrOH6jo/5BIUWC0oQL7MmHHW3K8I0INzT2OnXczNpogXxLR
         BicuQC/BekcLqRHADweyFA1rN/WeNBOSclb4k=
MIME-Version: 1.0
Received: by 10.143.24.42 with SMTP id b42mr586714wfj.41.1252388267861; Mon, 
	07 Sep 2009 22:37:47 -0700 (PDT)
Date: Tue, 8 Sep 2009 13:37:47 +0800
Message-ID: <430378a70909072237y7426ccafl4af58469224d0164@mail.gmail.com>
Subject: copy data (distcp) from local cluster to the EC2 cluster
From: stchu <stchu.cloud@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=001636e1f7abd3a7d304730a5d7d
X-Virus-Checked: Checked by ClamAV on apache.org

--001636e1f7abd3a7d304730a5d7d
Content-Type: text/plain; charset=ISO-8859-1

Hi,

Does Distcp support to copy data from my local cluster (1 master+3 slaves,
fs=hdfs) to the EC2 cluster (1master+2slaves, fs=hdfs)?
If it's supported, how can I do? I appreciate for any guide or suggestion.

stchu

--001636e1f7abd3a7d304730a5d7d--

From common-user-return-17332-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 08 07:46:24 2009
Return-Path: <common-user-return-17332-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 48485 invoked from network); 8 Sep 2009 07:46:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 8 Sep 2009 07:46:23 -0000
Received: (qmail 61255 invoked by uid 500); 8 Sep 2009 07:46:21 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 61182 invoked by uid 500); 8 Sep 2009 07:46:21 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 61172 invoked by uid 99); 8 Sep 2009 07:46:21 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Sep 2009 07:46:21 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of anthony.urso@gmail.com designates 209.85.216.190 as permitted sender)
Received: from [209.85.216.190] (HELO mail-px0-f190.google.com) (209.85.216.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Sep 2009 07:46:13 +0000
Received: by pxi28 with SMTP id 28so3036563pxi.2
        for <common-user@hadoop.apache.org>; Tue, 08 Sep 2009 00:45:52 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=q0Ybnwvoiq8z13AzBe24XWOMCMhkaywWMJBrAubxWDs=;
        b=UQW1I+T4feKPyXtuFV0QreLj4dGTzqpmd5ZcfolGEIToelFpYSPo7XGnccv50jYv/E
         7XCUiGAxHqmbyYMdEXwjRtgJ77KwJWBEajG9+z5W+E5AXku7JbFQoSFr/wj97oxRXWUw
         jvpreS4Hz3+yes1n9wVqb7VEGv1QEZvmnyHMM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=X03K82bIsVwuZwJcao5Y4MTV+cny2SOvJ6Mu2P3CgeeAkcdfCdjtVZZ7ByGfRuSPOg
         Yd4KosFm57bX53qtuSPnQoZnRQtJDHJyqE9y0wtwHhsz9ST/c66VvuqXdnXa6h26kE8X
         j0s+ASbowGOw0ozx45ertdU49xWllo6z2L1Zc=
MIME-Version: 1.0
Received: by 10.141.13.19 with SMTP id q19mr3414028rvi.31.1252395951858; Tue, 
	08 Sep 2009 00:45:51 -0700 (PDT)
In-Reply-To: <430378a70909072237y7426ccafl4af58469224d0164@mail.gmail.com>
References: <430378a70909072237y7426ccafl4af58469224d0164@mail.gmail.com>
Date: Tue, 8 Sep 2009 00:45:51 -0700
Message-ID: <ba72f77f0909080045g6d93b497n3f0d1e7a58e7b2fa@mail.gmail.com>
Subject: Re: copy data (distcp) from local cluster to the EC2 cluster
From: Anthony Urso <anthony.urso@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Yes, just run something along the lines of:

hadoop distcp hdfs://local-namenode/path hdfs://ec2-namenode/path

on the job tracker of a MapReduce cluster.

Make sure that your EC2 security group setup allows HDFS access from
the local HDFS cluster and wherever you run MapReduce job from.  Also,
I believe both HDFS setups still need to be running on the same
version of Hadoop.

More here:

http://hadoop.apache.org/common/docs/r0.20.0/distcp.html

Cheers,
Anthony

On Mon, Sep 7, 2009 at 10:37 PM, stchu<stchu.cloud@gmail.com> wrote:
> Hi,
>
> Does Distcp support to copy data from my local cluster (1 master+3 slaves,
> fs=hdfs) to the EC2 cluster (1master+2slaves, fs=hdfs)?
> If it's supported, how can I do? I appreciate for any guide or suggestion.
>
> stchu
>

From common-user-return-17333-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 08 10:37:27 2009
Return-Path: <common-user-return-17333-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 97258 invoked from network); 8 Sep 2009 10:37:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 8 Sep 2009 10:37:26 -0000
Received: (qmail 17693 invoked by uid 500); 8 Sep 2009 10:37:24 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 17600 invoked by uid 500); 8 Sep 2009 10:37:24 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 17590 invoked by uid 99); 8 Sep 2009 10:37:24 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Sep 2009 10:37:24 +0000
X-ASF-Spam-Status: No, hits=-2.8 required=10.0
	tests=RCVD_IN_DNSWL_MED,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [192.6.10.60] (HELO tobor.hpl.hp.com) (192.6.10.60)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Sep 2009 10:37:13 +0000
Received: from localhost (localhost [127.0.0.1])
	by tobor.hpl.hp.com (Postfix) with ESMTP id 98E98B7D5E
	for <common-user@hadoop.apache.org>; Tue,  8 Sep 2009 11:36:51 +0100 (BST)
X-Virus-Scanned: amavisd-new at hplb.hpl.hp.com
Received: from tobor.hpl.hp.com ([127.0.0.1])
	by localhost (tobor.hpl.hp.com [127.0.0.1]) (amavisd-new, port 10024)
	with LMTP id s8HuYw80+kr0 for <common-user@hadoop.apache.org>;
	Tue,  8 Sep 2009 11:36:45 +0100 (BST)
Received: from 0-imap-br1.hpl.hp.com (0-imap-br1.hpl.hp.com [16.25.144.60])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by tobor.hpl.hp.com (Postfix) with ESMTPS id 26335B7CFA
	for <common-user@hadoop.apache.org>; Tue,  8 Sep 2009 11:36:44 +0100 (BST)
MailScanner-NULL-Check: 1253010992.32313@/yhkjcGlhI72zHrOj56cdw
Received: from [16.25.175.158] (morzine.hpl.hp.com [16.25.175.158])
	by 0-imap-br1.hpl.hp.com (8.14.1/8.13.4) with ESMTP id n88AaUSU026270
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <common-user@hadoop.apache.org>; Tue, 8 Sep 2009 11:36:31 +0100 (BST)
Message-ID: <4AA633AE.7020704@apache.org>
Date: Tue, 08 Sep 2009 11:36:30 +0100
From: Steve Loughran <stevel@apache.org>
User-Agent: Thunderbird 2.0.0.23 (X11/20090812)
MIME-Version: 1.0
To: common-user@hadoop.apache.org
Subject: Re: Pregel
References: <c9b0d8bd0909030946i708d3b5k94f6f8a0de8a57a1@mail.gmail.com> 	<35a22e220909031253n56295ea8yf57e8c4df0cb5a74@mail.gmail.com> 	<c9b0d8bd0909031307n3fc0a5dbjb443a7fee19bb76@mail.gmail.com> 	<c9b0d8bd0909031308j3dceae37r85d2932021d0f51d@mail.gmail.com> 	<35a22e220909031312n77bd36b3w9e52707b7d0ab2bb@mail.gmail.com> 	<c9b0d8bd0909031342t44455c80sf52c14b4c11c663@mail.gmail.com> 	<54de02ae0909031551y36a0f804lf40ecf4314c4ca3e@mail.gmail.com> 	<c7d45fc70909031636q1508e719y1f57f8e7f2de6dbb@mail.gmail.com> 	<c9b0d8bd0909031645q204e4fefpb87338c686b64d1a@mail.gmail.com> <c7d45fc70909031855o50b19450u35a2068b559f866c@mail.gmail.com>
In-Reply-To: <c7d45fc70909031855o50b19450u35a2068b559f866c@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-HPL-MailScanner-Information: Please contact the ISP for more information
X-MailScanner-ID: n88AaUSU026270
X-HPL-MailScanner: Found to be clean
X-HPL-MailScanner-From: stevel@apache.org
X-Virus-Checked: Checked by ClamAV on apache.org

Ted Dunning wrote:
> You would be entirely welcome in Mahout.   Graph based algorithms are key
> for lots of kinds of interesting learning and would be a fabulous thing to
> have in a comprehensive substrate.
> 
> I personally would also be very interested in learning more about about what
> sorts of things Pregel is doing.  It is relatively easy to build simple
> graph algorithms on top of Map-reduce, but these algorithms typically
> require a map-reduce iteration to propagate information.  Good algorithms
> for that architecture have exponential propagation so that you don't need a
> huge number of iterations.  It smelled like Pregel was doing something much
> more interesting.
> 

Exactly, it is not pushing bits of the graph around. Instead it has 
partitioned the graph to different machines, and is pushing the work out 
to the relevant bits of the graph, a sort of GraphReduce. I believe, not 
having seen the code myself :)

From common-user-return-17334-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 08 13:25:07 2009
Return-Path: <common-user-return-17334-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 49914 invoked from network); 8 Sep 2009 13:25:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 8 Sep 2009 13:25:06 -0000
Received: (qmail 59634 invoked by uid 500); 8 Sep 2009 13:25:04 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 59565 invoked by uid 500); 8 Sep 2009 13:25:04 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 59554 invoked by uid 99); 8 Sep 2009 13:25:04 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Sep 2009 13:25:04 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of clarkemjj@gmail.com designates 209.85.218.224 as permitted sender)
Received: from [209.85.218.224] (HELO mail-bw0-f224.google.com) (209.85.218.224)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Sep 2009 13:24:52 +0000
Received: by bwz24 with SMTP id 24so2411603bwz.14
        for <common-user@hadoop.apache.org>; Tue, 08 Sep 2009 06:24:31 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=gez8b8/KkI1tI1y98/V++4xyL0xzj9K4cqhq7nfSGGs=;
        b=uNcuyRPC2BWn1kOzzGqdmDXftGh27KDBtrRZmlqrXC9Floz7TOuCQw3bUz/yMW1tnK
         OFCtqzBJvAK52cxYwfOZcQ/5z5ikHVuHaLaZJlrjigLF0jn9FCf/E3DrGqD8eZ+OZMMq
         Gh51Whjc6LgZJdKgDa6lJhT996W1BH30RYGH4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=PeUA9aPGuHYQRvtowoeot4N0MTTa7p3Ih6mGLiHCPRXS6FFKT7FJt2whPthB0Q9JKM
         bTLLtIn6DcYs8yinFNx3gUJ9h7qWgU43eHTRCY7LkyxVC2o6xTb+NfdDEP+Vc5z717Au
         KRTrDzc101/zBfD1lf3/FbeNFoCGXpJ2LsJEk=
MIME-Version: 1.0
Received: by 10.223.57.210 with SMTP id d18mr5813310fah.106.1252415834461; 
	Tue, 08 Sep 2009 06:17:14 -0700 (PDT)
In-Reply-To: <45f85f70909070940w700e22e4n2c4a452f638bf2b3@mail.gmail.com>
References: <4238036a0909070708v6c34d80fv3ca9ec7892096c58@mail.gmail.com>
	 <32120a6a0909070730o7be79042xf87802360d1800eb@mail.gmail.com>
	 <45f85f70909070735l31d7195scf9f349536978afe@mail.gmail.com>
	 <4238036a0909070814t74551462o7ed37f756dd0939a@mail.gmail.com>
	 <45f85f70909070903l7d9eaf1bw816ac0ef53f03dd4@mail.gmail.com>
	 <4238036a0909070925h3bf18be3i31c3b4f9e7ae4635@mail.gmail.com>
	 <45f85f70909070940w700e22e4n2c4a452f638bf2b3@mail.gmail.com>
Date: Tue, 8 Sep 2009 14:17:14 +0100
Message-ID: <4238036a0909080617y5ab03c94q7820b9b5d19bc1c7@mail.gmail.com>
Subject: Re: Hadoop on EC2 - public AMIs in hadoop-images
From: John Clarke <clarkemjj@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0015174792baec96ac047310c83d
X-Virus-Checked: Checked by ClamAV on apache.org

--0015174792baec96ac047310c83d
Content-Type: text/plain; charset=ISO-8859-1

Thanks Todd. I got my EC2 cluster running without too much bother and my app
seems to work as expected.

John

2009/9/7 Todd Lipcon <todd@cloudera.com>

> On Mon, Sep 7, 2009 at 9:25 AM, John Clarke <clarkemjj@gmail.com> wrote:
>
> > Thanks Todd, when you said "The EC2 scripts will boot Cloudera's
> > distribution for Hadoop." were you referring to the EC2 scripts that come
> > with Hadoop or Cloudera's python scripts?
> >
> >
> Sorry that wasn't clear -- the Cloudera scripts are very similar to those
> in
> the Apache distribution, but are updated more often since they're on a
> separate release schedule. We try to contribute the changes back where
> possible.
>
>
> > Are there advantages to using Cloudera's scripts over the stock ones for
> a
> > fairly standard job - i.e. up to 20 nodes and using S3 for input and
> > output.
> >
> >
> You'll take advantage of patches in our distribution that aren't in the
> stock release. We include a number of patches (many written by the Amazon
> guys) that are specific to the AWS/S3 environment. These are all currently
> in trunk, but some will not be in an Apache release until 0.21. There's a
> partial list of these patches about 2/3 down this page:
> http://www.cloudera.com/hadoop-manifest
>
> If you have more questions specific to our distribution, the best forum is
>
> http://getsatisfaction.com/cloudera/products/cloudera_cloudera_s_distribution_for_hadoop
>
> -Todd
>
>
>
> 2009/9/7 Todd Lipcon <todd@cloudera.com>
>
> > On Mon, Sep 7, 2009 at 8:14 AM, John Clarke <clarkemjj@gmail.com> wrote:
> >
> > > Thanks for the replies, I've been developing against 0.18.3 under
> Windows
> > > XP
> > > and testing on Ubuntu.
> > >
> > > That seems like a long list of changes from 0.18.3! Should I expect any
> > > specific issues if I try Cloudera's version on EC2 seeing as I have
> only
> > > tested against the stock 0.18.3?
> > >
> > >
> > Everything should work fine if you've tested on Apache 0.18.3 - we
> > guarantee
> > API compatibility between our distribution and Apache's release.
> Sometimes
> > we may add APIs, but nothing should be removed or altered. In our current
> > "testing" level release (CDH2) we're now also running jdiff between the
> > stock Apache release and our own so as to verify the above guarantee.
> >
> > -Todd
> >
> > >
> > >
> > >
> > >
> > > 2009/9/7 Todd Lipcon <todd@cloudera.com>
> > >
> > > > Hi,
> > > >
> > > > The EC2 scripts will boot Cloudera's distribution for Hadoop.
> Currently
> > > > they
> > > > boot our distribution of 0.18.3, but 0.20 support should be ready
> > pretty
> > > > soon now. Here's a list of what patches are in our newest 0.18.3
> > > > distribution:
> > > >
> > > > http://archive.cloudera.com/cdh/testing/hadoop-0.18.3+70.CHANGES.txt
> > > >
> > > > -Todd
> > > >
> > > > On Mon, Sep 7, 2009 at 7:30 AM, tim robertson <
> > timrobertson100@gmail.com
> > > > >wrote:
> > > >
> > > > > I can recommend the cloudera EC2 images.  I am not sure what
> version
> > > > > they are built on right now, but I think they pick stable ones and
> > > > > apply critical patches I believe.
> > > > > http://www.cloudera.com/hadoop-ec2
> > > > >
> > > > > Cheers,
> > > > > Tim
> > > > >
> > > > > On Mon, Sep 7, 2009 at 7:08 AM, John Clarke<clarkemjj@gmail.com>
> > > wrote:
> > > > > > Hi,
> > > > > >
> > > > > > I am planning on running my MapReduce app on Amazon's EC2. I had
> a
> > > look
> > > > > at
> > > > > > the public Hadoop images in the hadoop-images bucket and there is
> > no
> > > > > image
> > > > > > for the stable 0.18.3 release. The most recent Hadoop versions I
> > see
> > > > are
> > > > > > 0.18.1 and 0.19.0. Which of those would be better to use? Or
> should
> > I
> > > > try
> > > > > > and create my own AMI from one of the existing ones with the
> stable
> > > > > 0.18.3?
> > > > > >
> > > > > > Who owns the AMIs in hadoop-images? If they are owned by the
> Hadoop
> > > > > project
> > > > > > I'm surprised there isn't one for the stable 0.18.3 or a later
> > > 0.19.x.
> > > > > >
> > > > > > Thanks,
> > > > > > John
> > > > > >
> > > > >
> > > >
> > >
> >
>

--0015174792baec96ac047310c83d--

From common-user-return-17335-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 08 13:33:57 2009
Return-Path: <common-user-return-17335-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 52423 invoked from network); 8 Sep 2009 13:33:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 8 Sep 2009 13:33:57 -0000
Received: (qmail 75674 invoked by uid 500); 8 Sep 2009 13:33:54 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 75609 invoked by uid 500); 8 Sep 2009 13:33:54 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 75599 invoked by uid 99); 8 Sep 2009 13:33:54 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Sep 2009 13:33:54 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of clarkemjj@gmail.com designates 209.85.218.210 as permitted sender)
Received: from [209.85.218.210] (HELO mail-bw0-f210.google.com) (209.85.218.210)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Sep 2009 13:33:45 +0000
Received: by bwz6 with SMTP id 6so2684562bwz.36
        for <common-user@hadoop.apache.org>; Tue, 08 Sep 2009 06:33:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:date:message-id:subject
         :from:to:content-type;
        bh=rjZ8V38v9FxJ0o4Govh24SDpp4+hNKxG2+lhn/JCHww=;
        b=OIUDBr7XDr2+wuZ7D9NynkkPWuWAa3eGmTWOHa/fo3Z5iP87gAuI5diVMEyWIOL2Bd
         EQOrLHtyOHnIaSCIh8wpqn8lJTDcRNTH7VD0GuyutxEbq/zkyvMYn6PdqQSbvg2XSrd4
         scbdZdqPeptShknJp8sLmVePY45TemHcfr+ew=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=o+p9OcCWaUfJY0xR6+X+czsv2IPxFYXY8RQd4fusy2g7A9jzS5W1f3DN9zW/fCfAjI
         Kvup8LzxatKCeuVf69mzN5ILCp8H1joyF2O5SYr32qk/PlmHlps3QCcbPVPuyRUI646c
         1vFjkC3bf0XP8fIlJ3qEMwoT0LBOdQlAGpV+s=
MIME-Version: 1.0
Received: by 10.223.14.215 with SMTP id h23mr5860808faa.59.1252416804891; Tue, 
	08 Sep 2009 06:33:24 -0700 (PDT)
Date: Tue, 8 Sep 2009 14:33:24 +0100
Message-ID: <4238036a0909080633g6d32595fn51e9cab86d9fc06a@mail.gmail.com>
Subject: help with setting log output level at runtime
From: John Clarke <clarkemjj@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0015174736acc42eae04731102c1
X-Virus-Checked: Checked by ClamAV on apache.org

--0015174736acc42eae04731102c1
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I'm using EC2 to run my cluster and it works apart from my logging. I need
to have a custom pattern and set the log level to DEBUG for my application.

On my small local test cluster I simply edited the Hadoop log4j.properties
file in the conf/ directory and changed the ConversionPattern and added
log4j.logger.myapp=DEBUG. This worked but I really don't want to have to
edit the log4j.properties file on every node of the proper cluster on EC2.

Is there a way to set these values at launch? Or to include my own
log4j.properties file within my jar?

Thanks!
John

--0015174736acc42eae04731102c1--

From common-user-return-17336-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 08 15:01:55 2009
Return-Path: <common-user-return-17336-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 80599 invoked from network); 8 Sep 2009 15:01:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 8 Sep 2009 15:01:54 -0000
Received: (qmail 39898 invoked by uid 500); 8 Sep 2009 15:01:50 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 39725 invoked by uid 500); 8 Sep 2009 15:01:50 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 39653 invoked by uid 500); 8 Sep 2009 15:01:50 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 39647 invoked by uid 99); 8 Sep 2009 15:01:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Sep 2009 15:01:48 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of wasimbari@msn.com designates 65.55.90.105 as permitted sender)
Received: from [65.55.90.105] (HELO snt0-omc2-s30.snt0.hotmail.com) (65.55.90.105)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Sep 2009 15:01:38 +0000
Received: from SNT124-W56 ([65.55.90.72]) by snt0-omc2-s30.snt0.hotmail.com with Microsoft SMTPSVC(6.0.3790.3959);
	 Tue, 8 Sep 2009 08:01:17 -0700
Message-ID: <SNT124-W5650663C63B0F1D7A57F65BCEA0@phx.gbl>
Content-Type: multipart/alternative;
	boundary="_efd1731c-d9fa-4c0c-a275-47c2427a3848_"
X-Originating-IP: [212.117.81.29]
From: Wasim Bari <wasimbari@msn.com>
To: <core-user@hadoop.apache.org>
Subject: static data sharing among map funtions
Date: Tue, 8 Sep 2009 15:01:17 +0000
Importance: Normal
MIME-Version: 1.0
X-OriginalArrivalTime: 08 Sep 2009 15:01:17.0637 (UTC) FILETIME=[37B54F50:01CA3095]
X-Virus-Checked: Checked by ClamAV on apache.org

--_efd1731c-d9fa-4c0c-a275-47c2427a3848_
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


=20

=20

Hi=2C

   How static data is shared among mappers ? is it synchorinized or not pos=
sible ? I will appreciate if someone can give possible way of sharing data =
among Map funtions in one job.

=20

BR=2C

=20

Bari

--_efd1731c-d9fa-4c0c-a275-47c2427a3848_--

From common-user-return-17337-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 08 16:51:34 2009
Return-Path: <common-user-return-17337-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 10611 invoked from network); 8 Sep 2009 16:51:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 8 Sep 2009 16:51:34 -0000
Received: (qmail 24428 invoked by uid 500); 8 Sep 2009 16:51:32 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 24344 invoked by uid 500); 8 Sep 2009 16:51:31 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Delivered-To: moderator for common-user@hadoop.apache.org
Received: (qmail 92597 invoked by uid 99); 8 Sep 2009 15:33:57 -0000
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Message-ID: <4AA67940.4010809@quattrowireless.com>
Date: Tue, 08 Sep 2009 11:33:20 -0400
From: Irfan Mohammed <imohammed@quattrowireless.com>
User-Agent: Thunderbird 2.0.0.23 (X11/20090817)
MIME-Version: 1.0
To: common-user@hadoop.apache.org
Subject: OutofMemory Errors when trying to load a large gzip file
Content-Type: multipart/mixed;
 boundary="------------060000010608080107060908"
X-OriginalArrivalTime: 08 Sep 2009 15:33:21.0468 (UTC) FILETIME=[B2669FC0:01CA3099]
X-Virus-Checked: Checked by ClamAV on apache.org

--------------060000010608080107060908
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Hi,
I am trying to load a large gzip file and process using pig. The file 
size is about 200M [gzip].

Everytime I run the following script, I get outofmemory errors.

The hadoop-site.xml is attached. The pig and the hadoop jobtracker logs 
are attached as well.

$ pig
 >>>
x1 = LOAD 'file:///mnt/transaction_ar20090907_1102_126.CSV.gz' using 
PigStorage('\u0002');
y1 = LIMIT x1 10;
dump y1;
 >>>

Environment :
hadoop-0.20.0
pig-0.3.0 [ patched with Pig-660-4 to work with hadoop-0.20.0 ]
ec2 [ c1.medium ] [with 4 slaves]

How do I know for a given hadoop job whether I have enough 
instances/RAM? What is the best way to asses the RAM/CPU/Machine 
footprint for a given job?

Thanks,
Irfan

--------------060000010608080107060908
Content-Type: text/x-log;
 name="hadoop_gzip_pig.log"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="hadoop_gzip_pig.log"

ERROR 6016: Out of memory.
org.apache.pig.impl.logicalLayer.FrontendException: ERROR 1066: Unable to open iterator for alias y1
        at org.apache.pig.PigServer.openIterator(PigServer.java:469)
        at org.apache.pig.tools.grunt.GruntParser.processDump(GruntParser.java:522)
        at org.apache.pig.tools.pigscript.parser.PigScriptParser.parse(PigScriptParser.java:190)
        at org.apache.pig.tools.grunt.GruntParser.parseStopOnError(GruntParser.java:164)
        at org.apache.pig.tools.grunt.GruntParser.parseStopOnError(GruntParser.java:140)
        at org.apache.pig.tools.grunt.Grunt.run(Grunt.java:75)
        at org.apache.pig.Main.main(Main.java:350)
Caused by: org.apache.pig.backend.executionengine.ExecException: ERROR 6016: Out of memory.
        at java.util.Arrays.copyOf(Arrays.java:2760)
        at java.util.Arrays.copyOf(Arrays.java:2734)
        at java.util.ArrayList.ensureCapacity(ArrayList.java:167)
        at java.util.ArrayList.add(ArrayList.java:351)
        at org.apache.pig.builtin.PigStorage.readField(PigStorage.java:286)
        at org.apache.pig.builtin.PigStorage.getNext(PigStorage.java:117)
        at org.apache.pig.backend.executionengine.PigSlice.next(PigSlice.java:104)
        at org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.SliceWrapper$1.next(SliceWrapper.java:162)
        at org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.SliceWrapper$1.next(SliceWrapper.java:138)
        at org.apache.hadoop.mapred.MapTask$TrackedRecordReader.moveToNext(MapTask.java:191)
        at org.apache.hadoop.mapred.MapTask$TrackedRecordReader.next(MapTask.java:175)
        at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:48)
        at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:356)
        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:305)
Caused by: java.lang.OutOfMemoryError


--------------060000010608080107060908
Content-Type: text/x-log;
 name="hadoop_gzip_jobtracker.log"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="hadoop_gzip_jobtracker.log"

2009-09-08 10:06:13,551 WARN org.apache.hadoop.conf.Configuration: DEPRECATED: hadoop-site.xml found in the classpath. Usage of hadoop-site.xml is deprecated. Instead use core-site.xml, mapred-site.xml and hdfs-site.xml to override properties of core-default.xml, mapred-default.xml and hdfs-default.xml respectively
2009-09-08 10:06:13,581 INFO org.apache.hadoop.mapred.JobTracker: STARTUP_MSG: 
/************************************************************
STARTUP_MSG: Starting JobTracker
STARTUP_MSG:   host = domU-12-31-39-07-50-C2.compute-1.internal/10.209.83.48
STARTUP_MSG:   args = []
STARTUP_MSG:   version = 0.20.0
STARTUP_MSG:   build = https://svn.apache.org/repos/asf/hadoop/core/branches/branch-0.20 -r 763504; compiled by 'ndaley' on Thu Apr  9 05:18:40 UTC 2009
************************************************************/
2009-09-08 10:06:13,815 INFO org.apache.hadoop.ipc.metrics.RpcMetrics: Initializing RPC Metrics with hostName=JobTracker, port=50002
2009-09-08 10:06:13,908 INFO org.mortbay.log: Logging to org.slf4j.impl.Log4jLoggerAdapter(org.mortbay.log) via org.mortbay.log.Slf4jLog
2009-09-08 10:06:14,027 INFO org.apache.hadoop.http.HttpServer: Jetty bound to port 50030
2009-09-08 10:06:14,027 INFO org.mortbay.log: jetty-6.1.14
2009-09-08 10:06:16,821 INFO org.mortbay.log: Started SelectChannelConnector@0.0.0.0:50030
2009-09-08 10:06:16,822 INFO org.apache.hadoop.metrics.jvm.JvmMetrics: Initializing JVM Metrics with processName=JobTracker, sessionId=
2009-09-08 10:06:16,872 INFO org.apache.hadoop.mapred.JobTracker: JobTracker up at: 50002
2009-09-08 10:06:16,872 INFO org.apache.hadoop.mapred.JobTracker: JobTracker webserver: 50030
2009-09-08 10:06:17,045 INFO org.apache.hadoop.mapred.JobTracker: Cleaning up the system directory
2009-09-08 10:06:17,274 INFO org.apache.hadoop.ipc.Server: IPC Server Responder: starting
2009-09-08 10:06:17,275 INFO org.apache.hadoop.ipc.Server: IPC Server listener on 50002: starting
2009-09-08 10:06:17,275 INFO org.apache.hadoop.ipc.Server: IPC Server handler 0 on 50002: starting
2009-09-08 10:06:17,275 INFO org.apache.hadoop.ipc.Server: IPC Server handler 1 on 50002: starting
2009-09-08 10:06:17,276 INFO org.apache.hadoop.ipc.Server: IPC Server handler 2 on 50002: starting
2009-09-08 10:06:17,276 INFO org.apache.hadoop.ipc.Server: IPC Server handler 3 on 50002: starting
2009-09-08 10:06:17,276 INFO org.apache.hadoop.ipc.Server: IPC Server handler 4 on 50002: starting
2009-09-08 10:06:17,276 INFO org.apache.hadoop.ipc.Server: IPC Server handler 5 on 50002: starting
2009-09-08 10:06:17,276 INFO org.apache.hadoop.ipc.Server: IPC Server handler 6 on 50002: starting
2009-09-08 10:06:17,276 INFO org.apache.hadoop.ipc.Server: IPC Server handler 7 on 50002: starting
2009-09-08 10:06:17,276 INFO org.apache.hadoop.ipc.Server: IPC Server handler 8 on 50002: starting
2009-09-08 10:06:17,276 INFO org.apache.hadoop.mapred.JobTracker: Starting RUNNING
2009-09-08 10:06:17,277 INFO org.apache.hadoop.ipc.Server: IPC Server handler 9 on 50002: starting
2009-09-08 10:06:17,716 INFO org.apache.hadoop.net.NetworkTopology: Adding a new node: /default-rack/domU-12-31-39-07-50-C2.compute-1.internal
2009-09-08 10:13:03,008 INFO org.apache.hadoop.mapred.EagerTaskInitializationListener: Initializing job_200909081006_0001
2009-09-08 10:13:03,013 INFO org.apache.hadoop.mapred.JobHistory: Nothing to recover! Generating a new filename domU-12-31-39-07-50-C2.compute-1.internal_1252418773830_job_200909081006_0001_root_Job4376148819153439144.jar for job job_200909081006_0001
2009-09-08 10:13:03,026 INFO org.apache.hadoop.mapred.JobHistory: domU-12-31-39-07-50-C2.compute-1.internal_1252418773830_job_200909081006_0001_root_Job4376148819153439144.jar doesnt exist! Using domU-12-31-39-07-50-C2.compute-1.internal_1252418773830_job_200909081006_0001_root_Job4376148819153439144.jar.recover for recovery.
2009-09-08 10:13:04,432 INFO org.apache.hadoop.mapred.JobHistory: domU-12-31-39-07-50-C2.compute-1.internal_1252418773830_job_200909081006_0001_root_Job4376148819153439144.jar doesnt exist! Using domU-12-31-39-07-50-C2.compute-1.internal_1252418773830_job_200909081006_0001_root_Job4376148819153439144.jar.recover as the master history file for user.
2009-09-08 10:13:05,194 INFO org.apache.hadoop.mapred.JobInProgress: Input size for job job_200909081006_0001 = 151
2009-09-08 10:13:05,194 INFO org.apache.hadoop.mapred.JobInProgress: Split info for job:job_200909081006_0001 with 1 splits:
2009-09-08 10:13:05,195 INFO org.apache.hadoop.net.NetworkTopology: Adding a new node: /default-rack/localhost
2009-09-08 10:13:05,195 INFO org.apache.hadoop.mapred.JobInProgress: tip:task_200909081006_0001_m_000000 has split on node:/default-rack/localhost
2009-09-08 10:13:06,253 INFO org.apache.hadoop.mapred.JobTracker: Adding task 'attempt_200909081006_0001_m_000002_0' to tip task_200909081006_0001_m_000002, for tracker 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:13:09,306 INFO org.apache.hadoop.mapred.JobInProgress: Task 'attempt_200909081006_0001_m_000002_0' has completed task_200909081006_0001_m_000002 successfully.
2009-09-08 10:13:09,310 INFO org.apache.hadoop.mapred.JobTracker: Adding task 'attempt_200909081006_0001_m_000000_0' to tip task_200909081006_0001_m_000000, for tracker 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:13:09,312 INFO org.apache.hadoop.mapred.JobInProgress: Choosing rack-local task task_200909081006_0001_m_000000
2009-09-08 10:13:15,350 INFO org.apache.hadoop.mapred.JobInProgress: Task 'attempt_200909081006_0001_m_000000_0' has completed task_200909081006_0001_m_000000 successfully.
2009-09-08 10:13:15,353 INFO org.apache.hadoop.mapred.JobTracker: Adding task 'attempt_200909081006_0001_m_000001_0' to tip task_200909081006_0001_m_000001, for tracker 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:13:18,366 INFO org.apache.hadoop.mapred.JobInProgress: Task 'attempt_200909081006_0001_m_000001_0' has completed task_200909081006_0001_m_000001 successfully.
2009-09-08 10:13:18,367 INFO org.apache.hadoop.mapred.JobInProgress: Job job_200909081006_0001 has completed successfully.
2009-09-08 10:13:18,442 INFO org.apache.hadoop.mapred.JobHistory: Recovered job history filename for job job_200909081006_0001 is domU-12-31-39-07-50-C2.compute-1.internal_1252418773830_job_200909081006_0001_root_Job4376148819153439144.jar
2009-09-08 10:13:18,544 INFO org.apache.hadoop.mapred.JobTracker: Removed completed task 'attempt_200909081006_0001_m_000000_0' from 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:13:18,544 INFO org.apache.hadoop.mapred.JobTracker: Removed completed task 'attempt_200909081006_0001_m_000001_0' from 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:13:18,544 INFO org.apache.hadoop.mapred.JobTracker: Removed completed task 'attempt_200909081006_0001_m_000002_0' from 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:13:27,843 INFO org.apache.hadoop.mapred.EagerTaskInitializationListener: Initializing job_200909081006_0002
2009-09-08 10:13:27,845 INFO org.apache.hadoop.mapred.JobHistory: Nothing to recover! Generating a new filename domU-12-31-39-07-50-C2.compute-1.internal_1252418773830_job_200909081006_0002_root_Job5240765340979271360.jar for job job_200909081006_0002
2009-09-08 10:13:27,846 INFO org.apache.hadoop.mapred.JobHistory: domU-12-31-39-07-50-C2.compute-1.internal_1252418773830_job_200909081006_0002_root_Job5240765340979271360.jar doesnt exist! Using domU-12-31-39-07-50-C2.compute-1.internal_1252418773830_job_200909081006_0002_root_Job5240765340979271360.jar.recover for recovery.
2009-09-08 10:13:27,920 INFO org.apache.hadoop.mapred.JobHistory: domU-12-31-39-07-50-C2.compute-1.internal_1252418773830_job_200909081006_0002_root_Job5240765340979271360.jar doesnt exist! Using domU-12-31-39-07-50-C2.compute-1.internal_1252418773830_job_200909081006_0002_root_Job5240765340979271360.jar.recover as the master history file for user.
2009-09-08 10:13:28,481 INFO org.apache.hadoop.mapred.JobInProgress: Input size for job job_200909081006_0002 = 151
2009-09-08 10:13:28,481 INFO org.apache.hadoop.mapred.JobInProgress: Split info for job:job_200909081006_0002 with 1 splits:
2009-09-08 10:13:28,482 INFO org.apache.hadoop.mapred.JobInProgress: tip:task_200909081006_0002_m_000000 has split on node:/default-rack/localhost
2009-09-08 10:13:30,555 INFO org.apache.hadoop.mapred.JobTracker: Adding task 'attempt_200909081006_0002_m_000002_0' to tip task_200909081006_0002_m_000002, for tracker 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:13:33,562 INFO org.apache.hadoop.mapred.JobInProgress: Task 'attempt_200909081006_0002_m_000002_0' has completed task_200909081006_0002_m_000002 successfully.
2009-09-08 10:13:33,563 INFO org.apache.hadoop.mapred.JobTracker: Adding task 'attempt_200909081006_0002_m_000000_0' to tip task_200909081006_0002_m_000000, for tracker 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:13:33,563 INFO org.apache.hadoop.mapred.JobInProgress: Choosing rack-local task task_200909081006_0002_m_000000
2009-09-08 10:13:36,604 INFO org.apache.hadoop.mapred.JobInProgress: Task 'attempt_200909081006_0002_m_000000_0' has completed task_200909081006_0002_m_000000 successfully.
2009-09-08 10:13:36,605 INFO org.apache.hadoop.mapred.ResourceEstimator: completedMapsUpdates:1  completedMapsInputSize:152  completedMapsOutputSize:409
2009-09-08 10:13:36,610 INFO org.apache.hadoop.mapred.JobTracker: Adding task 'attempt_200909081006_0002_r_000000_0' to tip task_200909081006_0002_r_000000, for tracker 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:13:48,631 INFO org.apache.hadoop.mapred.JobInProgress: Task 'attempt_200909081006_0002_r_000000_0' has completed task_200909081006_0002_r_000000 successfully.
2009-09-08 10:13:48,634 INFO org.apache.hadoop.mapred.JobTracker: Adding task 'attempt_200909081006_0002_m_000001_0' to tip task_200909081006_0002_m_000001, for tracker 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:13:51,638 INFO org.apache.hadoop.mapred.JobInProgress: Task 'attempt_200909081006_0002_m_000001_0' has completed task_200909081006_0002_m_000001 successfully.
2009-09-08 10:13:51,638 INFO org.apache.hadoop.mapred.JobInProgress: Job job_200909081006_0002 has completed successfully.
2009-09-08 10:13:51,754 INFO org.apache.hadoop.mapred.JobHistory: Recovered job history filename for job job_200909081006_0002 is domU-12-31-39-07-50-C2.compute-1.internal_1252418773830_job_200909081006_0002_root_Job5240765340979271360.jar
2009-09-08 10:13:51,843 INFO org.apache.hadoop.mapred.JobTracker: Removed completed task 'attempt_200909081006_0002_m_000000_0' from 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:13:51,843 INFO org.apache.hadoop.mapred.JobTracker: Removed completed task 'attempt_200909081006_0002_m_000001_0' from 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:13:51,843 INFO org.apache.hadoop.mapred.JobTracker: Removed completed task 'attempt_200909081006_0002_m_000002_0' from 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:13:51,843 INFO org.apache.hadoop.mapred.JobTracker: Removed completed task 'attempt_200909081006_0002_r_000000_0' from 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:13:58,252 INFO org.apache.hadoop.mapred.EagerTaskInitializationListener: Initializing job_200909081006_0003
2009-09-08 10:13:58,255 INFO org.apache.hadoop.mapred.JobHistory: Nothing to recover! Generating a new filename domU-12-31-39-07-50-C2.compute-1.internal_1252418773830_job_200909081006_0003_root_PigLatin%3ADefaultJobName for job job_200909081006_0003
2009-09-08 10:13:58,258 INFO org.apache.hadoop.mapred.JobHistory: domU-12-31-39-07-50-C2.compute-1.internal_1252418773830_job_200909081006_0003_root_PigLatin%3ADefaultJobName doesnt exist! Using domU-12-31-39-07-50-C2.compute-1.internal_1252418773830_job_200909081006_0003_root_PigLatin%3ADefaultJobName.recover for recovery.
2009-09-08 10:13:58,337 INFO org.apache.hadoop.mapred.JobHistory: domU-12-31-39-07-50-C2.compute-1.internal_1252418773830_job_200909081006_0003_root_PigLatin%3ADefaultJobName doesnt exist! Using domU-12-31-39-07-50-C2.compute-1.internal_1252418773830_job_200909081006_0003_root_PigLatin%3ADefaultJobName.recover as the master history file for user.
2009-09-08 10:13:58,890 INFO org.apache.hadoop.mapred.JobInProgress: Input size for job job_200909081006_0003 = 151
2009-09-08 10:13:58,890 INFO org.apache.hadoop.mapred.JobInProgress: Split info for job:job_200909081006_0003 with 1 splits:
2009-09-08 10:13:58,890 INFO org.apache.hadoop.mapred.JobInProgress: tip:task_200909081006_0003_m_000000 has split on node:/default-rack/localhost
2009-09-08 10:14:00,850 INFO org.apache.hadoop.mapred.JobTracker: Adding task 'attempt_200909081006_0003_m_000002_0' to tip task_200909081006_0003_m_000002, for tracker 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:14:03,854 INFO org.apache.hadoop.mapred.JobInProgress: Task 'attempt_200909081006_0003_m_000002_0' has completed task_200909081006_0003_m_000002 successfully.
2009-09-08 10:14:03,855 INFO org.apache.hadoop.mapred.JobTracker: Adding task 'attempt_200909081006_0003_m_000000_0' to tip task_200909081006_0003_m_000000, for tracker 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:14:03,855 INFO org.apache.hadoop.mapred.JobInProgress: Choosing rack-local task task_200909081006_0003_m_000000
2009-09-08 10:14:06,860 INFO org.apache.hadoop.mapred.JobInProgress: Task 'attempt_200909081006_0003_m_000000_0' has completed task_200909081006_0003_m_000000 successfully.
2009-09-08 10:14:06,860 INFO org.apache.hadoop.mapred.ResourceEstimator: completedMapsUpdates:1  completedMapsInputSize:152  completedMapsOutputSize:409
2009-09-08 10:14:06,862 INFO org.apache.hadoop.mapred.JobTracker: Adding task 'attempt_200909081006_0003_r_000000_0' to tip task_200909081006_0003_r_000000, for tracker 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:14:21,888 INFO org.apache.hadoop.mapred.JobInProgress: Task 'attempt_200909081006_0003_r_000000_0' has completed task_200909081006_0003_r_000000 successfully.
2009-09-08 10:14:21,889 INFO org.apache.hadoop.mapred.JobTracker: Adding task 'attempt_200909081006_0003_m_000001_0' to tip task_200909081006_0003_m_000001, for tracker 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:14:24,892 INFO org.apache.hadoop.mapred.JobInProgress: Task 'attempt_200909081006_0003_m_000001_0' has completed task_200909081006_0003_m_000001 successfully.
2009-09-08 10:14:24,893 INFO org.apache.hadoop.mapred.JobInProgress: Job job_200909081006_0003 has completed successfully.
2009-09-08 10:14:24,979 INFO org.apache.hadoop.mapred.JobHistory: Recovered job history filename for job job_200909081006_0003 is domU-12-31-39-07-50-C2.compute-1.internal_1252418773830_job_200909081006_0003_root_PigLatin%3ADefaultJobName
2009-09-08 10:14:25,052 INFO org.apache.hadoop.mapred.JobTracker: Removed completed task 'attempt_200909081006_0003_m_000000_0' from 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:14:25,052 INFO org.apache.hadoop.mapred.JobTracker: Removed completed task 'attempt_200909081006_0003_m_000001_0' from 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:14:25,052 INFO org.apache.hadoop.mapred.JobTracker: Removed completed task 'attempt_200909081006_0003_m_000002_0' from 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:14:25,052 INFO org.apache.hadoop.mapred.JobTracker: Removed completed task 'attempt_200909081006_0003_r_000000_0' from 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:15:13,466 INFO org.apache.hadoop.mapred.EagerTaskInitializationListener: Initializing job_200909081006_0004
2009-09-08 10:15:13,470 INFO org.apache.hadoop.mapred.JobHistory: Nothing to recover! Generating a new filename domU-12-31-39-07-50-C2.compute-1.internal_1252418773830_job_200909081006_0004_root_Job3181357076430015345.jar for job job_200909081006_0004
2009-09-08 10:15:13,471 INFO org.apache.hadoop.mapred.JobHistory: domU-12-31-39-07-50-C2.compute-1.internal_1252418773830_job_200909081006_0004_root_Job3181357076430015345.jar doesnt exist! Using domU-12-31-39-07-50-C2.compute-1.internal_1252418773830_job_200909081006_0004_root_Job3181357076430015345.jar.recover for recovery.
2009-09-08 10:15:13,587 INFO org.apache.hadoop.mapred.JobHistory: domU-12-31-39-07-50-C2.compute-1.internal_1252418773830_job_200909081006_0004_root_Job3181357076430015345.jar doesnt exist! Using domU-12-31-39-07-50-C2.compute-1.internal_1252418773830_job_200909081006_0004_root_Job3181357076430015345.jar.recover as the master history file for user.
2009-09-08 10:15:14,203 INFO org.apache.hadoop.mapred.JobInProgress: Input size for job job_200909081006_0004 = 260104276
2009-09-08 10:15:14,203 INFO org.apache.hadoop.mapred.JobInProgress: Split info for job:job_200909081006_0004 with 1 splits:
2009-09-08 10:15:14,203 INFO org.apache.hadoop.mapred.JobInProgress: tip:task_200909081006_0004_m_000000 has split on node:/default-rack/localhost
2009-09-08 10:15:16,080 INFO org.apache.hadoop.mapred.JobTracker: Adding task 'attempt_200909081006_0004_m_000002_0' to tip task_200909081006_0004_m_000002, for tracker 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:15:19,096 INFO org.apache.hadoop.mapred.JobInProgress: Task 'attempt_200909081006_0004_m_000002_0' has completed task_200909081006_0004_m_000002 successfully.
2009-09-08 10:15:19,097 INFO org.apache.hadoop.mapred.JobTracker: Adding task 'attempt_200909081006_0004_m_000000_0' to tip task_200909081006_0004_m_000000, for tracker 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:15:19,097 INFO org.apache.hadoop.mapred.JobInProgress: Choosing rack-local task task_200909081006_0004_m_000000
2009-09-08 10:15:43,146 INFO org.apache.hadoop.mapred.TaskInProgress: Error from attempt_200909081006_0004_m_000000_0: java.lang.OutOfMemoryError: Java heap space
	at java.util.Arrays.copyOf(Arrays.java:2760)
	at java.util.Arrays.copyOf(Arrays.java:2734)
	at java.util.ArrayList.ensureCapacity(ArrayList.java:167)
	at java.util.ArrayList.add(ArrayList.java:351)
	at org.apache.pig.builtin.PigStorage.readField(PigStorage.java:286)
	at org.apache.pig.builtin.PigStorage.getNext(PigStorage.java:117)
	at org.apache.pig.backend.executionengine.PigSlice.next(PigSlice.java:104)
	at org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.SliceWrapper$1.next(SliceWrapper.java:162)
	at org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.SliceWrapper$1.next(SliceWrapper.java:138)
	at org.apache.hadoop.mapred.MapTask$TrackedRecordReader.moveToNext(MapTask.java:191)
	at org.apache.hadoop.mapred.MapTask$TrackedRecordReader.next(MapTask.java:175)
	at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:48)
	at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:356)
	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:305)
	at org.apache.hadoop.mapred.Child.main(Child.java:170)

2009-09-08 10:15:46,151 INFO org.apache.hadoop.mapred.JobTracker: Adding task 'attempt_200909081006_0004_m_000000_1' to tip task_200909081006_0004_m_000000, for tracker 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:15:46,151 INFO org.apache.hadoop.mapred.JobInProgress: Choosing rack-local task task_200909081006_0004_m_000000
2009-09-08 10:15:46,151 INFO org.apache.hadoop.mapred.JobTracker: Removed completed task 'attempt_200909081006_0004_m_000000_0' from 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:16:10,341 INFO org.apache.hadoop.mapred.TaskInProgress: Error from attempt_200909081006_0004_m_000000_1: java.lang.OutOfMemoryError: Java heap space
	at java.util.Arrays.copyOf(Arrays.java:2760)
	at java.util.Arrays.copyOf(Arrays.java:2734)
	at java.util.ArrayList.ensureCapacity(ArrayList.java:167)
	at java.util.ArrayList.add(ArrayList.java:351)
	at org.apache.pig.builtin.PigStorage.readField(PigStorage.java:286)
	at org.apache.pig.builtin.PigStorage.getNext(PigStorage.java:117)
	at org.apache.pig.backend.executionengine.PigSlice.next(PigSlice.java:104)
	at org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.SliceWrapper$1.next(SliceWrapper.java:162)
	at org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.SliceWrapper$1.next(SliceWrapper.java:138)
	at org.apache.hadoop.mapred.MapTask$TrackedRecordReader.moveToNext(MapTask.java:191)
	at org.apache.hadoop.mapred.MapTask$TrackedRecordReader.next(MapTask.java:175)
	at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:48)
	at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:356)
	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:305)
	at org.apache.hadoop.mapred.Child.main(Child.java:170)

2009-09-08 10:16:13,345 INFO org.apache.hadoop.mapred.JobTracker: Adding task 'attempt_200909081006_0004_m_000000_2' to tip task_200909081006_0004_m_000000, for tracker 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:16:13,345 INFO org.apache.hadoop.mapred.JobInProgress: Choosing rack-local task task_200909081006_0004_m_000000
2009-09-08 10:16:13,345 INFO org.apache.hadoop.mapred.JobTracker: Removed completed task 'attempt_200909081006_0004_m_000000_1' from 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:16:37,468 INFO org.apache.hadoop.mapred.TaskInProgress: Error from attempt_200909081006_0004_m_000000_2: java.lang.OutOfMemoryError: Java heap space
	at java.util.Arrays.copyOf(Arrays.java:2760)
	at java.util.Arrays.copyOf(Arrays.java:2734)
	at java.util.ArrayList.ensureCapacity(ArrayList.java:167)
	at java.util.ArrayList.add(ArrayList.java:351)
	at org.apache.pig.builtin.PigStorage.readField(PigStorage.java:286)
	at org.apache.pig.builtin.PigStorage.getNext(PigStorage.java:117)
	at org.apache.pig.backend.executionengine.PigSlice.next(PigSlice.java:104)
	at org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.SliceWrapper$1.next(SliceWrapper.java:162)
	at org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.SliceWrapper$1.next(SliceWrapper.java:138)
	at org.apache.hadoop.mapred.MapTask$TrackedRecordReader.moveToNext(MapTask.java:191)
	at org.apache.hadoop.mapred.MapTask$TrackedRecordReader.next(MapTask.java:175)
	at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:48)
	at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:356)
	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:305)
	at org.apache.hadoop.mapred.Child.main(Child.java:170)

2009-09-08 10:16:40,472 INFO org.apache.hadoop.mapred.JobTracker: Adding task 'attempt_200909081006_0004_m_000000_3' to tip task_200909081006_0004_m_000000, for tracker 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:16:40,472 INFO org.apache.hadoop.mapred.JobInProgress: Choosing rack-local task task_200909081006_0004_m_000000
2009-09-08 10:16:40,472 INFO org.apache.hadoop.mapred.JobTracker: Removed completed task 'attempt_200909081006_0004_m_000000_2' from 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:17:04,550 INFO org.apache.hadoop.mapred.TaskInProgress: Error from attempt_200909081006_0004_m_000000_3: java.lang.OutOfMemoryError: Java heap space
	at java.util.Arrays.copyOf(Arrays.java:2760)
	at java.util.Arrays.copyOf(Arrays.java:2734)
	at java.util.ArrayList.ensureCapacity(ArrayList.java:167)
	at java.util.ArrayList.add(ArrayList.java:351)
	at org.apache.pig.builtin.PigStorage.readField(PigStorage.java:286)
	at org.apache.pig.builtin.PigStorage.getNext(PigStorage.java:117)
	at org.apache.pig.backend.executionengine.PigSlice.next(PigSlice.java:104)
	at org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.SliceWrapper$1.next(SliceWrapper.java:162)
	at org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.SliceWrapper$1.next(SliceWrapper.java:138)
	at org.apache.hadoop.mapred.MapTask$TrackedRecordReader.moveToNext(MapTask.java:191)
	at org.apache.hadoop.mapred.MapTask$TrackedRecordReader.next(MapTask.java:175)
	at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:48)
	at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:356)
	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:305)
	at org.apache.hadoop.mapred.Child.main(Child.java:170)

2009-09-08 10:17:07,554 INFO org.apache.hadoop.mapred.TaskInProgress: TaskInProgress task_200909081006_0004_m_000000 has failed 4 times.
2009-09-08 10:17:07,555 INFO org.apache.hadoop.mapred.JobInProgress: TaskTracker at 'domU-12-31-39-07-50-C2.compute-1.internal' turned 'flaky'
2009-09-08 10:17:07,555 INFO org.apache.hadoop.mapred.JobInProgress: Aborting job job_200909081006_0004
2009-09-08 10:17:07,555 INFO org.apache.hadoop.mapred.JobInProgress: Killing job 'job_200909081006_0004'
2009-09-08 10:17:07,555 INFO org.apache.hadoop.mapred.JobTracker: Adding task 'attempt_200909081006_0004_m_000001_0' to tip task_200909081006_0004_m_000001, for tracker 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:17:07,556 INFO org.apache.hadoop.mapred.JobTracker: Removed completed task 'attempt_200909081006_0004_m_000000_3' from 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:17:10,561 INFO org.apache.hadoop.mapred.JobInProgress: Task 'attempt_200909081006_0004_m_000001_0' has completed task_200909081006_0004_m_000001 successfully.
2009-09-08 10:17:10,606 INFO org.apache.hadoop.mapred.JobHistory: Recovered job history filename for job job_200909081006_0004 is domU-12-31-39-07-50-C2.compute-1.internal_1252418773830_job_200909081006_0004_root_Job3181357076430015345.jar
2009-09-08 10:17:10,660 INFO org.apache.hadoop.mapred.JobTracker: Removed completed task 'attempt_200909081006_0004_m_000000_0' from 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:17:10,660 INFO org.apache.hadoop.mapred.JobTracker: Removed completed task 'attempt_200909081006_0004_m_000000_1' from 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:17:10,660 INFO org.apache.hadoop.mapred.JobTracker: Removed completed task 'attempt_200909081006_0004_m_000000_2' from 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:17:10,660 INFO org.apache.hadoop.mapred.JobTracker: Removed completed task 'attempt_200909081006_0004_m_000000_3' from 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:17:10,660 INFO org.apache.hadoop.mapred.JobTracker: Removed completed task 'attempt_200909081006_0004_m_000001_0' from 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
2009-09-08 10:17:10,660 INFO org.apache.hadoop.mapred.JobTracker: Removed completed task 'attempt_200909081006_0004_m_000002_0' from 'tracker_domU-12-31-39-07-50-C2.compute-1.internal:localhost.localdomain/127.0.0.1:57318'
[root@domU-12-31-39-07-50-C2 ~]# 


--------------060000010608080107060908
Content-Type: text/xml;
 name="hadoop_gzip_hadoop_site.xml"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="hadoop_gzip_hadoop_site.xml"

<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>

<configuration>

<property>
  <name>hadoop.tmp.dir</name>
  <value>/mnt/hadoop</value>
</property>

<property>
  <name>fs.default.name</name>
  <value>hdfs://domU-12-31-39-07-50-C2.compute-1.internal:50001</value>
</property>

<property>
  <name>mapred.job.tracker</name>
  <value>hdfs://domU-12-31-39-07-50-C2.compute-1.internal:50002</value>
</property>

<property>
  <name>tasktracker.http.threads</name>
  <value>80</value>
</property>

<property>
<name>mapred.reduce.parallel.copies</name>
<value>1</value>
</property>
<property>
<name>mapred.reduce.tasks</name>
<value>1</value>
</property>

<property>
  <name>mapred.tasktracker.map.tasks.maximum</name>
  <value>3</value>
</property>

<property>
  <name>mapred.tasktracker.reduce.tasks.maximum</name>
  <value>3</value>
</property>

<property>
  <name>mapred.output.compress</name>
  <value>true</value>
</property>

<property>
  <name>mapred.output.compression.type</name>
  <value>BLOCK</value>
</property>

<property>
  <name>dfs.client.block.write.retries</name>
  <value>3</value>
</property>

<property>
  <name>mapred.child.java.opts</name>
  <value>-Xmx550m</value>
</property>

<property>
<name>io.compression.codecs</name>

<value>org.apache.hadoop.io.compress.DefaultCodec,org.apache.hadoop.io.compress.GzipCodec</value>
<description>A list of the compression codec classes that can be used for compression/decompression.</description>
</property>

<property>
  <name>fs.s3.awsAccessKeyId</name>
  <value>xxxx</value>
</property>
<property>
  <name>fs.s3.awsSecretAccessKey</name>
  <value>xxxx</value>
</property>
<property>
  <name>fs.s3n.awsAccessKeyId</name>
  <value>xxxx</value>
</property>
<property>
  <name>fs.s3n.awsSecretAccessKey</name>
  <value>xxxx</value>
</property>

</configuration>


--------------060000010608080107060908--

From common-user-return-17338-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 08 17:24:35 2009
Return-Path: <common-user-return-17338-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 19541 invoked from network); 8 Sep 2009 17:24:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 8 Sep 2009 17:24:35 -0000
Received: (qmail 75302 invoked by uid 500); 8 Sep 2009 17:24:32 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 75244 invoked by uid 500); 8 Sep 2009 17:24:32 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 75234 invoked by uid 99); 8 Sep 2009 17:24:32 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Sep 2009 17:24:32 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of yuzhihong@gmail.com designates 74.125.92.24 as permitted sender)
Received: from [74.125.92.24] (HELO qw-out-2122.google.com) (74.125.92.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Sep 2009 17:24:24 +0000
Received: by qw-out-2122.google.com with SMTP id 9so78371qwb.35
        for <common-user@hadoop.apache.org>; Tue, 08 Sep 2009 10:24:04 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=zxeQiV1y7uB44KcjjNDwqIW5iak97vp9CEOVHomc7So=;
        b=rkqMSUBvkJJgfPrUAb/YZ0cZRAJwH1SWlK+u6z8DSRzhDMDaQ4it8dcr5ljIA2bHsc
         sS69b1Mtro0fLtKbn3kHiUF85vbKGqQOv3rOOOqPLrpzRdyVoWa0OUqoSqPEyaJVo5Zg
         Zv2f6OlJYfkjQi7lG3TRw+GhBkUhSZjwwN3zU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=I8j7nglr3YeqgIPBuFgtRAyD8PyRgY7Srj77nLWp7d6KAPOTLXAKivb3k8FU1XiTCb
         WYIZBOA4Xg4Q3Qr/EKUB3IO+wZLgi8D3FjEL2EekqLm5jS+A5W9ttSYwgh0hdrEiRLh7
         sa9aRB4abrvZevCV/tKnVptR5qAmZYw8wdilk=
MIME-Version: 1.0
Received: by 10.229.2.23 with SMTP id 23mr4029084qch.87.1252430643933; Tue, 08 
	Sep 2009 10:24:03 -0700 (PDT)
In-Reply-To: <35538fbe0909071621x4c07d1baod665ee347f186501@mail.gmail.com>
References: <17e273100909070218v4659e2dcu8598207843adeed6@mail.gmail.com>
	 <2EBE5668-CC80-4151-8577-2A923C4A1AFF@cse.unl.edu>
	 <17e273100909071444h664758e7tb6f5260edacad07a@mail.gmail.com>
	 <17e273100909071503i2fa08ec8q312c8ab06a074dca@mail.gmail.com>
	 <35538fbe0909071621x4c07d1baod665ee347f186501@mail.gmail.com>
Date: Tue, 8 Sep 2009 10:24:03 -0700
Message-ID: <17e273100909081024x63fa8a13m72e5909d958277fa@mail.gmail.com>
Subject: Re: HDFS and Linux File System
From: Ted Yu <yuzhihong@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=001485394142a331c20473143b9b
X-Virus-Checked: Checked by ClamAV on apache.org

--001485394142a331c20473143b9b
Content-Type: text/plain; charset=ISO-8859-1

[hadoop@vh20 ~]$ svn co http://svn.apache.org/viewvc/hadoop/chukwa/
svn: PROPFIND request failed on '/viewvc/hadoop/chukwa'
svn: PROPFIND of '/viewvc/hadoop/chukwa': 302 Found (http://svn.apache.org)


On Mon, Sep 7, 2009 at 4:21 PM, Matt Massie <matt@cloudera.com> wrote:

> You can find chukwa at...
>
> http://svn.apache.org/viewvc/hadoop/chukwa/
>
> -Matt
>
>
> On Mon, Sep 7, 2009 at 3:03 PM, Ted Yu <yuzhihong@gmail.com> wrote:
>
> >
> http://svn.apache.org/viewvc/hadoop/core/trunk/src/contrib/chukwa/produced
> > an exception.
> > And Chukwa isn't in hadoop/src/contrib of 0.20.0
> >
> > On Mon, Sep 7, 2009 at 2:44 PM, Ted Yu <yuzhihong@gmail.com> wrote:
> >
> > > I tried to compile fuse-dfs. libhdfs.so has been compiled.
> > >
> > > Under hadoop/src/contrib/fuse-dfs:
> > > ant -Dlibhdfs=1 -Dfusedfs=1
> > >
> > > Then I got:
> > >      [exec] make[1]: Entering directory
> > > `/usr/local/hadoop/src/contrib/fuse-dfs/src'
> > >      [exec] if gcc -DPACKAGE_NAME=\"fuse_dfs\"
> > > -DPACKAGE_TARNAME=\"fuse_dfs\" -DPACKAGE_VERSION=\"0.1.0\"
> > > -DPACKAGE_STRING=\"fuse_dfs\ 0.1.0\" -DPACKAGE_BUGREPORT=\"\"
> > > -DGETGROUPS_T=gid_t -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1
> > > -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1
> -DHAVE_MEMORY_H=1
> > > -DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1
> > -DHAVE_UNISTD_H=1
> > > -DHAVE_GETGROUPS=1 -DGETGROUPS_T=gid_t  -I. -I.  -DPERMS=1
> > > -D_FILE_OFFSET_BITS=64
> -I/usr/lib/jvm/java-1.6.0-openjdk-1.6.0.0/include
> > > -I/usr/local/hadoop/src/c++/libhdfs/
> > > -I/usr/lib/jvm/java-1.6.0-openjdk-1.6.0.0/include/linux/
> > > -D_FUSE_DFS_VERSION=\"0.1.0\" -DPROTECTED_PATHS=\"\" -I/include   -Wall
> > -O3
> > > -MT fuse_dfs.o -MD -MP -MF ".deps/fuse_dfs.Tpo" -c -o fuse_dfs.o
> > fuse_dfs.c;
> > > \
> > >      [exec]     then mv -f ".deps/fuse_dfs.Tpo" ".deps/fuse_dfs.Po";
> else
> > > rm -f ".deps/fuse_dfs.Tpo"; exit 1; fi
> > >      [exec] In file included from fuse_dfs.c:19:
> > >      [exec] fuse_dfs.h:31:18: error: fuse.h: No such file or directory
> > >      [exec] fuse_dfs.h:32:27: error: fuse/fuse_opt.h: No such file or
> > > directory
> > >      [exec] In file included from fuse_dfs.c:20:
> > >
> > > Where can I find fuse_opt.h and fuse.h ?
> > >
> > > Thanks
> > >
> > >
> > > On Mon, Sep 7, 2009 at 12:08 PM, Brian Bockelman <bbockelm@cse.unl.edu
> > >wrote:
> > >
> > >> Hey Ted,
> > >>
> > >> It's hard to avoid copying files, unless if you are able to change
> your
> > >> application to talk to HDFS directly (and even then, there are a lot
> of
> > >> "gotchas" that you wouldn't have to put up with at an application
> level
> > --
> > >> look at the Chukwa paper).
> > >>
> > >> I would advise looking at Chukwa,
> http://wiki.apache.org/hadoop/Chukwa,
> > >> and then rotating logfiles quickly.
> > >>
> > >> Facebook's Scribe is supposed to do this sort of stuff too (and is
> very
> > >> impressive), but I'm not familiar with it.  On face value, it appears
> > that
> > >> it might take more effort to get scribe well-integrated, but it would
> > have
> > >> more functionality.
> > >>
> > >> Brian
> > >>
> > >>
> > >> On Sep 7, 2009, at 4:18 AM, Ted Yu wrote:
> > >>
> > >>  We're using hadoop 0.20.0 to analyze large log files from web
> servers.
> > >>> I am looking for better HDFS support so that I don't have to copy log
> > >>> files
> > >>> from Linux File System over.
> > >>>
> > >>> Please comment.
> > >>>
> > >>> Thanks
> > >>>
> > >>
> > >>
> > >
> >
>

--001485394142a331c20473143b9b--

From common-user-return-17339-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 08 17:32:17 2009
Return-Path: <common-user-return-17339-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 22445 invoked from network); 8 Sep 2009 17:32:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 8 Sep 2009 17:32:17 -0000
Received: (qmail 90972 invoked by uid 500); 8 Sep 2009 17:32:14 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 90883 invoked by uid 500); 8 Sep 2009 17:32:14 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 90859 invoked by uid 99); 8 Sep 2009 17:32:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Sep 2009 17:32:14 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of cubicdesign@gmail.com designates 209.85.220.218 as permitted sender)
Received: from [209.85.220.218] (HELO mail-fx0-f218.google.com) (209.85.220.218)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Sep 2009 17:32:05 +0000
Received: by fxm18 with SMTP id 18so198880fxm.29
        for <common-user@hadoop.apache.org>; Tue, 08 Sep 2009 10:31:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:message-id:date:from
         :user-agent:mime-version:to:subject:content-type;
        bh=FXHMsRTJfRfe+ZyXTmCcGtZ5rGZDNf5//UcMwruLfAQ=;
        b=oP1Vq1vDbkZWVgqO57wdkHzU69imKiyWBrrfZWlfZa01F3L8w7zSU0U2Lal7ljMA7o
         3t4Nriy2+WOCyxxwGfcXo4CkDedUpJBFqnZjzvl0RkyqtfGl4FaY42xCoHoOeA4Xomvt
         lSfe69hMQNULYU8yD7kIe9RkYm9/WzYgBDrOU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:user-agent:mime-version:to:subject
         :content-type;
        b=k47j8xmR10PaIfSYiM97WIWQgV9vPi7CX2PZV+nhMSe663L0uelG8r7E3CIa/7aQEh
         Brl5/lZsLKW5oe+HkUq0SKiEOXjLFNWFBAnTTOCwOhIcXXn5Xvz9rF8IWvgGVkGt6M/g
         hhM7v3YkMW4p2PwSXa4p7k5QXKcxsQjQAqje0=
Received: by 10.204.24.71 with SMTP id u7mr2229768bkb.35.1252431103839;
        Tue, 08 Sep 2009 10:31:43 -0700 (PDT)
Received: from ?192.168.220.104? (host-091-096-213-029.ewe-ip-backbone.de [91.96.213.29])
        by mx.google.com with ESMTPS id 35sm395910fkt.16.2009.09.08.10.31.42
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Tue, 08 Sep 2009 10:31:42 -0700 (PDT)
Message-ID: <4AA694FA.3040702@Gmail.com>
Date: Tue, 08 Sep 2009 19:31:38 +0200
From: CubicDesign <cubicdesign@gmail.com>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: common-user@hadoop.apache.org
Subject: Cluster size for Linux file system
Content-Type: multipart/alternative;
 boundary="------------010603090303080005080503"
X-Virus-Checked: Checked by ClamAV on apache.org

--------------010603090303080005080503
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Which is the best disk cluster size for a Linux partition (let's say 
ext3) when using Hadoop on top of it?
The default size is 4KB. It will Hadoop get an advantage if I format the 
disk cluster to 8 or 16KB, or even more?

--------------010603090303080005080503--

From common-user-return-17340-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 08 20:16:35 2009
Return-Path: <common-user-return-17340-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 77060 invoked from network); 8 Sep 2009 20:16:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 8 Sep 2009 20:16:35 -0000
Received: (qmail 42412 invoked by uid 500); 8 Sep 2009 20:16:32 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 42342 invoked by uid 500); 8 Sep 2009 20:16:32 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 42331 invoked by uid 500); 8 Sep 2009 20:16:32 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 42328 invoked by uid 99); 8 Sep 2009 20:16:32 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Sep 2009 20:16:32 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of markkerzner@gmail.com designates 72.14.220.156 as permitted sender)
Received: from [72.14.220.156] (HELO fg-out-1718.google.com) (72.14.220.156)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Sep 2009 20:16:24 +0000
Received: by fg-out-1718.google.com with SMTP id e12so1058614fga.11
        for <core-user@hadoop.apache.org>; Tue, 08 Sep 2009 13:16:03 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:date:message-id:subject
         :from:to:content-type;
        bh=TFz5DFygs7xEjNYEckZQSQifcUM/Lh63CcIt3jW8LHA=;
        b=LRT+m0E9c2iLHMWBwFCCG9MI5eld/Sz/HIglUYis9UZMKZ6v79ScQk6pDMeJE4Q2Xe
         PLBI1MMW+TwNnMOZznln8w22D6v2vso1tQ0Fqss8/1ZeXjz2l3a+5ePrm7RFBbn+U9th
         3oAGH6VWs0yz5/7R7oq0k8WlH5hKWzqa6BCtc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=Kg6ZmI3QAu8b7QXildXcLCRy4nbJMkD8zmaUbajpelYrFPkdKAaxfmrYc/3gT9/DWt
         BNTfOg3ot1oyX9aRby23OTjAulJpg6ERBCVA2gO8aAbdqmkcR/aL7qR1FWAn70C5S5x2
         umDQXS/y5aQHxpmE3sKvkHlACdNhsjbpQv5co=
MIME-Version: 1.0
Received: by 10.239.168.204 with SMTP id l12mr1378769hbe.36.1252440962985; 
	Tue, 08 Sep 2009 13:16:02 -0700 (PDT)
Date: Tue, 8 Sep 2009 15:16:02 -0500
Message-ID: <c9b0d8bd0909081316o122b502ar7a1a1fef3ce81b5c@mail.gmail.com>
Subject: Code re-use?
From: Mark Kerzner <markkerzner@gmail.com>
To: core-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=00163646bca8b370a0047316a2c4
X-Virus-Checked: Checked by ClamAV on apache.org

--00163646bca8b370a0047316a2c4
Content-Type: text/plain; charset=ISO-8859-1

Hi,
I have some code that's common between the main class, mapper, and reducer.
Can I put it only in the main class and use it from mapper and reducer?

A similar question about static variables in the main - are the available
from mapper and reducer?

Thank you,
Mark

--00163646bca8b370a0047316a2c4--

From common-user-return-17341-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 08 20:25:22 2009
Return-Path: <common-user-return-17341-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 79323 invoked from network); 8 Sep 2009 20:25:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 8 Sep 2009 20:25:22 -0000
Received: (qmail 57064 invoked by uid 500); 8 Sep 2009 20:25:20 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 56972 invoked by uid 500); 8 Sep 2009 20:25:19 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 56962 invoked by uid 500); 8 Sep 2009 20:25:19 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 56959 invoked by uid 99); 8 Sep 2009 20:25:19 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Sep 2009 20:25:19 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of lists@nabble.com designates 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Sep 2009 20:25:08 +0000
Received: from isper.nabble.com ([192.168.236.156])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lists@nabble.com>)
	id 1Ml7FA-0002xd-2J
	for core-user@hadoop.apache.org; Tue, 08 Sep 2009 13:24:48 -0700
Message-ID: <25353479.post@talk.nabble.com>
Date: Tue, 8 Sep 2009 13:24:48 -0700 (PDT)
From: simon0809 <simon@davinea.com>
To: core-user@hadoop.apache.org
Subject: Installation questions
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: simon@davinea.com
X-Virus-Checked: Checked by ClamAV on apache.org


hi,

   I have set up both root and my login user to use tcsh, the hadoop-env.sh
seems to be using bash, will this work?  Should I create a hadoop-env.tcsh
instead?

thanks
Simon
-- 
View this message in context: http://www.nabble.com/Installation-questions-tp25353479p25353479.html
Sent from the Hadoop core-user mailing list archive at Nabble.com.


From common-user-return-17342-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 08 20:47:41 2009
Return-Path: <common-user-return-17342-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 89493 invoked from network); 8 Sep 2009 20:47:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 8 Sep 2009 20:47:41 -0000
Received: (qmail 91189 invoked by uid 500); 8 Sep 2009 20:47:39 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 91107 invoked by uid 500); 8 Sep 2009 20:47:38 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 91097 invoked by uid 99); 8 Sep 2009 20:47:38 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Sep 2009 20:47:38 +0000
X-ASF-Spam-Status: No, hits=3.4 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.222.190] (HELO mail-pz0-f190.google.com) (209.85.222.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 08 Sep 2009 20:47:27 +0000
Received: by pzk28 with SMTP id 28so467928pzk.20
        for <common-user@hadoop.apache.org>; Tue, 08 Sep 2009 13:47:05 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.141.18.18 with SMTP id v18mr1877867rvi.10.1252442812264; Tue, 
	08 Sep 2009 13:46:52 -0700 (PDT)
In-Reply-To: <25353479.post@talk.nabble.com>
References: <25353479.post@talk.nabble.com>
Date: Tue, 8 Sep 2009 13:46:52 -0700
Message-ID: <35538fbe0909081346h1d8aa156td7c639c2992e4b00@mail.gmail.com>
Subject: Re: Installation questions
From: Matt Massie <matt@cloudera.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=000e0cd15078ed319b0473171085
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd15078ed319b0473171085
Content-Type: text/plain; charset=ISO-8859-1

Simon-

You don't need to create a hadoop-env.tcsh file.  In general, you can run
bash scripts from a tcsh shell without a problem just as you can run perl or
python scripts.  The hadoop-env.sh script is sourced by the "hadoop" bash
script when it's executed.

-Matt

On Tue, Sep 8, 2009 at 1:24 PM, simon0809 <simon@davinea.com> wrote:

>
> hi,
>
>   I have set up both root and my login user to use tcsh, the hadoop-env.sh
> seems to be using bash, will this work?  Should I create a hadoop-env.tcsh
> instead?
>
> thanks
> Simon
> --
> View this message in context:
> http://www.nabble.com/Installation-questions-tp25353479p25353479.html
> Sent from the Hadoop core-user mailing list archive at Nabble.com.
>
>

--000e0cd15078ed319b0473171085--

From common-user-return-17343-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 08 23:29:13 2009
Return-Path: <common-user-return-17343-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 95881 invoked from network); 8 Sep 2009 23:29:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 8 Sep 2009 23:29:13 -0000
Received: (qmail 6495 invoked by uid 500); 8 Sep 2009 23:29:10 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 6407 invoked by uid 500); 8 Sep 2009 23:29:10 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Delivered-To: moderator for common-user@hadoop.apache.org
Received: (qmail 93595 invoked by uid 99); 4 Sep 2009 18:58:20 -0000
X-ASF-Spam-Status: No, hits=4.8 required=10.0
	tests=HTML_MESSAGE,RCVD_NUMERIC_HELO,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
X-MimeOLE: Produced By Microsoft Exchange V6.5
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01CA2D91.979779F1"
x-cr-puzzleid: {7CE84828-5CD0-4729-9FCA-FB0553922438}
Content-class: urn:content-classes:message
x-cr-hashedpuzzle: q84= Au7Q Bjfc CJu+ CqVO EIc2 EVil Ehca E9IL FLyK FeoD G6Pk H58b IAAb Iqou JvrT;1;YwBvAG0AbQBvAG4ALQB1AHMAZQByAEAAaABhAGQAbwBvAHAALgBhAHAAYQBjAGgAZQAuAG8AcgBnAA==;Sosha1_v1;7;{7CE84828-5CD0-4729-9FCA-FB0553922438};dAB5AHUAQAB3AGUAYgByAG8AbwB0AC4AYwBvAG0A;Fri, 04 Sep 2009 18:57:44 GMT;bQBlAGEAcwB1AHIAaQBuAGcAIABtAGUAbQBvAHIAeQAgAHUAcwBhAGcAZQA=
Subject: measuring memory usage
Date: Fri, 4 Sep 2009 11:57:44 -0700
Message-ID: <4E7ADE3F257DBB4ABAAE30A19A04041F02FF33D3@CORMTVMX1.boulder.webroot.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: measuring memory usage
Thread-Index: AcotkZYL+aqkFIViQeSyTSgjk3dAKQ==
From: "Ted Yu" <TYu@webroot.com>
To: <common-user@hadoop.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

------_=_NextPart_001_01CA2D91.979779F1
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,

I am using Hadoop 0.20

=20

How can I get pass the exception below ?

=20

[hadoop@vh20 hadoop]$ jmap -heap 3837

Attaching to process ID 3837, please wait...

sun.jvm.hotspot.debugger.NoSuchSymbolException: Could not find symbol
"gHotSpotVMTypeEntryTypeNameOffset" in any of the known library names
(libjvm.so, libjvm_g.so, gamma_g)

        at
sun.jvm.hotspot.HotSpotTypeDataBase.lookupInProcess(HotSpotTypeDataBase.
java:388)

        at
sun.jvm.hotspot.HotSpotTypeDataBase.getLongValueFromProcess(HotSpotTypeD
ataBase.java:369)

        at
sun.jvm.hotspot.HotSpotTypeDataBase.readVMTypes(HotSpotTypeDataBase.java
:102)

        at
sun.jvm.hotspot.HotSpotTypeDataBase.<init>(HotSpotTypeDataBase.java:85)

        at
sun.jvm.hotspot.bugspot.BugSpotAgent.setupVM(BugSpotAgent.java:568)

        at
sun.jvm.hotspot.bugspot.BugSpotAgent.go(BugSpotAgent.java:494)

        at
sun.jvm.hotspot.bugspot.BugSpotAgent.attach(BugSpotAgent.java:332)

        at sun.jvm.hotspot.tools.Tool.start(Tool.java:163)

        at sun.jvm.hotspot.tools.HeapSummary.main(HeapSummary.java:39)

        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)

        at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.jav
a:57)

        at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessor
Impl.java:43)

        at java.lang.reflect.Method.invoke(Method.java:616)

        at sun.tools.jmap.JMap.runTool(JMap.java:196)

        at sun.tools.jmap.JMap.main(JMap.java:128)

Debugger attached successfully.

sun.jvm.hotspot.tools.HeapSummary requires a java VM process/core!

=20

Thanks


------_=_NextPart_001_01CA2D91.979779F1--

From common-user-return-17344-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 09 01:22:26 2009
Return-Path: <common-user-return-17344-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 43845 invoked from network); 9 Sep 2009 01:22:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Sep 2009 01:22:26 -0000
Received: (qmail 84093 invoked by uid 500); 9 Sep 2009 01:22:23 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 84004 invoked by uid 500); 9 Sep 2009 01:22:23 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 83994 invoked by uid 500); 9 Sep 2009 01:22:23 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 83991 invoked by uid 99); 9 Sep 2009 01:22:23 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2009 01:22:23 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of sampritavh@gmail.com designates 209.85.132.244 as permitted sender)
Received: from [209.85.132.244] (HELO an-out-0708.google.com) (209.85.132.244)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2009 01:22:14 +0000
Received: by an-out-0708.google.com with SMTP id c38so1493434ana.29
        for <core-user@hadoop.apache.org>; Tue, 08 Sep 2009 18:21:53 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:from:date:message-id
         :subject:to:content-type;
        bh=viLU8oHrZhq8KRBk8hLwesMTzV8x3bLjjuERFoGKdmc=;
        b=uvFRZvrUrCUgxMO1RosY46bqRRE/eShDxChQdbjyI0+qQhIjNJBjIsz1B9Hcxn/yv2
         UWAd3wyIwHcTgtqGn3MrPcXQeeTkao9JfXEodT7TM/zu/ArW14XRxWP5SlUkZ4a4ofJ8
         7oFjDWTYYA2dPzpcsKSMbi6DkKE9hH8TDXU2o=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:from:date:message-id:subject:to:content-type;
        b=UCIFk+ErlnuQjmaZQZsBFI+uSZXoEYf64lOkEfn69y0d+kMi9QcamibFy2jg5/WK4C
         dEoNU7r898nmWhxGpCufO4HKH8KxAoXg/Qxy3fPWy4KpJ9hyvogtQEHKTB3dsjs7jvHj
         U5O0uYsAZFyN4ZmbN3NzVygyUyyaTo56QaiNw=
MIME-Version: 1.0
Received: by 10.101.113.12 with SMTP id q12mr17780093anm.124.1252459313408; 
	Tue, 08 Sep 2009 18:21:53 -0700 (PDT)
From: Samprita Hegde <sampritavh@gmail.com>
Date: Tue, 8 Sep 2009 21:21:33 -0400
Message-ID: <bfca79780909081821v6a83f165n71d7d9c0f1387f3b@mail.gmail.com>
Subject: Using Ganglia with hadoop 0.19.0 on Amazon EC2
To: core-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=001636eee22f78acad04731ae8cf
X-Virus-Checked: Checked by ClamAV on apache.org

--001636eee22f78acad04731ae8cf
Content-Type: text/plain; charset=ISO-8859-1

Hello All,
    I am trying to study the performance of ec2 cluster when it is running
hadoop. But I am not able get ganglia up and running. Can someone please
guide me as how to use/configure Ganglia to be able to run with hadoop . I
am using an public ec2 image that has hadoop-0.19.0. I have used the ganglia
configuration that comes with the hadoop-ec2 scripts in the hadoop-package.


The ganglia version  that is running is ganglia 3.0.5.

Thanks and Regards,
Samprita

--001636eee22f78acad04731ae8cf--

From common-user-return-17345-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 09 02:03:06 2009
Return-Path: <common-user-return-17345-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 56077 invoked from network); 9 Sep 2009 02:03:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Sep 2009 02:03:05 -0000
Received: (qmail 25311 invoked by uid 500); 9 Sep 2009 02:03:03 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 25261 invoked by uid 500); 9 Sep 2009 02:03:03 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 25251 invoked by uid 99); 9 Sep 2009 02:03:03 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2009 02:03:03 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [98.136.44.35] (HELO n62.bullet.mail.sp1.yahoo.com) (98.136.44.35)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 09 Sep 2009 02:02:53 +0000
Received: from [216.252.122.218] by n62.bullet.mail.sp1.yahoo.com with NNFMP; 09 Sep 2009 02:02:32 -0000
Received: from [67.195.9.82] by t3.bullet.sp1.yahoo.com with NNFMP; 09 Sep 2009 02:02:32 -0000
Received: from [67.195.9.99] by t2.bullet.mail.gq1.yahoo.com with NNFMP; 09 Sep 2009 02:02:32 -0000
Received: from [127.0.0.1] by omp103.mail.gq1.yahoo.com with NNFMP; 09 Sep 2009 02:02:32 -0000
X-Yahoo-Newman-Property: ymail-3
X-Yahoo-Newman-Id: 393724.40283.bm@omp103.mail.gq1.yahoo.com
Received: (qmail 16479 invoked by uid 60001); 9 Sep 2009 02:02:32 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1252461752; bh=u2JRvlFUIzQAQn/0XqY/W5bA64hyBsVj0BJ1Ic7gZCw=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=2+7oQc69Xd0bB+qLuyWqvkDfGbXJ5F3Z8nD3Uc1hGFrutYEaAdrIwKhbvjm/VG/HTFBn+ZKry5KntpgIWMPDu4LaxHACdtUpviZaScBDlzU8GhMJQ6ET6z22LKaagWp3XKTBv5Za3PwNyx4f5ZiUk0R7Wngy2InKy3nB62BdBG8=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=qz/vLW8KmkUMop0l62vO+sVjYTWDrSW2ogTccz9M+mBqjS6xn9BNvRhVj05t0cEZzHZr7IRcUbnE5OwGhzmcbO1L13hYdI3twQZprlnFjzelkwjvEN9BPxTTCoE4u18lkfk+MOkpoitGaDAnBTUE5Q9y2TW32Zp5tqymerJwd0o=;
Message-ID: <299622.16440.qm@web110105.mail.gq1.yahoo.com>
X-YMail-OSG: jOFV4xAVM1mMmlv1AnLnxxpFyTxINdNvQV3oebR9h7gIyo3ZoeLpb.avoz9IEpp0qUXsN2ohlv6kKCyCF6Z9XCS7B77pAIeEOyrac96pjMPIfJ15__CLgf6jx5b3KBIPXqsSxTJOkybqgTViL02DCMpidUlf6FoHaT3CvRdknlwvcMd9vvJk8iA268B5smJRLLE8O.DpJjDXDDNhUiIlDC0iCRj9wN.io4xehPsqL6QBK6vSRmci4uLDDzyceqE4Ev9AQL87WFklbcdad2ku6pxVwv8cQPx.EE8bV6c63eT_7pF7Vqn7yyI_WgsomIGz8ETWA7cgaSvVsA--
Received: from [71.135.13.106] by web110105.mail.gq1.yahoo.com via HTTP; Tue, 08 Sep 2009 19:02:32 PDT
X-Mailer: YahooMailRC/1358.27 YahooMailWebService/0.7.347.2
References: <4E7ADE3F257DBB4ABAAE30A19A04041F02FF33D3@CORMTVMX1.boulder.webroot.com>
Date: Tue, 8 Sep 2009 19:02:32 -0700 (PDT)
From: Arvind Sharma <arvind321@yahoo.com>
Subject: Re: measuring memory usage
To: common-user@hadoop.apache.org
In-Reply-To: <4E7ADE3F257DBB4ABAAE30A19A04041F02FF33D3@CORMTVMX1.boulder.webroot.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1009269950-1252461752=:16440"
X-Virus-Checked: Checked by ClamAV on apache.org

--0-1009269950-1252461752=:16440
Content-Type: text/plain; charset=us-ascii

Which OS you are running the command ?  Linux/MacOS/Windows ?

Which JDK version ?

Arvind




________________________________
From: Ted Yu <TYu@webroot.com>
To: common-user@hadoop.apache.org
Sent: Friday, September 4, 2009 11:57:44 AM
Subject: measuring memory usage

Hi,

I am using Hadoop 0.20



How can I get pass the exception below ?



[hadoop@vh20 hadoop]$ jmap -heap 3837

Attaching to process ID 3837, please wait...

sun.jvm.hotspot.debugger.NoSuchSymbolException: Could not find symbol
"gHotSpotVMTypeEntryTypeNameOffset" in any of the known library names
(libjvm.so, libjvm_g.so, gamma_g)

        at
sun.jvm.hotspot.HotSpotTypeDataBase.lookupInProcess(HotSpotTypeDataBase.
java:388)

        at
sun.jvm.hotspot.HotSpotTypeDataBase.getLongValueFromProcess(HotSpotTypeD
ataBase.java:369)

        at
sun.jvm.hotspot.HotSpotTypeDataBase.readVMTypes(HotSpotTypeDataBase.java
:102)

        at
sun.jvm.hotspot.HotSpotTypeDataBase.<init>(HotSpotTypeDataBase.java:85)

        at
sun.jvm.hotspot.bugspot.BugSpotAgent.setupVM(BugSpotAgent.java:568)

        at
sun.jvm.hotspot.bugspot.BugSpotAgent.go(BugSpotAgent.java:494)

        at
sun.jvm.hotspot.bugspot.BugSpotAgent.attach(BugSpotAgent.java:332)

        at sun.jvm.hotspot.tools.Tool.start(Tool.java:163)

        at sun.jvm.hotspot.tools.HeapSummary.main(HeapSummary.java:39)

        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)

        at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.jav
a:57)

        at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessor
Impl.java:43)

        at java.lang.reflect.Method.invoke(Method.java:616)

        at sun.tools.jmap.JMap.runTool(JMap.java:196)

        at sun.tools.jmap.JMap.main(JMap.java:128)

Debugger attached successfully.

sun.jvm.hotspot.tools.HeapSummary requires a java VM process/core!



Thanks


      
--0-1009269950-1252461752=:16440--


From common-user-return-17346-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 09 02:22:41 2009
Return-Path: <common-user-return-17346-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 61537 invoked from network); 9 Sep 2009 02:22:41 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Sep 2009 02:22:41 -0000
Received: (qmail 36028 invoked by uid 500); 9 Sep 2009 02:22:39 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 35955 invoked by uid 500); 9 Sep 2009 02:22:39 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 35945 invoked by uid 99); 9 Sep 2009 02:22:39 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2009 02:22:39 +0000
X-ASF-Spam-Status: No, hits=3.4 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.216.173] (HELO mail-px0-f173.google.com) (209.85.216.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2009 02:22:31 +0000
Received: by pxi3 with SMTP id 3so1073156pxi.31
        for <common-user@hadoop.apache.org>; Tue, 08 Sep 2009 19:22:10 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.141.37.10 with SMTP id p10mr3596876rvj.34.1252462930910; Tue, 
	08 Sep 2009 19:22:10 -0700 (PDT)
In-Reply-To: <bfca79780909081821v6a83f165n71d7d9c0f1387f3b@mail.gmail.com>
References: <bfca79780909081821v6a83f165n71d7d9c0f1387f3b@mail.gmail.com>
Date: Tue, 8 Sep 2009 19:22:10 -0700
Message-ID: <35538fbe0909081922k261b2435w542963cfecd910f7@mail.gmail.com>
Subject: Re: Using Ganglia with hadoop 0.19.0 on Amazon EC2
From: Matt Massie <matt@cloudera.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=000e0cd1d4ba175f4a04731bc0b1
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd1d4ba175f4a04731bc0b1
Content-Type: text/plain; charset=ISO-8859-1

I should be able to help you out.

What AMI are you using?  What linux distribution?

-Matt

On Tue, Sep 8, 2009 at 6:21 PM, Samprita Hegde <sampritavh@gmail.com> wrote:

> Hello All,
>    I am trying to study the performance of ec2 cluster when it is running
> hadoop. But I am not able get ganglia up and running. Can someone please
> guide me as how to use/configure Ganglia to be able to run with hadoop . I
> am using an public ec2 image that has hadoop-0.19.0. I have used the
> ganglia
> configuration that comes with the hadoop-ec2 scripts in the hadoop-package.
>
>
> The ganglia version  that is running is ganglia 3.0.5.
>
> Thanks and Regards,
> Samprita
>

--000e0cd1d4ba175f4a04731bc0b1--

From common-user-return-17347-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 09 02:50:15 2009
Return-Path: <common-user-return-17347-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 68230 invoked from network); 9 Sep 2009 02:50:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Sep 2009 02:50:15 -0000
Received: (qmail 49752 invoked by uid 500); 9 Sep 2009 02:50:12 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 49664 invoked by uid 500); 9 Sep 2009 02:50:12 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 49654 invoked by uid 99); 9 Sep 2009 02:50:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2009 02:50:12 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of sampritavh@gmail.com designates 209.85.132.248 as permitted sender)
Received: from [209.85.132.248] (HELO an-out-0708.google.com) (209.85.132.248)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2009 02:50:03 +0000
Received: by an-out-0708.google.com with SMTP id c38so1514898ana.29
        for <common-user@hadoop.apache.org>; Tue, 08 Sep 2009 19:49:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=ppqgstMkWOqRIMC3QyeeFMgUG0TgYlAHGyZPpdQpQLA=;
        b=CLweRffxdy6xwjQxvvAcr2esqarZ+sgiutbG1m2D3jtv4CzIBAnmCT2tRzB3xywmHq
         lIJ/YEW3w3PsVpSAOIH267vYKSWZVPnMG0DUQw0ohjChC2g4h3meEGrx1A4L37VlIe3+
         FJSLwCiGLZYhMocAbM2t0Kfdq7wtEFZAafdbg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=qAsuw5Qdpo09sAyHglFgFGAffpqmjZbXVOBJrjz6VK6K7H2a1n3kXu8kLFy+dBkAmX
         yicz04OxgPufLZX4Z2O26YcCFgyssXH5v7iMkX+OmdE8cGtWB2gcjTsYAnHkYySQwOjR
         wzWvUn89H/xxiZgH9Mo6TijlkkaPvrUAggq+4=
MIME-Version: 1.0
Received: by 10.101.113.12 with SMTP id q12mr17871390anm.124.1252464582226; 
	Tue, 08 Sep 2009 19:49:42 -0700 (PDT)
In-Reply-To: <35538fbe0909081922k261b2435w542963cfecd910f7@mail.gmail.com>
References: <bfca79780909081821v6a83f165n71d7d9c0f1387f3b@mail.gmail.com> 
	<35538fbe0909081922k261b2435w542963cfecd910f7@mail.gmail.com>
From: Samprita Hegde <sampritavh@gmail.com>
Date: Tue, 8 Sep 2009 22:49:22 -0400
Message-ID: <bfca79780909081949s710088e0h2bdbbc964ebf262b@mail.gmail.com>
Subject: Re: Using Ganglia with hadoop 0.19.0 on Amazon EC2
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=001636eee22f8474af04731c22c4
X-Virus-Checked: Checked by ClamAV on apache.org

--001636eee22f8474af04731c22c4
Content-Type: text/plain; charset=ISO-8859-1

The ami-id I am using is ami-fa6a8e93. It is a Fedora distribution for i-386
.
To be precise this is taken from the console output :

Linux version 2.6.21.7-2.fc8xen (mockbuild@xenbuilder1.fedora.redhat.com)
(gcc version 4.1.2 20070925 (Red Hat 4.1.2-33))

I was looking into the Ganglia documentation in Hadoop wiki. It says we need
to install a patch inorder to get it working. I am not sure if this ami has
all the patched installed for ganglia.

Thanks!
Samprita


On Tue, Sep 8, 2009 at 10:22 PM, Matt Massie <matt@cloudera.com> wrote:

> I should be able to help you out.
>
> What AMI are you using?  What linux distribution?
>
> -Matt
>
> On Tue, Sep 8, 2009 at 6:21 PM, Samprita Hegde <sampritavh@gmail.com>
> wrote:
>
> > Hello All,
> >    I am trying to study the performance of ec2 cluster when it is running
> > hadoop. But I am not able get ganglia up and running. Can someone please
> > guide me as how to use/configure Ganglia to be able to run with hadoop .
> I
> > am using an public ec2 image that has hadoop-0.19.0. I have used the
> > ganglia
> > configuration that comes with the hadoop-ec2 scripts in the
> hadoop-package.
> >
> >
> > The ganglia version  that is running is ganglia 3.0.5.
> >
> > Thanks and Regards,
> > Samprita
> >
>

--001636eee22f8474af04731c22c4--

From common-user-return-17348-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 09 04:22:20 2009
Return-Path: <common-user-return-17348-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 93500 invoked from network); 9 Sep 2009 04:22:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Sep 2009 04:22:20 -0000
Received: (qmail 1970 invoked by uid 500); 9 Sep 2009 04:22:17 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 1833 invoked by uid 500); 9 Sep 2009 04:22:17 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 1823 invoked by uid 99); 9 Sep 2009 04:22:17 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2009 04:22:17 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [209.85.216.173] (HELO mail-px0-f173.google.com) (209.85.216.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2009 04:22:07 +0000
Received: by pxi3 with SMTP id 3so1157965pxi.31
        for <common-user@hadoop.apache.org>; Tue, 08 Sep 2009 21:21:46 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.140.170.13 with SMTP id s13mr3566202rve.117.1252470105948; 
	Tue, 08 Sep 2009 21:21:45 -0700 (PDT)
In-Reply-To: <bfca79780909081949s710088e0h2bdbbc964ebf262b@mail.gmail.com>
References: <bfca79780909081821v6a83f165n71d7d9c0f1387f3b@mail.gmail.com>
	 <35538fbe0909081922k261b2435w542963cfecd910f7@mail.gmail.com>
	 <bfca79780909081949s710088e0h2bdbbc964ebf262b@mail.gmail.com>
Date: Tue, 8 Sep 2009 21:21:45 -0700
Message-ID: <35538fbe0909082121m78201936g857367c986aca0f0@mail.gmail.com>
Subject: Re: Using Ganglia with hadoop 0.19.0 on Amazon EC2
From: Matt Massie <matt@cloudera.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=000e0cd2999ec1c1db04731d6b26
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd2999ec1c1db04731d6b26
Content-Type: text/plain; charset=ISO-8859-1

Ganglia doesn't need to be patched to work.  The patches are for Hadoop if
you are running ganglia 3.1.x (because of a breaking change in the ganglia
message format from 3.0.x to 3.1.x).

Since you are running fedora, you should be able to bring ganglia up by
using the ganglia RPMs which are available in the fedora repo.

Try the following commands on each node in the cluster you want to monitor

# yum install ganglia-gmond
# service gmond start

You will need to open TCP/UDP port 8649 as well to allow ganglia
communication (see your iptables configuration).  You can verify that gmond
is working by connecting to TCP port 8649

$ telnet localhost 8649

You should see an XML description of the state of the cluster/node.  Let me
know when you are this far in the installation and I'll help you through the
next steps.

-Matt



On Tue, Sep 8, 2009 at 7:49 PM, Samprita Hegde <sampritavh@gmail.com> wrote:

> The ami-id I am using is ami-fa6a8e93. It is a Fedora distribution for
> i-386
> .
> To be precise this is taken from the console output :
>
> Linux version 2.6.21.7-2.fc8xen (mockbuild@xenbuilder1.fedora.redhat.com)
> (gcc version 4.1.2 20070925 (Red Hat 4.1.2-33))
>
> I was looking into the Ganglia documentation in Hadoop wiki. It says we
> need
> to install a patch inorder to get it working. I am not sure if this ami has
> all the patched installed for ganglia.
>
> Thanks!
> Samprita
>
>
> On Tue, Sep 8, 2009 at 10:22 PM, Matt Massie <matt@cloudera.com> wrote:
>
> > I should be able to help you out.
> >
> > What AMI are you using?  What linux distribution?
> >
> > -Matt
> >
> > On Tue, Sep 8, 2009 at 6:21 PM, Samprita Hegde <sampritavh@gmail.com>
> > wrote:
> >
> > > Hello All,
> > >    I am trying to study the performance of ec2 cluster when it is
> running
> > > hadoop. But I am not able get ganglia up and running. Can someone
> please
> > > guide me as how to use/configure Ganglia to be able to run with hadoop
> .
> > I
> > > am using an public ec2 image that has hadoop-0.19.0. I have used the
> > > ganglia
> > > configuration that comes with the hadoop-ec2 scripts in the
> > hadoop-package.
> > >
> > >
> > > The ganglia version  that is running is ganglia 3.0.5.
> > >
> > > Thanks and Regards,
> > > Samprita
> > >
> >
>

--000e0cd2999ec1c1db04731d6b26--

From common-user-return-17349-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 09 05:06:53 2009
Return-Path: <common-user-return-17349-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 4709 invoked from network); 9 Sep 2009 05:06:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Sep 2009 05:06:53 -0000
Received: (qmail 28107 invoked by uid 500); 9 Sep 2009 05:06:50 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 28031 invoked by uid 500); 9 Sep 2009 05:06:50 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 28021 invoked by uid 99); 9 Sep 2009 05:06:50 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2009 05:06:50 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of anthony.urso@gmail.com designates 209.85.216.173 as permitted sender)
Received: from [209.85.216.173] (HELO mail-px0-f173.google.com) (209.85.216.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2009 05:06:41 +0000
Received: by pxi3 with SMTP id 3so1191256pxi.31
        for <common-user@hadoop.apache.org>; Tue, 08 Sep 2009 22:06:19 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=48ixOotTxo/VwZmyo6aqiZFIyqYK14YK3huVFt1twZw=;
        b=pTegHLFAKMV4UGsh1cA3cpJWihSWXmeTKSUaF/AX+UDsjpJqVWm2o5CqlnDBJeW07f
         dORW/GX9L/PloTrWt9JEnO+Adr3eDpBXUx4usGenk+CmCdSTG/54/4uac1wgxD/XKmTp
         UhQzF5iXIK6UKM5lejlb27eNymu30DlY5lvro=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=awnMWttVUhjFRmg+KlpvH+7McN57P0dCGSpPM6ZJd9uc2CeniPqbCF+YzN8shTEURP
         zj6rOzNcL1TZlLurSRyCQMwbYoeq/sWlju69+gbuV/8i1k2if8uba8p0M2/zxwNaWhiV
         ltmEh02eySoGTUGyvYpwDbeqdhYtgYSP6SWbQ=
MIME-Version: 1.0
Received: by 10.141.13.19 with SMTP id q19mr3601158rvi.31.1252472779891; Tue, 
	08 Sep 2009 22:06:19 -0700 (PDT)
In-Reply-To: <4AA694FA.3040702@Gmail.com>
References: <4AA694FA.3040702@Gmail.com>
Date: Tue, 8 Sep 2009 22:06:19 -0700
Message-ID: <ba72f77f0909082206x5bd88d08v22b8df17441cdbb8@mail.gmail.com>
Subject: Re: Cluster size for Linux file system
From: Anthony Urso <anthony.urso@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

There is nothing really preventing you from filling your HDFS with a
lot of very small files*, so it would depend on your use case;
however, typical usage of Hadoop would prescribe as large of a block
size as is available, in order to stream very large files off the disk
efficiently.

* Except namenode heap space

Cheers,
Anthony

On Tue, Sep 8, 2009 at 10:31 AM, CubicDesign<cubicdesign@gmail.com> wrote:
> Which is the best disk cluster size for a Linux partition (let's say ext3)
> when using Hadoop on top of it?
> The default size is 4KB. It will Hadoop get an advantage if I format the
> disk cluster to 8 or 16KB, or even more?
>

From common-user-return-17350-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 09 05:45:04 2009
Return-Path: <common-user-return-17350-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 16704 invoked from network); 9 Sep 2009 05:45:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Sep 2009 05:45:04 -0000
Received: (qmail 53288 invoked by uid 500); 9 Sep 2009 05:45:01 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 53202 invoked by uid 500); 9 Sep 2009 05:45:01 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 53192 invoked by uid 99); 9 Sep 2009 05:45:01 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2009 05:45:01 +0000
X-ASF-Spam-Status: No, hits=-1.0 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [199.64.220.26] (HELO az18ip008.honeywell.com) (199.64.220.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2009 05:44:49 +0000
X-IronPort-AV: E=Sophos;i="4.44,356,1249282800"; 
   d="scan'208";a="250816660"
Received: from unknown (HELO az18cn848.global.ds.honeywell.com) ([131.127.167.39])
  by az18ip008.honeywell.com with ESMTP; 08 Sep 2009 22:44:15 -0700
Received: from IE10EV813.global.ds.honeywell.com ([199.63.32.243]) by az18cn848.global.ds.honeywell.com with Microsoft SMTPSVC(6.0.3790.3959);
	 Tue, 8 Sep 2009 22:44:15 -0700
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: Hadoop
Date: Wed, 9 Sep 2009 11:10:34 +0530
Message-ID: <CEDB38A443476D40901289F9F19E288A02718619@IE10EV813.global.ds.honeywell.com>
In-Reply-To: <B1AA98568C81904FB704DF464FC6216E02A95DB5@MAIL24.student.main.ntu.edu.sg>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Hadoop
Thread-Index: AcotNo5j+mAEx/HqQpWmvGTthg5MiQCXXDxqAF7KPMA=
References: <CEDB38A443476D40901289F9F19E288A02F4E1BD@IE10EV813.global.ds.honeywell.com> <B1AA98568C81904FB704DF464FC6216E02A95DB5@MAIL24.student.main.ntu.edu.sg>
From: "Rajpal, Harjeet Kumar" <Harjeet.Kumar@Honeywell.com>
To: <aarnchng@pmail.ntu.edu.sg>,
	<common-user@hadoop.apache.org>
X-OriginalArrivalTime: 09 Sep 2009 05:44:15.0006 (UTC) FILETIME=[90AE4BE0:01CA3110]
X-Virus-Checked: Checked by ClamAV on apache.org

Hi YONG YONG CHENG,

First of all thanks for reply. I used the path told by you as JAVA_HOME
but still its showing same problem.=20
After this I wrote command in cygwin as=20
export JAVA_HOME=3DC:\\cygwin\\home\\HadoopAdmin\\java

then it started running. Same happened with other export commands  in
the  file=20
C:\cygwin\home\HadoopAdmin\hadoop-0.18.3\conf\hadoop-env.sh

That means cygwin is unable to read commands from hadoop-env.sh file.=20
Can you suggest some thing on this.

Best Regards,
Harjeet Kumar



-----Original Message-----
From: #YONG YONG CHENG# [mailto:aarnchng@pmail.ntu.edu.sg]=20
Sent: Monday, September 07, 2009 1:50 PM
To: common-user@hadoop.apache.org
Subject: RE: Hadoop

Good Day,
=20
Use this:
=20
export JAVA_HOME=3DC:\\cygwin\\home\\HadoopAdmin\\java
=20
This should work fine.

________________________________

From: Rajpal, Harjeet Kumar [mailto:Harjeet.Kumar@Honeywell.com]
Sent: Fri 9/4/2009 4:06 PM
To: common-user@hadoop.apache.org
Subject: Hadoop



Hello all,

            First of all sorry if this question sounds stupid. I am a
beginner with Hadoop.

       =20

            I am using Hadoop at windows so I have installed java in
following directory



C:\cygwin\home\HadoopAdmin\java



I have given the java home as Hadoop-env file of hadoop configuration as



export JAVA_HOME=3D/home/HadoopAdmin/java/jdk6



but still if I run following command



/home/ HadoopAdmin/hadoop18.3/bin/hadoop namenode -format



It gives error that

There is no file or directory



HadoopAdmin//java/jdk6



Please help me on this matter



Best Regards,

Harjeet Kumar






From common-user-return-17351-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 09 06:35:49 2009
Return-Path: <common-user-return-17351-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 38070 invoked from network); 9 Sep 2009 06:35:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Sep 2009 06:35:49 -0000
Received: (qmail 95425 invoked by uid 500); 9 Sep 2009 06:35:46 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 95326 invoked by uid 500); 9 Sep 2009 06:35:46 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 95316 invoked by uid 99); 9 Sep 2009 06:35:46 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2009 06:35:46 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of amolanand@students.iiit.ac.in designates 121.242.23.201 as permitted sender)
Received: from [121.242.23.201] (HELO students.iiit.ac.in) (121.242.23.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2009 06:35:35 +0000
MailScanner-NULL-Check: 1253082907.25389@6dmFsNJMep3Bq6q8MtFxaQ
Received: from students.iiit.ac.in (localhost.localdomain [127.0.0.1])
	by students.iiit.ac.in (8.13.8/8.13.8) with ESMTP id n896Z4r2004280
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO);
	Wed, 9 Sep 2009 12:05:04 +0530
Received: (from apache@localhost)
	by students.iiit.ac.in (8.13.8/8.14.1/Submit) id n896Z4Ww004277;
	Wed, 9 Sep 2009 12:05:04 +0530
From: amolanand@students.iiit.ac.in
X-Authentication-Warning: students.iiit.ac.in: apache set sender to amolanand@localhost using -f
Received: from 196.15.16.20
        (SquirrelMail authenticated user amolanand)
        by students.iiit.ac.in with HTTP;
        Wed, 9 Sep 2009 12:05:03 +0530 (IST)
Message-ID: <10527.196.15.16.20.1252478103.squirrel@students.iiit.ac.in>
In-Reply-To: 
     <CEDB38A443476D40901289F9F19E288A02718619@IE10EV813.global.ds.honeywel
     l.com>
References: 
    <CEDB38A443476D40901289F9F19E288A02F4E1BD@IE10EV813.global.ds.honeywell.com>
    <B1AA98568C81904FB704DF464FC6216E02A95DB5@MAIL24.student.main.ntu.edu.sg>
    <CEDB38A443476D40901289F9F19E288A02718619@IE10EV813.global.ds.honeywell.com>
Date: Wed, 9 Sep 2009 12:05:03 +0530 (IST)
Subject: RE: Hadoop
To: common-user@hadoop.apache.org
Cc: aarnchng@pmail.ntu.edu.sg, common-user@hadoop.apache.org
User-Agent: SquirrelMail/1.4.8-4.el5
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
Importance: Normal
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on students.iiit.ac.in
X-yoursite-MailScanner-Information: Please contact the IIIT Server Room  for more information
X-MailScanner-ID: n896Z4r2004280
X-yoursite-MailScanner: Found to be clean
X-yoursite-MailScanner-From: amolanand@students.iiit.ac.in
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-1.4 required=5.0 tests=ALL_TRUSTED autolearn=failed
	version=3.2.5, No

Hi Harjeet,

Once you modify the Hadoop-env.sh file, you need to run it also. Please
run it using sh conf/hadoop-env.sh once after you modify your changes.

Thanks!
Amol.

> Hi YONG YONG CHENG,
>
> First of all thanks for reply. I used the path told by you as JAVA_HOME
> but still its showing same problem.
> After this I wrote command in cygwin as
> export JAVA_HOME=C:\\cygwin\\home\\HadoopAdmin\\java
>
> then it started running. Same happened with other export commands  in
> the  file
> C:\cygwin\home\HadoopAdmin\hadoop-0.18.3\conf\hadoop-env.sh
>
> That means cygwin is unable to read commands from hadoop-env.sh file.
> Can you suggest some thing on this.
>
> Best Regards,
> Harjeet Kumar
>
>
>
> -----Original Message-----
> From: #YONG YONG CHENG# [mailto:aarnchng@pmail.ntu.edu.sg]
> Sent: Monday, September 07, 2009 1:50 PM
> To: common-user@hadoop.apache.org
> Subject: RE: Hadoop
>
> Good Day,
>
> Use this:
>
> export JAVA_HOME=C:\\cygwin\\home\\HadoopAdmin\\java
>
> This should work fine.
>
> ________________________________
>
> From: Rajpal, Harjeet Kumar [mailto:Harjeet.Kumar@Honeywell.com]
> Sent: Fri 9/4/2009 4:06 PM
> To: common-user@hadoop.apache.org
> Subject: Hadoop
>
>
>
> Hello all,
>
>             First of all sorry if this question sounds stupid. I am a
> beginner with Hadoop.
>
>
>
>             I am using Hadoop at windows so I have installed java in
> following directory
>
>
>
> C:\cygwin\home\HadoopAdmin\java
>
>
>
> I have given the java home as Hadoop-env file of hadoop configuration as
>
>
>
> export JAVA_HOME=/home/HadoopAdmin/java/jdk6
>
>
>
> but still if I run following command
>
>
>
> /home/ HadoopAdmin/hadoop18.3/bin/hadoop namenode -format
>
>
>
> It gives error that
>
> There is no file or directory
>
>
>
> HadoopAdmin//java/jdk6
>
>
>
> Please help me on this matter
>
>
>
> Best Regards,
>
> Harjeet Kumar
>
>
>
>
>
>
> --
> This message has been scanned for viruses and
> dangerous content by MailScanner, and is
> believed to be clean.
>
>


-- 
This message has been scanned for viruses and
dangerous content by MailScanner, and is
believed to be clean.


From common-user-return-17352-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 09 15:19:26 2009
Return-Path: <common-user-return-17352-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 65906 invoked from network); 9 Sep 2009 15:19:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Sep 2009 15:19:26 -0000
Received: (qmail 76347 invoked by uid 500); 9 Sep 2009 15:19:23 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 76207 invoked by uid 500); 9 Sep 2009 15:19:23 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 76160 invoked by uid 99); 9 Sep 2009 15:19:23 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2009 15:19:23 +0000
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [85.214.115.60] (HELO h1349259.stratoserver.net) (85.214.115.60)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2009 15:19:10 +0000
Received: from crt-01-tr.neofonie.de ([91.213.91.28] helo=strausberg.neofonie.priv)
	by h1349259.stratoserver.net with esmtpsa (TLS1.0:DHE_RSA_AES_256_CBC_SHA1:32)
	(Exim 4.69)
	(envelope-from <isabel@apache.org>)
	id 1MlOwa-0002zZ-9b; Wed, 09 Sep 2009 15:18:48 +0000
Date: Wed, 9 Sep 2009 17:22:18 +0200
From: Isabel Drost <isabel@apache.org>
To: hbase-user@hadoop.apache.org, common-user@hadoop.apache.org,
 nosql-discussion@googlegroups.com, nosql-berlin@googlegroups.com,
 hadoopberlin@isabel-drost.de
Subject: NoSQL Meetup Germany @ Berlin
Message-ID: <20090909172218.5c6aa9b1@strausberg.neofonie.priv>
X-Mailer: Sylpheed-Claws 2.5.5 (GTK+ 2.10.6; i586-suse-linux-gnu)
Mime-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org


                         Call for Presentations
                         http://nosqlberlin.de
                   First NoSQL Meetup Germany - Berlin
                            22nd October 2009


This is to announce the first NoSQL Meetup in Germany, taking place in
newthinking store/ Berlin on October 22nd 2009 =E2=80=93 15:00. The event w=
ill
comprise presentations on open source, distributed, non relational
databases.=20

Important Dates (all dates in GMT +2)=20

       Submission deadline: September 22nd, 2009 23:59=20
       Notification of accepted speakers: October 1st, 2009.=20
       Publication of final schedule: October 5th, 2009.=20
       Meetup: October 22nd, 2009 =E2=80=94 15:00.

High quality, technical submissions are called for, ranging from
principles to practice. We are looking for real world use cases,
background on the architecture of specific projects and a deep dive
into architectures built on top of NoSQL databases.=20

Proposals should be sent to hello@nosqlberlin.de no later than
September 22nd, 2009. Acceptance notifications will be sent out the
following week on October 1st. Please include title, a brief abstract
as well as a speaker bio.=20

The presentation format is short: 30 minutes including questions. We
will be enforcing the schedule rigorously.=20

If you are interested in sponsoring the event (e.g. we would be happy
to provide videos after the event and free drinks for attendees),
please contact us at hello@nosqlberlin.de as well.=20

Use XING (https://www.xing.com/events/nosql-berlin-394356) to register.
There is a maximum of 50 seats.=20

Follow @nosqlberlin on Twitter for updates. You may also join the
nosql-berlin mailing list on Google Groups or connect on Facebook
(http://www.facebook.com/event.php?eid=3D159776173915).=20

Program Chairs: Isabel Drost, Thomas Nicolai and Jan Lehnardt.

Schedule and further updates on the event will be published on
http://nosqlberlin.de Feel free to re-distribute this CfP.

A very big Thank You goes to newthinking store for providing the venue
for this event.

From common-user-return-17353-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 09 16:06:31 2009
Return-Path: <common-user-return-17353-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 88176 invoked from network); 9 Sep 2009 16:06:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Sep 2009 16:06:31 -0000
Received: (qmail 52546 invoked by uid 500); 9 Sep 2009 16:06:28 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 52449 invoked by uid 500); 9 Sep 2009 16:06:28 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 52438 invoked by uid 99); 9 Sep 2009 16:06:28 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2009 16:06:28 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of yuzhihong@gmail.com designates 209.85.221.171 as permitted sender)
Received: from [209.85.221.171] (HELO mail-qy0-f171.google.com) (209.85.221.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2009 16:06:18 +0000
Received: by qyk1 with SMTP id 1so3544255qyk.22
        for <common-user@hadoop.apache.org>; Wed, 09 Sep 2009 09:05:57 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=w06cic0i3wuwNjzOTePgj7oQ5OzEt7AUSWOCVoogFI8=;
        b=G6i03NliysllrCS+S9HVNJmrUKzGYyx6xz7DwF++6VHeyFAn5sDwWSnE0QCeZbXg3u
         Y0bOcQlrBBOhCUIRzdVw8ApgnD4WsJDU5vwSauXpj5DSjkzrNCRd0BAEXtB+GB3onLw/
         p5TWyT1FKkW8l9cLtcUnrXb9BwU4dAu4yKuGk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=wiw+P+Vabggnq/6aIqLEh9vfeRAKaPLtpsY5dlIAShR+dJCBMFrKWIl+MxG/8LGfJ9
         nO08Sh/HYzgsi42muNyvJQ7LbI7ZYP2nP6DRd4pbEKTY6Lz163Y49Y+JHDhI03hatbUG
         iLDc28VQZqUt+UFNn9iPAjfeUg+shWt1HcMV4=
MIME-Version: 1.0
Received: by 10.229.46.145 with SMTP id j17mr215625qcf.6.1252512357148; Wed, 
	09 Sep 2009 09:05:57 -0700 (PDT)
In-Reply-To: <299622.16440.qm@web110105.mail.gq1.yahoo.com>
References: <4E7ADE3F257DBB4ABAAE30A19A04041F02FF33D3@CORMTVMX1.boulder.webroot.com>
	 <299622.16440.qm@web110105.mail.gq1.yahoo.com>
Date: Wed, 9 Sep 2009 09:05:57 -0700
Message-ID: <17e273100909090905mcaf347ao47f8fdf132c65fa9@mail.gmail.com>
Subject: Re: measuring memory usage
From: Ted Yu <yuzhihong@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Linux vh20.dev.com 2.6.18-53.el5 #1 SMP Mon Nov 12 02:22:48 EST 2007
i686 i686 i386 GNU/Linux

/usr/lib/jvm/java-1.6.0-openjdk-1.6.0.0

On 9/8/09, Arvind Sharma <arvind321@yahoo.com> wrote:
> Which OS you are running the command ?  Linux/MacOS/Windows ?
>
> Which JDK version ?
>
> Arvind
>
>
>
>
> ________________________________
> From: Ted Yu <TYu@webroot.com>
> To: common-user@hadoop.apache.org
> Sent: Friday, September 4, 2009 11:57:44 AM
> Subject: measuring memory usage
>
> Hi,
>
> I am using Hadoop 0.20
>
>
>
> How can I get pass the exception below ?
>
>
>
> [hadoop@vh20 hadoop]$ jmap -heap 3837
>
> Attaching to process ID 3837, please wait...
>
> sun.jvm.hotspot.debugger.NoSuchSymbolException: Could not find symbol
> "gHotSpotVMTypeEntryTypeNameOffset" in any of the known library names
> (libjvm.so, libjvm_g.so, gamma_g)
>
>         at
> sun.jvm.hotspot.HotSpotTypeDataBase.lookupInProcess(HotSpotTypeDataBase.
> java:388)
>
>         at
> sun.jvm.hotspot.HotSpotTypeDataBase.getLongValueFromProcess(HotSpotTypeD
> ataBase.java:369)
>
>         at
> sun.jvm.hotspot.HotSpotTypeDataBase.readVMTypes(HotSpotTypeDataBase.java
> :102)
>
>         at
> sun.jvm.hotspot.HotSpotTypeDataBase.<init>(HotSpotTypeDataBase.java:85)
>
>         at
> sun.jvm.hotspot.bugspot.BugSpotAgent.setupVM(BugSpotAgent.java:568)
>
>         at
> sun.jvm.hotspot.bugspot.BugSpotAgent.go(BugSpotAgent.java:494)
>
>         at
> sun.jvm.hotspot.bugspot.BugSpotAgent.attach(BugSpotAgent.java:332)
>
>         at sun.jvm.hotspot.tools.Tool.start(Tool.java:163)
>
>         at sun.jvm.hotspot.tools.HeapSummary.main(HeapSummary.java:39)
>
>         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
>
>         at
> sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.jav
> a:57)
>
>         at
> sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessor
> Impl.java:43)
>
>         at java.lang.reflect.Method.invoke(Method.java:616)
>
>         at sun.tools.jmap.JMap.runTool(JMap.java:196)
>
>         at sun.tools.jmap.JMap.main(JMap.java:128)
>
> Debugger attached successfully.
>
> sun.jvm.hotspot.tools.HeapSummary requires a java VM process/core!
>
>
>
> Thanks
>
>
>

From common-user-return-17354-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 09 16:06:50 2009
Return-Path: <common-user-return-17354-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 88332 invoked from network); 9 Sep 2009 16:06:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Sep 2009 16:06:50 -0000
Received: (qmail 56666 invoked by uid 500); 9 Sep 2009 16:06:48 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 56590 invoked by uid 500); 9 Sep 2009 16:06:47 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 56580 invoked by uid 99); 9 Sep 2009 16:06:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2009 16:06:47 +0000
X-ASF-Spam-Status: No, hits=3.7 required=10.0
	tests=HTML_MESSAGE,NORMAL_HTTP_TO_IP,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of work.aviad@gmail.com designates 209.85.220.218 as permitted sender)
Received: from [209.85.220.218] (HELO mail-fx0-f218.google.com) (209.85.220.218)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2009 16:06:37 +0000
Received: by fxm18 with SMTP id 18so882564fxm.29
        for <common-user@hadoop.apache.org>; Wed, 09 Sep 2009 09:06:17 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:sender:received:date
         :x-google-sender-auth:message-id:subject:from:to:content-type;
        bh=UoqVxhvzU/l7BjqRZB+PRqXlBvVkGnwufqPtHl7Wr8g=;
        b=vgqhmoukzx+ajgBh1sQaGHZc5Lpu9JgXNOAKdfHltaR0R6fR3QJzNPslKMbECSmGhh
         lvl95eptvvxzIv4l4AHS+HAqfRnuTkydZapSp2Y8Mimo9W3peRW0HgYeWlZGkOYG0uVW
         fhJpd9qGZUad0DCigDD83LiiBqpdFTJ/e1COc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:date:x-google-sender-auth:message-id:subject
         :from:to:content-type;
        b=EiOVV8bVhJnqf32doqDzewGZ2SJI2WO2+bT4mZHH7EisydvYfMsBbUEsyytE0Svz+q
         O39iD3SsPoOBlmicz68Fl+BBBYcqZhsRfSHUOR+v/mdTDnMceaDXgT1zzueOWINaxGfi
         cl8KNwyt/7DNWlgGKWfGWMC4kVFPbq8ks0/oM=
MIME-Version: 1.0
Sender: work.aviad@gmail.com
Received: by 10.223.5.87 with SMTP id 23mr520731fau.87.1252512376997; Wed, 09 
	Sep 2009 09:06:16 -0700 (PDT)
Date: Wed, 9 Sep 2009 19:06:16 +0300
X-Google-Sender-Auth: b478becd0af6bda7
Message-ID: <6a3f6a4b0909090906g68575ccem58a10d588984e471@mail.gmail.com>
Subject: MultipleTextOutputFormat splitting output into different directories.
From: Aviad sela <sela.stam@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=00151747b6904f314e0473274314
X-Virus-Checked: Checked by ClamAV on apache.org

--00151747b6904f314e0473274314
Content-Type: text/plain; charset=ISO-8859-1

I am using Hadoop 0.19.1

I attempt to split an input into multiple directories.
I don't know in advance how many directories exists.
I don't know in advance what is the directory depth.
I expect that under each such directory a file exists with all availble
records having the same key permutation
found in the job.

If currently each reducer produce a single output i.e. PART-0001
I would like to create as many directory necessary taking the following
pattern:

               key1 / key2/ .../ keyN/ PART-0001

where the  "key?"  may have different values for each input record.
different record may results with a different path requested:
              key1a/key2b/PART-0001
              key1c/key2d/key3e/PART-0001
to keep it simple, during each job we may expect the same depth from each
record.

I assume that the input records imply that each reduce will produce several
hundreds of such directories.
(Indeed this strongly depends on the input record semantic).


The MAP part reads a record,following some logic, assign a key like :
KEY_A, KEY_B
The MAP Value is the original input line.


For The reducer part I assign the IdentityReducer.
However have set :

    jobConf.setReducerClass(IdentityReducer.*class*);

    jobConf.setOutputFormat(MyTextOutputFormat.*class*);



Where the MyTextOutputFormat  extends MultipleTextOutputFormat, and
implements:

    protected String generateFileNameForKeyValue(K key, V value, String
name)
    {
        String keyParts[] = key.toString().split(",");
        Path finalPath = null;
        // Build the directory structure comprised of the Key parts
       for (int i=0; i < keyParts.length; i++)
       {
            String part = keyParts[i].trim();
           if  (false == "".equals(part))
           {
               if (null == finalPath)
                          finalPath = new Path(part);
                else
                {
                        finalPath = new Path(finalPath, part);
                }
           }
        } //end of for

       String fileName = generateLeafFileName(name);
       finalPath = new Path(finalPath, fileName);

       return finalPath.toString();
 } //generatedFileNameKeyValue
During execution I have seen the reduce attempts does create the following
path under the output path:

"/user/hadoop/test_rep01/_temporary/_attempt_200909080349_0013_r_000000_0/KEY_A/KEY_B/part-00000"
   However, the file was empty.



The job fails at the end with the the following exceptions found in the task
log:

2009-09-09 11:19:49,653 INFO org.apache.hadoop.hdfs.DFSClient: Exception in
createBlockOutputStream java.io.IOException: Bad connect ack with
firstBadLink 9.148.30.71:50010
2009-09-09 11:19:49,654 INFO org.apache.hadoop.hdfs.DFSClient: Abandoning
block blk_-6138647338595590910_39383
2009-09-09 11:19:55,659 WARN org.apache.hadoop.hdfs.DFSClient: DataStreamer
Exception: java.io.IOException: Unable to create new block.
at
org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.nextBlockOutputStream(DFSClient.java:2722)
at
org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.access$2000(DFSClient.java:1996)
at
org.apache.hadoop.hdfs.DFSClient$DFSOutputStream$DataStreamer.run(DFSClient.java:2183)

2009-09-09 11:19:55,659 WARN org.apache.hadoop.hdfs.DFSClient: Error
Recovery for block blk_-6138647338595590910_39383 bad datanode[1] nodes ==
null
2009-09-09 11:19:55,660 WARN org.apache.hadoop.hdfs.DFSClient: Could not get
block locations. Source file
"/user/hadoop/test_rep01/_temporary/_attempt_200909080349_0013_r_000002_0/KEY_A/KEY_B/part-00002"
- Aborting...
2009-09-09 11:19:55,686 WARN org.apache.hadoop.mapred.TaskTracker: Error
running child
java.io.IOException: Bad connect ack with firstBadLink 9.148.30.71:50010
at
org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.createBlockOutputStream(DFSClient.java:2780)
at
org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.nextBlockOutputStream(DFSClient.java:2703)
at
org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.access$2000(DFSClient.java:1996)
at
org.apache.hadoop.hdfs.DFSClient$DFSOutputStream$DataStreamer.run(DFSClient.java:2183)
2009-09-09 11:19:55,688 INFO org.apache.hadoop.mapred.TaskRunner: Runnning
cleanup for the task


The Command line also writes:

09/09/09 11:24:06 INFO mapred.JobClient: Task Id :
attempt_200909080349_0013_r_000003_2, Status : FAILED
java.io.IOException: Bad connect ack with firstBadLink 9.148.30.80:50010
        at
org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.createBlockOutputStream(DFSClient.java:2780)
        at
org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.nextBlockOutputStream(DFSClient.java:2703)
        at
org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.access$2000(DFSClient.java:1996)
        at
org.apache.hadoop.hdfs.DFSClient$DFSOutputStream$DataStreamer.run(DFSClient.java:2183)



Any Ideas how to support such a scenario

--00151747b6904f314e0473274314--

From common-user-return-17355-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 09 17:49:34 2009
Return-Path: <common-user-return-17355-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 30077 invoked from network); 9 Sep 2009 17:49:34 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Sep 2009 17:49:34 -0000
Received: (qmail 32460 invoked by uid 500); 9 Sep 2009 17:49:30 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 32404 invoked by uid 500); 9 Sep 2009 17:49:30 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 32330 invoked by uid 99); 9 Sep 2009 17:49:30 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2009 17:49:30 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [67.195.8.158] (HELO web110106.mail.gq1.yahoo.com) (67.195.8.158)
    by apache.org (qpsmtpd/0.29) with SMTP; Wed, 09 Sep 2009 17:49:20 +0000
Received: (qmail 9409 invoked by uid 60001); 9 Sep 2009 16:34:10 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1252514050; bh=vHseFrRn1o2L4Bp3yRpsAl+rg1F+Ra2IAudQupMypak=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type; b=znOqQ2eI2bTgogpCOkmNFyK2Pipj2ebnZr1znQ8NwNxgMM+JOXMuR7B8Oma2001YL1tWgqstlcNDwSwF44lpZpCPdvORWNJnCxiuUAo+KVQb+FiWzuQfaKdaHCrMDYQXrHuVD1HScyO3X4+jZl2kp6Nnwzfo+TSKdi13fHXF3D8=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:References:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type;
  b=Uzd7d6ntA59wqSJg5oLxj2bZS06uf3cqMmElAAfEMdyGZqNXI1Ec2NlUUsIXNHAfRnJnPLNLffCif3HlXMuMF6womRvcg8bIBXaiZkwT0P03cWwdbiumdHpTNDa6OVos3VXH32iXDKs4jNMdDPI67n1YKV1t+eu2WgN+1JUoADM=;
Message-ID: <311056.7675.qm@web110106.mail.gq1.yahoo.com>
X-YMail-OSG: CSk2PqMVM1mPso_XbAAVHmvGeA9vRSKYO8qfOPzxYe4qBmcjEq.xARVDV.temuaUXd2gJr0LeqIuZa.meI_RdaljYsoYXVAzbeilwRjty8OopBAC.cJIhv27LQzaAjioY6bDcbGxkIZmYhzv2VBMQiy1HgO_jnPutHQgSpfznrK7bmVYqV.E5zvDP9Yw3oNKtO1P7qXZzlugYQJQ4XFuVXZ9aOKwZ1uV8bXhwvHr9xg.ydCRYI1enJvF4FOgnCFC7g0Q2NcCeuDWbhhmLVO3BrNSL2sR27GJsJh_jUWVpz9ZZ.Cb6_HSrXBHf9UKPpRbjQ--
Received: from [71.135.13.106] by web110106.mail.gq1.yahoo.com via HTTP; Wed, 09 Sep 2009 09:34:10 PDT
X-Mailer: YahooMailRC/1358.27 YahooMailWebService/0.7.347.2
References: <4E7ADE3F257DBB4ABAAE30A19A04041F02FF33D3@CORMTVMX1.boulder.webroot.com>  <299622.16440.qm@web110105.mail.gq1.yahoo.com> <17e273100909090905mcaf347ao47f8fdf132c65fa9@mail.gmail.com>
Date: Wed, 9 Sep 2009 09:34:10 -0700 (PDT)
From: Arvind Sharma <arvind321@yahoo.com>
Subject: Re: measuring memory usage
To: common-user@hadoop.apache.org
In-Reply-To: <17e273100909090905mcaf347ao47f8fdf132c65fa9@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-151348332-1252514050=:7675"
X-Virus-Checked: Checked by ClamAV on apache.org

--0-151348332-1252514050=:7675
Content-Type: text/plain; charset=us-ascii

hmmm... I had seen some exceptions  (don't remember which one) on MacOS. There was missing JSR-223 engine on my machine. 

Not sure why on Linux distribution you would see this error....




________________________________
From: Ted Yu <yuzhihong@gmail.com>
To: common-user@hadoop.apache.org
Sent: Wednesday, September 9, 2009 9:05:57 AM
Subject: Re: measuring memory usage

Linux vh20.dev.com 2.6.18-53.el5 #1 SMP Mon Nov 12 02:22:48 EST 2007
i686 i686 i386 GNU/Linux

/usr/lib/jvm/java-1.6.0-openjdk-1.6.0.0

On 9/8/09, Arvind Sharma <arvind321@yahoo.com> wrote:
> Which OS you are running the command ?  Linux/MacOS/Windows ?
>
> Which JDK version ?
>
> Arvind
>
>
>
>
> ________________________________
> From: Ted Yu <TYu@webroot.com>
> To: common-user@hadoop.apache.org
> Sent: Friday, September 4, 2009 11:57:44 AM
> Subject: measuring memory usage
>
> Hi,
>
> I am using Hadoop 0.20
>
>
>
> How can I get pass the exception below ?
>
>
>
> [hadoop@vh20 hadoop]$ jmap -heap 3837
>
> Attaching to process ID 3837, please wait...
>
> sun.jvm.hotspot.debugger.NoSuchSymbolException: Could not find symbol
> "gHotSpotVMTypeEntryTypeNameOffset" in any of the known library names
> (libjvm.so, libjvm_g.so, gamma_g)
>
>         at
> sun.jvm.hotspot.HotSpotTypeDataBase.lookupInProcess(HotSpotTypeDataBase.
> java:388)
>
>         at
> sun.jvm.hotspot.HotSpotTypeDataBase.getLongValueFromProcess(HotSpotTypeD
> ataBase.java:369)
>
>         at
> sun.jvm.hotspot.HotSpotTypeDataBase.readVMTypes(HotSpotTypeDataBase.java
> :102)
>
>         at
> sun.jvm.hotspot.HotSpotTypeDataBase.<init>(HotSpotTypeDataBase.java:85)
>
>         at
> sun.jvm.hotspot.bugspot.BugSpotAgent.setupVM(BugSpotAgent.java:568)
>
>         at
> sun.jvm.hotspot.bugspot.BugSpotAgent.go(BugSpotAgent.java:494)
>
>         at
> sun.jvm.hotspot.bugspot.BugSpotAgent.attach(BugSpotAgent.java:332)
>
>         at sun.jvm.hotspot.tools.Tool.start(Tool.java:163)
>
>         at sun.jvm.hotspot.tools.HeapSummary.main(HeapSummary.java:39)
>
>         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
>
>         at
> sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.jav
> a:57)
>
>         at
> sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessor
> Impl.java:43)
>
>         at java.lang.reflect.Method.invoke(Method.java:616)
>
>         at sun.tools.jmap.JMap.runTool(JMap.java:196)
>
>         at sun.tools.jmap.JMap.main(JMap.java:128)
>
> Debugger attached successfully.
>
> sun.jvm.hotspot.tools.HeapSummary requires a java VM process/core!
>
>
>
> Thanks
>
>
>



      
--0-151348332-1252514050=:7675--

From common-user-return-17356-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 09 18:44:28 2009
Return-Path: <common-user-return-17356-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 53976 invoked from network); 9 Sep 2009 18:44:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Sep 2009 18:44:28 -0000
Received: (qmail 8125 invoked by uid 500); 9 Sep 2009 18:44:26 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 8040 invoked by uid 500); 9 Sep 2009 18:44:26 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 8030 invoked by uid 99); 9 Sep 2009 18:44:26 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2009 18:44:26 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [207.7.153.20] (HELO mail-sfu01.truveo.com) (207.7.153.20)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2009 18:44:17 +0000
Received: from localhost (localhost [127.0.0.1])
	by mail-sfu01.truveo.com (Postfix) with ESMTP id 992111540F8B
	for <common-user@hadoop.apache.org>; Wed,  9 Sep 2009 11:43:54 -0700 (PDT)
X-Virus-Scanned: amavisd-new at truveo.com
Received: from mail-sfu01.truveo.com ([127.0.0.1])
	by localhost (mail-sfu01.truveo.com [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 3XPWWCBJne5c for <common-user@hadoop.apache.org>;
	Wed,  9 Sep 2009 11:43:54 -0700 (PDT)
Received: from mail-sfu01.truveo.com (localhost [127.0.0.1])
	by mail-sfu01.truveo.com (Postfix) with ESMTP id 70BED1540F7A
	for <common-user@hadoop.apache.org>; Wed,  9 Sep 2009 11:43:54 -0700 (PDT)
Received: from 64.236.138.3
        (SquirrelMail authenticated user bseaman)
        by mail-sfu01.truveo.com with HTTP;
        Wed, 9 Sep 2009 11:43:54 -0700 (PDT)
Message-ID: <e7c39ecb3283c925735cc0d0ab9d8703.squirrel@mail-sfu01.truveo.com>
Date: Wed, 9 Sep 2009 11:43:54 -0700 (PDT)
Subject: Choosing a scheduler
From: "Brian Seaman" <bseaman@truveo.com>
To: common-user@hadoop.apache.org
User-Agent: SquirrelMail/1.4.17
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
Importance: Normal
X-Virus-Checked: Checked by ClamAV on apache.org

I am planning on upgrading to the new 0.20.1 version to be able to use the
job schedulers.  The two schedulers, Fair and Capacity, seem fairly
similar.  Is there a reason to pick one over the other?  Does one receive
better ongoing support than the other?

Thanks for you help.

-Brian


From common-user-return-17357-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 09 19:57:49 2009
Return-Path: <common-user-return-17357-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 71261 invoked from network); 9 Sep 2009 19:57:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Sep 2009 19:57:49 -0000
Received: (qmail 82692 invoked by uid 500); 9 Sep 2009 19:57:47 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 82599 invoked by uid 500); 9 Sep 2009 19:57:46 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 82589 invoked by uid 99); 9 Sep 2009 19:57:46 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2009 19:57:46 +0000
X-ASF-Spam-Status: No, hits=3.4 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: 209.85.216.190 is neither permitted nor denied by domain of kpeterson@biz360.com)
Received: from [209.85.216.190] (HELO mail-px0-f190.google.com) (209.85.216.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2009 19:57:37 +0000
Received: by pxi28 with SMTP id 28so4459840pxi.2
        for <common-user@hadoop.apache.org>; Wed, 09 Sep 2009 12:57:15 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.142.9.12 with SMTP id 12mr48422wfi.100.1252526235904; Wed, 09 
	Sep 2009 12:57:15 -0700 (PDT)
In-Reply-To: <c9b0d8bd0909081316o122b502ar7a1a1fef3ce81b5c@mail.gmail.com>
References: <c9b0d8bd0909081316o122b502ar7a1a1fef3ce81b5c@mail.gmail.com>
Date: Wed, 9 Sep 2009 12:57:15 -0700
Message-ID: <f27b3fc0909091257h35b326vd86b6e223f911923@mail.gmail.com>
Subject: Re: Code re-use?
From: Kevin Peterson <kpeterson@biz360.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=00504502aff45ceca004732a7da0
X-Virus-Checked: Checked by ClamAV on apache.org

--00504502aff45ceca004732a7da0
Content-Type: text/plain; charset=ISO-8859-1

On Tue, Sep 8, 2009 at 1:16 PM, Mark Kerzner <markkerzner@gmail.com> wrote:

> Hi,
> I have some code that's common between the main class, mapper, and reducer.
> Can I put it only in the main class and use it from mapper and reducer?
>
> A similar question about static variables in the main - are the available
> from mapper and reducer?
>
>
Code yes, data no.

Your mapper and reducer will have the full jar file that contains the job
(unless you are doing something very strange). You could include any code
you need to share, just as you would in any other java app.

You can't pass data in static variables though. The main class is only going
to run on the machine you submit the job from. When the mappers and reducers
start up they will start in separate JVMs not even on the same physical
node. If you need to distribute a large amount of data, you can use
distributed cache. If you just need to pass some settings, you could
accomplish it by setting child opts (options passed to the JVMs for the
mapper and reducers) in the config. If you need some sort of coordination
more complicated than this, you should look into zookeeper.

--00504502aff45ceca004732a7da0--

From common-user-return-17358-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 09 20:15:50 2009
Return-Path: <common-user-return-17358-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 75381 invoked from network); 9 Sep 2009 20:15:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Sep 2009 20:15:50 -0000
Received: (qmail 1926 invoked by uid 500); 9 Sep 2009 20:15:48 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 1845 invoked by uid 500); 9 Sep 2009 20:15:48 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 1835 invoked by uid 99); 9 Sep 2009 20:15:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2009 20:15:48 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of markkerzner@gmail.com designates 209.85.218.214 as permitted sender)
Received: from [209.85.218.214] (HELO mail-bw0-f214.google.com) (209.85.218.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2009 20:15:38 +0000
Received: by bwz10 with SMTP id 10so2734761bwz.29
        for <common-user@hadoop.apache.org>; Wed, 09 Sep 2009 13:15:18 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=qRk2gfTIVh9hsZITo6sZi1q7QWIU5vOUFrzcFx68UYo=;
        b=iRtJef4M/2LQthZz0lsqR6IYIdBop/4m3LjAXg2wRr70NUN4IyJGXFsB8MbLuzlQki
         Ad4r0kV7oPosksf/rqsWH7UjtuqJ7SpFYOyoa4cwP8MqMw7b2U7X0E8J9rLhi+37Kfem
         x8UV5DwcpjmqtO/ziLhMUa2ljiQ676bxcG728=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=V8NAlfC0MuxsSFh2oFI4WIWQXgbVRaXNLJkuuwz/Qh1NL9BSPZ/M+ItwfXvVr7VTd0
         5E0HbZHegcLm7hhNITDNf3A3/3b20cy2pq0qB27ZeTHBw3em61FLWO7JSoRnNJx6+Gd4
         hxvGD3ie+V+j+qEZyV0XbGb3eBttyav7a0r3E=
MIME-Version: 1.0
Received: by 10.239.139.199 with SMTP id u7mr71808hbu.96.1252527318246; Wed, 
	09 Sep 2009 13:15:18 -0700 (PDT)
In-Reply-To: <f27b3fc0909091257h35b326vd86b6e223f911923@mail.gmail.com>
References: <c9b0d8bd0909081316o122b502ar7a1a1fef3ce81b5c@mail.gmail.com>
	 <f27b3fc0909091257h35b326vd86b6e223f911923@mail.gmail.com>
Date: Wed, 9 Sep 2009 15:15:18 -0500
Message-ID: <c9b0d8bd0909091315p335cbe3dxecac8090f4720a65@mail.gmail.com>
Subject: Re: Code re-use?
From: Mark Kerzner <markkerzner@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=001485f6d8aee0243304732abdbd
X-Virus-Checked: Checked by ClamAV on apache.org

--001485f6d8aee0243304732abdbd
Content-Type: text/plain; charset=ISO-8859-1

Thank you, Kevin, for a detailed explanation. I went ahead and shared both.
Since I test on my machine, it worked :) but obviously it was a fluke, and I
need to change my code for running on the cluster.
Sincerely,
Mark

On Wed, Sep 9, 2009 at 2:57 PM, Kevin Peterson <kpeterson@biz360.com> wrote:

> On Tue, Sep 8, 2009 at 1:16 PM, Mark Kerzner <markkerzner@gmail.com>
> wrote:
>
> > Hi,
> > I have some code that's common between the main class, mapper, and
> reducer.
> > Can I put it only in the main class and use it from mapper and reducer?
> >
> > A similar question about static variables in the main - are the available
> > from mapper and reducer?
> >
> >
> Code yes, data no.
>
> Your mapper and reducer will have the full jar file that contains the job
> (unless you are doing something very strange). You could include any code
> you need to share, just as you would in any other java app.
>
> You can't pass data in static variables though. The main class is only
> going
> to run on the machine you submit the job from. When the mappers and
> reducers
> start up they will start in separate JVMs not even on the same physical
> node. If you need to distribute a large amount of data, you can use
> distributed cache. If you just need to pass some settings, you could
> accomplish it by setting child opts (options passed to the JVMs for the
> mapper and reducers) in the config. If you need some sort of coordination
> more complicated than this, you should look into zookeeper.
>

--001485f6d8aee0243304732abdbd--

From common-user-return-17359-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 09 21:29:26 2009
Return-Path: <common-user-return-17359-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 94249 invoked from network); 9 Sep 2009 21:29:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Sep 2009 21:29:26 -0000
Received: (qmail 75250 invoked by uid 500); 9 Sep 2009 21:29:24 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 75157 invoked by uid 500); 9 Sep 2009 21:29:24 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 75141 invoked by uid 500); 9 Sep 2009 21:29:24 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 75138 invoked by uid 99); 9 Sep 2009 21:29:23 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2009 21:29:23 +0000
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=FS_REPLICA,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of lists@nabble.com designates 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2009 21:29:13 +0000
Received: from isper.nabble.com ([192.168.236.156])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lists@nabble.com>)
	id 1MlUii-0008WD-Bw
	for core-user@hadoop.apache.org; Wed, 09 Sep 2009 14:28:52 -0700
Message-ID: <25373475.post@talk.nabble.com>
Date: Wed, 9 Sep 2009 14:28:52 -0700 (PDT)
From: gcr44 <geoffry.roberts@gmail.com>
To: core-user@hadoop.apache.org
Subject: hadoop 0.20.0 jobtracker.info could only be replicated to 0 nodes
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: geoffry.roberts@gmail.com
X-Virus-Checked: Checked by ClamAV on apache.org


All,

I'm setting up my first hadoop full cluster.  I did the cygwin thing and
everything works.  I'm having problems with the cluster.

The cluster is five nodes of matched hardware running Ubuntu 8.04.  I
believe I have ssh working properly. The master node is named hbase1, but
I'm not doing anything with hbase.

I run start-dfs.sh, Jps shows NameNode running, and the logs are free of
error.  The data nodes, however, appear to be complaining.  "Retrying
connect to server: hbase1"  

I run start-mapred.sh, Jps shows NameNode and JobTracker running.

The namenode log says, "jobtracker.info could only be replicated to 0 nodes,
instead of 1".  

The jobtracker log says two things of significance: 

1. "It might be because the JobTracker failed to read/write system files
(hdfs://hbase1:30000/hdfs/mapred/system/jobtracker.info /
hdfs://hbase1:30000/hdfs/mapred/system/jobtracker.info.recover) or the
system  file hdfs://hbase1:30000/hdfs/mapred/system/jobtracker.info is
missing!"

How can this be? If I do bin/hadoop fs -lsr / , jobtracker.info shows.

2.  "Problem binding to hbase1/127.0.1.1:30001 : Address already in use"

How can this be in use by anything other that JobTracker?  I have nothing
else on the machine that could be conflicting.  I have also verified that I
have no previous hadoop processes hanging around.

I have included my config files just in case.  

Many thanks for any help.

****************
core-site.xml

<configuration>
  <property>
    <name>fs.default.name</name>
    <value>hdfs://hbase1:30000</value>
  </property>
</configuration>

*****************
hdfs-site.xml

<configuration>
  <property>
    <name>dfs.name.dir</name>
    <value>/hdfs/name1</value>
  </property>
  <property>
    <name>dfs.data.dir</name>
    <value>/hdfs/data1</value>
  </property>
  <property>
   <name>fs.checkpoint.dir</name>
   <value>/hdfs/check1</value>
 </property>
 <property>
    <name>dfs.replication</name>
    <value>5</value>
 </property>
</configuration>

***********************
mapred-site.xml

<configuration>
  <property>
    <name>mapred.job.tracker</name>
    <value>hbase1:30001</value>
  </property>
  <property>
    <name>mapred.system.dir</name>
    <value>/hdfs/mapred/system</value>
  </property>
  <property>
    <name>mapred.local.dir</name>
    <value>/hdfs/mapred/local</value>
  </property>
  <property>
    <name>mapred.tasktracker.map.tasks</name>
    <value>50</value>
  </property>
  <property>
    <name>mapred.tasktracker.reduce.tasks</name>
    <value>35</value>
  </property>
</configuration>


-- 
View this message in context: http://www.nabble.com/hadoop-0.20.0-jobtracker.info-could-only-be-replicated-to-0-nodes-tp25373475p25373475.html
Sent from the Hadoop core-user mailing list archive at Nabble.com.


From common-user-return-17360-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 09 22:14:43 2009
Return-Path: <common-user-return-17360-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 4417 invoked from network); 9 Sep 2009 22:14:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Sep 2009 22:14:42 -0000
Received: (qmail 14044 invoked by uid 500); 9 Sep 2009 22:14:40 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 13980 invoked by uid 500); 9 Sep 2009 22:14:40 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 13970 invoked by uid 99); 9 Sep 2009 22:14:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2009 22:14:40 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of sampritavh@gmail.com designates 209.85.132.247 as permitted sender)
Received: from [209.85.132.247] (HELO an-out-0708.google.com) (209.85.132.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2009 22:14:32 +0000
Received: by an-out-0708.google.com with SMTP id c38so1813605ana.29
        for <common-user@hadoop.apache.org>; Wed, 09 Sep 2009 15:14:11 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=2wghkPeXjS2zC3d//yBrNrRbCan7/mYn36UKa+Z8u9A=;
        b=t03fPzoxeVlRgiNidDtFkMW6YhQhDwztLecdXe8G0LvTqYGrNdaDWrWvLGVXD5aSK/
         cTARnLMhBGr7UdNwKY9qHx4NL9srwUFWX9wrc/MhComaCKuGb1ymj7I84QH2eiyf+Tx3
         A6va0CHwYZLCOsEQuRti2ItoSUcAweTdefvEk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=im4QYNlZn65V848mX7u/gcz5dpOH0H7/NdBzuhiVkCuYA7X9KhgSv9hvmR4QsQDE+B
         cw7nJjj3wSCabJqfSZlkBxCjQiBFmj37UcdiIxYoFjCXZ6+noGCR/Xtsw6dPjtTHGeoU
         re3lo/SPkkDh/7ygboMlitu7HQ8jaWLIQuNZo=
MIME-Version: 1.0
Received: by 10.101.56.13 with SMTP id i13mr802344ank.194.1252534451250; Wed, 
	09 Sep 2009 15:14:11 -0700 (PDT)
In-Reply-To: <35538fbe0909082121m78201936g857367c986aca0f0@mail.gmail.com>
References: <bfca79780909081821v6a83f165n71d7d9c0f1387f3b@mail.gmail.com> 
	<35538fbe0909081922k261b2435w542963cfecd910f7@mail.gmail.com> 
	<bfca79780909081949s710088e0h2bdbbc964ebf262b@mail.gmail.com> 
	<35538fbe0909082121m78201936g857367c986aca0f0@mail.gmail.com>
From: Samprita Hegde <sampritavh@gmail.com>
Date: Wed, 9 Sep 2009 18:13:51 -0400
Message-ID: <bfca79780909091513m7fc60c4ah99cecfecb3d2de2f@mail.gmail.com>
Subject: Re: Using Ganglia with hadoop 0.19.0 on Amazon EC2
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=001636ed738b0926fc04732c67a0
X-Virus-Checked: Checked by ClamAV on apache.org

--001636ed738b0926fc04732c67a0
Content-Type: text/plain; charset=ISO-8859-1

   I ran a two node cluster.When I typed in the command " telnet localhost
8649 " I  got the following XML string :
[root@domU-12-31-39-07-75-F4 ~]# telnet localhost 8649
Trying 127.0.0.1...
Connected to localhost.
Escape character is '^]'.
<?xml version="1.0" encoding="ISO-8859-1" standalone="yes"?>
<!DOCTYPE GANGLIA_XML [
   <!ELEMENT GANGLIA_XML (GRID|CLUSTER|HOST)*>
      <!ATTLIST GANGLIA_XML VERSION CDATA #REQUIRED>
      <!ATTLIST GANGLIA_XML SOURCE CDATA #REQUIRED>
   <!ELEMENT GRID (CLUSTER | GRID | HOSTS | METRICS)*>
      <!ATTLIST GRID NAME CDATA #REQUIRED>
      <!ATTLIST GRID AUTHORITY CDATA #REQUIRED>
      <!ATTLIST GRID LOCALTIME CDATA #IMPLIED>
   <!ELEMENT CLUSTER (HOST | HOSTS | METRICS)*>
      <!ATTLIST CLUSTER NAME CDATA #REQUIRED>
      <!ATTLIST CLUSTER OWNER CDATA #IMPLIED>
      <!ATTLIST CLUSTER LATLONG CDATA #IMPLIED>
      <!ATTLIST CLUSTER URL CDATA #IMPLIED>
      <!ATTLIST CLUSTER LOCALTIME CDATA #REQUIRED>
   <!ELEMENT HOST (METRIC)*>
      <!ATTLIST HOST NAME CDATA #REQUIRED>
      <!ATTLIST HOST IP CDATA #REQUIRED>
      <!ATTLIST HOST LOCATION CDATA #IMPLIED>
      <!ATTLIST HOST REPORTED CDATA #REQUIRED>
      <!ATTLIST HOST TN CDATA #IMPLIED>
      <!ATTLIST HOST TMAX CDATA #IMPLIED>
      <!ATTLIST HOST DMAX CDATA #IMPLIED>
      <!ATTLIST HOST GMOND_STARTED CDATA #IMPLIED>
   <!ELEMENT METRIC EMPTY>
      <!ATTLIST METRIC NAME CDATA #REQUIRED>
      <!ATTLIST METRIC VAL CDATA #REQUIRED>
      <!ATTLIST METRIC TYPE (string | int8 | uint8 | int16 | uint16 | int32
| uint32 | float | double | timestamp) #REQUIRED>
      <!ATTLIST METRIC UNITS CDATA #IMPLIED>
      <!ATTLIST METRIC TN CDATA #IMPLIED>
      <!ATTLIST METRIC TMAX CDATA #IMPLIED>
      <!ATTLIST METRIC DMAX CDATA #IMPLIED>
      <!ATTLIST METRIC SLOPE (zero | positive | negative | both |
unspecified) #IMPLIED>
      <!ATTLIST METRIC SOURCE (gmond | gmetric) #REQUIRED>
   <!ELEMENT HOSTS EMPTY>
      <!ATTLIST HOSTS UP CDATA #REQUIRED>
      <!ATTLIST HOSTS DOWN CDATA #REQUIRED>
      <!ATTLIST HOSTS SOURCE (gmond | gmetric | gmetad) #REQUIRED>
   <!ELEMENT METRICS EMPTY>
      <!ATTLIST METRICS NAME CDATA #REQUIRED>
      <!ATTLIST METRICS SUM CDATA #REQUIRED>
      <!ATTLIST METRICS NUM CDATA #REQUIRED>
      <!ATTLIST METRICS TYPE (string | int8 | uint8 | int16 | uint16 | int32
| uint32 | float | double | timestamp) #REQUIRED>
      <!ATTLIST METRICS UNITS CDATA #IMPLIED>
      <!ATTLIST METRICS SLOPE (zero | positive | negative | both |
unspecified) #IMPLIED>
      <!ATTLIST METRICS SOURCE (gmond | gmetric) #REQUIRED>
]>
<GANGLIA_XML VERSION="3.0.5" SOURCE="gmond">
<CLUSTER NAME="unspecified" LOCALTIME="1252533906" OWNER="unspecified"
LATLONG="unspecified" URL="unspecified">
<HOST NAME="domU-12-31-39-07-75-F4.compute-1.internal" IP="10.209.118.6"
REPORTED="1252533905" TN="0" TMAX="20" DMAX="0" LOCATION="unspecified"
GMOND_STARTED="0">
<METRIC NAME="threadsRunnable" VAL="6" TYPE="int32" UNITS="" TN="0"
TMAX="60" DMAX="0" SLOPE="both" SOURCE="gmetric"/>
<METRIC NAME="gcTimeMillis" VAL="207" TYPE="int32" UNITS="" TN="0" TMAX="60"
DMAX="0" SLOPE="both" SOURCE="gmetric"/>
<METRIC NAME="DeleteFileOps" VAL="0" TYPE="int32" UNITS="" TN="228"
TMAX="60" DMAX="0" SLOPE="both" SOURCE="gmetric"/>
<METRIC NAME="memNonHeapUsedM" VAL="11.130989" TYPE="float" UNITS="" TN="0"
TMAX="60" DMAX="0" SLOPE="both" SOURCE="gmetric"/>
<METRIC NAME="AddBlockOps" VAL="0" TYPE="int32" UNITS="" TN="228" TMAX="60"
DMAX="0" SLOPE="both" SOURCE="gmetric"/>
<METRIC NAME="CreateFileOps" VAL="0" TYPE="int32" UNITS="" TN="228"
TMAX="60" DMAX="0" SLOPE="both" SOURCE="gmetric"/>
<METRIC NAME="reduces_completed" VAL="0" TYPE="int32" UNITS="" TN="0"
TMAX="60" DMAX="0" SLOPE="both" SOURCE="gmetric"/>
<METRIC NAME="logFatal" VAL="0" TYPE="int32" UNITS="" TN="0" TMAX="60"
DMAX="0" SLOPE="both" SOURCE="gmetric"/>
<METRIC NAME="jobs_completed" VAL="0" TYPE="int32" UNITS="" TN="0" TMAX="60"
DMAX="0" SLOPE="both" SOURCE="gmetric"/>
<METRIC NAME="FilesCreated" VAL="4" TYPE="int32" UNITS="" TN="228" TMAX="60"
DMAX="0" SLOPE="both" SOURCE="gmetric"/>
<METRIC NAME="logError" VAL="0" TYPE="int32" UNITS="" TN="0" TMAX="60"
DMAX="0" SLOPE="both" SOURCE="gmetric"/>
<METRIC NAME="GetListingOps" VAL="0" TYPE="int32" UNITS="" TN="228"
TMAX="60" DMAX="0" SLOPE="both" SOURCE="gmetric"/>
<METRIC NAME="maps_completed" VAL="0" TYPE="int32" UNITS="" TN="0" TMAX="60"
DMAX="0" SLOPE="both" SOURCE="gmetric"/>
<METRIC NAME="logInfo" VAL="31" TYPE="int32" UNITS="" TN="0" TMAX="60"
DMAX="0" SLOPE="both" SOURCE="gmetric"/>
<METRIC NAME="reduces_launched" VAL="0" TYPE="int32" UNITS="" TN="0"
TMAX="60" DMAX="0" SLOPE="both" SOURCE="gmetric"/>
<METRIC NAME="FilesRenamed" VAL="0" TYPE="int32" UNITS="" TN="228" TMAX="60"
DMAX="0" SLOPE="both" SOURCE="gmetric"/>
<METRIC NAME="memHeapCommittedM" VAL="6.5390625" TYPE="float" UNITS=""
TN="0" TMAX="60" DMAX="0" SLOPE="both" SOURCE="gmetric"/>
<METRIC NAME="threadsTimedWaiting" VAL="9" TYPE="int32" UNITS="" TN="0"
TMAX="60" DMAX="0" SLOPE="both" SOURCE="gmetric"/>
<METRIC NAME="gcCount" VAL="32" TYPE="int32" UNITS="" TN="0" TMAX="60"
DMAX="0" SLOPE="both" SOURCE="gmetric"/>
<METRIC NAME="SafemodeTime" VAL="1976" TYPE="int32" UNITS="" TN="228"
TMAX="60" DMAX="0" SLOPE="both" SOURCE="gmetric"/>
<METRIC NAME="FilesAppended" VAL="0" TYPE="int32" UNITS="" TN="228"
TMAX="60" DMAX="0" SLOPE="both" SOURCE="gmetric"/>
<METRIC NAME="maps_launched" VAL="0" TYPE="int32" UNITS="" TN="0" TMAX="60"
DMAX="0" SLOPE="both" SOURCE="gmetric"/>
<METRIC NAME="threadsNew" VAL="0" TYPE="int32" UNITS="" TN="0" TMAX="60"
DMAX="0" SLOPE="both" SOURCE="gmetric"/>
<METRIC NAME="GetBlockLocations" VAL="0" TYPE="int32" UNITS="" TN="228"
TMAX="60" DMAX="0" SLOPE="both" SOURCE="gmetric"/>
<METRIC NAME="threadsTerminated" VAL="0" TYPE="int32" UNITS="" TN="0"
TMAX="60" DMAX="0" SLOPE="both" SOURCE="gmetric"/>
<METRIC NAME="logWarn" VAL="0" TYPE="int32" UNITS="" TN="0" TMAX="60"
DMAX="0" SLOPE="both" SOURCE="gmetric"/>
<METRIC NAME="memNonHeapCommittedM" VAL="18.25" TYPE="float" UNITS="" TN="0"
TMAX="60" DMAX="0" SLOPE="both" SOURCE="gmetric"/>
<METRIC NAME="memHeapUsedM" VAL="3.979683" TYPE="float" UNITS="" TN="0"
TMAX="60" DMAX="0" SLOPE="both" SOURCE="gmetric"/>
<METRIC NAME="threadsWaiting" VAL="15" TYPE="int32" UNITS="" TN="0"
TMAX="60" DMAX="0" SLOPE="both" SOURCE="gmetric"/>
<METRIC NAME="jobs_submitted" VAL="0" TYPE="int32" UNITS="" TN="0" TMAX="60"
DMAX="0" SLOPE="both" SOURCE="gmetric"/>
<METRIC NAME="threadsBlocked" VAL="0" TYPE="int32" UNITS="" TN="0" TMAX="60"
DMAX="0" SLOPE="both" SOURCE="gmetric"/>
</HOST>
<HOST NAME="domU-12-31-39-07-84-A5.compute-1.internal" IP="10.209.135.83"
REPORTED="1252533893" TN="13" TMAX="20" DMAX="0" LOCATION="unspecified"
GMOND_STARTED="1252533892">
</HOST>
</CLUSTER>
</GANGLIA_XML>
Connection closed by foreign host.

Thanks a lot! .  Can I get this information in my local machine browser ?

Thanks and Regards,
Sampritat


On Wed, Sep 9, 2009 at 12:21 AM, Matt Massie <matt@cloudera.com> wrote:

> Ganglia doesn't need to be patched to work.  The patches are for Hadoop if
> you are running ganglia 3.1.x (because of a breaking change in the ganglia
> message format from 3.0.x to 3.1.x).
>
> Since you are running fedora, you should be able to bring ganglia up by
> using the ganglia RPMs which are available in the fedora repo.
>
> Try the following commands on each node in the cluster you want to monitor
>
> # yum install ganglia-gmond
> # service gmond start
>
> You will need to open TCP/UDP port 8649 as well to allow ganglia
> communication (see your iptables configuration).  You can verify that gmond
> is working by connecting to TCP port 8649
>
> $ telnet localhost 8649
>
> You should see an XML description of the state of the cluster/node.  Let me
> know when you are this far in the installation and I'll help you through
> the
> next steps.
>
> -Matt
>
>
>
> On Tue, Sep 8, 2009 at 7:49 PM, Samprita Hegde <sampritavh@gmail.com>
> wrote:
>
> > The ami-id I am using is ami-fa6a8e93. It is a Fedora distribution for
> > i-386
> > .
> > To be precise this is taken from the console output :
> >
> > Linux version 2.6.21.7-2.fc8xen (mockbuild@xenbuilder1.fedora.redhat.com
> )
> > (gcc version 4.1.2 20070925 (Red Hat 4.1.2-33))
> >
> > I was looking into the Ganglia documentation in Hadoop wiki. It says we
> > need
> > to install a patch inorder to get it working. I am not sure if this ami
> has
> > all the patched installed for ganglia.
> >
> > Thanks!
> > Samprita
> >
> >
> > On Tue, Sep 8, 2009 at 10:22 PM, Matt Massie <matt@cloudera.com> wrote:
> >
> > > I should be able to help you out.
> > >
> > > What AMI are you using?  What linux distribution?
> > >
> > > -Matt
> > >
> > > On Tue, Sep 8, 2009 at 6:21 PM, Samprita Hegde <sampritavh@gmail.com>
> > > wrote:
> > >
> > > > Hello All,
> > > >    I am trying to study the performance of ec2 cluster when it is
> > running
> > > > hadoop. But I am not able get ganglia up and running. Can someone
> > please
> > > > guide me as how to use/configure Ganglia to be able to run with
> hadoop
> > .
> > > I
> > > > am using an public ec2 image that has hadoop-0.19.0. I have used the
> > > > ganglia
> > > > configuration that comes with the hadoop-ec2 scripts in the
> > > hadoop-package.
> > > >
> > > >
> > > > The ganglia version  that is running is ganglia 3.0.5.
> > > >
> > > > Thanks and Regards,
> > > > Samprita
> > > >
> > >
> >
>

--001636ed738b0926fc04732c67a0--

From common-user-return-17361-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 09 22:42:56 2009
Return-Path: <common-user-return-17361-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 11187 invoked from network); 9 Sep 2009 22:42:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Sep 2009 22:42:55 -0000
Received: (qmail 39930 invoked by uid 500); 9 Sep 2009 22:42:53 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 39845 invoked by uid 500); 9 Sep 2009 22:42:53 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Delivered-To: moderator for common-user@hadoop.apache.org
Received: (qmail 89066 invoked by uid 99); 9 Sep 2009 18:23:52 -0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of seamanb@gmail.com designates 209.85.210.172 as permitted sender)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:date:message-id:subject
         :from:to:content-type;
        bh=QjDgIQQOS5BcVEaaxU1UFZUCNJxV5SSsS1s+08Jbx3M=;
        b=iSJI5W7AxFlRQesdKq3A+JPpbH8yRJkYTb2eM/p2+EIZm+7R1S0sX/xce/DSBp98gg
         ueioZ8XGGN04VzYi3tEU7gdEyiclBDtUHOYjGnTFReTxyUDpN5F1Fng9YEFpwsr3sYZR
         U7zgJZ9+MxheWWiV90ZzbdvwL4C50+SJbzZWo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=BYalG2fGRNptj3vuLJt8dlOzsg6v/HTn1BM5kD+jNSJVJ/vuuj6FYZ2DDXevOXQtAR
         AHWe8Ce7/qg/crhnHlfilfkr+mt7hj2yj+GI4rGLzny8eIvAxOj8/Z9fqC7+IHknbdT2
         lw9/pveUguoXVotPHiGuRJWO+3fmeqsEBGJTo=
MIME-Version: 1.0
Date: Wed, 9 Sep 2009 12:23:23 -0600
Message-ID: <d92b00480909091123y438967a1m5609e0c7d363347f@mail.gmail.com>
Subject: Choosing a scheduler
From: Brian Seaman <seamanb@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0050450181bface1850473292d7c
X-Virus-Checked: Checked by ClamAV on apache.org

--0050450181bface1850473292d7c
Content-Type: text/plain; charset=ISO-8859-1

I am planning on upgrading to the new 0.20.1 version to be able to use the
schedulers.  The two schedulers, Fair and Capacity, seem fairly similar.  Is
there a reason to pick one over the other?  Does one receive better support
than the other?

Thanks for you help.

-Brian

--0050450181bface1850473292d7c--

From common-user-return-17362-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 09 23:24:44 2009
Return-Path: <common-user-return-17362-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 27160 invoked from network); 9 Sep 2009 23:24:44 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 9 Sep 2009 23:24:44 -0000
Received: (qmail 69952 invoked by uid 500); 9 Sep 2009 23:24:42 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 69847 invoked by uid 500); 9 Sep 2009 23:24:41 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 69837 invoked by uid 99); 9 Sep 2009 23:24:41 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2009 23:24:41 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of xcolwell@gmail.com designates 74.125.92.26 as permitted sender)
Received: from [74.125.92.26] (HELO qw-out-2122.google.com) (74.125.92.26)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 09 Sep 2009 23:24:31 +0000
Received: by qw-out-2122.google.com with SMTP id 9so538602qwb.35
        for <common-user@hadoop.apache.org>; Wed, 09 Sep 2009 16:24:10 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:message-id:date:from
         :user-agent:mime-version:to:subject:references:in-reply-to
         :content-type:content-transfer-encoding;
        bh=y8X+5GWUgHiD2VPHmidSNcKOk1h7OtCGSOcrT5ZJAoE=;
        b=b6OYsjAknlHn+Fj9+XJ5YVwan3q9u/2XgE9ZnIEMm32O6uJqzxAJPFurlQQswu5/Gn
         1nqyY3dX9sB88zIKIIp07lllIUPErYCeUEiBdYiHud43QhWkLUHXdJ0HhvLc3tRmOAge
         yRydjjjfNtrdhhR+CKdyVByOgCCBpbWR/iuZ0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type:content-transfer-encoding;
        b=SrImpF9K4XTbDMQCDIfi6CdTVXx8NQBadeG16sxCeSsE4D4by5rwJ7taml9DHecjgD
         wxPXaCD5sudu9Yd+bO4GbQPNulasIERf1/aBuPb4CUcXoRxV5zpTmsK4B0DhKfaXUMxt
         YnosNkuO568FZ2W0P8/c4osgUe0+8B2uPrTyw=
Received: by 10.224.30.196 with SMTP id v4mr178145qac.343.1252538650419;
        Wed, 09 Sep 2009 16:24:10 -0700 (PDT)
Received: from ?10.1.20.105? (dsl254-070-240.nyc1.dsl.speakeasy.net [216.254.70.240])
        by mx.google.com with ESMTPS id 7sm250226qwf.57.2009.09.09.16.24.09
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Wed, 09 Sep 2009 16:24:09 -0700 (PDT)
Message-ID: <4AA83912.6060706@gmail.com>
Date: Wed, 09 Sep 2009 19:24:02 -0400
From: brien colwell <xcolwell@gmail.com>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: common-user@hadoop.apache.org
Subject: Re: Choosing a scheduler
References: <e7c39ecb3283c925735cc0d0ab9d8703.squirrel@mail-sfu01.truveo.com>
In-Reply-To: <e7c39ecb3283c925735cc0d0ab9d8703.squirrel@mail-sfu01.truveo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

We use the fair scheduler because it's easy to configure and easily 
understood -- all jobs get an equal share of the resources. The capacity 
scheduler has more complex semantics (capacities per queue, how are 
resources split between jobs of equal priority within the same queue?, 
etc -- see 
http://hadoop.apache.org/common/docs/current/capacity_scheduler.html). 
To me the capacity scheduler seems like it might be a superset of the 
fair scheduler.




Brian Seaman wrote:
> I am planning on upgrading to the new 0.20.1 version to be able to use the
> job schedulers.  The two schedulers, Fair and Capacity, seem fairly
> similar.  Is there a reason to pick one over the other?  Does one receive
> better ongoing support than the other?
>
> Thanks for you help.
>
> -Brian
>
>   


From common-user-return-17363-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 10 02:23:00 2009
Return-Path: <common-user-return-17363-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 83245 invoked from network); 10 Sep 2009 02:23:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Sep 2009 02:23:00 -0000
Received: (qmail 57307 invoked by uid 500); 10 Sep 2009 02:22:57 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 57217 invoked by uid 500); 10 Sep 2009 02:22:57 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 57207 invoked by uid 99); 10 Sep 2009 02:22:57 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 02:22:57 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of wangzhong.neu@gmail.com designates 209.85.222.202 as permitted sender)
Received: from [209.85.222.202] (HELO mail-pz0-f202.google.com) (209.85.222.202)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 02:22:48 +0000
Received: by pzk40 with SMTP id 40so1472308pzk.29
        for <common-user@hadoop.apache.org>; Wed, 09 Sep 2009 19:22:26 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=8xwJMxG4oddbGm6ZsaPTWm0WCdCV1IddnpSjg1lGOvE=;
        b=E7b8W8TNee94Yi5nBtZK6V3A8vz5LsaReNaNzglVb4LqMjPYozgHOSp1GHPmQB+Zil
         Qj+FPFE3+xWA9wMk6FKgicqCiHjPvrg1eMuC0adQVE/FyX3vva7KDgCU0e1L/axexZDJ
         GS43cPByANxwAqEhqsv8nc2O/zDv+DNKqk/jg=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=cmkh0HCvP+97lQqXbI2Sc3IsFQ75ylzYM1tPbOWx/30MVf0xtNeOUMtw1wPUkbvWwB
         ZarzXvqmSkjNNHJiV+jZ7nAMYh7YKRCMYy4MeDzlD0wMk09qAhxzCh0y+exffGYiBHBY
         woE75YEWNpzzMu6SaM2B3uVe6uQpYG3DpetdU=
MIME-Version: 1.0
Received: by 10.115.133.7 with SMTP id k7mr1691655wan.96.1252549346803; Wed, 
	09 Sep 2009 19:22:26 -0700 (PDT)
In-Reply-To: <4AA694FA.3040702@Gmail.com>
References: <4AA694FA.3040702@Gmail.com>
Date: Thu, 10 Sep 2009 10:22:26 +0800
Message-ID: <de9d20b80909091922t710ebd02y64feacba94090035@mail.gmail.com>
Subject: Re: Cluster size for Linux file system
From: Zhong Wang <wangzhong.neu@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

On Wed, Sep 9, 2009 at 1:31 AM, CubicDesign <cubicdesign@gmail.com> wrote:
> Which is the best disk cluster size for a Linux partition (let's say ext3)
> when using Hadoop on top of it?
> The default size is 4KB. It will Hadoop get an advantage if I format the
> disk cluster to 8 or 16KB, or even more?
>

I have not tested but some report point out that if the under
filesystem with a block size of 64KB (ext2), the performance will
increase 10% - 20%, because it promote sequence read/ write rate.


-- 
Zhong

From common-user-return-17364-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 10 06:16:43 2009
Return-Path: <common-user-return-17364-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 38597 invoked from network); 10 Sep 2009 06:16:43 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Sep 2009 06:16:43 -0000
Received: (qmail 30608 invoked by uid 500); 10 Sep 2009 06:16:41 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 30534 invoked by uid 500); 10 Sep 2009 06:16:41 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 30524 invoked by uid 99); 10 Sep 2009 06:16:41 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 06:16:41 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of rkhatwani@gmail.com designates 209.85.216.190 as permitted sender)
Received: from [209.85.216.190] (HELO mail-px0-f190.google.com) (209.85.216.190)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 06:16:33 +0000
Received: by pxi28 with SMTP id 28so4769707pxi.2
        for <common-user@hadoop.apache.org>; Wed, 09 Sep 2009 23:16:12 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:date:message-id:subject
         :from:to:content-type;
        bh=ScaDxRlOaUVz9L0HL1XOUoN62euklVni9rSwHBh/lHc=;
        b=sa+I2rX58KoVDyfheFUsqpEG5QPHLc9N/045vKsEFRD/51CouCBrK4eIhB9CimEJ2l
         6N3vs7fPmCP341lkgz+X1vMagjKXqvon/rxWyDxSuaYnapFsgx7YZZ7hB13CbANjRu4J
         7vQiJ/ugynWXYzG/ZSDSVpnJ8Gaz57/JlInlY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=rrMWhiIL5j3CNRLQOaCGhUtesS6801L4nbRpVWps+AjQ3yU3n9pjNO+SdqjqwZR0TP
         eP+8zQUOP80cBc0lYjTAjEJbje132bz3l82m/P4nJza3k2Uot8sI46kd1n0pq5kWRD/d
         liunHM7eh1YQWV+tchaswcrOQDgoxpj3kHgSA=
MIME-Version: 1.0
Received: by 10.114.253.13 with SMTP id a13mr2155215wai.13.1252563372863; Wed, 
	09 Sep 2009 23:16:12 -0700 (PDT)
Date: Thu, 10 Sep 2009 11:46:12 +0530
Message-ID: <2aa3aff80909092316s27058071n430a7e44670ec06d@mail.gmail.com>
Subject: Reading a subset of records from hdfs
From: Rakhi Khatwani <rkhatwani@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0016e6878741e5f1980473332204
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e6878741e5f1980473332204
Content-Type: text/plain; charset=ISO-8859-1

Hi,
       Suppose i have a hdfs file with 10,000 entries. and i want my job to
process 100 records at one time (to minimize loss of data during job
crashes/ network errors etc). so if a job can read a subset of records from
a fine in HDFS, i can combine with chaining to achieve my objective.  for
example i have job1 which reads 1-100 lines of input from hdfs, and job 2
which reads from 101-200 lines of input...etc.
 is there a way in which you can configure a job 2 read only a subset of
records from a file in HDFS.
Regards,
Raakhi

--0016e6878741e5f1980473332204--

From common-user-return-17365-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 10 07:20:04 2009
Return-Path: <common-user-return-17365-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 61648 invoked from network); 10 Sep 2009 07:20:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Sep 2009 07:20:04 -0000
Received: (qmail 92359 invoked by uid 500); 10 Sep 2009 07:20:01 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 92281 invoked by uid 500); 10 Sep 2009 07:20:01 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Delivered-To: moderator for common-user@hadoop.apache.org
Received: (qmail 90956 invoked by uid 500); 10 Sep 2009 00:22:02 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of cpotocky@gmail.com designates 209.85.218.214 as permitted sender)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:date:message-id:subject
         :from:to:content-type;
        bh=ybYodFTeTvwqXGOzIwxLFTosvV4BEyE/0lIGEU7uxao=;
        b=oLa2YsXqLmigsHRaCYSDsU9LJihi/ohw+aNnitBeDTRBikKCeIyvLIa/L+0G1zYeCy
         HHvs90eEmKaWzh2cosz89xk+zrKilmHQ0Tq9w1fZ1TmYK4EtvcFcbr4qYfWeJedDPL8q
         /f6zxEX/WFVpDnL5/siWwOuLPXVj04iKwrGk4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=XlTEuQF5AcZr4HoJWuBu0hjTVKMx6D2heMCRJdTP/8J0O8YgHCr0RNSl/r781/L3HB
         MP+tUW6oB/JupilkZ1+9QwUJTMcMnKgti2iNj++HcFNJfiAkEv4qQzMlkPuhHNGelnSD
         qnRkvFUREr2Vnua7g9fV7e6FRddPott0qIhaE=
MIME-Version: 1.0
Date: Wed, 9 Sep 2009 20:21:28 -0400
Message-ID: <50cc25450909091721l2f5dafe7y929d9fef7cfcd515@mail.gmail.com>
Subject: Initial hardware sizing
From: Chad Potocky <cpotocky@gmail.com>
To: core-user@hadoop.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

I am interested in calculating the number of nodes and amount of
storage per node I need in order to meet an initial usable storage
volume for HDFS.  For example, if I want a setup with 50 TBytes of
usable storage, how many data nodes would I need and how much storage
is in each node. Please include the replication factor you assumed in
sizing.

Chad

From common-user-return-17366-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 10 07:49:46 2009
Return-Path: <common-user-return-17366-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 68128 invoked from network); 10 Sep 2009 07:49:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Sep 2009 07:49:46 -0000
Received: (qmail 31337 invoked by uid 500); 10 Sep 2009 07:49:43 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 31265 invoked by uid 500); 10 Sep 2009 07:49:43 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 31255 invoked by uid 99); 10 Sep 2009 07:49:43 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 07:49:43 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of amansk@gmail.com designates 209.85.132.244 as permitted sender)
Received: from [209.85.132.244] (HELO an-out-0708.google.com) (209.85.132.244)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 07:49:34 +0000
Received: by an-out-0708.google.com with SMTP id c38so1941829ana.29
        for <common-user@hadoop.apache.org>; Thu, 10 Sep 2009 00:49:13 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=gfMYda0OP/eQ3Y+HDtrPPk8pnDTZPAXJsHY3jQN4KHk=;
        b=rid+3boLCG/dBMG0Z/KZx0y76ZW0p3Fl9E1D1OFHux4nhjfWOePQEucc59FFy4KhUf
         nJltBW9Ec0htNLF6BHQAOGqKwyMAMR9vPu0xsygIyntyTFJ/Pys8LfYNJix1fWQZaINk
         ERC5XrxaPlT5ifxa0YJ3oGklfomvvoQtE5fzI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=oRiLV4Zezq8JuVuckWW0eHkTvCdNaERPWs0bln+8woGMzukvLX4LW8tKcYQYhgQoay
         3iE4Jo8Numdd/fhXxQAK0YhBdqIFgWgHIcjOFg5t6WlcE6QpAUV6meIgLIQQpwEP+OU/
         7BDGQoSMeA9El+xxgmQ2ZIAzNJ621rz6NeAGs=
MIME-Version: 1.0
Received: by 10.101.213.5 with SMTP id p5mr1262897anq.1.1252568953468; Thu, 10 
	Sep 2009 00:49:13 -0700 (PDT)
In-Reply-To: <2aa3aff80909092316s27058071n430a7e44670ec06d@mail.gmail.com>
References: <2aa3aff80909092316s27058071n430a7e44670ec06d@mail.gmail.com>
Date: Thu, 10 Sep 2009 00:49:13 -0700
Message-ID: <35a22e220909100049t38478058l2792d37cd0f710de@mail.gmail.com>
Subject: Re: Reading a subset of records from hdfs
From: Amandeep Khurana <amansk@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Why not just have a higher number of mappers? Why split into multiple
jobs? Any particular case that you think this will be useful in?

On 9/9/09, Rakhi Khatwani <rkhatwani@gmail.com> wrote:
> Hi,
>        Suppose i have a hdfs file with 10,000 entries. and i want my job to
> process 100 records at one time (to minimize loss of data during job
> crashes/ network errors etc). so if a job can read a subset of records from
> a fine in HDFS, i can combine with chaining to achieve my objective.  for
> example i have job1 which reads 1-100 lines of input from hdfs, and job 2
> which reads from 101-200 lines of input...etc.
>  is there a way in which you can configure a job 2 read only a subset of
> records from a file in HDFS.
> Regards,
> Raakhi
>


-- 


Amandeep Khurana
Computer Science Graduate Student
University of California, Santa Cruz

From common-user-return-17367-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 10 07:57:36 2009
Return-Path: <common-user-return-17367-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 70291 invoked from network); 10 Sep 2009 07:57:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Sep 2009 07:57:36 -0000
Received: (qmail 38105 invoked by uid 500); 10 Sep 2009 07:57:34 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 38017 invoked by uid 500); 10 Sep 2009 07:57:33 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 38007 invoked by uid 99); 10 Sep 2009 07:57:33 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 07:57:33 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of wasimbari@msn.com designates 65.55.90.216 as permitted sender)
Received: from [65.55.90.216] (HELO snt0-omc4-s13.snt0.hotmail.com) (65.55.90.216)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 07:57:22 +0000
Received: from SNT124-DS4 ([65.55.90.199]) by snt0-omc4-s13.snt0.hotmail.com with Microsoft SMTPSVC(6.0.3790.3959);
	 Thu, 10 Sep 2009 00:57:01 -0700
X-Originating-IP: [78.50.94.244]
X-Originating-Email: [wasimbari@msn.com]
Message-ID: <SNT124-DS4C5C848A45D5AE06A9260BCE80@phx.gbl>
From: "Wasim Bari" <wasimbari@msn.com>
To: <common-user@hadoop.apache.org>
References: <2aa3aff80909092316s27058071n430a7e44670ec06d@mail.gmail.com> <35a22e220909100049t38478058l2792d37cd0f710de@mail.gmail.com>
In-Reply-To: <35a22e220909100049t38478058l2792d37cd0f710de@mail.gmail.com>
Subject: Re: Reading a subset of records from hdfs
Date: Thu, 10 Sep 2009 09:57:11 +0200
MIME-Version: 1.0
Content-Type: text/plain;
	format=flowed;
	charset="iso-8859-1";
	reply-type=original
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
Importance: Normal
X-Mailer: Microsoft Windows Live Mail 14.0.8064.206
X-MIMEOLE: Produced By Microsoft MimeOLE V14.0.8064.206
X-OriginalArrivalTime: 10 Sep 2009 07:57:01.0694 (UTC) FILETIME=[479C29E0:01CA31EC]
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,
    I also have similar kind of question.

Is it possible for a job to start reading a file ( start split ) from a 
specific position in file rather than beginning. Idea is I have some 
information in a file, first part of information can only be read in 
sequence not parallel, so I get this data with isSplitable= false. Now when 
I have this data next part of search can be made parallel. So its better to 
start searching from this point onward in parallel with multiple mappers ( 
isSiplitable = true ).

BR,
Bari

--------------------------------------------------
From: "Amandeep Khurana" <amansk@gmail.com>
Sent: Thursday, September 10, 2009 9:49 AM
To: <common-user@hadoop.apache.org>
Subject: Re: Reading a subset of records from hdfs

> Why not just have a higher number of mappers? Why split into multiple
> jobs? Any particular case that you think this will be useful in?
>
> On 9/9/09, Rakhi Khatwani <rkhatwani@gmail.com> wrote:
>> Hi,
>>        Suppose i have a hdfs file with 10,000 entries. and i want my job 
>> to
>> process 100 records at one time (to minimize loss of data during job
>> crashes/ network errors etc). so if a job can read a subset of records 
>> from
>> a fine in HDFS, i can combine with chaining to achieve my objective.  for
>> example i have job1 which reads 1-100 lines of input from hdfs, and job 2
>> which reads from 101-200 lines of input...etc.
>>  is there a way in which you can configure a job 2 read only a subset of
>> records from a file in HDFS.
>> Regards,
>> Raakhi
>>
>
>
> -- 
>
>
> Amandeep Khurana
> Computer Science Graduate Student
> University of California, Santa Cruz
> 

From common-user-return-17368-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 10 08:52:48 2009
Return-Path: <common-user-return-17368-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 89927 invoked from network); 10 Sep 2009 08:52:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Sep 2009 08:52:47 -0000
Received: (qmail 5202 invoked by uid 500); 10 Sep 2009 08:52:45 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 5132 invoked by uid 500); 10 Sep 2009 08:52:45 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 5122 invoked by uid 500); 10 Sep 2009 08:52:45 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 5119 invoked by uid 99); 10 Sep 2009 08:52:45 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 08:52:45 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lists@nabble.com designates 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 08:52:34 +0000
Received: from isper.nabble.com ([192.168.236.156])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lists@nabble.com>)
	id 1MlfO2-0003O5-BD
	for core-user@hadoop.apache.org; Thu, 10 Sep 2009 01:52:14 -0700
Message-ID: <25379620.post@talk.nabble.com>
Date: Thu, 10 Sep 2009 01:52:14 -0700 (PDT)
From: indoos <indoos@gmail.com>
To: core-user@hadoop.apache.org
Subject: Re: static data sharing among map funtions
In-Reply-To: <SNT124-W5650663C63B0F1D7A57F65BCEA0@phx.gbl>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: indoos@gmail.com
References: <SNT124-W5650663C63B0F1D7A57F65BCEA0@phx.gbl>
X-Virus-Checked: Checked by ClamAV on apache.org


Hi,
Here are 2 possible ways for static data sharing-
1. Using distributed cache- refer
http://hadoop.apache.org/common/docs/current/mapred_tutorial.html#DistributedCache
2. Using JobConf object-
http://hadoop.apache.org/common/docs/current/api/org/apache/hadoop/conf/Configuration.html#set%28java.lang.String,%20java.lang.String%29.   

Please note that only read only cache should be used in Hadoop.

Regards,
Sanjay


wbari wrote:
> 
> 
>  
> 
>  
> 
> Hi,
> 
>    How static data is shared among mappers ? is it synchorinized or not
> possible ? I will appreciate if someone can give possible way of sharing
> data among Map funtions in one job.
> 
>  
> 
> BR,
> 
>  
> 
> Bari
> 
> 

-- 
View this message in context: http://www.nabble.com/static-data-sharing-among-map-funtions-tp25347960p25379620.html
Sent from the Hadoop core-user mailing list archive at Nabble.com.


From common-user-return-17369-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 10 11:01:54 2009
Return-Path: <common-user-return-17369-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 21671 invoked from network); 10 Sep 2009 11:01:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Sep 2009 11:01:54 -0000
Received: (qmail 58182 invoked by uid 500); 10 Sep 2009 11:01:52 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 58111 invoked by uid 500); 10 Sep 2009 11:01:52 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 58099 invoked by uid 99); 10 Sep 2009 11:01:52 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 11:01:52 +0000
X-ASF-Spam-Status: No, hits=4.3 required=10.0
	tests=HTML_MESSAGE,HTML_OBFUSCATE_05_10,NORMAL_HTTP_TO_IP,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of vincenzo.gulisano@gmail.com designates 209.85.220.218 as permitted sender)
Received: from [209.85.220.218] (HELO mail-fx0-f218.google.com) (209.85.220.218)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 11:01:42 +0000
Received: by fxm18 with SMTP id 18so1429635fxm.29
        for <common-user@hadoop.apache.org>; Thu, 10 Sep 2009 04:01:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:from:date:message-id
         :subject:to:content-type;
        bh=jI1Amsi2PPr21M6k2GzrDmSbcMRzXqdATtCqs3nvg1k=;
        b=PriBJpcRdPrUzaSlNgJXcn/sPl2pF4Qo99RmaW4bGIUxaoloi6GDKNUWH0nxH374+E
         yaDCWBhISOgaZW7lh5rCcP0zofCIG/4gD+lam/NeMcBd9vf4DzRmga+o2EQFTn115rsn
         fM1cHqlkP0DSrs5FSSc8knBlelv82J2PA+Fos=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:from:date:message-id:subject:to:content-type;
        b=k9CWgM79bfbdQ65O3D0OSIbG1CuDpSwAX2VO+Y4FMuOf3pScN4tpVrvCdqqZ1s/TAx
         crcGNUQia01gdsbm729CWUS0ciouItoNmjj3k22dQ/RkCkkeSxJOyYRPYoD2lKTNRCVx
         xzzhRQD4pqwsy9go3GMFfjHh6zE2GGjKWpOEQ=
MIME-Version: 1.0
Received: by 10.223.60.68 with SMTP id o4mr856204fah.102.1252580481688; Thu, 
	10 Sep 2009 04:01:21 -0700 (PDT)
From: Vincenzo Gulisano <vincenzo.gulisano@gmail.com>
Date: Thu, 10 Sep 2009 13:01:01 +0200
Message-ID: <4c6b39130909100401p1fbbe1feq8b5efca9cdef8a85@mail.gmail.com>
Subject: Hadoop initial set up doesn't work
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0015174029cea9e51f0473371e00
X-Virus-Checked: Checked by ClamAV on apache.org

--0015174029cea9e51f0473371e00
Content-Type: text/plain; charset=ISO-8859-1

Greetings,
I'm trying to setup HDFS on a single-node cluster. I've tried several
tutorials, but all of them lead to the same problem.
After the setup I can check that everything is working using:

jps
...
17421 NameNode
17519 DataNode
17611 SecondaryNameNode
17685 JobTracker
17778 TaskTracker
18425 Jps
...

AND

sudo netstat -plten | grep java
...
tcp        0      0 127.0.0.1:54310         0.0.0.0:*
LISTEN      1062       346907      17421/java      (namenode)
tcp        0      0 127.0.0.1:54311         0.0.0.0:*
LISTEN      1062       347480      17685/java      (job tracker)
...

The log files, too, don't report any error.
The problem I get is that running /bin/hadoop dfs -ls (or copyFromLocal,
etc.) the command is not executed, it just remains here and doesn't complete
/ exit.
No errors are reported in the log files.
Have someone faced this problem or knows what can be it solution?

Thanks in advance,
best regards

--0015174029cea9e51f0473371e00--

From common-user-return-17370-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 10 11:03:03 2009
Return-Path: <common-user-return-17370-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 22832 invoked from network); 10 Sep 2009 11:03:03 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Sep 2009 11:03:03 -0000
Received: (qmail 61655 invoked by uid 500); 10 Sep 2009 11:03:00 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 61578 invoked by uid 500); 10 Sep 2009 11:03:00 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 61568 invoked by uid 99); 10 Sep 2009 11:03:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 11:03:00 +0000
X-ASF-Spam-Status: No, hits=-2.8 required=10.0
	tests=RCVD_IN_DNSWL_MED,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [192.6.10.2] (HELO colossus.hpl.hp.com) (192.6.10.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 11:02:49 +0000
Received: from localhost (localhost [127.0.0.1])
	by colossus.hpl.hp.com (Postfix) with ESMTP id 4D7081BA4AC
	for <common-user@hadoop.apache.org>; Thu, 10 Sep 2009 12:02:27 +0100 (BST)
X-Virus-Scanned: Debian amavisd-new at hpl.hp.com
Received: from colossus.hpl.hp.com ([127.0.0.1])
	by localhost (colossus.hpl.hp.com [127.0.0.1]) (amavisd-new, port 10024)
	with LMTP id rXOfVWadHjez for <common-user@hadoop.apache.org>;
	Thu, 10 Sep 2009 12:02:26 +0100 (BST)
Received: from 0-imap-br1.hpl.hp.com (0-imap-br1.hpl.hp.com [16.25.144.60])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by colossus.hpl.hp.com (Postfix) with ESMTPS id B58841BA4A8
	for <common-user@hadoop.apache.org>; Thu, 10 Sep 2009 12:02:26 +0100 (BST)
MailScanner-NULL-Check: 1253185334.28017@6sKlnDJT+5GOkqf3MxLt6Q
Received: from [16.25.175.158] (morzine.hpl.hp.com [16.25.175.158])
	by 0-imap-br1.hpl.hp.com (8.14.1/8.13.4) with ESMTP id n8AB2DOx014325
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <common-user@hadoop.apache.org>; Thu, 10 Sep 2009 12:02:13 +0100 (BST)
Message-ID: <4AA8DCB5.4000207@apache.org>
Date: Thu, 10 Sep 2009 12:02:13 +0100
From: Steve Loughran <stevel@apache.org>
User-Agent: Thunderbird 2.0.0.23 (X11/20090812)
MIME-Version: 1.0
To: common-user@hadoop.apache.org
Subject: Re: measuring memory usage
References: <4E7ADE3F257DBB4ABAAE30A19A04041F02FF33D3@CORMTVMX1.boulder.webroot.com>  <299622.16440.qm@web110105.mail.gq1.yahoo.com> <17e273100909090905mcaf347ao47f8fdf132c65fa9@mail.gmail.com> <311056.7675.qm@web110106.mail.gq1.yahoo.com>
In-Reply-To: <311056.7675.qm@web110106.mail.gq1.yahoo.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-HPL-MailScanner-Information: Please contact the ISP for more information
X-MailScanner-ID: n8AB2DOx014325
X-HPL-MailScanner: Found to be clean
X-HPL-MailScanner-From: stevel@apache.org
X-Virus-Checked: Checked by ClamAV on apache.org

Arvind Sharma wrote:
> hmmm... I had seen some exceptions  (don't remember which one) on MacOS. There was missing JSR-223 engine on my machine. 
> 
> Not sure why on Linux distribution you would see this error....
> 
> 
> 
> 
> ________________________________
> From: Ted Yu <yuzhihong@gmail.com>
> To: common-user@hadoop.apache.org
> Sent: Wednesday, September 9, 2009 9:05:57 AM
> Subject: Re: measuring memory usage
> 
> Linux vh20.dev.com 2.6.18-53.el5 #1 SMP Mon Nov 12 02:22:48 EST 2007
> i686 i686 i386 GNU/Linux
> 
> /usr/lib/jvm/java-1.6.0-openjdk-1.6.0.0

Hadooop isn't supported on anything other than sun-jdk; openjdk is 
slightly different, though less so than the other runtimes.  Get the sun 
packages and see if it goes away. Also, 1.6.0.0 is a few security 
patches ago, 1.6u15 or 1.6u16 is what you should be looking for

From common-user-return-17371-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 10 12:40:12 2009
Return-Path: <common-user-return-17371-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 56242 invoked from network); 10 Sep 2009 12:40:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Sep 2009 12:40:12 -0000
Received: (qmail 73659 invoked by uid 500); 10 Sep 2009 12:40:10 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 73562 invoked by uid 500); 10 Sep 2009 12:40:09 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 73552 invoked by uid 99); 10 Sep 2009 12:40:09 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 12:40:09 +0000
X-ASF-Spam-Status: No, hits=-1.8 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [143.182.124.37] (HELO mga14.intel.com) (143.182.124.37)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 12:39:59 +0000
Received: from azsmga001.ch.intel.com ([10.2.17.19])
  by azsmga102.ch.intel.com with ESMTP; 10 Sep 2009 05:39:36 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="4.44,271,1249282800"; 
   d="out'?scan'208,217";a="186135515"
Received: from irsmsx602.ger.corp.intel.com ([163.33.3.242])
  by azsmga001.ch.intel.com with ESMTP; 10 Sep 2009 05:39:35 -0700
Received: from hasmsx601.ger.corp.intel.com (10.184.10.125) by
 irsmsx602.ger.corp.intel.com (163.33.3.242) with Microsoft SMTP Server (TLS)
 id 8.1.358.0; Thu, 10 Sep 2009 13:38:51 +0100
Received: from hasmsx504.ger.corp.intel.com ([10.184.10.123]) by
 hasmsx601.ger.corp.intel.com ([10.184.10.125]) with mapi; Thu, 10 Sep 2009
 15:38:49 +0300
From: "Touretsky, Gregory" <gregory.touretsky@intel.com>
To: "common-user@hadoop.apache.org" <common-user@hadoop.apache.org>
CC: "Touretsky, Gregory" <gregory.touretsky@intel.com>
Date: Thu, 10 Sep 2009 15:38:45 +0300
Subject: Building libhdfs.so in Hadoop 0.20.1
Thread-Topic: Building libhdfs.so in Hadoop 0.20.1
Thread-Index: AcoyE6NPq7fEZYPJQNGyXqeG1nNopQ==
Message-ID: <6F5C1D715B2DA5498A628E6B9C124F0401451C5DEB@hasmsx504.ger.corp.intel.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator: 
x-cr-puzzleid: {0F95ED3F-8EEB-4845-81BF-A3F03E7B0683}
x-cr-hashedpuzzle: AMGa Befs DK6y Dd01 DzRI EOfC EYuO FyI8 GR+s GSUT GuLH
 G8yX H3jp IgzA Jslm
 KVf5;1;YwBvAG0AbQBvAG4ALQB1AHMAZQByAEAAaABhAGQAbwBvAHAALgBhAHAAYQBjAGgAZQAuAG8AcgBnAA==;Sosha1_v1;7;{0F95ED3F-8EEB-4845-81BF-A3F03E7B0683};ZwByAGUAZwBvAHIAeQAuAHQAbwB1AHIAZQB0AHMAawB5AEAAaQBuAHQAZQBsAC4AYwBvAG0A;Thu,
 10 Sep 2009 12:38:45
 GMT;QgB1AGkAbABkAGkAbgBnACAAbABpAGIAaABkAGYAcwAuAHMAbwAgAGkAbgAgAEgAYQBkAG8AbwBwACAAMAAuADIAMAAuADEA
acceptlanguage: en-US
Content-Type: multipart/mixed;
	boundary="_004_6F5C1D715B2DA5498A628E6B9C124F0401451C5DEBhasmsx504gerc_"
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

--_004_6F5C1D715B2DA5498A628E6B9C124F0401451C5DEBhasmsx504gerc_
Content-Type: multipart/alternative;
	boundary="_000_6F5C1D715B2DA5498A628E6B9C124F0401451C5DEBhasmsx504gerc_"

--_000_6F5C1D715B2DA5498A628E6B9C124F0401451C5DEBhasmsx504gerc_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,

   I have a problem building libhdfs.so in Hadoop 0.20.1
>From what I could see, the build process has changed significantly in 0.20.=
0 (as mentioned in http://issues.apache.org/jira/browse/HADOOP-3344), and "=
ant compile-libhdfs -Dlibhdfs=3D1" can't be used anymore.
I'm trying to use standard autotools to build the libhdfs - but it always f=
ails:
>cd /tmp/hadoop-0.20.1/src/c++/libhdfs
>./configure >& ~/tmp/configure.out   (see attached)
> make
if /bin/sh ./libtool --mode=3Dcompile --tag=3DCC /usr/intel/pkgs/gcc/4.4.0/=
bin/gcc -DPACKAGE_NAME=3D\"libhdfs\" -DPACKAGE_TARNAME=3D\"libhdfs\" -DPACK=
AGE_VERSION=3D\"0.1.0\" -DPACKAGE_STRING=3D\"libhdfs\ 0.1.0\" -DPACKAGE_BUG=
REPORT=3D\"omalley@apache.org\" -DPACKAGE=3D\"libhdfs\" -DVERSION=3D\"0.1.0=
\" -DSTDC_HEADERS=3D1 -DHAVE_SYS_TYPES_H=3D1 -DHAVE_SYS_STAT_H=3D1 -DHAVE_S=
TDLIB_H=3D1 -DHAVE_STRING_H=3D1 -DHAVE_MEMORY_H=3D1 -DHAVE_STRINGS_H=3D1 -D=
HAVE_INTTYPES_H=3D1 -DHAVE_STDINT_H=3D1 -DHAVE_UNISTD_H=3D1 -DHAVE_DLFCN_H=
=3D1 -DLT_OBJDIR=3D\".libs/\" -Dsize_t=3Dunsigned\ int -DHAVE_FCNTL_H=3D1 -=
Dconst=3D -Dvolatile=3D -I. -I.     -g -O2 -DOS_LINUX -DDSO_DLFCN -DCPU=3D\=
"amd64\" -m -I/usr/intel/pkgs/java/1.6.0.10/include -I/usr/intel/pkgs/java/=
1.6.0.10/include/linux -Wall -Wstrict-prototypes -MT hdfs.lo -MD -MP -MF ".=
deps/hdfs.Tpo" -c -o hdfs.lo hdfs.c; \
then mv -f ".deps/hdfs.Tpo" ".deps/hdfs.Plo"; else rm -f ".deps/hdfs.Tpo"; =
exit 1; fi
libtool: compile:  /usr/intel/pkgs/gcc/4.4.0/bin/gcc -DPACKAGE_NAME=3D\"lib=
hdfs\" -DPACKAGE_TARNAME=3D\"libhdfs\" -DPACKAGE_VERSION=3D\"0.1.0\" "-DPAC=
KAGE_STRING=3D\"libhdfs 0.1.0\"" -DPACKAGE_BUGREPORT=3D\"omalley@apache.org=
\" -DPACKAGE=3D\"libhdfs\" -DVERSION=3D\"0.1.0\" -DSTDC_HEADERS=3D1 -DHAVE_=
SYS_TYPES_H=3D1 -DHAVE_SYS_STAT_H=3D1 -DHAVE_STDLIB_H=3D1 -DHAVE_STRING_H=
=3D1 -DHAVE_MEMORY_H=3D1 -DHAVE_STRINGS_H=3D1 -DHAVE_INTTYPES_H=3D1 -DHAVE_=
STDINT_H=3D1 -DHAVE_UNISTD_H=3D1 -DHAVE_DLFCN_H=3D1 -DLT_OBJDIR=3D\".libs/\=
" "-Dsize_t=3Dunsigned int" -DHAVE_FCNTL_H=3D1 -Dconst=3D -Dvolatile=3D -I.=
 -I. -g -O2 -DOS_LINUX -DDSO_DLFCN -DCPU=3D\"amd64\" -m -I/usr/intel/pkgs/j=
ava/1.6.0.10/include -I/usr/intel/pkgs/java/1.6.0.10/include/linux -Wall -W=
strict-prototypes -MT hdfs.lo -MD -MP -MF .deps/hdfs.Tpo -c hdfs.c  -fPIC -=
DPIC -o .libs/hdfs.o
cc1: error: unrecognized command line option "-m"
make: *** [hdfs.lo] Error 1

Any idea how to do it now?
Also, it's probably time to update the http://wiki.apache.org/hadoop/Mounta=
bleHDFS guide.

Thanks in advance,
   Gregory Touretsky
---------------------------------------------------------------------
Intel Israel (74) Limited

This e-mail and any attachments may contain confidential material for
the sole use of the intended recipient(s). Any review or distribution
by others is strictly prohibited. If you are not the intended
recipient, please contact the sender and delete all copies.

--_000_6F5C1D715B2DA5498A628E6B9C124F0401451C5DEBhasmsx504gerc_
Content-Type: text/html; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<html xmlns:v=3D"urn:schemas-microsoft-com:vml" xmlns:o=3D"urn:schemas-micr=
osoft-com:office:office" xmlns:w=3D"urn:schemas-microsoft-com:office:word" =
xmlns:x=3D"urn:schemas-microsoft-com:office:excel" xmlns:p=3D"urn:schemas-m=
icrosoft-com:office:powerpoint" xmlns:a=3D"urn:schemas-microsoft-com:office=
:access" xmlns:dt=3D"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882" xmlns:s=3D"=
uuid:BDC6E3F0-6DA3-11d1-A2A3-00AA00C14882" xmlns:rs=3D"urn:schemas-microsof=
t-com:rowset" xmlns:z=3D"#RowsetSchema" xmlns:b=3D"urn:schemas-microsoft-co=
m:office:publisher" xmlns:ss=3D"urn:schemas-microsoft-com:office:spreadshee=
t" xmlns:c=3D"urn:schemas-microsoft-com:office:component:spreadsheet" xmlns=
:odc=3D"urn:schemas-microsoft-com:office:odc" xmlns:oa=3D"urn:schemas-micro=
soft-com:office:activation" xmlns:html=3D"http://www.w3.org/TR/REC-html40" =
xmlns:q=3D"http://schemas.xmlsoap.org/soap/envelope/" xmlns:rtc=3D"http://m=
icrosoft.com/officenet/conferencing" xmlns:D=3D"DAV:" xmlns:Repl=3D"http://=
schemas.microsoft.com/repl/" xmlns:mt=3D"http://schemas.microsoft.com/share=
point/soap/meetings/" xmlns:x2=3D"http://schemas.microsoft.com/office/excel=
/2003/xml" xmlns:ppda=3D"http://www.passport.com/NameSpace.xsd" xmlns:ois=
=3D"http://schemas.microsoft.com/sharepoint/soap/ois/" xmlns:dir=3D"http://=
schemas.microsoft.com/sharepoint/soap/directory/" xmlns:ds=3D"http://www.w3=
.org/2000/09/xmldsig#" xmlns:dsp=3D"http://schemas.microsoft.com/sharepoint=
/dsp" xmlns:udc=3D"http://schemas.microsoft.com/data/udc" xmlns:xsd=3D"http=
://www.w3.org/2001/XMLSchema" xmlns:sub=3D"http://schemas.microsoft.com/sha=
repoint/soap/2002/1/alerts/" xmlns:ec=3D"http://www.w3.org/2001/04/xmlenc#"=
 xmlns:sp=3D"http://schemas.microsoft.com/sharepoint/" xmlns:sps=3D"http://=
schemas.microsoft.com/sharepoint/soap/" xmlns:xsi=3D"http://www.w3.org/2001=
/XMLSchema-instance" xmlns:udcs=3D"http://schemas.microsoft.com/data/udc/so=
ap" xmlns:udcxf=3D"http://schemas.microsoft.com/data/udc/xmlfile" xmlns:udc=
p2p=3D"http://schemas.microsoft.com/data/udc/parttopart" xmlns:wf=3D"http:/=
/schemas.microsoft.com/sharepoint/soap/workflow/" xmlns:dsss=3D"http://sche=
mas.microsoft.com/office/2006/digsig-setup" xmlns:dssi=3D"http://schemas.mi=
crosoft.com/office/2006/digsig" xmlns:mdssi=3D"http://schemas.openxmlformat=
s.org/package/2006/digital-signature" xmlns:mver=3D"http://schemas.openxmlf=
ormats.org/markup-compatibility/2006" xmlns:m=3D"http://schemas.microsoft.c=
om/office/2004/12/omml" xmlns:mrels=3D"http://schemas.openxmlformats.org/pa=
ckage/2006/relationships" xmlns:spwp=3D"http://microsoft.com/sharepoint/web=
partpages" xmlns:ex12t=3D"http://schemas.microsoft.com/exchange/services/20=
06/types" xmlns:ex12m=3D"http://schemas.microsoft.com/exchange/services/200=
6/messages" xmlns:pptsl=3D"http://schemas.microsoft.com/sharepoint/soap/Sli=
deLibrary/" xmlns:spsl=3D"http://microsoft.com/webservices/SharePointPortal=
Server/PublishedLinksService" xmlns:Z=3D"urn:schemas-microsoft-com:" xmlns:=
st=3D"&#1;" xmlns=3D"http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=3DContent-Type content=3D"text/html; charset=3Dus-ascii">
<meta name=3DGenerator content=3D"Microsoft Word 12 (filtered medium)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-priority:99;
	color:purple;
	text-decoration:underline;}
span.EmailStyle17
	{mso-style-type:personal-compose;
	font-family:"Calibri","sans-serif";
	color:windowtext;}
.MsoChpDefault
	{mso-style-type:export-only;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;}
div.Section1
	{page:Section1;}
-->
</style>
<!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext=3D"edit" spidmax=3D"1026" />
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext=3D"edit">
  <o:idmap v:ext=3D"edit" data=3D"1" />
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=3DEN-US link=3Dblue vlink=3Dpurple>

<div class=3DSection1>

<p class=3DMsoNormal>Hi,<o:p></o:p></p>

<p class=3DMsoNormal><o:p>&nbsp;</o:p></p>

<p class=3DMsoNormal>&nbsp;&nbsp; I have a problem building libhdfs.so in H=
adoop
0.20.1<o:p></o:p></p>

<p class=3DMsoNormal>From what I could see, the build process has changed s=
ignificantly
in 0.20.0 (as mentioned in <a
href=3D"http://issues.apache.org/jira/browse/HADOOP-3344">http://issues.apa=
che.org/jira/browse/HADOOP-3344</a>),
and &#8220;ant compile-libhdfs -Dlibhdfs=3D1&#8221; can&#8217;t be used any=
more.<o:p></o:p></p>

<p class=3DMsoNormal>I&#8217;m trying to use standard autotools to build the
libhdfs &#8211; but it always fails:<o:p></o:p></p>

<p class=3DMsoNormal style=3D'margin-left:.5in'><span style=3D'font-family:=
"Courier New"'>&gt;cd
/tmp/hadoop-0.20.1/src/c++/libhdfs<o:p></o:p></span></p>

<p class=3DMsoNormal style=3D'margin-left:.5in'><span style=3D'font-family:=
"Courier New"'>&gt;./configure
&gt;&amp; ~/tmp/configure.out&nbsp;&nbsp; (see attached)<o:p></o:p></span><=
/p>

<p class=3DMsoNormal style=3D'margin-left:.5in'><span style=3D'font-family:=
"Courier New"'>&gt;
make<o:p></o:p></span></p>

<p class=3DMsoNormal style=3D'margin-left:.5in'><span style=3D'font-family:=
"Courier New"'>if
/bin/sh ./libtool --mode=3Dcompile --tag=3DCC /usr/intel/pkgs/gcc/4.4.0/bin=
/gcc
-DPACKAGE_NAME=3D\&quot;libhdfs\&quot; -DPACKAGE_TARNAME=3D\&quot;libhdfs\&=
quot;
-DPACKAGE_VERSION=3D\&quot;0.1.0\&quot; -DPACKAGE_STRING=3D\&quot;libhdfs\
0.1.0\&quot; -DPACKAGE_BUGREPORT=3D\&quot;omalley@apache.org\&quot;
-DPACKAGE=3D\&quot;libhdfs\&quot; -DVERSION=3D\&quot;0.1.0\&quot; -DSTDC_HE=
ADERS=3D1
-DHAVE_SYS_TYPES_H=3D1 -DHAVE_SYS_STAT_H=3D1 -DHAVE_STDLIB_H=3D1 -DHAVE_STR=
ING_H=3D1
-DHAVE_MEMORY_H=3D1 -DHAVE_STRINGS_H=3D1 -DHAVE_INTTYPES_H=3D1 -DHAVE_STDIN=
T_H=3D1
-DHAVE_UNISTD_H=3D1 -DHAVE_DLFCN_H=3D1 -DLT_OBJDIR=3D\&quot;.libs/\&quot;
-Dsize_t=3Dunsigned\ int -DHAVE_FCNTL_H=3D1 -Dconst=3D -Dvolatile=3D -I.
-I.&nbsp;&nbsp;&nbsp;&nbsp; -g -O2 -DOS_LINUX -DDSO_DLFCN
-DCPU=3D\&quot;amd64\&quot; -m -I/usr/intel/pkgs/java/1.6.0.10/include
-I/usr/intel/pkgs/java/1.6.0.10/include/linux -Wall -Wstrict-prototypes -MT
hdfs.lo -MD -MP -MF &quot;.deps/hdfs.Tpo&quot; -c -o hdfs.lo hdfs.c; \<o:p>=
</o:p></span></p>

<p class=3DMsoNormal style=3D'margin-left:.5in'><span style=3D'font-family:=
"Courier New"'>then
mv -f &quot;.deps/hdfs.Tpo&quot; &quot;.deps/hdfs.Plo&quot;; else rm -f
&quot;.deps/hdfs.Tpo&quot;; exit 1; fi<o:p></o:p></span></p>

<p class=3DMsoNormal style=3D'margin-left:.5in'><span style=3D'font-family:=
"Courier New"'>libtool:
compile:&nbsp; /usr/intel/pkgs/gcc/4.4.0/bin/gcc -DPACKAGE_NAME=3D\&quot;li=
bhdfs\&quot;
-DPACKAGE_TARNAME=3D\&quot;libhdfs\&quot; -DPACKAGE_VERSION=3D\&quot;0.1.0\=
&quot;
&quot;-DPACKAGE_STRING=3D\&quot;libhdfs 0.1.0\&quot;&quot;
-DPACKAGE_BUGREPORT=3D\&quot;omalley@apache.org\&quot;
-DPACKAGE=3D\&quot;libhdfs\&quot; -DVERSION=3D\&quot;0.1.0\&quot; -DSTDC_HE=
ADERS=3D1
-DHAVE_SYS_TYPES_H=3D1 -DHAVE_SYS_STAT_H=3D1 -DHAVE_STDLIB_H=3D1 -DHAVE_STR=
ING_H=3D1
-DHAVE_MEMORY_H=3D1 -DHAVE_STRINGS_H=3D1 -DHAVE_INTTYPES_H=3D1 -DHAVE_STDIN=
T_H=3D1
-DHAVE_UNISTD_H=3D1 -DHAVE_DLFCN_H=3D1 -DLT_OBJDIR=3D\&quot;.libs/\&quot;
&quot;-Dsize_t=3Dunsigned int&quot; -DHAVE_FCNTL_H=3D1 -Dconst=3D -Dvolatil=
e=3D -I. -I.
-g -O2 -DOS_LINUX -DDSO_DLFCN -DCPU=3D\&quot;amd64\&quot; -m
-I/usr/intel/pkgs/java/1.6.0.10/include
-I/usr/intel/pkgs/java/1.6.0.10/include/linux -Wall -Wstrict-prototypes -MT
hdfs.lo -MD -MP -MF .deps/hdfs.Tpo -c hdfs.c&nbsp; -fPIC -DPIC -o .libs/hdf=
s.o<o:p></o:p></span></p>

<p class=3DMsoNormal style=3D'margin-left:.5in'><span style=3D'font-family:=
"Courier New"'>cc1:
error: unrecognized command line option &quot;-m&quot;<o:p></o:p></span></p>

<p class=3DMsoNormal style=3D'margin-left:.5in'><span style=3D'font-family:=
"Courier New"'>make:
*** [hdfs.lo] Error 1<o:p></o:p></span></p>

<p class=3DMsoNormal><o:p>&nbsp;</o:p></p>

<p class=3DMsoNormal>Any idea how to do it now?<br>
Also, it&#8217;s probably time to update the <a
href=3D"http://wiki.apache.org/hadoop/MountableHDFS">http://wiki.apache.org=
/hadoop/MountableHDFS</a>
guide.<o:p></o:p></p>

<p class=3DMsoNormal><o:p>&nbsp;</o:p></p>

<p class=3DMsoNormal>Thanks in advance,<o:p></o:p></p>

<p class=3DMsoNormal>&nbsp;&nbsp; Gregory Touretsky<o:p></o:p></p>

</div>

<pre>---------------------------------------------------------------------
Intel Israel (74) Limited

This e-mail and any attachments may contain confidential material for
the sole use of the intended recipient(s). Any review or distribution
by others is strictly prohibited. If you are not the intended
recipient, please contact the sender and delete all copies.
</pre></body>

</html>

--_000_6F5C1D715B2DA5498A628E6B9C124F0401451C5DEBhasmsx504gerc_--

--_004_6F5C1D715B2DA5498A628E6B9C124F0401451C5DEBhasmsx504gerc_--


From common-user-return-17372-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 10 12:41:26 2009
Return-Path: <common-user-return-17372-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 56565 invoked from network); 10 Sep 2009 12:41:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Sep 2009 12:41:26 -0000
Received: (qmail 75824 invoked by uid 500); 10 Sep 2009 12:41:24 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 75738 invoked by uid 500); 10 Sep 2009 12:41:23 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Delivered-To: moderator for common-user@hadoop.apache.org
Received: (qmail 62768 invoked by uid 99); 10 Sep 2009 12:30:21 -0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=ASF_LIST_OPS,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of yqlpku@gmail.com designates 209.85.212.185 as permitted sender)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:date:message-id:subject
         :from:to:content-type;
        bh=rAUtLZ4sItC3D3Wg6I3p7hSZvHPezdNzcJ1MGW80SJw=;
        b=uzqb6MbtYFqksOMxEmy4hrSYIOLy22EmgVyYQbQKKSjuclLBVwVZuFHxjQbTdJE2T4
         W0NJeDC8fKm9z5YTeaqtL0NihBH20FSQU4R+m9d5O4r0MkRlscD1OOK7870recHdLgvk
         91dSf+pHA9brZq0D7jna4uw6KQACMKkwEIKWk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=Gzs821pdksBACcqVn1KRnCeHipKWqphjioL5aQVUAXoXvtbnCfXXc81/UwZ5J/2jZO
         DqUjNaGOx0x9YxvpxV0PtS2ORQRrR5vVNN/5UIMNB3GmGPGTNv/TwUUwjRU0gwOAg9xF
         SgwTlJJoF1JCufekuM2/3nZkH6iMhVPS02jVM=
MIME-Version: 1.0
Date: Thu, 10 Sep 2009 20:29:50 +0800
Message-ID: <e7ac2b770909100529k5fa8b416w3c59727c836032e@mail.gmail.com>
Subject: about hadoop:reduce could not read map's output
From: ql yan <yqlpku@gmail.com>
To: common-user-help@hadoop.apache.org, common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=00c09f8de2041876320473385b65
X-Virus-Checked: Checked by ClamAV on apache.org

--00c09f8de2041876320473385b65
Content-Type: text/plain; charset=ISO-8859-1

Hi everyone!
I tried hadoop cluster setup on 4 pcs. I ran into a problem about
hadoop-common. when I ran the command'bin/hadoop jar hadoop-*-examples.jar
wordcount input output', the map tasks could complet quickly, but the reduce
phase took very long to complet. I think it's caused by the config, so I
changed the hadoop-site.xml for many times, which didn't work. Here are
hadoop-site.xml:


namevaluedescriptionfs.default.namehdfs://192.*.*.*:9000
mapred.job.tracker192.*.*.*:9001
hadoop.tmp.dir/home/*/hadoop/tmp
dfs.replication2
dfs.name.dir/home/*/hadoop/file/name
dfs.data.dir/home/*/hadoop/file/data
mapred.system.dir/home/*/hadoop/file/mapred/system
mapred.local.dir/home/*/hadoop/file/mapred/local
mapred.temp.dir/home/*/hadoop/file/mapred/tmp
mapred.tasktracker.map.tasks.maximum2
mapred.tasktracker.reduce.tasks.maximum2

Here is a problem from a tasktracker:

2009-09-10 20:08:35,169 INFO org.apache.hadoop.mapred.TaskTracker:
org.apache.hadoop.util.DiskChecker$DiskErrorException: Could not find
taskTracker/jobcache/job_200909102001_0001/attempt_200909102001_0001_m_000005_0/output/file.out
in any of the configured local directories

I  am looking forward to your reply! Thanks!

Yan

--00c09f8de2041876320473385b65--

From common-user-return-17373-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 10 13:04:18 2009
Return-Path: <common-user-return-17373-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 64723 invoked from network); 10 Sep 2009 13:04:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Sep 2009 13:04:18 -0000
Received: (qmail 13911 invoked by uid 500); 10 Sep 2009 13:04:11 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 13853 invoked by uid 500); 10 Sep 2009 13:04:11 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 13795 invoked by uid 99); 10 Sep 2009 13:04:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 13:04:11 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,NORMAL_HTTP_TO_IP,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ryan.justin.smith@gmail.com designates 209.85.219.208 as permitted sender)
Received: from [209.85.219.208] (HELO mail-ew0-f208.google.com) (209.85.219.208)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 13:04:01 +0000
Received: by ewy4 with SMTP id 4so79534ewy.36
        for <common-user@hadoop.apache.org>; Thu, 10 Sep 2009 06:03:41 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=G+34Mcz6Kye6Ldg8QjiSlRjTTyc3Xcyb9cpzluGWE4o=;
        b=qxOJCag3Um/bryCxV6w4mhM43H4ZiZZrBdMbE94grvhPs1bgOv0x8Qx61vygeOxMHe
         qgowAzfnZr7YAZOxCmCRoVE99bmN/IzDf00Bhqcr3MibijTJ68lyLSJPxoW9XZX/z+8s
         tUh5WaQ0xNixj9L0J/ioqOY7Jr+e+DGbLnH+g=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=vWut9L2pzMwA1sGCYUEQ4WbvwtVbVLVgdhfY1lgZ2eR9Q/5NNAUfVQT6ilmf3Y/tKc
         W0szYp+ynfmOqzntjIdmw10gtZehOTw4nc0HtnbHiQM1PdS2TcOO/UrQzzmtuwp05IW8
         ree7R75G9IrikhPiXFPJmW8DemoGNi/18BWeo=
MIME-Version: 1.0
Received: by 10.211.131.36 with SMTP id i36mr907400ebn.33.1252587821261; Thu, 
	10 Sep 2009 06:03:41 -0700 (PDT)
In-Reply-To: <6F5C1D715B2DA5498A628E6B9C124F0401451C5DEB@hasmsx504.ger.corp.intel.com>
References: <6F5C1D715B2DA5498A628E6B9C124F0401451C5DEB@hasmsx504.ger.corp.intel.com>
Date: Thu, 10 Sep 2009 09:03:41 -0400
Message-ID: <ae4767d10909100603u4f253524s2faf7e1d8f1a8894@mail.gmail.com>
Subject: Re: Building libhdfs.so in Hadoop 0.20.1
From: Ryan Smith <ryan.justin.smith@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=001636c5bcb622e551047338d4a8
X-Virus-Checked: Checked by ClamAV on apache.org

--001636c5bcb622e551047338d4a8
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: quoted-printable

Maybe someone can correct me if im wrong, but this is what I did to get
libhdfs on 0.20.0 to build:

NOTE: on debian, you need to apply a patch:
https://issues.apache.org/jira/browse/HADOOP-5611

Compile libhdfs:  ant compile-contrib -Dlibhdfs=3D1
Then to install libhdfs in the local hadoop lib:   ant package -Dlibhdfs=3D=
1
If the ant package -Dlibhdfs=3D1 command fails due to Forrest, then you can
remove the docs from being packaged.
cd $HADOOP_HOME/
vi build.xml
Then change the package target, and remove the "javadoc", "docs", and
"cn-docs" targets from the dependencies and re-run the package command.
Finally, add a soft link for backwards compatibility so hdfs-fuse/fuse-dfs
can find the libhdfs.so file:
ln -s ./c++/{OS}-{ARCH}/lib build/libhdfs



On Thu, Sep 10, 2009 at 8:38 AM, Touretsky, Gregory <
gregory.touretsky@intel.com> wrote:

>  Hi,
>
>
>
>    I have a problem building libhdfs.so in Hadoop 0.20.1
>
> From what I could see, the build process has changed significantly in
> 0.20.0 (as mentioned in http://issues.apache.org/jira/browse/HADOOP-3344)=
,
> and =93ant compile-libhdfs -Dlibhdfs=3D1=94 can=92t be used anymore.
>
> I=92m trying to use standard autotools to build the libhdfs =96 but it al=
ways
> fails:
>
> >cd /tmp/hadoop-0.20.1/src/c++/libhdfs
>
> >./configure >& ~/tmp/configure.out   (see attached)
>
> > make
>
> if /bin/sh ./libtool --mode=3Dcompile --tag=3DCC
> /usr/intel/pkgs/gcc/4.4.0/bin/gcc -DPACKAGE_NAME=3D\"libhdfs\"
> -DPACKAGE_TARNAME=3D\"libhdfs\" -DPACKAGE_VERSION=3D\"0.1.0\"
> -DPACKAGE_STRING=3D\"libhdfs\ 0.1.0\" -DPACKAGE_BUGREPORT=3D\"
> omalley@apache.org\" -DPACKAGE=3D\"libhdfs\" -DVERSION=3D\"0.1.0\"
> -DSTDC_HEADERS=3D1 -DHAVE_SYS_TYPES_H=3D1 -DHAVE_SYS_STAT_H=3D1 -DHAVE_ST=
DLIB_H=3D1
> -DHAVE_STRING_H=3D1 -DHAVE_MEMORY_H=3D1 -DHAVE_STRINGS_H=3D1 -DHAVE_INTTY=
PES_H=3D1
> -DHAVE_STDINT_H=3D1 -DHAVE_UNISTD_H=3D1 -DHAVE_DLFCN_H=3D1 -DLT_OBJDIR=3D=
\".libs/\"
> -Dsize_t=3Dunsigned\ int -DHAVE_FCNTL_H=3D1 -Dconst=3D -Dvolatile=3D -I. =
-I.     -g
> -O2 -DOS_LINUX -DDSO_DLFCN -DCPU=3D\"amd64\" -m -I/usr/intel/pkgs/java/1.=
6.0.10/include
> -I/usr/intel/pkgs/java/1.6.0.10/include/linux<http://1.6.0.10/include%0A-=
I/usr/intel/pkgs/java/1.6.0.10/include/linux>-Wall -Wstrict-prototypes -MT =
hdfs.lo -MD -MP -MF ".deps/hdfs.Tpo" -c -o
> hdfs.lo hdfs.c; \
>
> then mv -f ".deps/hdfs.Tpo" ".deps/hdfs.Plo"; else rm -f ".deps/hdfs.Tpo"=
;
> exit 1; fi
>
> libtool: compile:  /usr/intel/pkgs/gcc/4.4.0/bin/gcc
> -DPACKAGE_NAME=3D\"libhdfs\" -DPACKAGE_TARNAME=3D\"libhdfs\"
> -DPACKAGE_VERSION=3D\"0.1.0\" "-DPACKAGE_STRING=3D\"libhdfs 0.1.0\""
> -DPACKAGE_BUGREPORT=3D\"omalley@apache.org\" -DPACKAGE=3D\"libhdfs\"
> -DVERSION=3D\"0.1.0\" -DSTDC_HEADERS=3D1 -DHAVE_SYS_TYPES_H=3D1
> -DHAVE_SYS_STAT_H=3D1 -DHAVE_STDLIB_H=3D1 -DHAVE_STRING_H=3D1 -DHAVE_MEMO=
RY_H=3D1
> -DHAVE_STRINGS_H=3D1 -DHAVE_INTTYPES_H=3D1 -DHAVE_STDINT_H=3D1 -DHAVE_UNI=
STD_H=3D1
> -DHAVE_DLFCN_H=3D1 -DLT_OBJDIR=3D\".libs/\" "-Dsize_t=3Dunsigned int"
> -DHAVE_FCNTL_H=3D1 -Dconst=3D -Dvolatile=3D -I. -I. -g -O2 -DOS_LINUX -DD=
SO_DLFCN
> -DCPU=3D\"amd64\" -m -I/usr/intel/pkgs/java/1.6.0.10/include
> -I/usr/intel/pkgs/java/1.6.0.10/include/linux<http://1.6.0.10/include%0A-=
I/usr/intel/pkgs/java/1.6.0.10/include/linux>-Wall -Wstrict-prototypes -MT =
hdfs.lo -MD -MP -MF .deps/hdfs.Tpo -c hdfs.c
> -fPIC -DPIC -o .libs/hdfs.o
>
> cc1: error: unrecognized command line option "-m"
>
> make: *** [hdfs.lo] Error 1
>
>
>
> Any idea how to do it now?
> Also, it=92s probably time to update the
> http://wiki.apache.org/hadoop/MountableHDFS guide.
>
>
>
> Thanks in advance,
>
>    Gregory Touretsky
>
> ---------------------------------------------------------------------
> Intel Israel (74) Limited
>
> This e-mail and any attachments may contain confidential material for
> the sole use of the intended recipient(s). Any review or distribution
> by others is strictly prohibited. If you are not the intended
> recipient, please contact the sender and delete all copies.
>
>

--001636c5bcb622e551047338d4a8--

From common-user-return-17374-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 10 14:03:46 2009
Return-Path: <common-user-return-17374-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 81773 invoked from network); 10 Sep 2009 14:03:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Sep 2009 14:03:46 -0000
Received: (qmail 30347 invoked by uid 500); 10 Sep 2009 14:03:40 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 30261 invoked by uid 500); 10 Sep 2009 14:03:40 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 30244 invoked by uid 500); 10 Sep 2009 14:03:40 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 30238 invoked by uid 99); 10 Sep 2009 14:03:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 14:03:40 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of cpbhagtani@gmail.com designates 209.85.222.204 as permitted sender)
Received: from [209.85.222.204] (HELO mail-pz0-f204.google.com) (209.85.222.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 14:03:30 +0000
Received: by pzk42 with SMTP id 42so91422pzk.31
        for <multiple recipients>; Thu, 10 Sep 2009 07:03:10 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:cc:content-type;
        bh=LfvsadzBRDPxblnlB3ynkMljh7UmntmtFCL1TLuQX64=;
        b=WljnB3XT1lAB3Po0sTG+hYkbAjmR1a88l9ulaWtbAnOxvu15iVwcz5q8k+higva2sP
         AA0eoUJl6X9niPTiuTnXL0M/2TyMYAqUJXcjpMsoINusc9UliIQuc6+qVCxGjpiRoigp
         kKYDJ5pWcfktgs8wmrLn8MfnTCp8ACgcpp67Q=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        b=ZKeoVmgmJObYjnfmr29Q7o40+5obcdhA2Xpoib5alf0Jl4OdeWrJ5RfQ5V/mqgCVw4
         xNxh982r1gcXqBZkKzPAXsLg3kniFKiuDa8lI91vnUFmDyTwQ0aCOKNsQpgoSSaMGI65
         EoLpQf3YIcdAeHaYsflQGdY8rRef/YK/dd7eM=
MIME-Version: 1.0
Received: by 10.115.102.20 with SMTP id e20mr2894921wam.209.1252591390073; 
	Thu, 10 Sep 2009 07:03:10 -0700 (PDT)
In-Reply-To: <25379620.post@talk.nabble.com>
References: <SNT124-W5650663C63B0F1D7A57F65BCEA0@phx.gbl>
	 <25379620.post@talk.nabble.com>
Date: Thu, 10 Sep 2009 19:33:10 +0530
Message-ID: <4061df20909100703y79b60305g5ba769f0feb902d9@mail.gmail.com>
Subject: Re: static data sharing among map funtions
From: Chandraprakash Bhagtani <cpbhagtani@gmail.com>
To: common-user@hadoop.apache.org
Cc: core-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0016e64c260adaa2b0047339a879
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e64c260adaa2b0047339a879
Content-Type: text/plain; charset=ISO-8859-1

If you really want to share read/write data you can use memcached server or
file based database like Tokyocabinet or BDB


-- 
Thanks & Regards,
Chandra Prakash Bhagtani,

On Thu, Sep 10, 2009 at 2:22 PM, indoos <indoos@gmail.com> wrote:

>
> Hi,
> Here are 2 possible ways for static data sharing-
> 1. Using distributed cache- refer
>
> http://hadoop.apache.org/common/docs/current/mapred_tutorial.html#DistributedCache
> 2. Using JobConf object-
>
> http://hadoop.apache.org/common/docs/current/api/org/apache/hadoop/conf/Configuration.html#set%28java.lang.String,%20java.lang.String%29
> .
>
> Please note that only read only cache should be used in Hadoop.
>
> Regards,
> Sanjay
>
>
> wbari wrote:
> >
> >
> >
> >
> >
> >
> > Hi,
> >
> >    How static data is shared among mappers ? is it synchorinized or not
> > possible ? I will appreciate if someone can give possible way of sharing
> > data among Map funtions in one job.
> >
> >
> >
> > BR,
> >
> >
> >
> > Bari
> >
> >
>
> --
> View this message in context:
> http://www.nabble.com/static-data-sharing-among-map-funtions-tp25347960p25379620.html
> Sent from the Hadoop core-user mailing list archive at Nabble.com.
>
>

--0016e64c260adaa2b0047339a879--

From common-user-return-17375-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 10 14:03:46 2009
Return-Path: <common-user-return-17375-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 81774 invoked from network); 10 Sep 2009 14:03:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Sep 2009 14:03:46 -0000
Received: (qmail 30444 invoked by uid 500); 10 Sep 2009 14:03:40 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 30295 invoked by uid 500); 10 Sep 2009 14:03:40 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 30238 invoked by uid 99); 10 Sep 2009 14:03:40 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 14:03:40 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of cpbhagtani@gmail.com designates 209.85.222.204 as permitted sender)
Received: from [209.85.222.204] (HELO mail-pz0-f204.google.com) (209.85.222.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 14:03:30 +0000
Received: by pzk42 with SMTP id 42so91422pzk.31
        for <multiple recipients>; Thu, 10 Sep 2009 07:03:10 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:cc:content-type;
        bh=LfvsadzBRDPxblnlB3ynkMljh7UmntmtFCL1TLuQX64=;
        b=WljnB3XT1lAB3Po0sTG+hYkbAjmR1a88l9ulaWtbAnOxvu15iVwcz5q8k+higva2sP
         AA0eoUJl6X9niPTiuTnXL0M/2TyMYAqUJXcjpMsoINusc9UliIQuc6+qVCxGjpiRoigp
         kKYDJ5pWcfktgs8wmrLn8MfnTCp8ACgcpp67Q=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        b=ZKeoVmgmJObYjnfmr29Q7o40+5obcdhA2Xpoib5alf0Jl4OdeWrJ5RfQ5V/mqgCVw4
         xNxh982r1gcXqBZkKzPAXsLg3kniFKiuDa8lI91vnUFmDyTwQ0aCOKNsQpgoSSaMGI65
         EoLpQf3YIcdAeHaYsflQGdY8rRef/YK/dd7eM=
MIME-Version: 1.0
Received: by 10.115.102.20 with SMTP id e20mr2894921wam.209.1252591390073; 
	Thu, 10 Sep 2009 07:03:10 -0700 (PDT)
In-Reply-To: <25379620.post@talk.nabble.com>
References: <SNT124-W5650663C63B0F1D7A57F65BCEA0@phx.gbl>
	 <25379620.post@talk.nabble.com>
Date: Thu, 10 Sep 2009 19:33:10 +0530
Message-ID: <4061df20909100703y79b60305g5ba769f0feb902d9@mail.gmail.com>
Subject: Re: static data sharing among map funtions
From: Chandraprakash Bhagtani <cpbhagtani@gmail.com>
To: common-user@hadoop.apache.org
Cc: core-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0016e64c260adaa2b0047339a879
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e64c260adaa2b0047339a879
Content-Type: text/plain; charset=ISO-8859-1

If you really want to share read/write data you can use memcached server or
file based database like Tokyocabinet or BDB


-- 
Thanks & Regards,
Chandra Prakash Bhagtani,

On Thu, Sep 10, 2009 at 2:22 PM, indoos <indoos@gmail.com> wrote:

>
> Hi,
> Here are 2 possible ways for static data sharing-
> 1. Using distributed cache- refer
>
> http://hadoop.apache.org/common/docs/current/mapred_tutorial.html#DistributedCache
> 2. Using JobConf object-
>
> http://hadoop.apache.org/common/docs/current/api/org/apache/hadoop/conf/Configuration.html#set%28java.lang.String,%20java.lang.String%29
> .
>
> Please note that only read only cache should be used in Hadoop.
>
> Regards,
> Sanjay
>
>
> wbari wrote:
> >
> >
> >
> >
> >
> >
> > Hi,
> >
> >    How static data is shared among mappers ? is it synchorinized or not
> > possible ? I will appreciate if someone can give possible way of sharing
> > data among Map funtions in one job.
> >
> >
> >
> > BR,
> >
> >
> >
> > Bari
> >
> >
>
> --
> View this message in context:
> http://www.nabble.com/static-data-sharing-among-map-funtions-tp25347960p25379620.html
> Sent from the Hadoop core-user mailing list archive at Nabble.com.
>
>

--0016e64c260adaa2b0047339a879--

From common-user-return-17376-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 10 14:11:03 2009
Return-Path: <common-user-return-17376-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 83416 invoked from network); 10 Sep 2009 14:11:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Sep 2009 14:11:02 -0000
Received: (qmail 46139 invoked by uid 500); 10 Sep 2009 14:10:57 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 46045 invoked by uid 500); 10 Sep 2009 14:10:57 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 46023 invoked by uid 99); 10 Sep 2009 14:10:57 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 14:10:57 +0000
X-ASF-Spam-Status: No, hits=4.9 required=10.0
	tests=FS_REPLICA,HTML_MESSAGE,NORMAL_HTTP_TO_IP,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of cpbhagtani@gmail.com designates 209.85.216.193 as permitted sender)
Received: from [209.85.216.193] (HELO mail-px0-f193.google.com) (209.85.216.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 14:10:47 +0000
Received: by pxi31 with SMTP id 31so106451pxi.32
        for <multiple recipients>; Thu, 10 Sep 2009 07:10:27 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:cc:content-type;
        bh=71jG9a1gsDnsiZmjfs41YIvzc10KvbzGxNizEKT3IVE=;
        b=DckX19+2n26rPe3xsQOPjK6fKHGLTaMOTwN1ALSCesrCxrk40gfRSZtFGTpYBoecfW
         XXIsp6b1F6TCQNCG9QIQ70XYbJZyAS6WjKdKct5BF2bMhEVmzflW5XABgs25RTA6Q1gV
         JbA+cCxWnILc6A8jb//4UxxAaCLJ6wddhcxUc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        b=SAWRub3J7SjiQcyzWGE0NMu5fhJ9TIi13lMdAIwJFRRHnOBlGjIlPltE+vXznlPnBI
         eF5elahQHHfP9rQIy2GQFUOk+TsBKXIPPJ62mhmptXbyxP9w7FQ258M1SN4okdDjma/C
         CLycSQMZhsfyyWw+EO2ULXDmj7Uscwoz7NAhY=
MIME-Version: 1.0
Received: by 10.115.65.11 with SMTP id s11mr2921720wak.170.1252591825751; Thu, 
	10 Sep 2009 07:10:25 -0700 (PDT)
In-Reply-To: <25373475.post@talk.nabble.com>
References: <25373475.post@talk.nabble.com>
Date: Thu, 10 Sep 2009 19:40:25 +0530
Message-ID: <4061df20909100710h57b3d68aw76cd99d067aa230b@mail.gmail.com>
Subject: Re: hadoop 0.20.0 jobtracker.info could only be replicated to 0 nodes
From: Chandraprakash Bhagtani <cpbhagtani@gmail.com>
To: common-user@hadoop.apache.org
Cc: core-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0016e64c24a0d29a7c047339c2fc
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e64c24a0d29a7c047339c2fc
Content-Type: text/plain; charset=ISO-8859-1

You can try running JobTracker on some other port. This port might me in
use.

-- 
Thanks & Regards,
Chandra Prakash Bhagtani,

On Thu, Sep 10, 2009 at 2:58 AM, gcr44 <geoffry.roberts@gmail.com> wrote:

>
> All,
>
> I'm setting up my first hadoop full cluster.  I did the cygwin thing and
> everything works.  I'm having problems with the cluster.
>
> The cluster is five nodes of matched hardware running Ubuntu 8.04.  I
> believe I have ssh working properly. The master node is named hbase1, but
> I'm not doing anything with hbase.
>
> I run start-dfs.sh, Jps shows NameNode running, and the logs are free of
> error.  The data nodes, however, appear to be complaining.  "Retrying
> connect to server: hbase1"
>
> I run start-mapred.sh, Jps shows NameNode and JobTracker running.
>
> The namenode log says, "jobtracker.info could only be replicated to 0
> nodes,
> instead of 1".
>
> The jobtracker log says two things of significance:
>
> 1. "It might be because the JobTracker failed to read/write system files
> (hdfs://hbase1:30000/hdfs/mapred/system/jobtracker.info /
> hdfs://hbase1:30000/hdfs/mapred/system/jobtracker.info.recover) or the
> system  file hdfs://hbase1:30000/hdfs/mapred/system/jobtracker.info is
> missing!"
>
> How can this be? If I do bin/hadoop fs -lsr / , jobtracker.info shows.
>
> 2.  "Problem binding to hbase1/127.0.1.1:30001 : Address already in use"
>
> How can this be in use by anything other that JobTracker?  I have nothing
> else on the machine that could be conflicting.  I have also verified that I
> have no previous hadoop processes hanging around.
>
> I have included my config files just in case.
>
> Many thanks for any help.
>
> ****************
> core-site.xml
>
> <configuration>
>  <property>
>    <name>fs.default.name</name>
>    <value>hdfs://hbase1:30000</value>
>  </property>
> </configuration>
>
> *****************
> hdfs-site.xml
>
> <configuration>
>  <property>
>    <name>dfs.name.dir</name>
>    <value>/hdfs/name1</value>
>  </property>
>  <property>
>    <name>dfs.data.dir</name>
>    <value>/hdfs/data1</value>
>  </property>
>  <property>
>   <name>fs.checkpoint.dir</name>
>   <value>/hdfs/check1</value>
>  </property>
>  <property>
>    <name>dfs.replication</name>
>    <value>5</value>
>  </property>
> </configuration>
>
> ***********************
> mapred-site.xml
>
> <configuration>
>  <property>
>    <name>mapred.job.tracker</name>
>    <value>hbase1:30001</value>
>  </property>
>  <property>
>    <name>mapred.system.dir</name>
>    <value>/hdfs/mapred/system</value>
>  </property>
>  <property>
>    <name>mapred.local.dir</name>
>    <value>/hdfs/mapred/local</value>
>  </property>
>  <property>
>    <name>mapred.tasktracker.map.tasks</name>
>    <value>50</value>
>  </property>
>  <property>
>    <name>mapred.tasktracker.reduce.tasks</name>
>    <value>35</value>
>  </property>
> </configuration>
>
>
> --
> View this message in context:
> http://www.nabble.com/hadoop-0.20.0-jobtracker.info-could-only-be-replicated-to-0-nodes-tp25373475p25373475.html
> Sent from the Hadoop core-user mailing list archive at Nabble.com.
>
>

--0016e64c24a0d29a7c047339c2fc--

From common-user-return-17377-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 10 14:11:03 2009
Return-Path: <common-user-return-17377-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 83418 invoked from network); 10 Sep 2009 14:11:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Sep 2009 14:11:02 -0000
Received: (qmail 46158 invoked by uid 500); 10 Sep 2009 14:10:57 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 46047 invoked by uid 500); 10 Sep 2009 14:10:57 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 46028 invoked by uid 500); 10 Sep 2009 14:10:57 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 46023 invoked by uid 99); 10 Sep 2009 14:10:57 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 14:10:57 +0000
X-ASF-Spam-Status: No, hits=4.9 required=10.0
	tests=FS_REPLICA,HTML_MESSAGE,NORMAL_HTTP_TO_IP,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of cpbhagtani@gmail.com designates 209.85.216.193 as permitted sender)
Received: from [209.85.216.193] (HELO mail-px0-f193.google.com) (209.85.216.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 14:10:47 +0000
Received: by pxi31 with SMTP id 31so106451pxi.32
        for <multiple recipients>; Thu, 10 Sep 2009 07:10:27 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:cc:content-type;
        bh=71jG9a1gsDnsiZmjfs41YIvzc10KvbzGxNizEKT3IVE=;
        b=DckX19+2n26rPe3xsQOPjK6fKHGLTaMOTwN1ALSCesrCxrk40gfRSZtFGTpYBoecfW
         XXIsp6b1F6TCQNCG9QIQ70XYbJZyAS6WjKdKct5BF2bMhEVmzflW5XABgs25RTA6Q1gV
         JbA+cCxWnILc6A8jb//4UxxAaCLJ6wddhcxUc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        b=SAWRub3J7SjiQcyzWGE0NMu5fhJ9TIi13lMdAIwJFRRHnOBlGjIlPltE+vXznlPnBI
         eF5elahQHHfP9rQIy2GQFUOk+TsBKXIPPJ62mhmptXbyxP9w7FQ258M1SN4okdDjma/C
         CLycSQMZhsfyyWw+EO2ULXDmj7Uscwoz7NAhY=
MIME-Version: 1.0
Received: by 10.115.65.11 with SMTP id s11mr2921720wak.170.1252591825751; Thu, 
	10 Sep 2009 07:10:25 -0700 (PDT)
In-Reply-To: <25373475.post@talk.nabble.com>
References: <25373475.post@talk.nabble.com>
Date: Thu, 10 Sep 2009 19:40:25 +0530
Message-ID: <4061df20909100710h57b3d68aw76cd99d067aa230b@mail.gmail.com>
Subject: Re: hadoop 0.20.0 jobtracker.info could only be replicated to 0 nodes
From: Chandraprakash Bhagtani <cpbhagtani@gmail.com>
To: common-user@hadoop.apache.org
Cc: core-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0016e64c24a0d29a7c047339c2fc
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e64c24a0d29a7c047339c2fc
Content-Type: text/plain; charset=ISO-8859-1

You can try running JobTracker on some other port. This port might me in
use.

-- 
Thanks & Regards,
Chandra Prakash Bhagtani,

On Thu, Sep 10, 2009 at 2:58 AM, gcr44 <geoffry.roberts@gmail.com> wrote:

>
> All,
>
> I'm setting up my first hadoop full cluster.  I did the cygwin thing and
> everything works.  I'm having problems with the cluster.
>
> The cluster is five nodes of matched hardware running Ubuntu 8.04.  I
> believe I have ssh working properly. The master node is named hbase1, but
> I'm not doing anything with hbase.
>
> I run start-dfs.sh, Jps shows NameNode running, and the logs are free of
> error.  The data nodes, however, appear to be complaining.  "Retrying
> connect to server: hbase1"
>
> I run start-mapred.sh, Jps shows NameNode and JobTracker running.
>
> The namenode log says, "jobtracker.info could only be replicated to 0
> nodes,
> instead of 1".
>
> The jobtracker log says two things of significance:
>
> 1. "It might be because the JobTracker failed to read/write system files
> (hdfs://hbase1:30000/hdfs/mapred/system/jobtracker.info /
> hdfs://hbase1:30000/hdfs/mapred/system/jobtracker.info.recover) or the
> system  file hdfs://hbase1:30000/hdfs/mapred/system/jobtracker.info is
> missing!"
>
> How can this be? If I do bin/hadoop fs -lsr / , jobtracker.info shows.
>
> 2.  "Problem binding to hbase1/127.0.1.1:30001 : Address already in use"
>
> How can this be in use by anything other that JobTracker?  I have nothing
> else on the machine that could be conflicting.  I have also verified that I
> have no previous hadoop processes hanging around.
>
> I have included my config files just in case.
>
> Many thanks for any help.
>
> ****************
> core-site.xml
>
> <configuration>
>  <property>
>    <name>fs.default.name</name>
>    <value>hdfs://hbase1:30000</value>
>  </property>
> </configuration>
>
> *****************
> hdfs-site.xml
>
> <configuration>
>  <property>
>    <name>dfs.name.dir</name>
>    <value>/hdfs/name1</value>
>  </property>
>  <property>
>    <name>dfs.data.dir</name>
>    <value>/hdfs/data1</value>
>  </property>
>  <property>
>   <name>fs.checkpoint.dir</name>
>   <value>/hdfs/check1</value>
>  </property>
>  <property>
>    <name>dfs.replication</name>
>    <value>5</value>
>  </property>
> </configuration>
>
> ***********************
> mapred-site.xml
>
> <configuration>
>  <property>
>    <name>mapred.job.tracker</name>
>    <value>hbase1:30001</value>
>  </property>
>  <property>
>    <name>mapred.system.dir</name>
>    <value>/hdfs/mapred/system</value>
>  </property>
>  <property>
>    <name>mapred.local.dir</name>
>    <value>/hdfs/mapred/local</value>
>  </property>
>  <property>
>    <name>mapred.tasktracker.map.tasks</name>
>    <value>50</value>
>  </property>
>  <property>
>    <name>mapred.tasktracker.reduce.tasks</name>
>    <value>35</value>
>  </property>
> </configuration>
>
>
> --
> View this message in context:
> http://www.nabble.com/hadoop-0.20.0-jobtracker.info-could-only-be-replicated-to-0-nodes-tp25373475p25373475.html
> Sent from the Hadoop core-user mailing list archive at Nabble.com.
>
>

--0016e64c24a0d29a7c047339c2fc--

From common-user-return-17378-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 10 14:47:38 2009
Return-Path: <common-user-return-17378-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 97635 invoked from network); 10 Sep 2009 14:47:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Sep 2009 14:47:38 -0000
Received: (qmail 18493 invoked by uid 500); 10 Sep 2009 14:47:35 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 18411 invoked by uid 500); 10 Sep 2009 14:47:35 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 18401 invoked by uid 500); 10 Sep 2009 14:47:35 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 18398 invoked by uid 99); 10 Sep 2009 14:47:35 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 14:47:35 +0000
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=FS_REPLICA,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of lists@nabble.com designates 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 14:47:24 +0000
Received: from isper.nabble.com ([192.168.236.156])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lists@nabble.com>)
	id 1MlkvP-0006J2-DE
	for core-user@hadoop.apache.org; Thu, 10 Sep 2009 07:47:03 -0700
Message-ID: <25384693.post@talk.nabble.com>
Date: Thu, 10 Sep 2009 07:47:03 -0700 (PDT)
From: gcr44 <geoffry.roberts@gmail.com>
To: core-user@hadoop.apache.org
Subject: Re: hadoop 0.20.0 jobtracker.info could only be replicated to 0
 nodes
In-Reply-To: <4061df20909100710h57b3d68aw76cd99d067aa230b@mail.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: geoffry.roberts@gmail.com
References: <25373475.post@talk.nabble.com> <4061df20909100710h57b3d68aw76cd99d067aa230b@mail.gmail.com>
X-Virus-Checked: Checked by ClamAV on apache.org


Thanks for the response.

I have already tried moving JobTracker to several different ports always
with the same result.


Chandraprakash Bhagtani wrote:
> 
> You can try running JobTracker on some other port. This port might me in
> use.
> 
> -- 
> Thanks & Regards,
> Chandra Prakash Bhagtani,
> 
> On Thu, Sep 10, 2009 at 2:58 AM, gcr44 <geoffry.roberts@gmail.com> wrote:
> 
>>
>> All,
>>
>> I'm setting up my first hadoop full cluster.  I did the cygwin thing and
>> everything works.  I'm having problems with the cluster.
>>
>> The cluster is five nodes of matched hardware running Ubuntu 8.04.  I
>> believe I have ssh working properly. The master node is named hbase1, but
>> I'm not doing anything with hbase.
>>
>> I run start-dfs.sh, Jps shows NameNode running, and the logs are free of
>> error.  The data nodes, however, appear to be complaining.  "Retrying
>> connect to server: hbase1"
>>
>> I run start-mapred.sh, Jps shows NameNode and JobTracker running.
>>
>> The namenode log says, "jobtracker.info could only be replicated to 0
>> nodes,
>> instead of 1".
>>
>> The jobtracker log says two things of significance:
>>
>> 1. "It might be because the JobTracker failed to read/write system files
>> (hdfs://hbase1:30000/hdfs/mapred/system/jobtracker.info /
>> hdfs://hbase1:30000/hdfs/mapred/system/jobtracker.info.recover) or the
>> system  file hdfs://hbase1:30000/hdfs/mapred/system/jobtracker.info is
>> missing!"
>>
>> How can this be? If I do bin/hadoop fs -lsr / , jobtracker.info shows.
>>
>> 2.  "Problem binding to hbase1/127.0.1.1:30001 : Address already in use"
>>
>> How can this be in use by anything other that JobTracker?  I have nothing
>> else on the machine that could be conflicting.  I have also verified that
>> I
>> have no previous hadoop processes hanging around.
>>
>> I have included my config files just in case.
>>
>> Many thanks for any help.
>>
>> ****************
>> core-site.xml
>>
>> <configuration>
>>  <property>
>>    <name>fs.default.name</name>
>>    <value>hdfs://hbase1:30000</value>
>>  </property>
>> </configuration>
>>
>> *****************
>> hdfs-site.xml
>>
>> <configuration>
>>  <property>
>>    <name>dfs.name.dir</name>
>>    <value>/hdfs/name1</value>
>>  </property>
>>  <property>
>>    <name>dfs.data.dir</name>
>>    <value>/hdfs/data1</value>
>>  </property>
>>  <property>
>>   <name>fs.checkpoint.dir</name>
>>   <value>/hdfs/check1</value>
>>  </property>
>>  <property>
>>    <name>dfs.replication</name>
>>    <value>5</value>
>>  </property>
>> </configuration>
>>
>> ***********************
>> mapred-site.xml
>>
>> <configuration>
>>  <property>
>>    <name>mapred.job.tracker</name>
>>    <value>hbase1:30001</value>
>>  </property>
>>  <property>
>>    <name>mapred.system.dir</name>
>>    <value>/hdfs/mapred/system</value>
>>  </property>
>>  <property>
>>    <name>mapred.local.dir</name>
>>    <value>/hdfs/mapred/local</value>
>>  </property>
>>  <property>
>>    <name>mapred.tasktracker.map.tasks</name>
>>    <value>50</value>
>>  </property>
>>  <property>
>>    <name>mapred.tasktracker.reduce.tasks</name>
>>    <value>35</value>
>>  </property>
>> </configuration>
>>
>>
>> --
>> View this message in context:
>> http://www.nabble.com/hadoop-0.20.0-jobtracker.info-could-only-be-replicated-to-0-nodes-tp25373475p25373475.html
>> Sent from the Hadoop core-user mailing list archive at Nabble.com.
>>
>>
> 
> 

-- 
View this message in context: http://www.nabble.com/hadoop-0.20.0-jobtracker.info-could-only-be-replicated-to-0-nodes-tp25373475p25384693.html
Sent from the Hadoop core-user mailing list archive at Nabble.com.


From common-user-return-17380-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 10 15:44:01 2009
Return-Path: <common-user-return-17380-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 15701 invoked from network); 10 Sep 2009 15:44:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Sep 2009 15:44:00 -0000
Received: (qmail 9642 invoked by uid 500); 10 Sep 2009 15:43:55 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 9510 invoked by uid 500); 10 Sep 2009 15:43:54 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 9486 invoked by uid 99); 10 Sep 2009 15:43:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 15:43:54 +0000
X-ASF-Spam-Status: No, hits=-4.0 required=10.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of awittenauer@linkedin.com designates 69.28.149.24 as permitted sender)
Received: from [69.28.149.24] (HELO esv4-mav02.corp.linkedin.com) (69.28.149.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 15:43:43 +0000
DomainKey-Signature: s=prod; d=linkedin.com; c=nofws; q=dns;
  h=X-IronPort-AV:Received:User-Agent:Date:Subject:From:To:
   Message-ID:Thread-Topic:Thread-Index:In-Reply-To:
   Mime-version:Content-type:Content-transfer-encoding;
  b=S+aJVXI45xaOW69RZjgB6daLW4L82bG9Derf66z1LDdU3xlsgHo0vvQj
   wvUi3vHGzxiGDpdpAVFUkc6/8zb+wTDYetKf/ePl8ogUwofntMtXrqBda
   OWMiX1LHB/WkJyB;
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
  d=linkedin.com; i=awittenauer@linkedin.com; q=dns/txt;
  s=proddkim; t=1252597423; x=1284133423;
  h=from:sender:reply-to:subject:date:message-id:to:cc:
   mime-version:content-transfer-encoding:content-id:
   content-description:resent-date:resent-from:resent-sender:
   resent-to:resent-cc:resent-message-id:in-reply-to:
   references:list-id:list-help:list-unsubscribe:
   list-subscribe:list-post:list-owner:list-archive;
  z=From:=20Allen=20Wittenauer=20<awittenauer@linkedin.com>
   |Subject:=20Re:=20Initial=20hardware=20sizing|Date:=20Thu
   ,=2010=20Sep=202009=2008:43:23=20-0700|Message-ID:=20<C6C
   E6CAB.40C%awittenauer@linkedin.com>|To:=20<common-user@ha
   doop.apache.org>,=0D=0A=09<core-user@hadoop.apache.org>
   |Mime-version:=201.0|Content-transfer-encoding:=207bit
   |In-Reply-To:=20<50cc25450909091721l2f5dafe7y929d9fef7cfc
   d515@mail.gmail.com>;
  bh=2f2u6ocEPD/DIsMMM1D6VnwaWl1wlCUFdjFrfnV2NaA=;
  b=pSv6WLrW9SVn3N2+wVumVwRQlhI0P41mkB33pAypYJEywE0eYlbJ/oWN
   BVGoziBh17zIKkOLJVFFOnt+ubZwtHwb+XHguv0noRq8wUN8u4TR5V3Kw
   maqyIyBIjBOhrhr;
X-IronPort-AV: E=Sophos;i="4.44,365,1249282800"; 
   d="scan'208";a="8811525"
Received: from 172.18.36.59 ([172.18.36.59]) by CORP-MAIL.linkedin.biz ([172.18.46.135]) via Exchange Front-End Server mail-access.linkedin.biz ([172.18.46.133]) with Microsoft Exchange Server HTTP-DAV ;
 Thu, 10 Sep 2009 15:43:23 +0000
User-Agent: Microsoft-Entourage/12.10.0.080409
Date: Thu, 10 Sep 2009 08:43:23 -0700
Subject: Re: Initial hardware sizing
From: Allen Wittenauer <awittenauer@linkedin.com>
To: <common-user@hadoop.apache.org>,
	<core-user@hadoop.apache.org>
Message-ID: <C6CE6CAB.40C%awittenauer@linkedin.com>
Thread-Topic: Initial hardware sizing
Thread-Index: AcoyLW3EkuU0bS+71USjUOEUe0A5Lg==
In-Reply-To: <50cc25450909091721l2f5dafe7y929d9fef7cfcd515@mail.gmail.com>
Mime-version: 1.0
Content-type: text/plain;
	charset="US-ASCII"
Content-transfer-encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 9/9/09 5:21 PM, "Chad Potocky" <cpotocky@gmail.com> wrote:

> I am interested in calculating the number of nodes and amount of
> storage per node I need in order to meet an initial usable storage
> volume for HDFS.  For example, if I want a setup with 50 TBytes of
> usable storage, how many data nodes would I need and how much storage
> is in each node. Please include the replication factor you assumed in
> sizing.

Using 4x1TB per node w/repl of 3 gives you about 1.2TB usable space per
node, if you assume 8gb of OS stuff per disk (swap, etc) and 100gb per disk
of spill space for MR.


From common-user-return-17379-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 10 15:44:01 2009
Return-Path: <common-user-return-17379-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 15702 invoked from network); 10 Sep 2009 15:44:00 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Sep 2009 15:44:00 -0000
Received: (qmail 9602 invoked by uid 500); 10 Sep 2009 15:43:54 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 9508 invoked by uid 500); 10 Sep 2009 15:43:54 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 9491 invoked by uid 500); 10 Sep 2009 15:43:54 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 9486 invoked by uid 99); 10 Sep 2009 15:43:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 15:43:54 +0000
X-ASF-Spam-Status: No, hits=-4.0 required=10.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of awittenauer@linkedin.com designates 69.28.149.24 as permitted sender)
Received: from [69.28.149.24] (HELO esv4-mav02.corp.linkedin.com) (69.28.149.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 15:43:43 +0000
DomainKey-Signature: s=prod; d=linkedin.com; c=nofws; q=dns;
  h=X-IronPort-AV:Received:User-Agent:Date:Subject:From:To:
   Message-ID:Thread-Topic:Thread-Index:In-Reply-To:
   Mime-version:Content-type:Content-transfer-encoding;
  b=S+aJVXI45xaOW69RZjgB6daLW4L82bG9Derf66z1LDdU3xlsgHo0vvQj
   wvUi3vHGzxiGDpdpAVFUkc6/8zb+wTDYetKf/ePl8ogUwofntMtXrqBda
   OWMiX1LHB/WkJyB;
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
  d=linkedin.com; i=awittenauer@linkedin.com; q=dns/txt;
  s=proddkim; t=1252597423; x=1284133423;
  h=from:sender:reply-to:subject:date:message-id:to:cc:
   mime-version:content-transfer-encoding:content-id:
   content-description:resent-date:resent-from:resent-sender:
   resent-to:resent-cc:resent-message-id:in-reply-to:
   references:list-id:list-help:list-unsubscribe:
   list-subscribe:list-post:list-owner:list-archive;
  z=From:=20Allen=20Wittenauer=20<awittenauer@linkedin.com>
   |Subject:=20Re:=20Initial=20hardware=20sizing|Date:=20Thu
   ,=2010=20Sep=202009=2008:43:23=20-0700|Message-ID:=20<C6C
   E6CAB.40C%awittenauer@linkedin.com>|To:=20<common-user@ha
   doop.apache.org>,=0D=0A=09<core-user@hadoop.apache.org>
   |Mime-version:=201.0|Content-transfer-encoding:=207bit
   |In-Reply-To:=20<50cc25450909091721l2f5dafe7y929d9fef7cfc
   d515@mail.gmail.com>;
  bh=2f2u6ocEPD/DIsMMM1D6VnwaWl1wlCUFdjFrfnV2NaA=;
  b=pSv6WLrW9SVn3N2+wVumVwRQlhI0P41mkB33pAypYJEywE0eYlbJ/oWN
   BVGoziBh17zIKkOLJVFFOnt+ubZwtHwb+XHguv0noRq8wUN8u4TR5V3Kw
   maqyIyBIjBOhrhr;
X-IronPort-AV: E=Sophos;i="4.44,365,1249282800"; 
   d="scan'208";a="8811525"
Received: from 172.18.36.59 ([172.18.36.59]) by CORP-MAIL.linkedin.biz ([172.18.46.135]) via Exchange Front-End Server mail-access.linkedin.biz ([172.18.46.133]) with Microsoft Exchange Server HTTP-DAV ;
 Thu, 10 Sep 2009 15:43:23 +0000
User-Agent: Microsoft-Entourage/12.10.0.080409
Date: Thu, 10 Sep 2009 08:43:23 -0700
Subject: Re: Initial hardware sizing
From: Allen Wittenauer <awittenauer@linkedin.com>
To: <common-user@hadoop.apache.org>,
	<core-user@hadoop.apache.org>
Message-ID: <C6CE6CAB.40C%awittenauer@linkedin.com>
Thread-Topic: Initial hardware sizing
Thread-Index: AcoyLW3EkuU0bS+71USjUOEUe0A5Lg==
In-Reply-To: <50cc25450909091721l2f5dafe7y929d9fef7cfcd515@mail.gmail.com>
Mime-version: 1.0
Content-type: text/plain;
	charset="US-ASCII"
Content-transfer-encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 9/9/09 5:21 PM, "Chad Potocky" <cpotocky@gmail.com> wrote:

> I am interested in calculating the number of nodes and amount of
> storage per node I need in order to meet an initial usable storage
> volume for HDFS.  For example, if I want a setup with 50 TBytes of
> usable storage, how many data nodes would I need and how much storage
> is in each node. Please include the replication factor you assumed in
> sizing.

Using 4x1TB per node w/repl of 3 gives you about 1.2TB usable space per
node, if you assume 8gb of OS stuff per disk (swap, etc) and 100gb per disk
of spill space for MR.


From common-user-return-17381-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 10 15:48:58 2009
Return-Path: <common-user-return-17381-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 17920 invoked from network); 10 Sep 2009 15:48:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Sep 2009 15:48:58 -0000
Received: (qmail 25987 invoked by uid 500); 10 Sep 2009 15:48:56 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 25924 invoked by uid 500); 10 Sep 2009 15:48:56 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 25911 invoked by uid 99); 10 Sep 2009 15:48:56 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 15:48:56 +0000
X-ASF-Spam-Status: No, hits=-1.6 required=10.0
	tests=FS_REPLICA,RCVD_IN_DNSWL_MED,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [192.6.10.60] (HELO tobor.hpl.hp.com) (192.6.10.60)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 15:48:45 +0000
Received: from localhost (localhost [127.0.0.1])
	by tobor.hpl.hp.com (Postfix) with ESMTP id CDC8BB7DD1
	for <common-user@hadoop.apache.org>; Thu, 10 Sep 2009 16:48:23 +0100 (BST)
X-Virus-Scanned: amavisd-new at hplb.hpl.hp.com
Received: from tobor.hpl.hp.com ([127.0.0.1])
	by localhost (tobor.hpl.hp.com [127.0.0.1]) (amavisd-new, port 10024)
	with LMTP id 5mqVTnkjx08c for <common-user@hadoop.apache.org>;
	Thu, 10 Sep 2009 16:48:17 +0100 (BST)
Received: from 0-imap-br1.hpl.hp.com (0-imap-br1.hpl.hp.com [16.25.144.60])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by tobor.hpl.hp.com (Postfix) with ESMTPS id C110DB7DCF
	for <common-user@hadoop.apache.org>; Thu, 10 Sep 2009 16:48:16 +0100 (BST)
MailScanner-NULL-Check: 1253202484.33296@K9P6aOMFnbdnPTf4ZFhstg
Received: from [16.25.175.158] (morzine.hpl.hp.com [16.25.175.158])
	by 0-imap-br1.hpl.hp.com (8.14.1/8.13.4) with ESMTP id n8AFm3G8029776
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <common-user@hadoop.apache.org>; Thu, 10 Sep 2009 16:48:04 +0100 (BST)
Message-ID: <4AA91FB3.2050301@apache.org>
Date: Thu, 10 Sep 2009 16:48:03 +0100
From: Steve Loughran <stevel@apache.org>
User-Agent: Thunderbird 2.0.0.23 (X11/20090812)
MIME-Version: 1.0
To: common-user@hadoop.apache.org
Subject: Re: hadoop 0.20.0 jobtracker.info could only be replicated to 0 nodes
References: <25373475.post@talk.nabble.com> <4061df20909100710h57b3d68aw76cd99d067aa230b@mail.gmail.com> <25384693.post@talk.nabble.com>
In-Reply-To: <25384693.post@talk.nabble.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-HPL-MailScanner-Information: Please contact the ISP for more information
X-MailScanner-ID: n8AFm3G8029776
X-HPL-MailScanner: Found to be clean
X-HPL-MailScanner-From: stevel@apache.org
X-Virus-Checked: Checked by ClamAV on apache.org

gcr44 wrote:
> Thanks for the response.
> 
> I have already tried moving JobTracker to several different ports always
> with the same result.
> 
> 
> Chandraprakash Bhagtani wrote:
>> You can try running JobTracker on some other port. This port might me in
>> use.
>>
>> -- 
>> Thanks & Regards,
>> Chandra Prakash Bhagtani,
>>
>> On Thu, Sep 10, 2009 at 2:58 AM, gcr44 <geoffry.roberts@gmail.com> wrote:
>>
>>> All,
>>>
>>> I'm setting up my first hadoop full cluster.  I did the cygwin thing and
>>> everything works.  I'm having problems with the cluster.
>>>
>>> The cluster is five nodes of matched hardware running Ubuntu 8.04.  I
>>> believe I have ssh working properly. The master node is named hbase1, but
>>> I'm not doing anything with hbase.
>>>
>>> I run start-dfs.sh, Jps shows NameNode running, and the logs are free of
>>> error.  The data nodes, however, appear to be complaining.  "Retrying
>>> connect to server: hbase1"
>>>
>>> I run start-mapred.sh, Jps shows NameNode and JobTracker running.
>>>
>>> The namenode log says, "jobtracker.info could only be replicated to 0
>>> nodes,
>>> instead of 1".
>>>
>>> The jobtracker log says two things of significance:
>>>
>>> 1. "It might be because the JobTracker failed to read/write system files
>>> (hdfs://hbase1:30000/hdfs/mapred/system/jobtracker.info /
>>> hdfs://hbase1:30000/hdfs/mapred/system/jobtracker.info.recover) or the
>>> system  file hdfs://hbase1:30000/hdfs/mapred/system/jobtracker.info is
>>> missing!"

don't worry about the job tracker until you have HDFS -that is namenodes 
and datanodes, up and running. Do you have any datanodes up? Because 
complaints about not enough replication and missing files mean the 
filesystem isn't live yet

From common-user-return-17382-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 10 16:01:52 2009
Return-Path: <common-user-return-17382-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 22767 invoked from network); 10 Sep 2009 16:01:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Sep 2009 16:01:51 -0000
Received: (qmail 49392 invoked by uid 500); 10 Sep 2009 16:01:49 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 49345 invoked by uid 500); 10 Sep 2009 16:01:49 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 49335 invoked by uid 99); 10 Sep 2009 16:01:49 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 16:01:49 +0000
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=FS_REPLICA,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of xcolwell@gmail.com designates 209.85.220.218 as permitted sender)
Received: from [209.85.220.218] (HELO mail-fx0-f218.google.com) (209.85.220.218)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 16:01:37 +0000
Received: by fxm18 with SMTP id 18so204655fxm.29
        for <common-user@hadoop.apache.org>; Thu, 10 Sep 2009 09:01:17 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:message-id:date:from
         :user-agent:mime-version:to:subject:references:in-reply-to
         :content-type:content-transfer-encoding;
        bh=rv8LdxJW3qVvaMkrkdYTIsMBGPAuoN3BnuCDO+vc4hw=;
        b=aPhOmHOxKKyyxp6gnN3zYIVnSBrehyDgb7RDQQKdAoxhtjnzTHhbeUwG10Ok8r/CqV
         iMTrkmOl/jc+FnS17zm+WrsoHG1rCwRVOhqG119AiazpGPXbuhSAY+sPvNi7IslEvZQF
         ENBO+m9zvwKT7W5Bi/XncEvlSJRHXfkkofJWI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type:content-transfer-encoding;
        b=Bp8obsg+na2wErKsF2vLBcRaQqG9koxGMwKDNBa6NGc6Ewnh9YmsO7qtURH+b7p7LI
         lLdS7HdiY2OhlsqDw07DYKv5cAUbAAR8DpUZnoN0MznEr9DN5iUmywqQnLr+WPeddUG/
         1pp232iA42CJJe+LnrfmeR4Ko+TUKD/EwBNvI=
Received: by 10.86.184.35 with SMTP id h35mr1334003fgf.18.1252598477504;
        Thu, 10 Sep 2009 09:01:17 -0700 (PDT)
Received: from ?10.1.20.105? (dsl254-070-240.nyc1.dsl.speakeasy.net [216.254.70.240])
        by mx.google.com with ESMTPS id e20sm129737fga.25.2009.09.10.09.01.15
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Thu, 10 Sep 2009 09:01:16 -0700 (PDT)
Message-ID: <4AA922C7.4090201@gmail.com>
Date: Thu, 10 Sep 2009 12:01:11 -0400
From: brien colwell <xcolwell@gmail.com>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: common-user@hadoop.apache.org
Subject: Re: hadoop 0.20.0 jobtracker.info could only be replicated to 0 nodes
References: <25373475.post@talk.nabble.com> <4061df20909100710h57b3d68aw76cd99d067aa230b@mail.gmail.com> <25384693.post@talk.nabble.com> <4AA91FB3.2050301@apache.org>
In-Reply-To: <4AA91FB3.2050301@apache.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Just an idea ... we've had trouble with Hadoop using internal instead of 
external addresses on Ubuntu. The data nodes can't connect to the 
namenode if it's listening on an internal address.  On the namenode can 
you run  'netstat -na' ?   What address is the namenode daemon bound to? 



Steve Loughran wrote:
> gcr44 wrote:
>> Thanks for the response.
>>
>> I have already tried moving JobTracker to several different ports always
>> with the same result.
>>
>>
>> Chandraprakash Bhagtani wrote:
>>> You can try running JobTracker on some other port. This port might 
>>> me in
>>> use.
>>>
>>> -- 
>>> Thanks & Regards,
>>> Chandra Prakash Bhagtani,
>>>
>>> On Thu, Sep 10, 2009 at 2:58 AM, gcr44 <geoffry.roberts@gmail.com> 
>>> wrote:
>>>
>>>> All,
>>>>
>>>> I'm setting up my first hadoop full cluster.  I did the cygwin 
>>>> thing and
>>>> everything works.  I'm having problems with the cluster.
>>>>
>>>> The cluster is five nodes of matched hardware running Ubuntu 8.04.  I
>>>> believe I have ssh working properly. The master node is named 
>>>> hbase1, but
>>>> I'm not doing anything with hbase.
>>>>
>>>> I run start-dfs.sh, Jps shows NameNode running, and the logs are 
>>>> free of
>>>> error.  The data nodes, however, appear to be complaining.  "Retrying
>>>> connect to server: hbase1"
>>>>
>>>> I run start-mapred.sh, Jps shows NameNode and JobTracker running.
>>>>
>>>> The namenode log says, "jobtracker.info could only be replicated to 0
>>>> nodes,
>>>> instead of 1".
>>>>
>>>> The jobtracker log says two things of significance:
>>>>
>>>> 1. "It might be because the JobTracker failed to read/write system 
>>>> files
>>>> (hdfs://hbase1:30000/hdfs/mapred/system/jobtracker.info /
>>>> hdfs://hbase1:30000/hdfs/mapred/system/jobtracker.info.recover) or the
>>>> system  file hdfs://hbase1:30000/hdfs/mapred/system/jobtracker.info is
>>>> missing!"
>
> don't worry about the job tracker until you have HDFS -that is 
> namenodes and datanodes, up and running. Do you have any datanodes up? 
> Because complaints about not enough replication and missing files mean 
> the filesystem isn't live yet


From common-user-return-17383-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 10 16:08:11 2009
Return-Path: <common-user-return-17383-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 24831 invoked from network); 10 Sep 2009 16:08:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Sep 2009 16:08:11 -0000
Received: (qmail 62460 invoked by uid 500); 10 Sep 2009 16:08:09 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 62377 invoked by uid 500); 10 Sep 2009 16:08:09 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 62367 invoked by uid 99); 10 Sep 2009 16:08:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 16:08:08 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of clarkemjj@gmail.com designates 209.85.220.218 as permitted sender)
Received: from [209.85.220.218] (HELO mail-fx0-f218.google.com) (209.85.220.218)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 16:07:59 +0000
Received: by fxm18 with SMTP id 18so209843fxm.29
        for <common-user@hadoop.apache.org>; Thu, 10 Sep 2009 09:07:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:date:message-id:subject
         :from:to:content-type;
        bh=vF3wx0o0484HZxV3ghMfAnRviwb0W29tB3id45lWQYw=;
        b=oYA5tBTQRiw06u5/xOZotc7c9IUUz1SHb/U5IRAOmSYQMjwAA5wKa+ET+7fnO09zHU
         /MiP9spgFwvWfOxI598CKdQLDac6poCFZWzuSX2zJ+l1VqalBb/c3Ry3+t5lC0JNYGbi
         WDU94AES51yFuu3mb4ZFCSkDVVwdVDPbncCAI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=Je0OI5mBt07XFJyC3GkxtATjD8PsRi4ohFYUPYmDuRg2etHIrgw2h40rTRxrmiVzbS
         API+ALm6X/FRpd9caIKhRKroANphNjsPZmFvjohyIyTEcBDJr/U2z4ryk4PKECZiLFlV
         oG0iaui+IcUiFMNjYlUqyBR2XZAV0Yp8BVXnw=
MIME-Version: 1.0
Received: by 10.223.7.90 with SMTP id c26mr1026487fac.73.1252598858935; Thu, 
	10 Sep 2009 09:07:38 -0700 (PDT)
Date: Thu, 10 Sep 2009 17:07:38 +0100
Message-ID: <4238036a0909100907g31efe705jf1281010c30577fc@mail.gmail.com>
Subject: MapRunnable app questions
From: John Clarke <clarkemjj@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=00151747860e086f0804733b66bd
X-Virus-Checked: Checked by ClamAV on apache.org

--00151747860e086f0804733b66bd
Content-Type: text/plain; charset=ISO-8859-1

Hi there,

I have three questions:

1) I have written a MapReduce app that implements MapRunnable as we needed
to be able to control the threads and share information between them.

What number of map tasks should I specify in my conf file? Should it be the
same as the number of nodes?



2) When we run this application the % complete for the map tasks seems to be
tied to the inputs read. As such, it can report 100% complete even if a
MapRunnable is still chewing through it's threads. Is this normal?



3) Currently we have a simple Reducer that aggregates some totals and
outputs both the totals and the results from each MapRunnable thread. The
problem is, if the job were to fail for some reason no output is available
unless at least one MapRunnable task is complete and the Reducer has started
collecting and outputting to the dfs.

If we were to have no Reducers will the output from the MapRunnable be
output to the dfs straight away? Of course we would lose the ability to
aggregate totals but we could calculate these from the MapRunnable's output.


Thanks,
John

--00151747860e086f0804733b66bd--

From common-user-return-17384-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 10 16:29:02 2009
Return-Path: <common-user-return-17384-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 31982 invoked from network); 10 Sep 2009 16:29:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Sep 2009 16:29:02 -0000
Received: (qmail 5028 invoked by uid 500); 10 Sep 2009 16:28:56 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 4931 invoked by uid 500); 10 Sep 2009 16:28:56 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 4908 invoked by uid 99); 10 Sep 2009 16:28:55 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 16:28:55 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of xcolwell@gmail.com designates 72.14.220.152 as permitted sender)
Received: from [72.14.220.152] (HELO fg-out-1718.google.com) (72.14.220.152)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 16:28:45 +0000
Received: by fg-out-1718.google.com with SMTP id e12so1617453fga.11
        for <multiple recipients>; Thu, 10 Sep 2009 09:28:24 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:message-id:date:from
         :user-agent:mime-version:to:cc:subject:references:in-reply-to
         :content-type:content-transfer-encoding;
        bh=CrAowUtd6lL9ooU4P8DpHAKA5wFl81OGVz3p4G4jmE8=;
        b=Q9oD6ZmNk7qDYNlz98ZwvSh1BSsoXNPa/GoiTz9UvcgJ24sEURX6/lsrVVAQlqRVtV
         CZyKL887hkDjIeHfJahH3yt+Rti3d3D/9i7k37GslhT0zwz3vmu4P9Z1njf4LA0Qtzlx
         Swm+decCxD0hgF08ROnFWI9PHXCPXPi7I4hYI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:user-agent:mime-version:to:cc:subject
         :references:in-reply-to:content-type:content-transfer-encoding;
        b=lI/m+g/2g0xi7VzdtwKqk5di1ETVB60ebwjQTxVNCI3weBK8fod4FA5I/huyk+2KJu
         Uth8Wl0T04420NJ64irqsDKPetyWuw8YXn+V6aHtbhYT/cc86wFUTuMLUdyGhDHEAGIJ
         PCLBeWwfdSK2LWJJ1a3HBNLJ/ztKlG+C6jUtQ=
Received: by 10.86.18.34 with SMTP id 34mr1374818fgr.2.1252600104381;
        Thu, 10 Sep 2009 09:28:24 -0700 (PDT)
Received: from ?10.1.20.105? (dsl254-070-240.nyc1.dsl.speakeasy.net [216.254.70.240])
        by mx.google.com with ESMTPS id 3sm827717fge.3.2009.09.10.09.28.22
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Thu, 10 Sep 2009 09:28:23 -0700 (PDT)
Message-ID: <4AA92921.3060600@gmail.com>
Date: Thu, 10 Sep 2009 12:28:17 -0400
From: brien colwell <xcolwell@gmail.com>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: common-user@hadoop.apache.org
CC: core-user@hadoop.apache.org
Subject: Re: static data sharing among map funtions
References: <SNT124-W5650663C63B0F1D7A57F65BCEA0@phx.gbl>	 <25379620.post@talk.nabble.com> <4061df20909100703y79b60305g5ba769f0feb902d9@mail.gmail.com>
In-Reply-To: <4061df20909100703y79b60305g5ba769f0feb902d9@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Here's a setup I've used:
- configuration data distributed to the mappers / reducers using the 
JobConf object
- BDBs (stored in ZIP packages on the HDFS) used for read/write data 
across stages. The data flow organized so a single mapper modifies a 
single database per stage, to avoid concurrency issues.

The concurrency of the shared read/write data will affect the storage 
type. In general it's better performance to as much data local as 
possible and then distribute it (e.g. store on the HDFS) at the end of 
the mapper job. If you need all mappers to share the same data at once, 
then a technology like memcache seems like a good approach.





Chandraprakash Bhagtani wrote:
> If you really want to share read/write data you can use memcached server or
> file based database like Tokyocabinet or BDB
>
>
>   


From common-user-return-17385-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 10 16:29:02 2009
Return-Path: <common-user-return-17385-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 31959 invoked from network); 10 Sep 2009 16:29:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Sep 2009 16:29:02 -0000
Received: (qmail 5066 invoked by uid 500); 10 Sep 2009 16:28:56 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 4933 invoked by uid 500); 10 Sep 2009 16:28:56 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 4914 invoked by uid 500); 10 Sep 2009 16:28:56 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 4908 invoked by uid 99); 10 Sep 2009 16:28:55 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 16:28:55 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of xcolwell@gmail.com designates 72.14.220.152 as permitted sender)
Received: from [72.14.220.152] (HELO fg-out-1718.google.com) (72.14.220.152)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 16:28:45 +0000
Received: by fg-out-1718.google.com with SMTP id e12so1617453fga.11
        for <multiple recipients>; Thu, 10 Sep 2009 09:28:24 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:message-id:date:from
         :user-agent:mime-version:to:cc:subject:references:in-reply-to
         :content-type:content-transfer-encoding;
        bh=CrAowUtd6lL9ooU4P8DpHAKA5wFl81OGVz3p4G4jmE8=;
        b=Q9oD6ZmNk7qDYNlz98ZwvSh1BSsoXNPa/GoiTz9UvcgJ24sEURX6/lsrVVAQlqRVtV
         CZyKL887hkDjIeHfJahH3yt+Rti3d3D/9i7k37GslhT0zwz3vmu4P9Z1njf4LA0Qtzlx
         Swm+decCxD0hgF08ROnFWI9PHXCPXPi7I4hYI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:user-agent:mime-version:to:cc:subject
         :references:in-reply-to:content-type:content-transfer-encoding;
        b=lI/m+g/2g0xi7VzdtwKqk5di1ETVB60ebwjQTxVNCI3weBK8fod4FA5I/huyk+2KJu
         Uth8Wl0T04420NJ64irqsDKPetyWuw8YXn+V6aHtbhYT/cc86wFUTuMLUdyGhDHEAGIJ
         PCLBeWwfdSK2LWJJ1a3HBNLJ/ztKlG+C6jUtQ=
Received: by 10.86.18.34 with SMTP id 34mr1374818fgr.2.1252600104381;
        Thu, 10 Sep 2009 09:28:24 -0700 (PDT)
Received: from ?10.1.20.105? (dsl254-070-240.nyc1.dsl.speakeasy.net [216.254.70.240])
        by mx.google.com with ESMTPS id 3sm827717fge.3.2009.09.10.09.28.22
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Thu, 10 Sep 2009 09:28:23 -0700 (PDT)
Message-ID: <4AA92921.3060600@gmail.com>
Date: Thu, 10 Sep 2009 12:28:17 -0400
From: brien colwell <xcolwell@gmail.com>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: common-user@hadoop.apache.org
CC: core-user@hadoop.apache.org
Subject: Re: static data sharing among map funtions
References: <SNT124-W5650663C63B0F1D7A57F65BCEA0@phx.gbl>	 <25379620.post@talk.nabble.com> <4061df20909100703y79b60305g5ba769f0feb902d9@mail.gmail.com>
In-Reply-To: <4061df20909100703y79b60305g5ba769f0feb902d9@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Here's a setup I've used:
- configuration data distributed to the mappers / reducers using the 
JobConf object
- BDBs (stored in ZIP packages on the HDFS) used for read/write data 
across stages. The data flow organized so a single mapper modifies a 
single database per stage, to avoid concurrency issues.

The concurrency of the shared read/write data will affect the storage 
type. In general it's better performance to as much data local as 
possible and then distribute it (e.g. store on the HDFS) at the end of 
the mapper job. If you need all mappers to share the same data at once, 
then a technology like memcache seems like a good approach.





Chandraprakash Bhagtani wrote:
> If you really want to share read/write data you can use memcached server or
> file based database like Tokyocabinet or BDB
>
>
>   


From common-user-return-17386-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 10 17:10:10 2009
Return-Path: <common-user-return-17386-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 47295 invoked from network); 10 Sep 2009 17:10:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Sep 2009 17:10:10 -0000
Received: (qmail 94734 invoked by uid 500); 10 Sep 2009 17:10:07 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 94674 invoked by uid 500); 10 Sep 2009 17:10:07 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 94664 invoked by uid 99); 10 Sep 2009 17:10:07 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 17:10:07 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of vliaskov@gmail.com designates 209.85.212.185 as permitted sender)
Received: from [209.85.212.185] (HELO mail-vw0-f185.google.com) (209.85.212.185)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 17:09:57 +0000
Received: by vws15 with SMTP id 15so250764vws.5
        for <common-user@hadoop.apache.org>; Thu, 10 Sep 2009 10:09:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:date:message-id:subject
         :from:to:content-type;
        bh=NMcx+krch84QRFjnukRYVNSI15QjvQE2ot4mcSEHR00=;
        b=QTex8ZOH4XwttCJx2cj/eczmKvBW7JQlUT9DZSlaV30fKGjEE334su64/rbsBHzKph
         7GLvCDDdtRSdxuG/JyqJsXRxF/MEW9QXLa2GtEPUjJJ6TLi33ccgijXXIz2eMc/DBS+X
         +Pbo1JBQ5tKu7dhV8e1o7slZwm08DwE9SceLk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=cqzvz0QdVZtl+p9RUh13oYAXWibZPZ0Ij1mjukL/7lG206DGkk4Ahvbri9pIiuyl+O
         ifo2zZJr/5DdQ8bV5KakWJxpL1G0/T1W8csG0smDSyh0dxHLyfnX1Mc5RvL6a7Hiun9x
         LmFXN0FpaZtCOLL4OM2dUCEs5/4qYY0FI2iv4=
MIME-Version: 1.0
Received: by 10.220.88.228 with SMTP id b36mr1856706vcm.85.1252602576870; Thu, 
	10 Sep 2009 10:09:36 -0700 (PDT)
Date: Thu, 10 Sep 2009 12:09:36 -0500
Message-ID: <bec373e0909101009i48143466iad9d2fcd4897a856@mail.gmail.com>
Subject: duplicate START_TIME, FINISH_TIME timestamps in history log
From: Vasilis Liaskovitis <vliaskov@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,

I am getting different values for START_TIME, FINISH_TIME regarding
the exact same task when looking at the history log of a sorter job.
 E.g greping for a particular reduce task in the history log:

masternode:/home/hadoop-git # grep -r
"task_200909031613_0002_r_000002"
/home/vliaskov/hadoop-git/logs/history/doomhead.amd.com_1252012387435_job_200909031613_0002_root_sorter

Task TASKID="task_200909031613_0002_r_000002" TASK_TYPE="REDUCE"
START_TIME="1252014285633" SPLITS="" .
ReduceAttempt TASK_TYPE="REDUCE"
TASKID="task_200909031613_0002_r_000002"
TASK_ATTEMPT_ID="attempt_200909031613_0002_r_000002_0"
START_TIME="1252012959359"
TRACKER_NAME="tracker_compute-5\.doomcluster\.amd\.com:localhost/127\.0\.0\.1:37388"
HTTP_PORT="50060" .
ReduceAttempt TASK_TYPE="REDUCE"
TASKID="task_200909031613_0002_r_000002"
TASK_ATTEMPT_ID="attempt_200909031613_0002_r_000002_0"
TASK_STATUS="SUCCESS" SHUFFLE_FINISHED="1252014856244"
SORT_FINISHED="1252014856723" FINISH_TIME="1252015219858"
Task TASKID="task_200909031613_0002_r_000002" TASK_TYPE="REDUCE"
TASK_STATUS="SUCCESS" FINISH_TIME="1252016563501" ...

>From the above you can see that e.g. START_TIME is reported twice and
is different.
START_TIME= 1252014285633
START_TIME= 1252012959359

Same goes for FINISH_TIME and possibly other timestamped events. Does
the history log gather messages from several tasktrackers and from the
jobtracker regarding one particular task? That might explain the log.

Could this be a problem because the cluster nodes are not synchronized
to a master node using e.g. NTP?
On that note, do people use ntpd and ntpq/ntpc to synchronize their
slave/tasktracker nodes' clocks to their master/jobtracker node clock?

thanks for any help,

- Vasilis

From common-user-return-17387-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 10 17:44:57 2009
Return-Path: <common-user-return-17387-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 60713 invoked from network); 10 Sep 2009 17:44:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Sep 2009 17:44:57 -0000
Received: (qmail 65948 invoked by uid 500); 10 Sep 2009 17:44:55 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 65898 invoked by uid 500); 10 Sep 2009 17:44:54 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 65818 invoked by uid 99); 10 Sep 2009 17:44:54 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 17:44:54 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of yuzhihong@gmail.com designates 209.85.216.176 as permitted sender)
Received: from [209.85.216.176] (HELO mail-px0-f176.google.com) (209.85.216.176)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 17:44:46 +0000
Received: by pxi6 with SMTP id 6so278767pxi.21
        for <common-user@hadoop.apache.org>; Thu, 10 Sep 2009 10:44:26 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:date:message-id:subject
         :from:to:content-type;
        bh=JP131j9p0bAXthCBILFYI2stD2Bm+asVi/AfbppZbAM=;
        b=GZ4zLoEazCBL796G0Zq0ZNIm2JmJ7BSTF9nWfthoQ+fIceZrhEKiplYhKNk2XidwCz
         pa37Gc1SipLAxWwjXZB8vk3VW0uvbQf72OGdg1Yrazt+LVfQ2cBBxg8+67V/loMagSZj
         6TYvj4kAPtITCElNGVUPq8AC2BARac8RrxMgs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=xqayWJt/dTlL3toVOEcq1x/T5WlbWBHj5G6+xrPjP+FJqQaZjiD9RFjJ6KUvkX7bcU
         Yr6DX6gcbMn5yyRbWzWOID4f6a8cWlfgqGysytyqqqxBizhiokz5PI1FgVpPBRmhJEVx
         6Vc0reBNdFl5Blz6nWVHqkIzr9fRWlk1b+pAM=
MIME-Version: 1.0
Received: by 10.142.196.1 with SMTP id t1mr190449wff.71.1252604666656; Thu, 10 
	Sep 2009 10:44:26 -0700 (PDT)
Date: Thu, 10 Sep 2009 10:44:26 -0700
Message-ID: <17e273100909101044v7c8e4825sac365031b6941d4f@mail.gmail.com>
Subject: question on Chukwa
From: Ted Yu <yuzhihong@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=000e0cd32eb83339ed04733cc079
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd32eb83339ed04733cc079
Content-Type: text/plain; charset=ISO-8859-1

I found Chukwa to be an interesting project.

Can someone give a little detail on how freshly generated log files are
handled ?

I have downloaded the source code. So a few filenames would help me better
understand.

Thanks

--000e0cd32eb83339ed04733cc079--

From common-user-return-17388-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 10 21:59:05 2009
Return-Path: <common-user-return-17388-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 58871 invoked from network); 10 Sep 2009 21:59:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Sep 2009 21:59:05 -0000
Received: (qmail 82490 invoked by uid 500); 10 Sep 2009 21:59:03 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 82402 invoked by uid 500); 10 Sep 2009 21:59:03 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 82392 invoked by uid 99); 10 Sep 2009 21:59:03 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 21:59:03 +0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=NO_RDNS_DOTCOM_HELO,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [76.96.62.56] (HELO QMTA06.westchester.pa.mail.comcast.net) (76.96.62.56)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 21:58:53 +0000
Received: from OMTA10.westchester.pa.mail.comcast.net ([76.96.62.28])
	by QMTA06.westchester.pa.mail.comcast.net with comcast
	id ezDG1c0040cZkys569yPJQ; Thu, 10 Sep 2009 21:58:23 +0000
Received: from tryarticle-lm.corp.yahoo.com ([209.131.62.113])
	by OMTA10.westchester.pa.mail.comcast.net with comcast
	id f9yP1c00F2SbwD53W9ySJs; Thu, 10 Sep 2009 21:58:31 +0000
Message-Id: <FFADBD11-EA42-4C91-998E-1637CAA6B885@apache.org>
From: Owen O'Malley <omalley@apache.org>
To: common-user@hadoop.apache.org
In-Reply-To: <17e273100909101044v7c8e4825sac365031b6941d4f@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed; delsp=yes
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0 (Apple Message framework v936)
Subject: Re: question on Chukwa
Date: Thu, 10 Sep 2009 14:58:22 -0700
References: <17e273100909101044v7c8e4825sac365031b6941d4f@mail.gmail.com>
X-Mailer: Apple Mail (2.936)
X-Virus-Checked: Checked by ClamAV on apache.org


On Sep 10, 2009, at 10:44 AM, Ted Yu wrote:

> I found Chukwa to be an interesting project.
>
> Can someone give a little detail on how freshly generated log files  
> are
> handled ?
>
> I have downloaded the source code. So a few filenames would help me  
> better
> understand.

Please redirect your question to chukwa-user@hadoop.apache.org.

Thanks,
    Owen

From common-user-return-17389-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Thu Sep 10 22:27:18 2009
Return-Path: <common-user-return-17389-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 71299 invoked from network); 10 Sep 2009 22:27:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 10 Sep 2009 22:27:18 -0000
Received: (qmail 8642 invoked by uid 500); 10 Sep 2009 22:27:16 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 8570 invoked by uid 500); 10 Sep 2009 22:27:15 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 8560 invoked by uid 99); 10 Sep 2009 22:27:15 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 22:27:15 +0000
X-ASF-Spam-Status: No, hits=3.4 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: 209.85.222.204 is neither permitted nor denied by domain of kpeterson@biz360.com)
Received: from [209.85.222.204] (HELO mail-pz0-f204.google.com) (209.85.222.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Thu, 10 Sep 2009 22:27:06 +0000
Received: by pzk42 with SMTP id 42so413105pzk.31
        for <common-user@hadoop.apache.org>; Thu, 10 Sep 2009 15:26:44 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.143.138.5 with SMTP id q5mr195907wfn.286.1252621603769; Thu, 
	10 Sep 2009 15:26:43 -0700 (PDT)
Date: Thu, 10 Sep 2009 15:26:43 -0700
Message-ID: <f27b3fc0909101526r4b16345fk3547bea7e1fdcc12@mail.gmail.com>
Subject: Experiences with Oozie?
From: Kevin Peterson <kpeterson@biz360.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=000e0cd51d62bb0fa3047340b1a3
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd51d62bb0fa3047340b1a3
Content-Type: text/plain; charset=ISO-8859-1

I've spent the last couple days cleaning up our current collection of shell
scripts that run our jobs, and got me wondering how much difficulty it is to
get Oozie up and running, or if there were a better (i.e. even simpler)
system out there.

Has anyone outside Yahoo used Oozie? Does it work with 0.20?

--000e0cd51d62bb0fa3047340b1a3--

From common-user-return-17390-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 11 00:31:14 2009
Return-Path: <common-user-return-17390-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 15982 invoked from network); 11 Sep 2009 00:31:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Sep 2009 00:31:14 -0000
Received: (qmail 15574 invoked by uid 500); 11 Sep 2009 00:31:11 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 15484 invoked by uid 500); 11 Sep 2009 00:31:11 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 15474 invoked by uid 99); 11 Sep 2009 00:31:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 00:31:11 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [209.85.222.204] (HELO mail-pz0-f204.google.com) (209.85.222.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 00:31:03 +0000
Received: by pzk42 with SMTP id 42so472859pzk.31
        for <common-user@hadoop.apache.org>; Thu, 10 Sep 2009 17:30:42 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.140.193.9 with SMTP id q9mr625849rvf.178.1252629042853; Thu, 
	10 Sep 2009 17:30:42 -0700 (PDT)
In-Reply-To: <bfca79780909091513m7fc60c4ah99cecfecb3d2de2f@mail.gmail.com>
References: <bfca79780909081821v6a83f165n71d7d9c0f1387f3b@mail.gmail.com>
	 <35538fbe0909081922k261b2435w542963cfecd910f7@mail.gmail.com>
	 <bfca79780909081949s710088e0h2bdbbc964ebf262b@mail.gmail.com>
	 <35538fbe0909082121m78201936g857367c986aca0f0@mail.gmail.com>
	 <bfca79780909091513m7fc60c4ah99cecfecb3d2de2f@mail.gmail.com>
Date: Thu, 10 Sep 2009 17:30:42 -0700
Message-ID: <35538fbe0909101730o73b53a5cx7c9ea1d3f05b56a7@mail.gmail.com>
Subject: Re: Using Ganglia with hadoop 0.19.0 on Amazon EC2
From: Matt Massie <matt@cloudera.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=000e0cd29a682278380473426df8
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd29a682278380473426df8
Content-Type: text/plain; charset=ISO-8859-1

Samprita-

I'm assuming at this point that you have gmond installed on all nodes in
your cluster.  Correct me if I'm assuming too much.

The next step is to configure gmond.  See the man page gmond.conf.

# man gmond.conf

In particular, you are going to need to change the udp_send_channel.  By
default, ganglia will use multicast to share metrics with other gmond in a
cluster and that won't work on ec2.

For example, let's say that you pick the gmond running on node (e.g.
ip-10-10-10-10.ec2.internal) to listen to every gmond in your cluster.  You
will need to update the gmond.conf on ip-10-10-10-10.ec2.internal to have
the following in gmond.conf...

udp_recv_channel {
           port = 8666
           family = inet4
}

.... which will tell that gmond to listen on port UDP 8666.  You then need
to tell all the other nodes on ec2 to send their metrics to
ip-10-10-10-10.ec2.internal by adding the following to their configuration
file...

udp_send_channel {
           host = ip-10-10-10-10.ec2.internal
           port = 8666
}

You will need to restart gmond for the configuration to take effect.

# /etc/init.d/gmond restart

If the configuration worked, you should be able to log into
ip-10-10-10-10.ec2.internal and receive in XML response for all nodes in
your ec2 cluster... e.g....

$ telnet localhost 8649 | grep "<HOST"

should output a list of hosts in your cluster.  Once you have a gmond
listening to the cluster, I'll help you get gmetad installed with the web
console.

-Matt




On Wed, Sep 9, 2009 at 3:13 PM, Samprita Hegde <sampritavh@gmail.com> wrote:

>   I ran a two node cluster.When I typed in the command " telnet localhost
> 8649 " I  got the following XML string :
> [root@domU-12-31-39-07-75-F4 ~]# telnet localhost 8649
> Trying 127.0.0.1...
> Connected to localhost.
> Escape character is '^]'.
> <?xml version="1.0" encoding="ISO-8859-1" standalone="yes"?>
> <!DOCTYPE GANGLIA_XML [
>   <!ELEMENT GANGLIA_XML (GRID|CLUSTER|HOST)*>
>      <!ATTLIST GANGLIA_XML VERSION CDATA #REQUIRED>
>      <!ATTLIST GANGLIA_XML SOURCE CDATA #REQUIRED>
>   <!ELEMENT GRID (CLUSTER | GRID | HOSTS | METRICS)*>
>      <!ATTLIST GRID NAME CDATA #REQUIRED>
>      <!ATTLIST GRID AUTHORITY CDATA #REQUIRED>
>      <!ATTLIST GRID LOCALTIME CDATA #IMPLIED>
>   <!ELEMENT CLUSTER (HOST | HOSTS | METRICS)*>
>      <!ATTLIST CLUSTER NAME CDATA #REQUIRED>
>      <!ATTLIST CLUSTER OWNER CDATA #IMPLIED>
>      <!ATTLIST CLUSTER LATLONG CDATA #IMPLIED>
>      <!ATTLIST CLUSTER URL CDATA #IMPLIED>
>      <!ATTLIST CLUSTER LOCALTIME CDATA #REQUIRED>
>   <!ELEMENT HOST (METRIC)*>
>      <!ATTLIST HOST NAME CDATA #REQUIRED>
>      <!ATTLIST HOST IP CDATA #REQUIRED>
>      <!ATTLIST HOST LOCATION CDATA #IMPLIED>
>      <!ATTLIST HOST REPORTED CDATA #REQUIRED>
>      <!ATTLIST HOST TN CDATA #IMPLIED>
>      <!ATTLIST HOST TMAX CDATA #IMPLIED>
>      <!ATTLIST HOST DMAX CDATA #IMPLIED>
>      <!ATTLIST HOST GMOND_STARTED CDATA #IMPLIED>
>   <!ELEMENT METRIC EMPTY>
>      <!ATTLIST METRIC NAME CDATA #REQUIRED>
>      <!ATTLIST METRIC VAL CDATA #REQUIRED>
>      <!ATTLIST METRIC TYPE (string | int8 | uint8 | int16 | uint16 | int32
> | uint32 | float | double | timestamp) #REQUIRED>
>      <!ATTLIST METRIC UNITS CDATA #IMPLIED>
>      <!ATTLIST METRIC TN CDATA #IMPLIED>
>      <!ATTLIST METRIC TMAX CDATA #IMPLIED>
>      <!ATTLIST METRIC DMAX CDATA #IMPLIED>
>      <!ATTLIST METRIC SLOPE (zero | positive | negative | both |
> unspecified) #IMPLIED>
>      <!ATTLIST METRIC SOURCE (gmond | gmetric) #REQUIRED>
>   <!ELEMENT HOSTS EMPTY>
>      <!ATTLIST HOSTS UP CDATA #REQUIRED>
>      <!ATTLIST HOSTS DOWN CDATA #REQUIRED>
>      <!ATTLIST HOSTS SOURCE (gmond | gmetric | gmetad) #REQUIRED>
>   <!ELEMENT METRICS EMPTY>
>      <!ATTLIST METRICS NAME CDATA #REQUIRED>
>      <!ATTLIST METRICS SUM CDATA #REQUIRED>
>      <!ATTLIST METRICS NUM CDATA #REQUIRED>
>      <!ATTLIST METRICS TYPE (string | int8 | uint8 | int16 | uint16 | int32
> | uint32 | float | double | timestamp) #REQUIRED>
>      <!ATTLIST METRICS UNITS CDATA #IMPLIED>
>      <!ATTLIST METRICS SLOPE (zero | positive | negative | both |
> unspecified) #IMPLIED>
>      <!ATTLIST METRICS SOURCE (gmond | gmetric) #REQUIRED>
> ]>
> <GANGLIA_XML VERSION="3.0.5" SOURCE="gmond">
> <CLUSTER NAME="unspecified" LOCALTIME="1252533906" OWNER="unspecified"
> LATLONG="unspecified" URL="unspecified">
> <HOST NAME="domU-12-31-39-07-75-F4.compute-1.internal" IP="10.209.118.6"
> REPORTED="1252533905" TN="0" TMAX="20" DMAX="0" LOCATION="unspecified"
> GMOND_STARTED="0">
> <METRIC NAME="threadsRunnable" VAL="6" TYPE="int32" UNITS="" TN="0"
> TMAX="60" DMAX="0" SLOPE="both" SOURCE="gmetric"/>
> <METRIC NAME="gcTimeMillis" VAL="207" TYPE="int32" UNITS="" TN="0"
> TMAX="60"
> DMAX="0" SLOPE="both" SOURCE="gmetric"/>
> <METRIC NAME="DeleteFileOps" VAL="0" TYPE="int32" UNITS="" TN="228"
> TMAX="60" DMAX="0" SLOPE="both" SOURCE="gmetric"/>
> <METRIC NAME="memNonHeapUsedM" VAL="11.130989" TYPE="float" UNITS="" TN="0"
> TMAX="60" DMAX="0" SLOPE="both" SOURCE="gmetric"/>
> <METRIC NAME="AddBlockOps" VAL="0" TYPE="int32" UNITS="" TN="228" TMAX="60"
> DMAX="0" SLOPE="both" SOURCE="gmetric"/>
> <METRIC NAME="CreateFileOps" VAL="0" TYPE="int32" UNITS="" TN="228"
> TMAX="60" DMAX="0" SLOPE="both" SOURCE="gmetric"/>
> <METRIC NAME="reduces_completed" VAL="0" TYPE="int32" UNITS="" TN="0"
> TMAX="60" DMAX="0" SLOPE="both" SOURCE="gmetric"/>
> <METRIC NAME="logFatal" VAL="0" TYPE="int32" UNITS="" TN="0" TMAX="60"
> DMAX="0" SLOPE="both" SOURCE="gmetric"/>
> <METRIC NAME="jobs_completed" VAL="0" TYPE="int32" UNITS="" TN="0"
> TMAX="60"
> DMAX="0" SLOPE="both" SOURCE="gmetric"/>
> <METRIC NAME="FilesCreated" VAL="4" TYPE="int32" UNITS="" TN="228"
> TMAX="60"
> DMAX="0" SLOPE="both" SOURCE="gmetric"/>
> <METRIC NAME="logError" VAL="0" TYPE="int32" UNITS="" TN="0" TMAX="60"
> DMAX="0" SLOPE="both" SOURCE="gmetric"/>
> <METRIC NAME="GetListingOps" VAL="0" TYPE="int32" UNITS="" TN="228"
> TMAX="60" DMAX="0" SLOPE="both" SOURCE="gmetric"/>
> <METRIC NAME="maps_completed" VAL="0" TYPE="int32" UNITS="" TN="0"
> TMAX="60"
> DMAX="0" SLOPE="both" SOURCE="gmetric"/>
> <METRIC NAME="logInfo" VAL="31" TYPE="int32" UNITS="" TN="0" TMAX="60"
> DMAX="0" SLOPE="both" SOURCE="gmetric"/>
> <METRIC NAME="reduces_launched" VAL="0" TYPE="int32" UNITS="" TN="0"
> TMAX="60" DMAX="0" SLOPE="both" SOURCE="gmetric"/>
> <METRIC NAME="FilesRenamed" VAL="0" TYPE="int32" UNITS="" TN="228"
> TMAX="60"
> DMAX="0" SLOPE="both" SOURCE="gmetric"/>
> <METRIC NAME="memHeapCommittedM" VAL="6.5390625" TYPE="float" UNITS=""
> TN="0" TMAX="60" DMAX="0" SLOPE="both" SOURCE="gmetric"/>
> <METRIC NAME="threadsTimedWaiting" VAL="9" TYPE="int32" UNITS="" TN="0"
> TMAX="60" DMAX="0" SLOPE="both" SOURCE="gmetric"/>
> <METRIC NAME="gcCount" VAL="32" TYPE="int32" UNITS="" TN="0" TMAX="60"
> DMAX="0" SLOPE="both" SOURCE="gmetric"/>
> <METRIC NAME="SafemodeTime" VAL="1976" TYPE="int32" UNITS="" TN="228"
> TMAX="60" DMAX="0" SLOPE="both" SOURCE="gmetric"/>
> <METRIC NAME="FilesAppended" VAL="0" TYPE="int32" UNITS="" TN="228"
> TMAX="60" DMAX="0" SLOPE="both" SOURCE="gmetric"/>
> <METRIC NAME="maps_launched" VAL="0" TYPE="int32" UNITS="" TN="0" TMAX="60"
> DMAX="0" SLOPE="both" SOURCE="gmetric"/>
> <METRIC NAME="threadsNew" VAL="0" TYPE="int32" UNITS="" TN="0" TMAX="60"
> DMAX="0" SLOPE="both" SOURCE="gmetric"/>
> <METRIC NAME="GetBlockLocations" VAL="0" TYPE="int32" UNITS="" TN="228"
> TMAX="60" DMAX="0" SLOPE="both" SOURCE="gmetric"/>
> <METRIC NAME="threadsTerminated" VAL="0" TYPE="int32" UNITS="" TN="0"
> TMAX="60" DMAX="0" SLOPE="both" SOURCE="gmetric"/>
> <METRIC NAME="logWarn" VAL="0" TYPE="int32" UNITS="" TN="0" TMAX="60"
> DMAX="0" SLOPE="both" SOURCE="gmetric"/>
> <METRIC NAME="memNonHeapCommittedM" VAL="18.25" TYPE="float" UNITS=""
> TN="0"
> TMAX="60" DMAX="0" SLOPE="both" SOURCE="gmetric"/>
> <METRIC NAME="memHeapUsedM" VAL="3.979683" TYPE="float" UNITS="" TN="0"
> TMAX="60" DMAX="0" SLOPE="both" SOURCE="gmetric"/>
> <METRIC NAME="threadsWaiting" VAL="15" TYPE="int32" UNITS="" TN="0"
> TMAX="60" DMAX="0" SLOPE="both" SOURCE="gmetric"/>
> <METRIC NAME="jobs_submitted" VAL="0" TYPE="int32" UNITS="" TN="0"
> TMAX="60"
> DMAX="0" SLOPE="both" SOURCE="gmetric"/>
> <METRIC NAME="threadsBlocked" VAL="0" TYPE="int32" UNITS="" TN="0"
> TMAX="60"
> DMAX="0" SLOPE="both" SOURCE="gmetric"/>
> </HOST>
> <HOST NAME="domU-12-31-39-07-84-A5.compute-1.internal" IP="10.209.135.83"
> REPORTED="1252533893" TN="13" TMAX="20" DMAX="0" LOCATION="unspecified"
> GMOND_STARTED="1252533892">
> </HOST>
> </CLUSTER>
> </GANGLIA_XML>
> Connection closed by foreign host.
>
> Thanks a lot! .  Can I get this information in my local machine browser ?
>
> Thanks and Regards,
> Sampritat
>
>
> On Wed, Sep 9, 2009 at 12:21 AM, Matt Massie <matt@cloudera.com> wrote:
>
> > Ganglia doesn't need to be patched to work.  The patches are for Hadoop
> if
> > you are running ganglia 3.1.x (because of a breaking change in the
> ganglia
> > message format from 3.0.x to 3.1.x).
> >
> > Since you are running fedora, you should be able to bring ganglia up by
> > using the ganglia RPMs which are available in the fedora repo.
> >
> > Try the following commands on each node in the cluster you want to
> monitor
> >
> > # yum install ganglia-gmond
> > # service gmond start
> >
> > You will need to open TCP/UDP port 8649 as well to allow ganglia
> > communication (see your iptables configuration).  You can verify that
> gmond
> > is working by connecting to TCP port 8649
> >
> > $ telnet localhost 8649
> >
> > You should see an XML description of the state of the cluster/node.  Let
> me
> > know when you are this far in the installation and I'll help you through
> > the
> > next steps.
> >
> > -Matt
> >
> >
> >
> > On Tue, Sep 8, 2009 at 7:49 PM, Samprita Hegde <sampritavh@gmail.com>
> > wrote:
> >
> > > The ami-id I am using is ami-fa6a8e93. It is a Fedora distribution for
> > > i-386
> > > .
> > > To be precise this is taken from the console output :
> > >
> > > Linux version 2.6.21.7-2.fc8xen (
> mockbuild@xenbuilder1.fedora.redhat.com
> > )
> > > (gcc version 4.1.2 20070925 (Red Hat 4.1.2-33))
> > >
> > > I was looking into the Ganglia documentation in Hadoop wiki. It says we
> > > need
> > > to install a patch inorder to get it working. I am not sure if this ami
> > has
> > > all the patched installed for ganglia.
> > >
> > > Thanks!
> > > Samprita
> > >
> > >
> > > On Tue, Sep 8, 2009 at 10:22 PM, Matt Massie <matt@cloudera.com>
> wrote:
> > >
> > > > I should be able to help you out.
> > > >
> > > > What AMI are you using?  What linux distribution?
> > > >
> > > > -Matt
> > > >
> > > > On Tue, Sep 8, 2009 at 6:21 PM, Samprita Hegde <sampritavh@gmail.com
> >
> > > > wrote:
> > > >
> > > > > Hello All,
> > > > >    I am trying to study the performance of ec2 cluster when it is
> > > running
> > > > > hadoop. But I am not able get ganglia up and running. Can someone
> > > please
> > > > > guide me as how to use/configure Ganglia to be able to run with
> > hadoop
> > > .
> > > > I
> > > > > am using an public ec2 image that has hadoop-0.19.0. I have used
> the
> > > > > ganglia
> > > > > configuration that comes with the hadoop-ec2 scripts in the
> > > > hadoop-package.
> > > > >
> > > > >
> > > > > The ganglia version  that is running is ganglia 3.0.5.
> > > > >
> > > > > Thanks and Regards,
> > > > > Samprita
> > > > >
> > > >
> > >
> >
>

--000e0cd29a682278380473426df8--

From common-user-return-17391-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 11 00:32:19 2009
Return-Path: <common-user-return-17391-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 16137 invoked from network); 11 Sep 2009 00:32:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Sep 2009 00:32:19 -0000
Received: (qmail 17458 invoked by uid 500); 11 Sep 2009 00:32:17 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 17387 invoked by uid 500); 11 Sep 2009 00:32:17 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 17377 invoked by uid 99); 11 Sep 2009 00:32:17 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 00:32:17 +0000
X-ASF-Spam-Status: No, hits=3.4 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.221.193] (HELO mail-qy0-f193.google.com) (209.85.221.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 00:32:09 +0000
Received: by qyk31 with SMTP id 31so572076qyk.29
        for <common-user@hadoop.apache.org>; Thu, 10 Sep 2009 17:31:48 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.224.123.103 with SMTP id o39mr2037152qar.93.1252629108058; 
	Thu, 10 Sep 2009 17:31:48 -0700 (PDT)
In-Reply-To: <ba72f77f0909080045g6d93b497n3f0d1e7a58e7b2fa@mail.gmail.com>
References: <430378a70909072237y7426ccafl4af58469224d0164@mail.gmail.com> 
	<ba72f77f0909080045g6d93b497n3f0d1e7a58e7b2fa@mail.gmail.com>
From: Aaron Kimball <aaron@cloudera.com>
Date: Thu, 10 Sep 2009 17:31:28 -0700
Message-ID: <d6d7c4410909101731p772b8c73ue71f226064c51ef6@mail.gmail.com>
Subject: Re: copy data (distcp) from local cluster to the EC2 cluster
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=00c09f9db0a0056cfe0473427102
X-Virus-Checked: Checked by ClamAV on apache.org

--00c09f9db0a0056cfe0473427102
Content-Type: text/plain; charset=ISO-8859-1

That's 99% correct. If you want/need to run different versions of HDFS on
the two different clusters, then you can't use hdfs:// protocol to access
both of them in the same command. In this case, use hdfs://bla/ for the
source fs and *hftp*://bla2/ for the dest fs.

- Aaron

On Tue, Sep 8, 2009 at 12:45 AM, Anthony Urso <anthony.urso@gmail.com>wrote:

> Yes, just run something along the lines of:
>
> hadoop distcp hdfs://local-namenode/path hdfs://ec2-namenode/path
>
> on the job tracker of a MapReduce cluster.
>
> Make sure that your EC2 security group setup allows HDFS access from
> the local HDFS cluster and wherever you run MapReduce job from.  Also,
> I believe both HDFS setups still need to be running on the same
> version of Hadoop.
>
> More here:
>
> http://hadoop.apache.org/common/docs/r0.20.0/distcp.html
>
> Cheers,
> Anthony
>
> On Mon, Sep 7, 2009 at 10:37 PM, stchu<stchu.cloud@gmail.com> wrote:
> > Hi,
> >
> > Does Distcp support to copy data from my local cluster (1 master+3
> slaves,
> > fs=hdfs) to the EC2 cluster (1master+2slaves, fs=hdfs)?
> > If it's supported, how can I do? I appreciate for any guide or
> suggestion.
> >
> > stchu
> >
>

--00c09f9db0a0056cfe0473427102--

From common-user-return-17392-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 11 01:31:14 2009
Return-Path: <common-user-return-17392-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 48277 invoked from network); 11 Sep 2009 01:31:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Sep 2009 01:31:14 -0000
Received: (qmail 83447 invoked by uid 500); 11 Sep 2009 01:31:11 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 83352 invoked by uid 500); 11 Sep 2009 01:31:11 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 83342 invoked by uid 99); 11 Sep 2009 01:31:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 01:31:11 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of david.ritch@gmail.com designates 209.85.221.172 as permitted sender)
Received: from [209.85.221.172] (HELO mail-qy0-f172.google.com) (209.85.221.172)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 01:31:00 +0000
Received: by qyk2 with SMTP id 2so643170qyk.21
        for <common-user@hadoop.apache.org>; Thu, 10 Sep 2009 18:30:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:message-id:date:from
         :user-agent:mime-version:to:subject:x-enigmail-version:content-type
         :content-transfer-encoding;
        bh=eMDq2Ko3QAAnNZnmeep9P7kA0lgz6VOksfsSCeSeE8o=;
        b=GPDS6zwWH2aUuCjQoBqtSCW+Te6UIbioJteRU1KEdBDMLK4IFZnZR3NHJVGEdfjtsZ
         IwWSq8ikyyFnBvlwZagUabdryUQydLIvO3rjHpAsd05hOcIrdFWhwasxx1GqrXQ8/4Ei
         chxbeEwiwV4KoK1qe+AhMsflAwX+2B9gYVWqY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:user-agent:mime-version:to:subject
         :x-enigmail-version:content-type:content-transfer-encoding;
        b=OCFv57qB3carUiAqHK+TdWT+hq270o5/oG8/rKlJnMo6P7uROeNdzCp9cIYLsMbQqB
         zpg1lSZORO2oC9nVxZ81r/w+INO9DwoinepECUZ3FZZRyLF1CxzAQdj+bRBNOAgvyUNK
         ao6YJsso+OifnknFlvd4Y0igFSLug475revIA=
Received: by 10.224.58.73 with SMTP id f9mr2060772qah.61.1252632639715;
        Thu, 10 Sep 2009 18:30:39 -0700 (PDT)
Received: from ?192.168.2.101? ([96.244.50.213])
        by mx.google.com with ESMTPS id 7sm138398qwf.27.2009.09.10.18.30.38
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Thu, 10 Sep 2009 18:30:39 -0700 (PDT)
Message-ID: <4AA9A839.2050600@gmail.com>
Date: Thu, 10 Sep 2009 21:30:33 -0400
From: "David B. Ritch" <david.ritch@gmail.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.1.1) Gecko/20090715 Thunderbird/3.0b3
MIME-Version: 1.0
To: common-user@hadoop.apache.org
Subject: Decommissioning Individual Disks
X-Enigmail-Version: 0.96a
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

What do you do with the data on a failing disk when you replace it?

Our support person comes in occasionally, and often replaces several
disks when he does.  These are disks that have not yet failed, but
firmware indicates that failure is imminent.  We need to be able to
migrate our data off these disks before replacing them.  If we were
replacing entire servers, we would decommission them - but we have 3
data disks per server.  If we were replacing one disk at a time, we
wouldn't worry about it (because of redundancy).  We can decommission
the servers, but moving all the data off of all their disks is a waste.

What's the best way to handle this?

Thanks!

David

From common-user-return-17393-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 11 01:40:14 2009
Return-Path: <common-user-return-17393-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 50346 invoked from network); 11 Sep 2009 01:40:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Sep 2009 01:40:13 -0000
Received: (qmail 89450 invoked by uid 500); 11 Sep 2009 01:40:10 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 89358 invoked by uid 500); 11 Sep 2009 01:40:10 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 89348 invoked by uid 99); 11 Sep 2009 01:40:10 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 01:40:10 +0000
X-ASF-Spam-Status: No, hits=3.4 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.223.193] (HELO mail-iw0-f193.google.com) (209.85.223.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 01:40:01 +0000
Received: by iwn31 with SMTP id 31so243110iwn.2
        for <common-user@hadoop.apache.org>; Thu, 10 Sep 2009 18:39:40 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.124.22 with SMTP id s22mr4258192ibr.33.1252633180019; Thu, 
	10 Sep 2009 18:39:40 -0700 (PDT)
In-Reply-To: <4AA9A839.2050600@gmail.com>
References: <4AA9A839.2050600@gmail.com>
Date: Thu, 10 Sep 2009 18:39:39 -0700
Message-ID: <623d9cf40909101839x2ed67754r8c58033573f278af@mail.gmail.com>
Subject: Re: Decommissioning Individual Disks
From: Alex Loddengaard <alex@cloudera.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0016e6468fa8baa1110473436371
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e6468fa8baa1110473436371
Content-Type: text/plain; charset=ISO-8859-1

Hi David,
Unfortunately there's really no way to do what you're hoping to do in an
automatic way.  You can move the block files (including their .meta files)
from one disk to another.  Do this when the datanode daemon is stopped.
 Then, when you start the datanode daemon, it will scan dfs.data.dir and be
totally happy if blocks have moved hard drives.  I've never tried to do this
myself, but others on the list have suggested this technique for "balancing
disks."

You could also change your process around a little.  It's not too crazy to
decommission an entire node, replace one of its disks, then bring it back
into the cluster.  Seems to me that this is a much saner approach: your ops
team will tell you which disk needs replacing.  You decommission the node,
they replace the disk, you add the node back to the pool.  Your call I
guess, though.

Hope this was helpful.

Alex

On Thu, Sep 10, 2009 at 6:30 PM, David B. Ritch <david.ritch@gmail.com>wrote:

> What do you do with the data on a failing disk when you replace it?
>
> Our support person comes in occasionally, and often replaces several
> disks when he does.  These are disks that have not yet failed, but
> firmware indicates that failure is imminent.  We need to be able to
> migrate our data off these disks before replacing them.  If we were
> replacing entire servers, we would decommission them - but we have 3
> data disks per server.  If we were replacing one disk at a time, we
> wouldn't worry about it (because of redundancy).  We can decommission
> the servers, but moving all the data off of all their disks is a waste.
>
> What's the best way to handle this?
>
> Thanks!
>
> David
>

--0016e6468fa8baa1110473436371--

From common-user-return-17394-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 11 02:07:58 2009
Return-Path: <common-user-return-17394-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 54816 invoked from network); 11 Sep 2009 02:07:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Sep 2009 02:07:58 -0000
Received: (qmail 4390 invoked by uid 500); 11 Sep 2009 02:07:55 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 4306 invoked by uid 500); 11 Sep 2009 02:07:55 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 4296 invoked by uid 99); 11 Sep 2009 02:07:55 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 02:07:55 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of amansk@gmail.com designates 209.85.132.247 as permitted sender)
Received: from [209.85.132.247] (HELO an-out-0708.google.com) (209.85.132.247)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 02:07:45 +0000
Received: by an-out-0708.google.com with SMTP id c38so248555ana.29
        for <common-user@hadoop.apache.org>; Thu, 10 Sep 2009 19:07:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=rs05InK3eQfgG2qqatQPtaoT5RJ1ozo2K6fG0NgBbB0=;
        b=P/jXLeA554oqsKjl+gBlnFtb9I3Mr8FNzY+c9LPZhdS1lHXIA1dMuyELAxCehH17Bs
         9jU8SLeHlreVxB+HLy2DtFph2unpHSgRMBUJP2xWMWBdXHNkVkgKQUrABGiL7YYfN7MU
         zIoX9a3VqDLP7KwT/A9m483IhEUSW4AOFh1jo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=OKdVkPtxWbrd5swPCFqCaCD7G5Tdq1SNvUx+QxLbXxiJ0aeUT4tupYv74feliXK4bV
         UfCr4+zjnUy2FzZYdVSf2R9rkp/V8wMpaJc4bEAiQKQR5sIEuXCap+o7PGT95BDrNZVa
         yJHaw6+chDBZnwfxGlWxdzzoE/5Q3vpJ4pufQ=
MIME-Version: 1.0
Received: by 10.101.83.17 with SMTP id k17mr2590900anl.55.1252634845089; Thu, 
	10 Sep 2009 19:07:25 -0700 (PDT)
In-Reply-To: <623d9cf40909101839x2ed67754r8c58033573f278af@mail.gmail.com>
References: <4AA9A839.2050600@gmail.com>
	 <623d9cf40909101839x2ed67754r8c58033573f278af@mail.gmail.com>
Date: Thu, 10 Sep 2009 19:07:24 -0700
Message-ID: <35a22e220909101907x96abbb8h430f58d11a7d5ea2@mail.gmail.com>
Subject: Re: Decommissioning Individual Disks
From: Amandeep Khurana <amansk@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

I think decommissioning the node and replacing the disk is a cleaner
approach. That's what I'd recommend doing as well..

On 9/10/09, Alex Loddengaard <alex@cloudera.com> wrote:
> Hi David,
> Unfortunately there's really no way to do what you're hoping to do in an
> automatic way.  You can move the block files (including their .meta files)
> from one disk to another.  Do this when the datanode daemon is stopped.
>  Then, when you start the datanode daemon, it will scan dfs.data.dir and be
> totally happy if blocks have moved hard drives.  I've never tried to do this
> myself, but others on the list have suggested this technique for "balancing
> disks."
>
> You could also change your process around a little.  It's not too crazy to
> decommission an entire node, replace one of its disks, then bring it back
> into the cluster.  Seems to me that this is a much saner approach: your ops
> team will tell you which disk needs replacing.  You decommission the node,
> they replace the disk, you add the node back to the pool.  Your call I
> guess, though.
>
> Hope this was helpful.
>
> Alex
>
> On Thu, Sep 10, 2009 at 6:30 PM, David B. Ritch
> <david.ritch@gmail.com>wrote:
>
>> What do you do with the data on a failing disk when you replace it?
>>
>> Our support person comes in occasionally, and often replaces several
>> disks when he does.  These are disks that have not yet failed, but
>> firmware indicates that failure is imminent.  We need to be able to
>> migrate our data off these disks before replacing them.  If we were
>> replacing entire servers, we would decommission them - but we have 3
>> data disks per server.  If we were replacing one disk at a time, we
>> wouldn't worry about it (because of redundancy).  We can decommission
>> the servers, but moving all the data off of all their disks is a waste.
>>
>> What's the best way to handle this?
>>
>> Thanks!
>>
>> David
>>
>


-- 


Amandeep Khurana
Computer Science Graduate Student
University of California, Santa Cruz

From common-user-return-17395-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 11 03:07:30 2009
Return-Path: <common-user-return-17395-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 67278 invoked from network); 11 Sep 2009 03:07:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Sep 2009 03:07:30 -0000
Received: (qmail 56069 invoked by uid 500); 11 Sep 2009 03:07:28 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 55902 invoked by uid 500); 11 Sep 2009 03:07:27 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 55892 invoked by uid 99); 11 Sep 2009 03:07:27 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 03:07:27 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of david.ritch@gmail.com designates 209.85.221.193 as permitted sender)
Received: from [209.85.221.193] (HELO mail-qy0-f193.google.com) (209.85.221.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 03:07:17 +0000
Received: by qyk31 with SMTP id 31so675283qyk.29
        for <common-user@hadoop.apache.org>; Thu, 10 Sep 2009 20:06:57 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:message-id:date:from
         :user-agent:mime-version:to:subject:references:in-reply-to
         :x-enigmail-version:content-type:content-transfer-encoding;
        bh=QRw1eQ2Ejj+F67tBoMXnWB1R6vRq1hu58fxTjGjmZb4=;
        b=cdk6VBDtVCLVKlXU8HxeRWNLSrkUGOTg8vqaKnUm4w+TjECjIln64AS8s1USxZBHEz
         1jruB2XYhv8nsH1eekXk12NLSBNQi9FUOo3LOQped0QXXx2JtInMxGcIVeZN+X+j7+6k
         +xpgeGYlDZpudmXaB+6YWxywY8EMxIs0WdWLs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:x-enigmail-version:content-type
         :content-transfer-encoding;
        b=w8OvpkMBMc4DVyE+F9TTfFjCTu/E+XP0UEKHdIo7FFdTeAZa6onsOQpzoYLkLTjs1j
         Y/HGwFxOVsWN0fTptnlyohl6y2eXj3u52IMIfHMpt+Gcu1mCHpn520vgP7H0pWTIM0SB
         71FROzuJzDH05fFxhuXifTnyVaAw+f7feTY3g=
Received: by 10.224.98.134 with SMTP id q6mr2086900qan.247.1252638416999;
        Thu, 10 Sep 2009 20:06:56 -0700 (PDT)
Received: from ?192.168.2.101? ([96.244.50.213])
        by mx.google.com with ESMTPS id 2sm909359qwi.46.2009.09.10.20.06.55
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Thu, 10 Sep 2009 20:06:56 -0700 (PDT)
Message-ID: <4AA9BEC9.3000602@gmail.com>
Date: Thu, 10 Sep 2009 23:06:49 -0400
From: "David B. Ritch" <david.ritch@gmail.com>
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.1.1) Gecko/20090715 Thunderbird/3.0b3
MIME-Version: 1.0
To: common-user@hadoop.apache.org
Subject: Re: Decommissioning Individual Disks
References: <4AA9A839.2050600@gmail.com>	 <623d9cf40909101839x2ed67754r8c58033573f278af@mail.gmail.com> <35a22e220909101907x96abbb8h430f58d11a7d5ea2@mail.gmail.com>
In-Reply-To: <35a22e220909101907x96abbb8h430f58d11a7d5ea2@mail.gmail.com>
X-Enigmail-Version: 0.96a
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Thank you both.  That's what we did today.  It seems fairly reasonable
when a node has a few disks, say 3-5.  However, at some sites, with
larger nodes, it seems more awkward.  When a node has a dozen or more
disks (as used in the larger terasort benchmarks), migrating the data
off all the disks is likely to be more of an issue.  I hope that there
is a better solution to this before my client moves to much larger
nodes!  ;-)

dbr

On 9/10/2009 10:07 PM, Amandeep Khurana wrote:
> I think decommissioning the node and replacing the disk is a cleaner
> approach. That's what I'd recommend doing as well..
>
> On 9/10/09, Alex Loddengaard <alex@cloudera.com> wrote:
>   
>> Hi David,
>> Unfortunately there's really no way to do what you're hoping to do in an
>> automatic way.  You can move the block files (including their .meta files)
>> from one disk to another.  Do this when the datanode daemon is stopped.
>>  Then, when you start the datanode daemon, it will scan dfs.data.dir and be
>> totally happy if blocks have moved hard drives.  I've never tried to do this
>> myself, but others on the list have suggested this technique for "balancing
>> disks."
>>
>> You could also change your process around a little.  It's not too crazy to
>> decommission an entire node, replace one of its disks, then bring it back
>> into the cluster.  Seems to me that this is a much saner approach: your ops
>> team will tell you which disk needs replacing.  You decommission the node,
>> they replace the disk, you add the node back to the pool.  Your call I
>> guess, though.
>>
>> Hope this was helpful.
>>
>> Alex
>>
>> On Thu, Sep 10, 2009 at 6:30 PM, David B. Ritch
>> <david.ritch@gmail.com>wrote:
>>
>>     
>>> What do you do with the data on a failing disk when you replace it?
>>>
>>> Our support person comes in occasionally, and often replaces several
>>> disks when he does.  These are disks that have not yet failed, but
>>> firmware indicates that failure is imminent.  We need to be able to
>>> migrate our data off these disks before replacing them.  If we were
>>> replacing entire servers, we would decommission them - but we have 3
>>> data disks per server.  If we were replacing one disk at a time, we
>>> wouldn't worry about it (because of redundancy).  We can decommission
>>> the servers, but moving all the data off of all their disks is a waste.
>>>
>>> What's the best way to handle this?
>>>
>>> Thanks!
>>>
>>> David
>>>
>>>       
>>     
>
>   


From common-user-return-17396-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 11 03:12:24 2009
Return-Path: <common-user-return-17396-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 68625 invoked from network); 11 Sep 2009 03:12:24 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Sep 2009 03:12:24 -0000
Received: (qmail 60503 invoked by uid 500); 11 Sep 2009 03:12:22 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 60287 invoked by uid 500); 11 Sep 2009 03:12:21 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 60267 invoked by uid 99); 11 Sep 2009 03:12:21 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 03:12:21 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ted.dunning@gmail.com designates 209.85.210.204 as permitted sender)
Received: from [209.85.210.204] (HELO mail-yx0-f204.google.com) (209.85.210.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 03:12:12 +0000
Received: by yxe42 with SMTP id 42so973862yxe.31
        for <common-user@hadoop.apache.org>; Thu, 10 Sep 2009 20:11:51 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=pF8QPdvnQkePuCfSdWySzRflwcPI1EIF7m/EUqJC7Kk=;
        b=aMQqRiFDjrVNijJmvXQ7pksvCJiIyuX4flJ5ELjNa95dfcM+yAtxoQsZuCjEk8ZuDA
         y7tuSCLeP6FgQBf4018JmR0Zv0a/MSNZL3ZXTY4m7Fs3UnXDobfiU7cTzhDkbfQv0DAG
         vPEmTIj8cP0WfEaaHP7LG2Fk8Ma/wMmowUISk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=Q5DE3i2a+ZobLe+BbwyTho03H337Y9KlmPZ6wBlLbAUerCljWsdG3yMDvNgC8tuI/Z
         Us0Qb7wDFiphheV6u0jziVtoLCTSLSZsPqthB1ldL+ckGcZL5cvwZhMHwdbijGmDMj77
         2Rm6yy+kJDB8KrP+H4tBJNJrI9ELX9PBPyQuw=
MIME-Version: 1.0
Received: by 10.150.129.27 with SMTP id b27mr4064859ybd.29.1252638711084; Thu, 
	10 Sep 2009 20:11:51 -0700 (PDT)
In-Reply-To: <4AA9BEC9.3000602@gmail.com>
References: <4AA9A839.2050600@gmail.com> <623d9cf40909101839x2ed67754r8c58033573f278af@mail.gmail.com> 
	<35a22e220909101907x96abbb8h430f58d11a7d5ea2@mail.gmail.com> 
	<4AA9BEC9.3000602@gmail.com>
From: Ted Dunning <ted.dunning@gmail.com>
Date: Thu, 10 Sep 2009 20:11:31 -0700
Message-ID: <c7d45fc70909102011v72d80c4el86ce5b348a74e84@mail.gmail.com>
Subject: Re: Decommissioning Individual Disks
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=000e0cd5f7ee67f997047344ad48
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd5f7ee67f997047344ad48
Content-Type: text/plain; charset=UTF-8

I would recommend taking the node down without decommissioning, replacing
the disk, then bringing the node back up.  After 10-20 minutes the name node
will figure things out and start replicating the missing blocks.
Rebalancing would be a good idea to fill the new disk.  You could even do
this with two nodes at a time, but I don't recommend that.

As soon as dfs shows no under replicated blocks, you can do the next disk.
It could take some time for that to happen.

On Thu, Sep 10, 2009 at 8:06 PM, David B. Ritch <david.ritch@gmail.com>wrote:

> Thank you both.  That's what we did today.  It seems fairly reasonable
> when a node has a few disks, say 3-5.  However, at some sites, with
> larger nodes, it seems more awkward.  When a node has a dozen or more
> disks (as used in the larger terasort benchmarks), migrating the data
> off all the disks is likely to be more of an issue.  I hope that there
> is a better solution to this before my client moves to much larger
> nodes!  ;-)
>
> dbr
>
> On 9/10/2009 10:07 PM, Amandeep Khurana wrote:
> > I think decommissioning the node and replacing the disk is a cleaner
> > approach. That's what I'd recommend doing as well..
> >
> > On 9/10/09, Alex Loddengaard <alex@cloudera.com> wrote:
> >
> >> Hi David,
> >> Unfortunately there's really no way to do what you're hoping to do in an
> >> automatic way.  You can move the block files (including their .meta
> files)
> >> from one disk to another.  Do this when the datanode daemon is stopped.
> >>  Then, when you start the datanode daemon, it will scan dfs.data.dir and
> be
> >> totally happy if blocks have moved hard drives.  I've never tried to do
> this
> >> myself, but others on the list have suggested this technique for
> "balancing
> >> disks."
> >>
> >> You could also change your process around a little.  It's not too crazy
> to
> >> decommission an entire node, replace one of its disks, then bring it
> back
> >> into the cluster.  Seems to me that this is a much saner approach: your
> ops
> >> team will tell you which disk needs replacing.  You decommission the
> node,
> >> they replace the disk, you add the node back to the pool.  Your call I
> >> guess, though.
> >>
> >> Hope this was helpful.
> >>
> >> Alex
> >>
> >> On Thu, Sep 10, 2009 at 6:30 PM, David B. Ritch
> >> <david.ritch@gmail.com>wrote:
> >>
> >>
> >>> What do you do with the data on a failing disk when you replace it?
> >>>
> >>> Our support person comes in occasionally, and often replaces several
> >>> disks when he does.  These are disks that have not yet failed, but
> >>> firmware indicates that failure is imminent.  We need to be able to
> >>> migrate our data off these disks before replacing them.  If we were
> >>> replacing entire servers, we would decommission them - but we have 3
> >>> data disks per server.  If we were replacing one disk at a time, we
> >>> wouldn't worry about it (because of redundancy).  We can decommission
> >>> the servers, but moving all the data off of all their disks is a waste.
> >>>
> >>> What's the best way to handle this?
> >>>
> >>> Thanks!
> >>>
> >>> David
> >>>
> >>>
> >>
> >
> >
>
>


-- 
Ted Dunning, CTO
DeepDyve

--000e0cd5f7ee67f997047344ad48--

From common-user-return-17397-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 11 03:17:04 2009
Return-Path: <common-user-return-17397-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 69173 invoked from network); 11 Sep 2009 03:17:04 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Sep 2009 03:17:04 -0000
Received: (qmail 64434 invoked by uid 500); 11 Sep 2009 03:17:01 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 64268 invoked by uid 500); 11 Sep 2009 03:17:01 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 64258 invoked by uid 99); 11 Sep 2009 03:17:00 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 03:17:00 +0000
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_HELO_PASS,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [64.81.36.244] (HELO foobar.kobold.org) (64.81.36.244)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 03:16:52 +0000
Received: from owl.kobold.org (owl.kobold.org [192.168.1.7])
	(authenticated bits=0)
	by foobar.kobold.org (8.14.1/8.14.1) with ESMTP id n8B2j4aM023164
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <common-user@hadoop.apache.org>; Thu, 10 Sep 2009 19:45:05 -0700
Message-ID: <4AA9C10E.60908@hep.caltech.edu>
Date: Thu, 10 Sep 2009 20:16:30 -0700
From: Michael Thomas <thomas@hep.caltech.edu>
User-Agent: Thunderbird 2.0.0.21 (X11/20090320)
MIME-Version: 1.0
To: common-user@hadoop.apache.org
Subject: Re: Decommissioning Individual Disks
References: <4AA9A839.2050600@gmail.com> <623d9cf40909101839x2ed67754r8c58033573f278af@mail.gmail.com> 	<35a22e220909101907x96abbb8h430f58d11a7d5ea2@mail.gmail.com> 	<4AA9BEC9.3000602@gmail.com> <c7d45fc70909102011v72d80c4el86ce5b348a74e84@mail.gmail.com>
In-Reply-To: <c7d45fc70909102011v72d80c4el86ce5b348a74e84@mail.gmail.com>
X-Enigmail-Version: 0.95.2
Content-Type: multipart/signed; protocol="application/x-pkcs7-signature"; micalg=sha1; boundary="------------ms080306000301070805030603"
X-Virus-Checked: Checked by ClamAV on apache.org

--------------ms080306000301070805030603
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 7bit

What would happen if you did this without taking the node down?  For
example, if you have hot-swappable drives in the node(s)?  Will the
running datanode process pick up the fact that an entire partition goes
missing and reappears empty a few minutes later?

Or would it be better to at least shut off the datanode process in this
scenerio?

--Mike

Ted Dunning wrote:
> I would recommend taking the node down without decommissioning, replacing
> the disk, then bringing the node back up.  After 10-20 minutes the name node
> will figure things out and start replicating the missing blocks.
> Rebalancing would be a good idea to fill the new disk.  You could even do
> this with two nodes at a time, but I don't recommend that.
> 
> As soon as dfs shows no under replicated blocks, you can do the next disk.
> It could take some time for that to happen.
> 
> On Thu, Sep 10, 2009 at 8:06 PM, David B. Ritch <david.ritch@gmail.com>wrote:
> 
>> Thank you both.  That's what we did today.  It seems fairly reasonable
>> when a node has a few disks, say 3-5.  However, at some sites, with
>> larger nodes, it seems more awkward.  When a node has a dozen or more
>> disks (as used in the larger terasort benchmarks), migrating the data
>> off all the disks is likely to be more of an issue.  I hope that there
>> is a better solution to this before my client moves to much larger
>> nodes!  ;-)
>>
>> dbr
>>
>> On 9/10/2009 10:07 PM, Amandeep Khurana wrote:
>>> I think decommissioning the node and replacing the disk is a cleaner
>>> approach. That's what I'd recommend doing as well..
>>>
>>> On 9/10/09, Alex Loddengaard <alex@cloudera.com> wrote:
>>>
>>>> Hi David,
>>>> Unfortunately there's really no way to do what you're hoping to do in an
>>>> automatic way.  You can move the block files (including their .meta
>> files)
>>>> from one disk to another.  Do this when the datanode daemon is stopped.
>>>>  Then, when you start the datanode daemon, it will scan dfs.data.dir and
>> be
>>>> totally happy if blocks have moved hard drives.  I've never tried to do
>> this
>>>> myself, but others on the list have suggested this technique for
>> "balancing
>>>> disks."
>>>>
>>>> You could also change your process around a little.  It's not too crazy
>> to
>>>> decommission an entire node, replace one of its disks, then bring it
>> back
>>>> into the cluster.  Seems to me that this is a much saner approach: your
>> ops
>>>> team will tell you which disk needs replacing.  You decommission the
>> node,
>>>> they replace the disk, you add the node back to the pool.  Your call I
>>>> guess, though.
>>>>
>>>> Hope this was helpful.
>>>>
>>>> Alex
>>>>
>>>> On Thu, Sep 10, 2009 at 6:30 PM, David B. Ritch
>>>> <david.ritch@gmail.com>wrote:
>>>>
>>>>
>>>>> What do you do with the data on a failing disk when you replace it?
>>>>>
>>>>> Our support person comes in occasionally, and often replaces several
>>>>> disks when he does.  These are disks that have not yet failed, but
>>>>> firmware indicates that failure is imminent.  We need to be able to
>>>>> migrate our data off these disks before replacing them.  If we were
>>>>> replacing entire servers, we would decommission them - but we have 3
>>>>> data disks per server.  If we were replacing one disk at a time, we
>>>>> wouldn't worry about it (because of redundancy).  We can decommission
>>>>> the servers, but moving all the data off of all their disks is a waste.
>>>>>
>>>>> What's the best way to handle this?
>>>>>
>>>>> Thanks!
>>>>>
>>>>> David
>>>>>
>>>>>
>>>
>>
> 
> 


--------------ms080306000301070805030603
Content-Type: application/x-pkcs7-signature; name="smime.p7s"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="smime.p7s"
Content-Description: S/MIME Cryptographic Signature

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIMEDCC
A/gwggLgoAMCAQICASkwDQYJKoZIhvcNAQEFBQAwdTETMBEGCgmSJomT8ixkARkWA25ldDES
MBAGCgmSJomT8ixkARkWAkVTMQ4wDAYDVQQKEwVFU25ldDEgMB4GA1UECxMXQ2VydGlmaWNh
dGUgQXV0aG9yaXRpZXMxGDAWBgNVBAMTD0VTbmV0IFJvb3QgQ0EgMTAeFw0wMjEyMDUwODAw
MDBaFw0xMzAxMjUwODAwMDBaMGkxEzARBgoJkiaJk/IsZAEZFgNvcmcxGDAWBgoJkiaJk/Is
ZAEZFghET0VHcmlkczEgMB4GA1UECxMXQ2VydGlmaWNhdGUgQXV0aG9yaXRpZXMxFjAUBgNV
BAMTDURPRUdyaWRzIENBIDEwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC09dYj
YaPbCD5mtbiQb7Ka3y1qAm0ZcqKCFciWcfe8Kwcuy9tjHuIsLf9ZItdkDW4xy8sua9nJlx3K
lwjtumTMtOtg35KZCknUd8KM4VGTSFdLVG9AbNayef76caVCGM1+jyF0Lq03kauGOPTcNfZe
1TZa3e1c9rc8ljV5OSWa/mfsCACyS5zFIWu0yIDNyJdf+n0hwaPN53wllpJ30taD+JBjQ7h2
k4xRWzeaznLOb9OztZVRA/1sVze+iczFh2xwa4VdGy0eIIPw1pfvYwxO36rm0S109qvbsNla
roPRbxerPKakQLpKe034Xcx7gBPqUk/FxoRRWin5EWN3rz9LAgMBAAGjgZ4wgZswDgYDVR0P
AQH/BAQDAgGGMBEGCWCGSAGG+EIBAQQEAwIAhzAdBgNVHQ4EFgQUyhkdEo5upDhdQtQxDgjb
2Y0XDV0wHwYDVR0jBBgwFoAUvF1NSC/4NZRZq1yJSz7RsjoUAeowDwYDVR0TAQH/BAUwAwEB
/zAlBgNVHREEHjAcgRpET0VHcmlkcy1DQS0xQGRvZWdyaWRzLm9yZzANBgkqhkiG9w0BAQUF
AAOCAQEAZNVrIDLqe39CEOiJt7Q7EpBPhAihMvDTSf/42u0SMbUmChww4mLmph5DBghZUVF8
Yn59kRZMn1QLOtO1HzLqvAvPITacZVPlJgG2IXzlR636YghZFAycbIUEOJDBHR4vtQO1KDxg
ZwvAbtmKIoxvhUCq2xsfFt9kCBBn+JYtQ6O5LsBJq3PmuubeMcc7mbQAfJZ7h/3QghgkFIhm
E1+LBXPJbkuP8vgfg6h2BKoAf5TFfZECgGZKimfN110tBvfedGZwYYd3/GsJc83B0JN1gny0
gqNVPm392UchXGeBRrHnm2gkhIkr48Oq6EmNGV9/a6XfbplQW/JWbtPVPWkaizCCBAYwggLu
oAMCAQICAnbUMA0GCSqGSIb3DQEBBQUAMGkxEzARBgoJkiaJk/IsZAEZFgNvcmcxGDAWBgoJ
kiaJk/IsZAEZFghET0VHcmlkczEgMB4GA1UECxMXQ2VydGlmaWNhdGUgQXV0aG9yaXRpZXMx
FjAUBgNVBAMTDURPRUdyaWRzIENBIDEwHhcNMDkwMjAzMDUzMzA3WhcNMTAwMjAzMDUzMzA3
WjBgMRMwEQYKCZImiZPyLGQBGRYDb3JnMRgwFgYKCZImiZPyLGQBGRYIZG9lZ3JpZHMxDzAN
BgNVBAsTBlBlb3BsZTEeMBwGA1UEAxMVTWljaGFlbCBUaG9tYXMgNzI1Mzc0MIIBIjANBgkq
hkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA3am27G7W/7Zw5ec/CirtaeSb7yy28gLko9rjSnll
X1B9Yp3ecWlTVME6muVRtAelEnRtxkpFYM04spxwR0YL/0F8WwAOMAthwqIR4p5AA3PzdexY
3WNDvgk/+Z8FWON21NX2N+VMf/okhgR6UVvqhtf/hNcMWywbPpzwSWnSlXZatTpO/m35hlrY
c3spPDz3u7StAd0aZuFZvIX4y+bHtmQ5efcvariWfs3NWC6o5AXNY0AxkrGNnowh/q4iAi7j
kUK8W8/1w9ytZhkNgk/bXi090Yktku/CwWHoNTT+5lJ//2VH8EZVVzjBI0aLXwzeJu/Pdcps
wjNZBZN9OxYFvQIDAQABo4HAMIG9MBEGCWCGSAGG+EIBAQQEAwIF4DAOBgNVHQ8BAf8EBAMC
BPAwGAYDVR0gBBEwDzANBgsqhkiG90wDBwECCjA6BgNVHR8EMzAxMC+gLaArhilodHRwOi8v
cGtpMS5kb2Vncmlkcy5vcmcvQ1JMLzFjM2YyY2E4LmNybDAhBgNVHREEGjAYgRZ0aG9tYXNA
aGVwLmNhbHRlY2guZWR1MB8GA1UdIwQYMBaAFMoZHRKObqQ4XULUMQ4I29mNFw1dMA0GCSqG
SIb3DQEBBQUAA4IBAQCn6RiomxqyDr4lWvxWHtJgmn4B9eEVwlciFI3wkNzS+fRbhUS2W9sa
u7BDeYWAnjDdBR/H2P5HDmtGyQ3FUEgIauPeltQgPZ0OvvjHaAmzqyaVJVCpiCXr9aXOMEil
9AcTZuLbgv8OcnBfZizEhpjO7dFmsv4bovDxx/9UK6WRCPEZRXXctRvo4EtbwmloYh3MGtpQ
tSztL1VlbEhwczG8JXVEz2OUKiC8An9o5av+zTu9i+6lkXaqOLWun6y/weEXTvA+PvZEwBl4
jtXC/aiuWcQGp68VNhQQh1s7drRE+6StvqPWZolWPVRuhMOCDnRJJrB45rD6udgq2BjRpV4D
MIIEBjCCAu6gAwIBAgICdtQwDQYJKoZIhvcNAQEFBQAwaTETMBEGCgmSJomT8ixkARkWA29y
ZzEYMBYGCgmSJomT8ixkARkWCERPRUdyaWRzMSAwHgYDVQQLExdDZXJ0aWZpY2F0ZSBBdXRo
b3JpdGllczEWMBQGA1UEAxMNRE9FR3JpZHMgQ0EgMTAeFw0wOTAyMDMwNTMzMDdaFw0xMDAy
MDMwNTMzMDdaMGAxEzARBgoJkiaJk/IsZAEZFgNvcmcxGDAWBgoJkiaJk/IsZAEZFghkb2Vn
cmlkczEPMA0GA1UECxMGUGVvcGxlMR4wHAYDVQQDExVNaWNoYWVsIFRob21hcyA3MjUzNzQw
ggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDdqbbsbtb/tnDl5z8KKu1p5JvvLLby
AuSj2uNKeWVfUH1ind5xaVNUwTqa5VG0B6USdG3GSkVgzTiynHBHRgv/QXxbAA4wC2HCohHi
nkADc/N17FjdY0O+CT/5nwVY43bU1fY35Ux/+iSGBHpRW+qG1/+E1wxbLBs+nPBJadKVdlq1
Ok7+bfmGWthzeyk8PPe7tK0B3Rpm4Vm8hfjL5se2ZDl59y9quJZ+zc1YLqjkBc1jQDGSsY2e
jCH+riICLuORQrxbz/XD3K1mGQ2CT9teLT3RiS2S78LBYeg1NP7mUn//ZUfwRlVXOMEjRotf
DN4m7891ymzCM1kFk307FgW9AgMBAAGjgcAwgb0wEQYJYIZIAYb4QgEBBAQDAgXgMA4GA1Ud
DwEB/wQEAwIE8DAYBgNVHSAEETAPMA0GCyqGSIb3TAMHAQIKMDoGA1UdHwQzMDEwL6AtoCuG
KWh0dHA6Ly9wa2kxLmRvZWdyaWRzLm9yZy9DUkwvMWMzZjJjYTguY3JsMCEGA1UdEQQaMBiB
FnRob21hc0BoZXAuY2FsdGVjaC5lZHUwHwYDVR0jBBgwFoAUyhkdEo5upDhdQtQxDgjb2Y0X
DV0wDQYJKoZIhvcNAQEFBQADggEBAKfpGKibGrIOviVa/FYe0mCafgH14RXCVyIUjfCQ3NL5
9FuFRLZb2xq7sEN5hYCeMN0FH8fY/kcOa0bJDcVQSAhq496W1CA9nQ6++MdoCbOrJpUlUKmI
Jev1pc4wSKX0BxNm4tuC/w5ycF9mLMSGmM7t0Way/hui8PHH/1QrpZEI8RlFddy1G+jgS1vC
aWhiHcwa2lC1LO0vVWVsSHBzMbwldUTPY5QqILwCf2jlq/7NO72L7qWRdqo4ta6frL/B4RdO
8D4+9kTAGXiO1cL9qK5ZxAanrxU2FBCHWzt2tET7pK2+o9ZmiVY9VG6Ew4IOdEkmsHjmsPq5
2CrYGNGlXgMxggNbMIIDVwIBATBvMGkxEzARBgoJkiaJk/IsZAEZFgNvcmcxGDAWBgoJkiaJ
k/IsZAEZFghET0VHcmlkczEgMB4GA1UECxMXQ2VydGlmaWNhdGUgQXV0aG9yaXRpZXMxFjAU
BgNVBAMTDURPRUdyaWRzIENBIDECAnbUMAkGBSsOAwIaBQCgggHBMBgGCSqGSIb3DQEJAzEL
BgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTA5MDkxMTAzMTYzMFowIwYJKoZIhvcNAQkE
MRYEFLPfEO/NYw5DtSZ9BM8LI+Q72g8FMF8GCSqGSIb3DQEJDzFSMFAwCwYJYIZIAWUDBAEC
MAoGCCqGSIb3DQMHMA4GCCqGSIb3DQMCAgIAgDANBggqhkiG9w0DAgIBQDAHBgUrDgMCBzAN
BggqhkiG9w0DAgIBKDB+BgkrBgEEAYI3EAQxcTBvMGkxEzARBgoJkiaJk/IsZAEZFgNvcmcx
GDAWBgoJkiaJk/IsZAEZFghET0VHcmlkczEgMB4GA1UECxMXQ2VydGlmaWNhdGUgQXV0aG9y
aXRpZXMxFjAUBgNVBAMTDURPRUdyaWRzIENBIDECAnbUMIGABgsqhkiG9w0BCRACCzFxoG8w
aTETMBEGCgmSJomT8ixkARkWA29yZzEYMBYGCgmSJomT8ixkARkWCERPRUdyaWRzMSAwHgYD
VQQLExdDZXJ0aWZpY2F0ZSBBdXRob3JpdGllczEWMBQGA1UEAxMNRE9FR3JpZHMgQ0EgMQIC
dtQwDQYJKoZIhvcNAQEBBQAEggEAZdOB8DLmcD2MHgXX65UNr9nrMtKPuSqirfRL7jMIBKrM
z2HVKgIhbJjZaQRCQ5jrpE03tsyLu4D7WCN6WPPswXOSgoNXQXpwedHnwDodg80bJWJwWojb
23yP7fSsL0fSOCNWMDNTjFlfEIKQtzmt0rAH3cayrsOXFvuWDm5mDoxntff6jEfE4oDm3iYN
s3XEC3CYBTwNkDIdqLtMRsCdYKZQyk4ZhBcxduooqecl5sxwJnnQriwymHoXUWTLrWO2e6/N
ejA1Z526lsP/5uyawTOOCMwlLhAC+TSWEyzDTn1O9FVWJwnc4aaRumPKOyeiJ/HZj61MeBF7
5bokn9etIAAAAAAAAA==
--------------ms080306000301070805030603--

From common-user-return-17398-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 11 03:38:06 2009
Return-Path: <common-user-return-17398-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 75353 invoked from network); 11 Sep 2009 03:38:06 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Sep 2009 03:38:06 -0000
Received: (qmail 88441 invoked by uid 500); 11 Sep 2009 03:38:04 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 88336 invoked by uid 500); 11 Sep 2009 03:38:03 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 88326 invoked by uid 99); 11 Sep 2009 03:38:02 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 03:38:02 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of ted.dunning@gmail.com designates 209.85.210.204 as permitted sender)
Received: from [209.85.210.204] (HELO mail-yx0-f204.google.com) (209.85.210.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 03:37:54 +0000
Received: by yxe42 with SMTP id 42so993116yxe.31
        for <common-user@hadoop.apache.org>; Thu, 10 Sep 2009 20:37:33 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=eQL75W5OgLRd0fNkbmO6YKkMK/zDaB+MRi61OFoxeOY=;
        b=ZUHIasEsZNwqm7u4yrjcQIRswao+VrhL/gDbtV75hxHY7Y79COWGRCzl2yW9QFc1t4
         i8RS3b1iimyHQFKHbSUfXP1cbkECiEkkPETlvzvi8wKjzyM/0vGM2TM9Peuziq/29bX9
         O6XhZVjU6CJ4mqimKra/GcVNaxiGY5pJvwnlk=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=I4EjsiKLznnHM+xsHH/gKoN9YVFLZnwmnAsaPGZ2zuZcZTW57KFWNTImgDejTUuvX3
         80UAUz61tGFU9rBlzIPe/wADePC9zrxUXtK+0SNFPlQ8DuxlM0idJDUR7jBgFebbUxFm
         OiCeq8J9wawFu1SJmxuULNCF1g0ITClKDoWkI=
MIME-Version: 1.0
Received: by 10.150.236.18 with SMTP id j18mr4042987ybh.110.1252640253573; 
	Thu, 10 Sep 2009 20:37:33 -0700 (PDT)
In-Reply-To: <4AA9C10E.60908@hep.caltech.edu>
References: <4AA9A839.2050600@gmail.com> <623d9cf40909101839x2ed67754r8c58033573f278af@mail.gmail.com> 
	<35a22e220909101907x96abbb8h430f58d11a7d5ea2@mail.gmail.com> 
	<4AA9BEC9.3000602@gmail.com> <c7d45fc70909102011v72d80c4el86ce5b348a74e84@mail.gmail.com> 
	<4AA9C10E.60908@hep.caltech.edu>
From: Ted Dunning <ted.dunning@gmail.com>
Date: Thu, 10 Sep 2009 20:37:11 -0700
Message-ID: <c7d45fc70909102037kd22f5dfydeeb46a20b449de8@mail.gmail.com>
Subject: Re: Decommissioning Individual Disks
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=000e0cd2d92e5896fa0473450972
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd2d92e5896fa0473450972
Content-Type: text/plain; charset=UTF-8

I think that would be a bit too rude.  The datanode scans the data partition
when it comes up.  Better to give it the benefit of a bounce so that it can
inform the name node of the new state of affairs.

On Thu, Sep 10, 2009 at 8:16 PM, Michael Thomas <thomas@hep.caltech.edu>wrote:

> Will the
> running datanode process pick up the fact that an entire partition goes
> missing and reappears empty a few minutes later?
>
> Or would it be better to at least shut off the datanode process in this
> scenerio?
>



-- 
Ted Dunning, CTO
DeepDyve

--000e0cd2d92e5896fa0473450972--

From common-user-return-17399-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 11 04:36:09 2009
Return-Path: <common-user-return-17399-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 96568 invoked from network); 11 Sep 2009 04:36:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Sep 2009 04:36:09 -0000
Received: (qmail 39148 invoked by uid 500); 11 Sep 2009 04:36:06 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 39075 invoked by uid 500); 11 Sep 2009 04:36:06 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 39065 invoked by uid 99); 11 Sep 2009 04:36:06 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 04:36:06 +0000
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [203.99.254.144] (HELO rsmtp2.corp.hki.yahoo.com) (203.99.254.144)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 04:35:54 +0000
Received: from [10.66.96.90] (bagfirmsat-dx.eglbp.corp.yahoo.com [10.66.96.90])
	by rsmtp2.corp.hki.yahoo.com (8.13.8/8.13.8/y.rout) with ESMTP id n8B4ZQC4013607
	for <common-user@hadoop.apache.org>; Thu, 10 Sep 2009 21:35:26 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; s=serpent; d=yahoo-inc.com; c=nofws; q=dns;
	h=message-id:date:from:reply-to:organization:user-agent:
	mime-version:to:subject:references:in-reply-to:content-type:content-transfer-encoding;
	b=dvZgJiD87YdPKx8T5i+EoMdxGVnIIJQjXhF7KF0+LM9o32wGjr8aIXMtYKJdF5Wc
Message-ID: <4AA9D38D.8080208@yahoo-inc.com>
Date: Fri, 11 Sep 2009 10:05:25 +0530
From: Amar Kamat <amarrk@yahoo-inc.com>
Reply-To: amarrk@yahoo-inc.com
Organization: Yahoo!
User-Agent: Thunderbird 2.0.0.22 (X11/20090608)
MIME-Version: 1.0
To: "common-user@hadoop.apache.org" <common-user@hadoop.apache.org>
Subject: Re: duplicate START_TIME, FINISH_TIME timestamps in history log
References: <bec373e0909101009i48143466iad9d2fcd4897a856@mail.gmail.com>
In-Reply-To: <bec373e0909101009i48143466iad9d2fcd4897a856@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Vasilis Liaskovitis wrote:
> Hi,
>
> I am getting different values for START_TIME, FINISH_TIME regarding
> the exact same task when looking at the history log of a sorter job.
>  E.g greping for a particular reduce task in the history log:
>
> masternode:/home/hadoop-git # grep -r
> "task_200909031613_0002_r_000002"
> /home/vliaskov/hadoop-git/logs/history/doomhead.amd.com_1252012387435_job_200909031613_0002_root_sorter
>
> Task TASKID="task_200909031613_0002_r_000002" TASK_TYPE="REDUCE"
> START_TIME="1252014285633" SPLITS="" .
>   
this is line#1
> ReduceAttempt TASK_TYPE="REDUCE"
> TASKID="task_200909031613_0002_r_000002"
> TASK_ATTEMPT_ID="attempt_200909031613_0002_r_000002_0"
> START_TIME="1252012959359"
> TRACKER_NAME="tracker_compute-5\.doomcluster\.amd\.com:localhost/127\.0\.0\.1:37388"
> HTTP_PORT="50060" .
>   
The start time is the tip start time (time when the task is scheduled at 
JobTracker)
this is line#2
> ReduceAttempt TASK_TYPE="REDUCE"
> TASKID="task_200909031613_0002_r_000002"
> TASK_ATTEMPT_ID="attempt_200909031613_0002_r_000002_0"
> TASK_STATUS="SUCCESS" SHUFFLE_FINISHED="1252014856244"
> SORT_FINISHED="1252014856723" FINISH_TIME="1252015219858"
>   
The start time here is the attempt start time which is the time when the 
attempt started at the tracker.
this is line#3
> Task TASKID="task_200909031613_0002_r_000002" TASK_TYPE="REDUCE"
> TASK_STATUS="SUCCESS" FINISH_TIME="1252016563501" ...
>   
This is line#4
Amar
> From the above you can see that e.g. START_TIME is reported twice and
> is different.
> START_TIME= 1252014285633
> START_TIME= 1252012959359
>
> Same goes for FINISH_TIME and possibly other timestamped events. Does
> the history log gather messages from several tasktrackers and from the
> jobtracker regarding one particular task? That might explain the log.
>
> Could this be a problem because the cluster nodes are not synchronized
> to a master node using e.g. NTP?
> On that note, do people use ntpd and ntpq/ntpc to synchronize their
> slave/tasktracker nodes' clocks to their master/jobtracker node clock?
>
> thanks for any help,
>
> - Vasilis
>   


From common-user-return-17400-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 11 06:11:58 2009
Return-Path: <common-user-return-17400-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 19190 invoked from network); 11 Sep 2009 06:11:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Sep 2009 06:11:58 -0000
Received: (qmail 94325 invoked by uid 500); 11 Sep 2009 06:11:56 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 94230 invoked by uid 500); 11 Sep 2009 06:11:56 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 94220 invoked by uid 500); 11 Sep 2009 06:11:56 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 94217 invoked by uid 99); 11 Sep 2009 06:11:56 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 06:11:56 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of yqlpku@gmail.com designates 209.85.212.185 as permitted sender)
Received: from [209.85.212.185] (HELO mail-vw0-f185.google.com) (209.85.212.185)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 06:11:46 +0000
Received: by vws15 with SMTP id 15so655218vws.5
        for <core-user@hadoop.apache.org>; Thu, 10 Sep 2009 23:11:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=CcKqAegPBdrsXw55VqGJXndKUNTxQtyxIOnfq7SBi7I=;
        b=kmpby7CS7vjZlulIpPhwgwny1b837s5ccE+Y0/zzo+ATHOPhrDh47qn6+kxQ5OjeBw
         U+Mujyy9F9yaPEegn6L6uVjTP1Cv/Wf7X1aRx6TEKiMwmnFxv3Sj28UTn0nLRZj5TXAf
         6OQHjcHNujEQiPYvzkofyY25b1O8VNuBhhp48=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=Qw32mfujRbYbTsQs2Er+JfM3JM2m+/0OxozAm68eGkb1R6A7YJZ+vj3SYqj6cA7S/N
         sG1hE1KncKBH8waJ2Y65B4kiTO1GXlTJ8Nvkd1os+xqacChFyI0kGbx7vJIoatoZwTzF
         /qkO5leOWOauwqWsZ5w3eWPVsxRT4bxXNF060=
MIME-Version: 1.0
Received: by 10.220.80.40 with SMTP id r40mr2950634vck.117.1252649485675; Thu, 
	10 Sep 2009 23:11:25 -0700 (PDT)
In-Reply-To: <e7ac2b770909100529k5fa8b416w3c59727c836032e@mail.gmail.com>
References: <e7ac2b770909100529k5fa8b416w3c59727c836032e@mail.gmail.com>
Date: Fri, 11 Sep 2009 14:11:25 +0800
Message-ID: <e7ac2b770909102311m465af8efldb9b2da6a9082f27@mail.gmail.com>
Subject: Fwd: about hadoop:reduce could not read map's output
From: ql yan <yqlpku@gmail.com>
To: core-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0016e645fa109f2d380473472f22
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e645fa109f2d380473472f22
Content-Type: text/plain; charset=ISO-8859-1

---------- Forwarded message ----------
From: ql yan <yqlpku@gmail.com>
Date: 2009/9/10
Subject: about hadoop:reduce could not read map's output
To: common-user-help@hadoop.apache.org, common-user@hadoop.apache.org


Hi everyone!
I tried hadoop cluster setup on 4 pcs. I ran into a problem about
hadoop-common. when I ran the command'bin/hadoop jar hadoop-*-examples.jar
wordcount input output', the map tasks could complet quickly, but the reduce
phase took very long to complet. I think it's caused by the config, so I
changed the hadoop-site.xml for many times, which didn't work. Here are
hadoop-site.xml:


namevaluedescriptionfs.default.namehdfs://192.*.*.*:9000
mapred.job.tracker 192.*.*.*:9001
hadoop.tmp.dir/home/*/hadoop/tmp
dfs.replication2
dfs.name.dir/home/*/hadoop/file/name
dfs.data.dir/home/*/hadoop/file/data
mapred.system.dir /home/*/hadoop/file/mapred/system
mapred.local.dir/home/*/hadoop/file/mapred/local
mapred.temp.dir /home/*/hadoop/file/mapred/tmp
mapred.tasktracker.map.tasks.maximum2
mapred.tasktracker.reduce.tasks.maximum 2

Here is a problem from a tasktracker:

2009-09-10 20:08:35,169 INFO org.apache.hadoop.mapred.TaskTracker:
org.apache.hadoop.util.DiskChecker$DiskErrorException: Could not find
taskTracker/jobcache/job_200909102001_0001/attempt_200909102001_0001_m_000005_0/output/file.out
in any of the configured local directories

I  am looking forward to your reply! Thanks!

Yan

--0016e645fa109f2d380473472f22--

From common-user-return-17401-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 11 06:38:39 2009
Return-Path: <common-user-return-17401-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 36488 invoked from network); 11 Sep 2009 06:38:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Sep 2009 06:38:39 -0000
Received: (qmail 29202 invoked by uid 500); 11 Sep 2009 06:38:37 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 29111 invoked by uid 500); 11 Sep 2009 06:38:36 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 29101 invoked by uid 99); 11 Sep 2009 06:38:36 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 06:38:36 +0000
X-ASF-Spam-Status: No, hits=1.4 required=10.0
	tests=ASF_LIST_OPS,HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [202.165.105.137] (HELO web15207.mail.cnb.yahoo.com) (202.165.105.137)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 11 Sep 2009 06:38:24 +0000
Received: (qmail 69024 invoked by uid 60001); 11 Sep 2009 05:57:40 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com.cn; s=s1024; t=1252648660; bh=D4ldaRPfZxV+1bGpCsZJMwbvAqDiU3QjdY7Gh9jt1ME=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type; b=Q64qRS5yKAaZi/c8fz431X6F+C1FsCpHIWEr7J1KpBh4mXQdsgoZiIKRglQKW7tKGoGc1DDTWHijAC61poIglJMZIh8USWTiXV175ZJOSx2ZPFHgwXGfOYVl97/jaFs54ukHM/UaMqu17GsiCk+6Cm5hXCYPskxqp3myX/y6yrE=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com.cn;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type;
  b=Vu50NyREOtyHXSQ9kLnY7VQZQkCYE9Pp0GmpVFhtyox2+JEOmj0e8bfossqgwKVyw6Ztj8SAOSqRnYuRViZ59uz+lcVUpNxAyBm8FmVPDkPJCg6i9N0NJ1xuY84/pg0saESCfdJ6jUUUfuxfplQCwWYMHhROmTEdvtv1AzRfO/c=;
Message-ID: <162201.66385.qm@web15207.mail.cnb.yahoo.com>
X-YMail-OSG: vfmmXrUVM1ngKVrk0DJEnrY823yDbhZVXH_FK9IUKaIwg08fCKR_3MR8GAtJI6JV2Oo7R00RReHlWfdTiCVixFJsLz5Hgi22I1u8cQJowUDONCw6J4VSV7cLEncKpXSufozRVhyEpMF4dTEdeAyoVRN0qcBSIueaOLnyg_uGM8BImmOXaXtD1H5kwvbqAOQQXADOVEErmWWgCg--
Received: from [125.34.40.134] by web15207.mail.cnb.yahoo.com via HTTP; Thu, 10 Sep 2009 22:57:40 PDT
X-Mailer: YahooMailClassic/7.0.14 YahooMailWebService/0.7.338.2
Date: Thu, 10 Sep 2009 22:57:40 -0700 (PDT)
From: qiu tian <tianqiu_527@yahoo.com.cn>
Subject: a problem in hadoop cluster:reduce task couldn't find map tasks' output.
To: common-user@hadoop.apache.org, common-user-help@hadoop.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-727582084-1252648660=:66385"
X-Virus-Checked: Checked by ClamAV on apache.org

--0-727582084-1252648660=:66385
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable

Hi everyone!
I tried hadoop cluster setup on 4 pcs. I ran into a=0Aproblem about hadoop-=
common. when I ran the command'bin/hadoop jar=0Ahadoop-*-examples.jar wordc=
ount input output', the map tasks could=0Acomplet quickly, but the reduce p=
hase took very long to complet. I=0Athink it's caused by the config, so I c=
hanged the hadoop-site.xml for=0Amany times, which didn't work. Here are ha=
doop-site.xml:
=0A

namevaluedescriptionfs.default.namehdfs://192.*.*.*:9000
mapred.job.tracker=0A192.*.*.*:9001
hadoop.tmp.dir/home/*/hadoop/tmp



=0A






=0A





=0A





=0A

here is another hadoop-site.xml:
namevaluedescriptionfs.default.namehdfs://192.*.*.*:9000
mapred.job.tracker=0A192.*.*.*:9001
hadoop.tmp.dir/home/*/hadoop/tmp
dfs.replication2
=0Adfs.name.dir/home/*/hadoop/file/name
dfs.data.dir/home/*/hadoop/file/data
mapred.system.dir=0A/home/*/hadoop/file/mapred/system
mapred.local.dir/home/*/hadoop/file/mapred/local
mapred.temp.dir=0A/home/*/hadoop/file/mapred/tmp
mapred.tasktracker.map.tasks.maximum2
mapred.tasktracker.reduce.tasks.maximum=0A2

Both of them above couldn't work.
Here is a problem from a tasktracker:

2009-09-10 20:08:35,169 INFO org.apache.hadoop.mapred.TaskTracker: org.apac=
he.hadoop.util.DiskChecker$DiskErrorException: Could not find taskTracker/j=
obcache/job_200909102001_0001/attempt_200909102001_0001_m_000005_0/output/f=
ile.out in any of the configured local directories
=0A
I=C2=A0 am looking forward to your reply! Thanks!

Yan=0A=0A=0A      _________________________________________________________=
__ =0A  =E5=A5=BD=E7=8E=A9=E8=B4=BA=E5=8D=A1=E7=AD=89=E4=BD=A0=E5=8F=91=EF=
=BC=8C=E9=82=AE=E7=AE=B1=E8=B4=BA=E5=8D=A1=E5=85=A8=E6=96=B0=E4=B8=8A=E7=BA=
=BF=EF=BC=81 =0Ahttp://card.mail.cn.yahoo.com/
--0-727582084-1252648660=:66385--

From common-user-return-17402-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 11 06:47:19 2009
Return-Path: <common-user-return-17402-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 37724 invoked from network); 11 Sep 2009 06:47:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Sep 2009 06:47:19 -0000
Received: (qmail 38754 invoked by uid 500); 11 Sep 2009 06:47:16 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 38669 invoked by uid 500); 11 Sep 2009 06:47:16 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 38659 invoked by uid 99); 11 Sep 2009 06:47:16 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 06:47:16 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [217.115.75.234] (HELO demumfd002.nsn-inter.net) (217.115.75.234)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 06:47:07 +0000
Received: from demuprx017.emea.nsn-intra.net ([10.150.129.56])
	by demumfd002.nsn-inter.net (8.12.11.20060308/8.12.11) with ESMTP id n8B6kjBF019489
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=FAIL)
	for <common-user@hadoop.apache.org>; Fri, 11 Sep 2009 08:46:46 +0200
Received: from demuexc023.nsn-intra.net (demuexc023.nsn-intra.net [10.150.128.36])
	by demuprx017.emea.nsn-intra.net (8.12.11.20060308/8.12.11) with ESMTP id n8B6kjut027919
	for <common-user@hadoop.apache.org>; Fri, 11 Sep 2009 08:46:45 +0200
Received: from CNBEEXC007.nsn-intra.net ([10.159.192.12]) by demuexc023.nsn-intra.net with Microsoft SMTPSVC(6.0.3790.3959);
	 Fri, 11 Sep 2009 08:46:45 +0200
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: unscribe
Date: Fri, 11 Sep 2009 14:46:39 +0800
Message-ID: <8743EA88FD280A4AA10D5EE4F3752AEF012F6537@CNBEEXC007.nsn-intra.net>
In-Reply-To: <4AA9BEC9.3000602@gmail.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: unscribe
Thread-Index: AcoyjQG6P5nNzsU/QcW3qhZisCHB9wAHpTMA
References: <4AA9A839.2050600@gmail.com>	 <623d9cf40909101839x2ed67754r8c58033573f278af@mail.gmail.com> <35a22e220909101907x96abbb8h430f58d11a7d5ea2@mail.gmail.com> <4AA9BEC9.3000602@gmail.com>
From: "Zheng, Wenxing (NSN - CN/Beijing)" <wenxing.zheng@nsn.com>
To: <common-user@hadoop.apache.org>
X-OriginalArrivalTime: 11 Sep 2009 06:46:45.0994 (UTC) FILETIME=[A14524A0:01CA32AB]
X-Virus-Checked: Checked by ClamAV on apache.org

=20

-----Original Message-----
From: ext David B. Ritch [mailto:david.ritch@gmail.com]=20
Sent: Friday, September 11, 2009 11:07
To: common-user@hadoop.apache.org
Subject: Re: Decommissioning Individual Disks

Thank you both.  That's what we did today.  It seems fairly reasonable
when a node has a few disks, say 3-5.  However, at some sites, with
larger nodes, it seems more awkward.  When a node has a dozen or more
disks (as used in the larger terasort benchmarks), migrating the data
off all the disks is likely to be more of an issue.  I hope that there
is a better solution to this before my client moves to much larger
nodes!  ;-)

dbr

On 9/10/2009 10:07 PM, Amandeep Khurana wrote:
> I think decommissioning the node and replacing the disk is a cleaner=20
> approach. That's what I'd recommend doing as well..
>
> On 9/10/09, Alex Loddengaard <alex@cloudera.com> wrote:
>  =20
>> Hi David,
>> Unfortunately there's really no way to do what you're hoping to do in

>> an automatic way.  You can move the block files (including their=20
>> .meta files) from one disk to another.  Do this when the datanode
daemon is stopped.
>>  Then, when you start the datanode daemon, it will scan dfs.data.dir=20
>> and be totally happy if blocks have moved hard drives.  I've never=20
>> tried to do this myself, but others on the list have suggested this=20
>> technique for "balancing disks."
>>
>> You could also change your process around a little.  It's not too=20
>> crazy to decommission an entire node, replace one of its disks, then=20
>> bring it back into the cluster.  Seems to me that this is a much=20
>> saner approach: your ops team will tell you which disk needs=20
>> replacing.  You decommission the node, they replace the disk, you add

>> the node back to the pool.  Your call I guess, though.
>>
>> Hope this was helpful.
>>
>> Alex
>>
>> On Thu, Sep 10, 2009 at 6:30 PM, David B. Ritch
>> <david.ritch@gmail.com>wrote:
>>
>>    =20
>>> What do you do with the data on a failing disk when you replace it?
>>>
>>> Our support person comes in occasionally, and often replaces several

>>> disks when he does.  These are disks that have not yet failed, but=20
>>> firmware indicates that failure is imminent.  We need to be able to=20
>>> migrate our data off these disks before replacing them.  If we were=20
>>> replacing entire servers, we would decommission them - but we have 3

>>> data disks per server.  If we were replacing one disk at a time, we=20
>>> wouldn't worry about it (because of redundancy).  We can=20
>>> decommission the servers, but moving all the data off of all their
disks is a waste.
>>>
>>> What's the best way to handle this?
>>>
>>> Thanks!
>>>
>>> David
>>>
>>>      =20
>>    =20
>
>  =20


From common-user-return-17403-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 11 07:10:16 2009
Return-Path: <common-user-return-17403-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 43772 invoked from network); 11 Sep 2009 07:10:16 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Sep 2009 07:10:16 -0000
Received: (qmail 64409 invoked by uid 500); 11 Sep 2009 07:10:14 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 64331 invoked by uid 500); 11 Sep 2009 07:10:14 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 64321 invoked by uid 500); 11 Sep 2009 07:10:14 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 64318 invoked by uid 99); 11 Sep 2009 07:10:14 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 07:10:14 +0000
X-ASF-Spam-Status: No, hits=3.4 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [202.165.105.135] (HELO web15205.mail.cnb.yahoo.com) (202.165.105.135)
    by apache.org (qpsmtpd/0.29) with SMTP; Fri, 11 Sep 2009 07:10:03 +0000
Received: (qmail 64973 invoked by uid 60001); 11 Sep 2009 07:09:41 -0000
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com.cn; s=s1024; t=1252652981; bh=ykpnfjV/2R0qMJEw5qNZBz5JA07F9anXHONDHLzFLhA=; h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type; b=ObrxY+O2gq2aYqlBfb4Q6wgUU/gS+p28fNACZosSBK4BRBRdggOmhHkWt9F7/nv17HBhTjpFjbLk1wczvVoJCISWAKu/urbjAHkGDkHvl2VV/kOh0xBHWM84i8Q5F6c5cOSuB8Qcs0hm2dduC2Pe0iORWlIHpJ/5qpbmtAOJTLg=
DomainKey-Signature:a=rsa-sha1; q=dns; c=nofws;
  s=s1024; d=yahoo.com.cn;
  h=Message-ID:X-YMail-OSG:Received:X-Mailer:Date:From:Subject:To:MIME-Version:Content-Type;
  b=X27pQ9piYcOxdXU/eDb96AWtzOOJBEUiqSlsMXGthmVYqkoolvCPXVQM15dI0J5QEg7aAwiMCLKkFqMIMdTNG1aNdMorPEBAKgXxCW4pOXRNgWWLIhNQFghdMUEtj3sicDW27r86FDQzCvQVprDLxWLP0xHV5vIfVUMsVEpJFG4=;
Message-ID: <344889.64919.qm@web15205.mail.cnb.yahoo.com>
X-YMail-OSG: gNxicNIVM1k6PkALx3uwzlFnsWvZ2aLTAnEI7cgJAfWxSY8AM0Q3FgHk5YhHxfJ4eC0rou2y7dgM3e2atJKFFm2PL0NMqsnjHGeC6AlNiSm6yrvah3XUhbBHUWsWhpwRD8U.867X3BCUKxz79RVl2P.ftB5SWwKnonkxDM4ist8FGsxkcP7GlffIPgyDtg9iB9MvZILrU3MVQQ--
Received: from [125.34.40.134] by web15205.mail.cnb.yahoo.com via HTTP; Fri, 11 Sep 2009 00:09:40 PDT
X-Mailer: YahooMailClassic/7.0.14 YahooMailWebService/0.7.338.2
Date: Fri, 11 Sep 2009 00:09:40 -0700 (PDT)
From: qiu tian <tianqiu_527@yahoo.com.cn>
Subject: =?utf-8?B?6L2s5Y+ROiBhIHByb2JsZW0gaW4gaGFkb29wIGNsdXN0ZXI6cmVkdWNlIHRh?=
 =?utf-8?B?c2sgY291bGRuJ3QgZmluZCBtYXAgdGFza3MnIG91dHB1dC4=?=
To: core-user@hadoop.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-296730255-1252652980=:64919"
X-Virus-Checked: Checked by ClamAV on apache.org

--0-296730255-1252652980=:64919
Content-Type: text/plain; charset=utf-8
Content-Transfer-Encoding: quoted-printable



--- 09=E5=B9=B49=E6=9C=8811=E6=97=A5=EF=BC=8C=E5=91=A8=E4=BA=94, qiu tian <=
tianqiu_527@yahoo.com.cn> =E5=86=99=E9=81=93=EF=BC=9A

=E5=8F=91=E4=BB=B6=E4=BA=BA: qiu tian <tianqiu_527@yahoo.com.cn>
=E4=B8=BB=E9=A2=98: a problem in hadoop cluster:reduce task couldn't find m=
ap tasks' output.
=E6=94=B6=E4=BB=B6=E4=BA=BA: common-user@hadoop.apache.org, common-user-hel=
p@hadoop.apache.org
=E6=97=A5=E6=9C=9F: 2009=E5=B9=B49=E6=9C=8811=E6=97=A5,=E5=91=A8=E4=BA=94,=
=E4=B8=8B=E5=8D=881:57

Hi everyone!
I tried hadoop cluster setup on 4 pcs. I ran into a=0Aproblem about hadoop-=
common. when I ran the command'bin/hadoop jar=0Ahadoop-*-examples.jar wordc=
ount input output', the map tasks could=0Acomplet quickly, but the reduce p=
hase took very long to complet. I=0Athink it's caused by the config, so I c=
hanged the hadoop-site.xml for=0Amany times, which didn't work. Here are ha=
doop-site.xml:
=0A

namevaluedescriptionfs.default.namehdfs://192.*.*.*:9000
mapred.job.tracker=0A192.*.*.*:9001
hadoop.tmp.dir/home/*/hadoop/tmp



=0A






=0A





=0A





=0A

here is another hadoop-site.xml:
namevaluedescriptionfs.default.namehdfs://192.*.*.*:9000
mapred.job.tracker=0A192.*.*.*:9001
hadoop.tmp.dir/home/*/hadoop/tmp
dfs.replication2
=0Adfs.name.dir/home/*/hadoop/file/name
dfs.data.dir/home/*/hadoop/file/data
mapred.system.dir=0A/home/*/hadoop/file/mapred/ system
mapred.local.dir/home/*/hadoop/file/mapred/ local
mapred.temp.dir=0A/home/*/hadoop/file/mapred/tmp
mapred.tasktracker.map.tasks. maximum2
mapred.tasktracker.reduce. tasks.maximum=0A2

Both of them above couldn't work.
Here is a problem from a tasktracker:

2009-09-10 20:08:35,169 INFO org.apache.hadoop.mapred. TaskTracker: org.apa=
che.hadoop.util. DiskChecker$ DiskErrorException: Could not find taskTracke=
r/jobcache/job_ 200909102001_0001/attempt_ 200909102001_0001_m_000005_0/ ou=
tput/file.out in any of the configured local directories
=0A
I=C2=A0 am looking forward to your reply! Thanks!

Yan
=0A=0A=0A        =E5=A5=BD=E7=8E=A9=E8=B4=BA=E5=8D=A1=E7=AD=89=E4=BD=A0=E5=
=8F=91=EF=BC=8C=E9=82=AE=E7=AE=B1=E8=B4=BA=E5=8D=A1=E5=85=A8=E6=96=B0=E4=B8=
=8A=E7=BA=BF=EF=BC=81=0A=0A=0A      _______________________________________=
____________________ =0A  =E5=A5=BD=E7=8E=A9=E8=B4=BA=E5=8D=A1=E7=AD=89=E4=
=BD=A0=E5=8F=91=EF=BC=8C=E9=82=AE=E7=AE=B1=E8=B4=BA=E5=8D=A1=E5=85=A8=E6=96=
=B0=E4=B8=8A=E7=BA=BF=EF=BC=81 =0Ahttp://card.mail.cn.yahoo.com/
--0-296730255-1252652980=:64919--

From common-user-return-17404-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 11 08:22:17 2009
Return-Path: <common-user-return-17404-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 65127 invoked from network); 11 Sep 2009 08:22:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Sep 2009 08:22:17 -0000
Received: (qmail 61395 invoked by uid 500); 11 Sep 2009 08:22:14 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 61312 invoked by uid 500); 11 Sep 2009 08:22:14 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 61302 invoked by uid 99); 11 Sep 2009 08:22:14 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 08:22:14 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of clarkemjj@gmail.com designates 209.85.218.214 as permitted sender)
Received: from [209.85.218.214] (HELO mail-bw0-f214.google.com) (209.85.218.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 08:22:03 +0000
Received: by bwz10 with SMTP id 10so648302bwz.29
        for <common-user@hadoop.apache.org>; Fri, 11 Sep 2009 01:21:43 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=fxWuG01hUzuLD7xO7XZ0UEU4mBomkaeIW2l0oYMW2Tc=;
        b=NE/GhBbvjG10JvI5X8ewsfXQzDnWzVQmjF/0pjv59G0W1J0sgha/3aDOMJoO8pUWoF
         g28uBMaFgJgPJNWUMHwNca9Dja5AJSr5+Oxqtmp8j9hhFygmbDYB1lWPAdtYjZsSSy8q
         o4ryPvTxnMu0pbZKrYl5pcsE8YOVi1/mf/yvs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=oHi/T3fCaUFQ2ZhujXh7BI4ehvvB0Bsvwj+a/rkKiKoAlqyze3Br1vTDRnGgIffTJu
         RZwcdO7CE98dq6duIYc471ugv/RLTIizYMcczbURVdetpCMcrQAGGzAPmOkWZMtb6izY
         kmLIgYXwwAWXeZeeUX+gKDLdsnzhKLi8mt5qw=
MIME-Version: 1.0
Received: by 10.223.57.210 with SMTP id d18mr1186545fah.106.1252657303126; 
	Fri, 11 Sep 2009 01:21:43 -0700 (PDT)
In-Reply-To: <35538fbe0909101730o73b53a5cx7c9ea1d3f05b56a7@mail.gmail.com>
References: <bfca79780909081821v6a83f165n71d7d9c0f1387f3b@mail.gmail.com>
	 <35538fbe0909081922k261b2435w542963cfecd910f7@mail.gmail.com>
	 <bfca79780909081949s710088e0h2bdbbc964ebf262b@mail.gmail.com>
	 <35538fbe0909082121m78201936g857367c986aca0f0@mail.gmail.com>
	 <bfca79780909091513m7fc60c4ah99cecfecb3d2de2f@mail.gmail.com>
	 <35538fbe0909101730o73b53a5cx7c9ea1d3f05b56a7@mail.gmail.com>
Date: Fri, 11 Sep 2009 09:21:43 +0100
Message-ID: <4238036a0909110121s4489bd05rba8641b723adee14@mail.gmail.com>
Subject: Re: Using Ganglia with hadoop 0.19.0 on Amazon EC2
From: John Clarke <clarkemjj@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0015174792ba9403b904734901e1
X-Virus-Checked: Checked by ClamAV on apache.org

--0015174792ba9403b904734901e1
Content-Type: text/plain; charset=ISO-8859-1

Hadoop comes with a number of scripts to configure EC2 instances, see
"HADOOP_HOME/src/contrib/ec2/bin"

If you take a look at "src/contrib/ec2/bin/image/hadoop-init" you will see
that it sets up Ganglia.

I currently use the Cloudera scripts from http://www.cloudera.com/hadoop-ec2,
these do not however set up Ganglia so I modified the
hadoop-ec2-init-remote.sh script to install the necessary packages and to
configure it as per the hadoop-init script above. The
hadoop-ec2-init-remote.sh is run at boot time on each node.

John.

--0015174792ba9403b904734901e1--

From common-user-return-17405-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 11 09:10:26 2009
Return-Path: <common-user-return-17405-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 78340 invoked from network); 11 Sep 2009 09:10:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Sep 2009 09:10:26 -0000
Received: (qmail 47412 invoked by uid 500); 11 Sep 2009 09:10:23 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 47332 invoked by uid 500); 11 Sep 2009 09:10:23 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 47322 invoked by uid 99); 11 Sep 2009 09:10:23 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 09:10:23 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [196.33.159.117] (HELO mail.bengueladev.com) (196.33.159.117)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 09:10:15 +0000
Received: from [10.23.4.172] (scud.bengueladev.com [10.23.4.172])
	by mail.bengueladev.com (Postfix) with ESMTPSA id 293D71231A
	for <common-user@hadoop.apache.org>; Fri, 11 Sep 2009 11:09:53 +0200 (SAST)
Subject: Thrift HDFS interface problems
From: Bryn Divey <bryn@bengueladev.com>
To: common-user@hadoop.apache.org
Content-Type: text/plain
Date: Fri, 11 Sep 2009 11:09:52 +0200
Message-Id: <1252660192.2979.22.camel@scud.bengueladev.com>
Mime-Version: 1.0
X-Mailer: Evolution 2.22.3.1 
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Hi all,

I'm accessing a HDFS filesystem (version 0.19.2) over the Python Thrift
API and I'm noticing quite a few situations in which the Java Thrift
server freaks out and breaks the existing connection. For example,
listing a non-existent directory, or doing a read with an offset outside
of the actual file size of a file. Is anyone actively working on the
Thrift server? Can I expect its stability to improve, or should I find
another way of doing Python access?

Also, I'm on 0.19 because I need HBase - am I correct in assuming I need
a minor version (.19) match between Hadoop and HBase? Does anyone know
offhand when HBase will hit 0.20? Apologies if this is the utterly wrong
place for the question.

Regards,
Bryn Divey


java.lang.NullPointerException
	at org.apache.hadoop.thriftfs.HadoopThriftServer
$HadoopThriftHandler.listStatus(HadoopThriftServer.java:445)
	at org.apache.hadoop.thriftfs.api.ThriftHadoopFileSystem$Processor
$listStatus.process(Unknown Source)
	at org.apache.hadoop.thriftfs.api.ThriftHadoopFileSystem
$Processor.process(Unknown Source)
	at com.facebook.thrift.server.TThreadPoolServer
$WorkerProcess.run(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor
$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor
$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:619)



From common-user-return-17406-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 11 09:58:38 2009
Return-Path: <common-user-return-17406-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 90800 invoked from network); 11 Sep 2009 09:58:38 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Sep 2009 09:58:38 -0000
Received: (qmail 11718 invoked by uid 500); 11 Sep 2009 09:58:35 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 11653 invoked by uid 500); 11 Sep 2009 09:58:35 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 11643 invoked by uid 99); 11 Sep 2009 09:58:35 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 09:58:35 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of anthony.urso@gmail.com designates 209.85.216.204 as permitted sender)
Received: from [209.85.216.204] (HELO mail-px0-f204.google.com) (209.85.216.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 09:58:26 +0000
Received: by pxi42 with SMTP id 42so816673pxi.20
        for <common-user@hadoop.apache.org>; Fri, 11 Sep 2009 02:58:05 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=D5fR6c4h/2/oFmq65fmwrrDMLxPl9oRnWhfli3paHqo=;
        b=X0ZDfuALKVoip888xu0gE/+/uvOuZmbp11MxC5hF2aJNzLjZ+EkffMo6ekJoWM9mHm
         D/btBt0KM9fK3oYMklg1HznK37fUlw40kmPKdbSFdO2FOTc6zChwXpuWahu7RbsNAH32
         pt99tIN4FHzww6Xe/pBNjRKGRvCAQjz0Sz9u0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=AtBBjbakDZs3Cf+ri1coZ+cnGTnTB/gVspoHQZprg+S2B6UCX0owHG+mk3JehZ1Oav
         aPDH89ZNrseWqJ2BX/lB+1jcJ4F05ogYMIOY9jhGPrm9wRg+wucyKistlP7+1EPpKFjZ
         A9yilmgUngYjGNPdHLsxSMCjFc7ssN2C0WG94=
MIME-Version: 1.0
Received: by 10.140.132.13 with SMTP id f13mr673451rvd.124.1252663085162; Fri, 
	11 Sep 2009 02:58:05 -0700 (PDT)
In-Reply-To: <1252660192.2979.22.camel@scud.bengueladev.com>
References: <1252660192.2979.22.camel@scud.bengueladev.com>
Date: Fri, 11 Sep 2009 02:58:05 -0700
Message-ID: <ba72f77f0909110258p43f68728ve22b27c531d6cdb0@mail.gmail.com>
Subject: Re: Thrift HDFS interface problems
From: Anthony Urso <anthony.urso@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

For the Thrift server bug, the best way to get it fixed is to file a
bug report at http://issues.apache.org/jira

HBase 0.20 is out, download here:
http://hadoop.apache.org/hbase/releases.html

There is an HBase mailing list, hbase-user@hadoop.apache.org.

And yes, I believe you do still need to keep the version numbers of
HBase and Hadoop equal.

Cheers,
Anthony

On Fri, Sep 11, 2009 at 2:09 AM, Bryn Divey <bryn@bengueladev.com> wrote:
> Hi all,
>
> I'm accessing a HDFS filesystem (version 0.19.2) over the Python Thrift
> API and I'm noticing quite a few situations in which the Java Thrift
> server freaks out and breaks the existing connection. For example,
> listing a non-existent directory, or doing a read with an offset outside
> of the actual file size of a file. Is anyone actively working on the
> Thrift server? Can I expect its stability to improve, or should I find
> another way of doing Python access?
>
> Also, I'm on 0.19 because I need HBase - am I correct in assuming I need
> a minor version (.19) match between Hadoop and HBase? Does anyone know
> offhand when HBase will hit 0.20? Apologies if this is the utterly wrong
> place for the question.
>
> Regards,
> Bryn Divey
>
>
> java.lang.NullPointerException
> =A0 =A0 =A0 =A0at org.apache.hadoop.thriftfs.HadoopThriftServer
> $HadoopThriftHandler.listStatus(HadoopThriftServer.java:445)
> =A0 =A0 =A0 =A0at org.apache.hadoop.thriftfs.api.ThriftHadoopFileSystem$P=
rocessor
> $listStatus.process(Unknown Source)
> =A0 =A0 =A0 =A0at org.apache.hadoop.thriftfs.api.ThriftHadoopFileSystem
> $Processor.process(Unknown Source)
> =A0 =A0 =A0 =A0at com.facebook.thrift.server.TThreadPoolServer
> $WorkerProcess.run(Unknown Source)
> =A0 =A0 =A0 =A0at java.util.concurrent.ThreadPoolExecutor
> $Worker.runTask(ThreadPoolExecutor.java:886)
> =A0 =A0 =A0 =A0at java.util.concurrent.ThreadPoolExecutor
> $Worker.run(ThreadPoolExecutor.java:908)
> =A0 =A0 =A0 =A0at java.lang.Thread.run(Thread.java:619)
>
>
>

From common-user-return-17407-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 11 16:25:09 2009
Return-Path: <common-user-return-17407-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 11234 invoked from network); 11 Sep 2009 16:25:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Sep 2009 16:25:09 -0000
Received: (qmail 47263 invoked by uid 500); 11 Sep 2009 16:25:06 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 47208 invoked by uid 500); 11 Sep 2009 16:25:06 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 47198 invoked by uid 99); 11 Sep 2009 16:25:06 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 16:25:06 +0000
X-ASF-Spam-Status: No, hits=-4.0 required=10.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of awittenauer@linkedin.com designates 69.28.149.25 as permitted sender)
Received: from [69.28.149.25] (HELO esv4-mav03.corp.linkedin.com) (69.28.149.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 16:24:54 +0000
DomainKey-Signature: s=prod; d=linkedin.com; c=nofws; q=dns;
  h=X-IronPort-AV:Received:User-Agent:Date:Subject:From:To:
   Message-ID:Thread-Topic:Thread-Index:In-Reply-To:
   Mime-version:Content-type:Content-transfer-encoding;
  b=PBFQ07wUin0owghod3am5Qth2T0SSn+YFXJZThgH9rMHgEsX8QkR1FRj
   tJu5hwPiVYnm0squMfRENkjbSXB6uyvkaADv5bk5Omzf1bWPVDBc//dfr
   8MJQGMM2M83SL0y;
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
  d=linkedin.com; i=awittenauer@linkedin.com; q=dns/txt;
  s=proddkim; t=1252686294; x=1284222294;
  h=from:sender:reply-to:subject:date:message-id:to:cc:
   mime-version:content-transfer-encoding:content-id:
   content-description:resent-date:resent-from:resent-sender:
   resent-to:resent-cc:resent-message-id:in-reply-to:
   references:list-id:list-help:list-unsubscribe:
   list-subscribe:list-post:list-owner:list-archive;
  z=From:=20Allen=20Wittenauer=20<awittenauer@linkedin.com>
   |Subject:=20Re:=20Decommissioning=20Individual=20Disks
   |Date:=20Fri,=2011=20Sep=202009=2009:23:45=20-0700
   |Message-ID:=20<C6CFC7A1.44E%awittenauer@linkedin.com>
   |To:=20<common-user@hadoop.apache.org>|Mime-version:=201.
   0|Content-transfer-encoding:=207bit|In-Reply-To:=20<4AA9B
   EC9.3000602@gmail.com>;
  bh=dgzYgUiQYVm3rUgeoeWKyqnY2F6tkIxBCLEg/p6Zz4Q=;
  b=etjOdriFo79Nk+OBi3SxyIYyDKpHW80t0JUHdRBFpmQspGKPK36fmobj
   mIAPIVg8uiR+rzvFf8lVDcFC46dCXNuZGIellWhR4RqI81V2TBzOLItiM
   w6OTdPpV7etnRS+;
X-IronPort-AV: E=Sophos;i="4.44,371,1249282800"; 
   d="scan'208";a="8558456"
Received: from 172.16.19.135 ([172.16.19.135]) by CORP-MAIL.linkedin.biz ([172.18.46.135]) via Exchange Front-End Server mail-access.linkedin.biz ([172.18.46.133]) with Microsoft Exchange Server HTTP-DAV ;
 Fri, 11 Sep 2009 16:23:44 +0000
User-Agent: Microsoft-Entourage/12.10.0.080409
Date: Fri, 11 Sep 2009 09:23:45 -0700
Subject: Re: Decommissioning Individual Disks
From: Allen Wittenauer <awittenauer@linkedin.com>
To: <common-user@hadoop.apache.org>
Message-ID: <C6CFC7A1.44E%awittenauer@linkedin.com>
Thread-Topic: Decommissioning Individual Disks
Thread-Index: Acoy/DvOUS1lb3pSNEecrVAIVnrLgQ==
In-Reply-To: <4AA9BEC9.3000602@gmail.com>
Mime-version: 1.0
Content-type: text/plain;
	charset="US-ASCII"
Content-transfer-encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 9/10/09 8:06 PM, "David B. Ritch" <david.ritch@gmail.com> wrote:
> Thank you both.  That's what we did today.  It seems fairly reasonable
> when a node has a few disks, say 3-5.  However, at some sites, with
> larger nodes, it seems more awkward.

Hmm.  The vast majority of sites are using 4 disk configurations, that I
know of.  I'd love to know who using 5 or more drives and have a
conversation with them.

[The only people who did terasort on 12 disks that I know of is Google...
and they weren't using Hadoop. :)]


From common-user-return-17408-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 11 16:26:27 2009
Return-Path: <common-user-return-17408-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 11632 invoked from network); 11 Sep 2009 16:26:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Sep 2009 16:26:27 -0000
Received: (qmail 49800 invoked by uid 500); 11 Sep 2009 16:26:24 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 49734 invoked by uid 500); 11 Sep 2009 16:26:24 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 49718 invoked by uid 99); 11 Sep 2009 16:26:24 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 16:26:24 +0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=NO_RDNS_DOTCOM_HELO,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [69.147.107.20] (HELO mrout1-b.corp.re1.yahoo.com) (69.147.107.20)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 16:26:12 +0000
Received: from sp1-ex07cas01.ds.corp.yahoo.com (sp1-ex07cas01.ds.corp.yahoo.com [216.252.116.137])
	by mrout1-b.corp.re1.yahoo.com (8.13.8/8.13.8/y.out) with ESMTP id n8BGP64T099316;
	Fri, 11 Sep 2009 09:25:06 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; s=serpent; d=yahoo-inc.com; c=nofws; q=dns;
	h=received:from:to:date:subject:thread-topic:thread-index:
	message-id:references:in-reply-to:accept-language:
	content-language:x-ms-has-attach:x-ms-tnef-correlator:acceptlanguage:
	content-type:content-transfer-encoding:mime-version;
	b=CrpfHne5u0w6clG27M6Qp8bfnrko9UG93nT7tbuAfQf+NaSf/KDVkW3iYBKERxB4
Received: from SP1-EX07VS01.ds.corp.yahoo.com ([216.252.116.139]) by
 sp1-ex07cas01.ds.corp.yahoo.com ([216.252.116.137]) with mapi; Fri, 11 Sep
 2009 09:25:06 -0700
From: Dekel Tankel <dekel@yahoo-inc.com>
To: "general@hadoop.apache.org" <general@hadoop.apache.org>,
        "common-user@hadoop.apache.org" <common-user@hadoop.apache.org>
Date: Fri, 11 Sep 2009 09:25:05 -0700
Subject: Hadoop User Group (Bay Area) - Sep 23rd at Yahoo!
Thread-Topic: Hadoop User Group (Bay Area) - Sep 23rd at Yahoo!
Thread-Index: AcoSMRRU8X5auVLKR8ufbpFTQi1hLggyrkMg
Message-ID: <46E2672895E8744A97D7577A6110858B4FD3462851@SP1-EX07VS01.ds.corp.yahoo.com>
References: <46E2672895E8744A97D7577A6110858B4E1AC69A91@SP1-EX07VS01.ds.corp.yahoo.com>
In-Reply-To: <46E2672895E8744A97D7577A6110858B4E1AC69A91@SP1-EX07VS01.ds.corp.yahoo.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

Hi all,

I'd like to remind everyone that RSVP is open for the next monthly Bay Area=
 Hadoop user group organized by Yahoo!.


Agenda and registration available here

http://www.meetup.com/hadoop/calendar/11166700/

Looking forward to seeing you at September 23rd.

Dekel


From common-user-return-17409-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 11 16:40:27 2009
Return-Path: <common-user-return-17409-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 16711 invoked from network); 11 Sep 2009 16:40:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Sep 2009 16:40:27 -0000
Received: (qmail 76925 invoked by uid 500); 11 Sep 2009 16:40:23 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 76820 invoked by uid 500); 11 Sep 2009 16:40:23 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 76801 invoked by uid 99); 11 Sep 2009 16:40:23 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 16:40:23 +0000
X-ASF-Spam-Status: No, hits=3.3 required=10.0
	tests=DATE_IN_FUTURE_12_24,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of zjffdu@gmail.com designates 209.85.220.218 as permitted sender)
Received: from [209.85.220.218] (HELO mail-fx0-f218.google.com) (209.85.220.218)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 16:40:14 +0000
Received: by fxm18 with SMTP id 18so948096fxm.29
        for <multiple recipients>; Fri, 11 Sep 2009 09:39:53 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:from:to:references
         :in-reply-to:subject:date:message-id:mime-version:content-type
         :content-transfer-encoding:x-mailer:thread-index:content-language;
        bh=Q5vmrlLkVw359YjpNOmxZplJmaPtpMQyNhAX5eEG8PE=;
        b=Tc77KkSjyTg9/o+B7AUTAarq3X0WTK2RlBl30K3HLIOKClkpbrtZZikddmXj/8p4DC
         HsxEU8sTqzqZJ7b+JVzUKx+znN5e1Xu0IRx8rDJtRN90i+ZQY2OD+bZ9yEpEOnM4tLt+
         Bj/bKTCBvfhewf90OaqQo+SnFBy6HxL16Ohx4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=from:to:references:in-reply-to:subject:date:message-id:mime-version
         :content-type:content-transfer-encoding:x-mailer:thread-index
         :content-language;
        b=goVCr8z7s5nV8afdhCAEV08E9IVSxfVLd9A2bgO+tPl3Sbvary4q1jEgFxQg21Htq1
         mgSbtN9ycjkescyi7HuYkVw9DA8A+bFRfvBl+AG72TuEi6sjfD5vczJhIe5gCMU0fMIf
         ph0OOsl4BNjm9/Jj7b2WNWq3fdOHRjHoFGb00=
Received: by 10.204.160.143 with SMTP id n15mr2065350bkx.183.1252687193049;
        Fri, 11 Sep 2009 09:39:53 -0700 (PDT)
Received: from zjf ([58.247.233.149])
        by mx.google.com with ESMTPS id 35sm4687002fkt.46.2009.09.11.09.39.49
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Fri, 11 Sep 2009 09:39:51 -0700 (PDT)
From: "zjffdu" <zjffdu@gmail.com>
To: <pig-user@hadoop.apache.org>,
	<common-user@hadoop.apache.org>
References: <4AA82628.3010309@gmail.com>
In-Reply-To: <4AA82628.3010309@gmail.com>
Subject: RE: s3n intermediate storage problem
Date: Sat, 12 Sep 2009 00:41:37 -0700
Message-ID: <007101ca337c$796b8010$6c428030$@com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: quoted-printable
X-Mailer: Microsoft Office Outlook 12.0
Thread-Index: AcoxmWziHAEmDpQeRVCdiwZA6gI03QB4ph7Q
Content-Language: zh-cn
X-Virus-Checked: Checked by ClamAV on apache.org

This is interesting, does that mean hadoop can use the S3 as the
DistributedFileSystem and EC2 machine as the Computing Node ?
If so, how does the namenode communicate with the datanode (s3) ?




-----Original Message-----
From: Irfan Mohammed [mailto:irfan.ma@gmail.com]=20
Sent: 2009=C4=EA9=D4=C29=C8=D5 15:03
To: pig-user@hadoop.apache.org
Subject: s3n intermediate storage problem

Hi,
I have a pig script reading/writing to S3.

$ export PIG_OPTS=3D"-Dfs.default.name=3Ds3n://bucket_1/";
$ pig
 >>>>
r0 =3D LOAD 'input2/transaction_ar20090909_14*' using =
PigStorage('\u0002');
r1 =3D FILTER r0 by client_id =3D 'xxxx';
store r1 into 'output2/' using PigStorage(',');
 >>>>>

I get the following error. Looks like it is trying to write/read the=20
intermediate data from some temporary storage in S3. I cannot find this=20
folder under S3.

1. How do I know where it is writing or reading the intermediate files?
2. Can I use S3 urls for only load/store and the intermediate files are=20
in the another hdfs? If so, how do I give the url paths?

Thanks,
Irfan

java.lang.Exception: org.apache.hadoop.fs.s3.S3Exception:=20
org.jets3t.service.S3ServiceException: S3 GET failed for=20
'/tmp%2Ftemp666717117%2Ftmp-2105109046%2Fpart-00000' XML Error Message:=20
<?xml version=3D"1.0"=20
encoding=3D"UTF-8"?><Error><Code>InvalidRange</Code><Message>The =
requested=20
range is not=20
satisfiable</Message><ActualObjectSize>0</ActualObjectSize><RequestId>1CF=
939
F219CF8549</RequestId><HostId>w05Yp+WVCk2k/N9iVnqYmbFZzEiqszGYV3++yZjj+J/=
oaO
JAifjUW4b5ZxIFDH2C</HostId><RangeRequested>bytes=3D0-</RangeRequested></E=
rror>
    at=20
org.apache.hadoop.fs.s3native.Jets3tNativeFileSystemStore.retrieve(Jets3t=
Nat
iveFileSystemStore.java:154)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at=20
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java=
:39
)
    at=20
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorI=
mpl
.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at=20
org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvoc=
ati
onHandler.java:82)
    at=20
org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationH=
and
ler.java:59)
    at org.apache.hadoop.fs.s3native.$Proxy1.retrieve(Unknown Source)
    at=20
org.apache.hadoop.fs.s3native.NativeS3FileSystem$NativeS3FsInputStream.se=
ek(
NativeS3FileSystem.java:111)
    at=20
org.apache.hadoop.fs.BufferedFSInputStream.seek(BufferedFSInputStream.jav=
a:7
6)
    at=20
org.apache.hadoop.fs.FSDataInputStream.seek(FSDataInputStream.java:37)
    at=20
org.apache.pig.backend.hadoop.datastorage.HSeekableInputStream.seek(HSeek=
abl
eInputStream.java:64)
    at=20
org.apache.pig.backend.executionengine.PigSlice.init(PigSlice.java:85)
    at=20
org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.SliceWrapper=
.ma
keReader(SliceWrapper.java:127)
    at=20
org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigInputForm=
at.
getRecordReader(PigInputFormat.java:253)
    at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:336)
    at org.apache.hadoop.mapred.MapTask.run(MapTask.java:305)
    at org.apache.hadoop.mapred.Child.main(Child.java:170)
Caused by: org.jets3t.service.S3ServiceException: S3 GET failed for=20
'/tmp%2Ftemp666717117%2Ftmp-2105109046%2Fpart-00000' XML Error Message:=20
<?xml version=3D"1.0"=20
encoding=3D"UTF-8"?><Error><Code>InvalidRange</Code><Message>The =
requested=20
range is not=20
satisfiable</Message><ActualObjectSize>0</ActualObjectSize><RequestId>1CF=
939
F219CF8549</RequestId><HostId>w05Yp+WVCk2k/N9iVnqYmbFZzEiqszGYV3++yZjj+J/=
oaO
JAifjUW4b5ZxIFDH2C</HostId><RangeRequested>bytes=3D0-</RangeRequested></E=
rror>
    at=20
org.jets3t.service.impl.rest.httpclient.RestS3Service.performRequest(Rest=
S3S
ervice.java:424)
    at=20
org.jets3t.service.impl.rest.httpclient.RestS3Service.performRestGet(Rest=
S3S
ervice.java:686)
    at=20
org.jets3t.service.impl.rest.httpclient.RestS3Service.getObjectImpl(RestS=
3Se
rvice.java:1558)
    at=20
org.jets3t.service.impl.rest.httpclient.RestS3Service.getObjectImpl(RestS=
3Se
rvice.java:1501)
    at org.jets3t.service.S3Service.getObject(S3Service.java:1876)
    at=20
org.apache.hadoop.fs.s3native.Jets3tNativeFileSystemStore.retrieve(Jets3t=
Nat
iveFileSystemStore.java:144)
    ... 17 more

    at=20
org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.Launcher.get=
Err
orMessages(Launcher.java:230)
    at=20
org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.Launcher.get=
Sta
ts(Launcher.java:179)
    at=20
org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.MapReduceLau=
nch
er.launchPig(MapReduceLauncher.java:204)
    at=20
org.apache.pig.backend.hadoop.executionengine.HExecutionEngine.execute(HE=
xec
utionEngine.java:265)
    at=20
org.apache.pig.PigServer.executeCompiledLogicalPlan(PigServer.java:767)
    at org.apache.pig.PigServer.execute(PigServer.java:760)
    at org.apache.pig.PigServer.access$100(PigServer.java:89)
    at org.apache.pig.PigServer$Graph.execute(PigServer.java:931)
    at org.apache.pig.PigServer.executeBatch(PigServer.java:243)
    at=20
org.apache.pig.tools.grunt.GruntParser.executeBatch(GruntParser.java:112)=

    at=20
org.apache.pig.tools.grunt.GruntParser.parseStopOnError(GruntParser.java:=
168
)
    at=20
org.apache.pig.tools.grunt.GruntParser.parseStopOnError(GruntParser.java:=
140
)
    at org.apache.pig.tools.grunt.Grunt.exec(Grunt.java:88)
    at org.apache.pig.Main.main(Main.java:307)


From common-user-return-17410-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 11 17:57:08 2009
Return-Path: <common-user-return-17410-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 47831 invoked from network); 11 Sep 2009 17:57:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Sep 2009 17:57:08 -0000
Received: (qmail 17136 invoked by uid 500); 11 Sep 2009 17:57:05 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 17045 invoked by uid 500); 11 Sep 2009 17:57:05 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 17035 invoked by uid 99); 11 Sep 2009 17:57:05 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 17:57:05 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of edlinuxguru@gmail.com designates 74.125.78.24 as permitted sender)
Received: from [74.125.78.24] (HELO ey-out-2122.google.com) (74.125.78.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 17:56:57 +0000
Received: by ey-out-2122.google.com with SMTP id 22so253029eye.23
        for <common-user@hadoop.apache.org>; Fri, 11 Sep 2009 10:56:36 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=ViDQ/sF6V1PVmaj4SLxHQGDjMHxiwHSZaTsGTS6DWIQ=;
        b=Y4Clj3btOWO7/j6Z1F7Jwm6DBct1NGKMuvKy68lD1AGH9uQ2sGlidGC1RL0J7HJHSa
         kTd0lE9eitSemlixr6e+DRyg3cj2ee1q8wVspkOi9cAyV37uOR8+4ekwD6bVslV6xTG7
         YqjrUujNckwD+q0ZTkYD2MM/YXBnoxE6yjTvA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=s88+KJHmrnTpfyOW8JPSRdwbPjQKJpyt3gjtVJz9MWM9hpRX3/Dl3fu9BpJJJF8KiR
         ifqdPzwaB0KLYMbT8oqN9L9Wqw1JT50kJAOuuRfgJj950ti8vHlTbbv6aGYoIjyIcRxY
         +fhHj5TeJZ2Kfadz2bH5ez6lw9oYkoy3QOJmk=
MIME-Version: 1.0
Received: by 10.211.146.9 with SMTP id y9mr865001ebn.94.1252691796564; Fri, 11 
	Sep 2009 10:56:36 -0700 (PDT)
In-Reply-To: <C6CFC7A1.44E%awittenauer@linkedin.com>
References: <4AA9BEC9.3000602@gmail.com>
	 <C6CFC7A1.44E%awittenauer@linkedin.com>
Date: Fri, 11 Sep 2009 13:56:36 -0400
Message-ID: <cbbf4b570909111056m7582ec84g6a6b869949f68ac7@mail.gmail.com>
Subject: Re: Decommissioning Individual Disks
From: Edward Capriolo <edlinuxguru@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Fri, Sep 11, 2009 at 12:23 PM, Allen Wittenauer
<awittenauer@linkedin.com> wrote:
> On 9/10/09 8:06 PM, "David B. Ritch" <david.ritch@gmail.com> wrote:
>> Thank you both. =A0That's what we did today. =A0It seems fairly reasonab=
le
>> when a node has a few disks, say 3-5. =A0However, at some sites, with
>> larger nodes, it seems more awkward.
>
> Hmm. =A0The vast majority of sites are using 4 disk configurations, that =
I
> know of. =A0I'd love to know who using 5 or more drives and have a
> conversation with them.
>
> [The only people who did terasort on 12 disks that I know of is Google...
> and they weren't using Hadoop. :)]
>
>

>>>
Will the
running datanode process pick up the fact that an entire partition goes
missing and reappears empty a few minutes later?
>>>

If you lose a directory the datanode stops. See
https://issues.apache.org/jira/browse/HDFS-457

FYI we are using 8 1TB SATA disks on Data Nodes. When I lose a disk
Hadoop "self heals". You can control the network bandwidth used for
replication and you have the balancer app. With large disks you really
dont have time to copy data since the datanode is going to be marked
down in 10 minutes and all the data will begin getting copied
elsewhere.

From common-user-return-17411-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 11 19:30:37 2009
Return-Path: <common-user-return-17411-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 89673 invoked from network); 11 Sep 2009 19:30:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Sep 2009 19:30:37 -0000
Received: (qmail 56121 invoked by uid 500); 11 Sep 2009 19:30:35 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 56040 invoked by uid 500); 11 Sep 2009 19:30:35 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 56030 invoked by uid 99); 11 Sep 2009 19:30:35 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 19:30:35 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [192.139.80.206] (HELO mx1.casalemedia.com) (192.139.80.206)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 19:30:27 +0000
Received: from exchange.casalemedia.com (unknown [10.3.10.15])
	by mx1.casalemedia.com (Postfix) with ESMTP id A5188440001
	for <common-user@hadoop.apache.org>; Fri, 11 Sep 2009 15:30:06 -0400 (EDT)
Received: from mayuran.casalemedia.com (10.3.10.40) by
 exchange.casalemedia.com (10.3.10.15) with Microsoft SMTP Server id
 8.1.240.5; Fri, 11 Sep 2009 15:30:06 -0400
Message-ID: <4AAAA53E.1070407@casalemedia.com>
Date: Fri, 11 Sep 2009 15:30:06 -0400
From: Mayuran Yogarajah <mayuran.yogarajah@casalemedia.com>
User-Agent: Thunderbird 2.0.0.23 (X11/20090812)
MIME-Version: 1.0
To: "common-user@hadoop.apache.org" <common-user@hadoop.apache.org>
Subject: Question about mapred.child.java.opts
Content-Type: text/plain; charset="ISO-8859-1"; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

Is there any sense in setting mapred.child.java.opts to a high value
if all we're using is Hadoop streaming ? We've set it to 512MB but
I don't know if it even matters..

thanks

From common-user-return-17412-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 11 21:11:49 2009
Return-Path: <common-user-return-17412-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 23429 invoked from network); 11 Sep 2009 21:11:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Sep 2009 21:11:48 -0000
Received: (qmail 92331 invoked by uid 500); 11 Sep 2009 21:11:46 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 92242 invoked by uid 500); 11 Sep 2009 21:11:46 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 92232 invoked by uid 99); 11 Sep 2009 21:11:46 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 21:11:46 +0000
X-ASF-Spam-Status: No, hits=4.3 required=10.0
	tests=DNS_FROM_RFC_BOGUSMX,HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of bzhang@cs.utsa.edu designates 129.115.29.15 as permitted sender)
Received: from [129.115.29.15] (HELO mail1.cs.utsa.edu) (129.115.29.15)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 21:11:34 +0000
Received: from wifi-roaming-243-44.nss.udel.edu ([128.175.243.44] helo=IBMPC)
	by mail1.cs.utsa.edu with esmtpa (Exim 4.44)
	id 1MmDOi-0005St-6d
	for common-user@hadoop.apache.org; Fri, 11 Sep 2009 16:11:12 -0500
From: "Boyu Zhang" <bzhang@cs.utsa.edu>
To: <common-user@hadoop.apache.org>
Subject: Hadoop Input Files Directory
Date: Fri, 11 Sep 2009 17:10:11 -0400
Message-ID: <003701ca3324$622b6210$26822630$@utsa.edu>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0038_01CA3302.DB19C210"
X-Mailer: Microsoft Office Outlook 12.0
Thread-Index: AcozJAwpNICfeUjcR9ORcPDbBPzixA==
Content-Language: en-us
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPart_000_0038_01CA3302.DB19C210
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit

Dear All,

 

I have an input directories of depth 3, the actual files are in the deepest
levels. (something like /data/user/dir_0/file0 , /data/user/dir_1/file0,
/data/user/dir_2/file0) And I want to write a mapreduce job to process these
files in the deepest levels. 

 

One way of doing so is to specify the input path to the directories that
contain the files, like /data/user/dir_0, /data/user/dir_1,
/data/user/dir_2. But this way is not feasible when I have much more
directories as I will. I tried to specify the input path as /data/user, but
I get error of cannot open filename /data/user/dir_0. 

 

My question is that is there any way that I can process all the files in a
hierarchy with the input path set to the top level?

 

Thanks a lot for the time!

 

Boyu Zhang

University of Delaware 


------=_NextPart_000_0038_01CA3302.DB19C210--


From common-user-return-17413-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 11 21:18:28 2009
Return-Path: <common-user-return-17413-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 24831 invoked from network); 11 Sep 2009 21:18:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Sep 2009 21:18:27 -0000
Received: (qmail 1616 invoked by uid 500); 11 Sep 2009 21:18:25 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 1521 invoked by uid 500); 11 Sep 2009 21:18:25 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 1511 invoked by uid 99); 11 Sep 2009 21:18:25 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 21:18:25 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of boyuzhang35@gmail.com designates 209.85.210.204 as permitted sender)
Received: from [209.85.210.204] (HELO mail-yx0-f204.google.com) (209.85.210.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 21:18:16 +0000
Received: by yxe42 with SMTP id 42so1930816yxe.31
        for <common-user@hadoop.apache.org>; Fri, 11 Sep 2009 14:17:55 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:from:to:subject:date
         :message-id:mime-version:content-type:x-mailer:thread-index
         :content-language;
        bh=9JUgteSP43Tks6dDFwsbxDxam48m9SzAxzBqruSUDI8=;
        b=xFRvso6ZzfXsTVhXo+exC4051ASu6qo0ujj3DXEdg9IscndwrEGEK4o0fNVs4s7ZJM
         zbWBL+XsTE3Oa0pOHpBdAj9wi2LsSqsfmwcACPGL6mLMnimXpAPkUjF/eUKpNlf9ifP9
         5lXBZ4v/S/NBwlDtjkQjh5RZu4UYjIG1XqmT8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=from:to:subject:date:message-id:mime-version:content-type:x-mailer
         :thread-index:content-language;
        b=WoBQm7mdBY9T/Tby0l9BlySRDkNg3AdlhhMLN8vXjry/uQeDINZ2qlWPpbbJXe+xQC
         kJUxJFbqBe293R1g7rFL2k+actM193qADuKlMAg2VUvpRpgB8CT9cvvbPpwK+S7EhaYK
         QMEJLSbGQGEe5OeX77gy5KtGpnnauN0FsqS4E=
Received: by 10.101.27.20 with SMTP id e20mr3750461anj.137.1252703875146;
        Fri, 11 Sep 2009 14:17:55 -0700 (PDT)
Received: from IBMPC (wifi-roaming-243-44.nss.udel.edu [128.175.243.44])
        by mx.google.com with ESMTPS id 22sm1183315yxe.7.2009.09.11.14.17.52
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Fri, 11 Sep 2009 14:17:54 -0700 (PDT)
From: "Boyu Zhang" <boyuzhang35@gmail.com>
To: <common-user@hadoop.apache.org>
Subject: Hadoop Input File Directory
Date: Fri, 11 Sep 2009 17:17:45 -0400
Message-ID: <000001ca3325$51a36630$f4ea3290$@com>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0001_01CA3303.CA91C630"
X-Mailer: Microsoft Office Outlook 12.0
Thread-Index: AcozJOsvmukHGRD5T9m17ln8FxdZlw==
Content-Language: en-us
X-Virus-Checked: Checked by ClamAV on apache.org

------=_NextPart_000_0001_01CA3303.CA91C630
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Dear all,

 

I have an input file hierarchy of depth 3, something like
/data/user/dir_0/file0, /data/user/dir_1/file0, /data/user/dir_2/file0. I
want to run a mapreduce job to process all the files in the deepest levels.

 

One way of doing so is to specify the input path like /data/user/dir_0,
/data/user/dir_1, /data/user/dir_2, but this becomes infeasible when the
hierarchy grows.

 

I tried to specify the input path as /data/user, but I got errors like:
cannot open filename /data/user/dir_0.

 

My question is that is there any way that I can process all the files with
specifying the input data to the top level?

 

Thanks a lot!

 

Boyu Zhang

University of Delaware

 


------=_NextPart_000_0001_01CA3303.CA91C630--


From common-user-return-17414-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 11 21:34:15 2009
Return-Path: <common-user-return-17414-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 30082 invoked from network); 11 Sep 2009 21:34:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Sep 2009 21:34:15 -0000
Received: (qmail 19133 invoked by uid 500); 11 Sep 2009 21:34:12 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 19052 invoked by uid 500); 11 Sep 2009 21:34:12 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 19042 invoked by uid 99); 11 Sep 2009 21:34:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 21:34:12 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of amansk@gmail.com designates 209.85.132.248 as permitted sender)
Received: from [209.85.132.248] (HELO an-out-0708.google.com) (209.85.132.248)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 21:34:03 +0000
Received: by an-out-0708.google.com with SMTP id c38so524585ana.29
        for <common-user@hadoop.apache.org>; Fri, 11 Sep 2009 14:33:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=MWn+AUbEIIYGIslVoJgBzTFzlRtWWqr9kQQv5Dtalzg=;
        b=vasjisK5HsuwbEHDeSbiEPR8mkVEhMfSzsdPMp1O7XxIzGDQOB4xGJqPR20CuLibaM
         qRQ6UpqdMs6kUznOeyDiQuiG0+NAw6TCj1c6OGBwJbBLceoOf5fvIFPTr/JVzHdVGSJH
         rzlUEzVvffA9B/PFea6QmK7Pr1N2vxGyGlUY4=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=byMCWhUYoSSwyYwxfyLYaQXe0ECAJxCtVUU6GIAt+6DdU+602HlnJAoopMq/vq+6KX
         1rC093D2NiYNjDalw31Jrj9aKEZ0nssCL1iEYyokbs6IblJ/dbwMwX1CaDXfFslibjuD
         A3HgPpSCRAXqRXdRSbVos7+dcens55Q45eMHg=
MIME-Version: 1.0
Received: by 10.101.213.5 with SMTP id p5mr3878023anq.1.1252704822162; Fri, 11 
	Sep 2009 14:33:42 -0700 (PDT)
In-Reply-To: <003701ca3324$622b6210$26822630$@utsa.edu>
References: <003701ca3324$622b6210$26822630$@utsa.edu>
From: Amandeep Khurana <amansk@gmail.com>
Date: Fri, 11 Sep 2009 14:33:22 -0700
Message-ID: <35a22e220909111433y5ad94e03oa93af00a1c8f7246@mail.gmail.com>
Subject: Re: Hadoop Input Files Directory
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=001636c5be6ceef90004735411a3
X-Virus-Checked: Checked by ClamAV on apache.org

--001636c5be6ceef90004735411a3
Content-Type: text/plain; charset=ISO-8859-1

You can give something like /path/to/directories/*/*/*


On Fri, Sep 11, 2009 at 2:10 PM, Boyu Zhang <bzhang@cs.utsa.edu> wrote:

> Dear All,
>
>
>
> I have an input directories of depth 3, the actual files are in the deepest
> levels. (something like /data/user/dir_0/file0 , /data/user/dir_1/file0,
> /data/user/dir_2/file0) And I want to write a mapreduce job to process
> these
> files in the deepest levels.
>
>
>
> One way of doing so is to specify the input path to the directories that
> contain the files, like /data/user/dir_0, /data/user/dir_1,
> /data/user/dir_2. But this way is not feasible when I have much more
> directories as I will. I tried to specify the input path as /data/user, but
> I get error of cannot open filename /data/user/dir_0.
>
>
>
> My question is that is there any way that I can process all the files in a
> hierarchy with the input path set to the top level?
>
>
>
> Thanks a lot for the time!
>
>
>
> Boyu Zhang
>
> University of Delaware
>
>

--001636c5be6ceef90004735411a3--

From common-user-return-17415-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Fri Sep 11 23:35:51 2009
Return-Path: <common-user-return-17415-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 76560 invoked from network); 11 Sep 2009 23:35:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 11 Sep 2009 23:35:50 -0000
Received: (qmail 81614 invoked by uid 500); 11 Sep 2009 23:35:48 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 81540 invoked by uid 500); 11 Sep 2009 23:35:48 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 81530 invoked by uid 99); 11 Sep 2009 23:35:48 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 23:35:48 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of yuzhihong@gmail.com designates 209.85.222.196 as permitted sender)
Received: from [209.85.222.196] (HELO mail-pz0-f196.google.com) (209.85.222.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Fri, 11 Sep 2009 23:35:40 +0000
Received: by pzk34 with SMTP id 34so1190308pzk.25
        for <common-user@hadoop.apache.org>; Fri, 11 Sep 2009 16:35:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:date:message-id:subject
         :from:to:content-type;
        bh=rPMXEZWhgvy3XU1OTtAMqgdIynE+/1xOBw8yg6H4PjY=;
        b=b49KidP97xjyoJLte4r+UauH7ysaalK7g/KC+qJY+9lkWbnoWzkmSbLi75qccHCv3P
         KOtSgHumPjUMtrDdk9Yk6m+qtsQnu+8+Z+VFRBKYtIv6fvZ6goi8yu1m/aDQ5z79kkHd
         5kgmtYbtW5AWz4ZRlaHYmtNWh+iDSKnpiMcsE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=pEFB1pto7ow7TKzXNJCOcqbGrbaA6NN0C8MnRxmtvDJzNks5cT2Q2NG28OAptL162N
         OkKfDwNYXnqw3MyOKhkMzbKENnhkiT0PZYI9e5n7XM3CWZ3amXNVLIAAwhGvJJPJZFrX
         5UbV3y5XsrT7GmcGs51IFA2jN2iys5lEgLYCg=
MIME-Version: 1.0
Received: by 10.143.20.10 with SMTP id x10mr291235wfi.224.1252712120334; Fri, 
	11 Sep 2009 16:35:20 -0700 (PDT)
Date: Fri, 11 Sep 2009 16:35:20 -0700
Message-ID: <17e273100909111635w79fda992hbc80d2fc8794c18a@mail.gmail.com>
Subject: building hdfs-fuse
From: Ted Yu <yuzhihong@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=00504502cbe9f03994047355c477
X-Virus-Checked: Checked by ClamAV on apache.org

--00504502cbe9f03994047355c477
Content-Type: text/plain; charset=ISO-8859-1

I use the following commandline to build fuse:
ant compile-contrib -Dlibhdfs=1 -Dfusedfs=1

My ant version is 1.7.1

I got the following error:
     [exec] if gcc -DPACKAGE_NAME=\"fuse_dfs\"
-DPACKAGE_TARNAME=\"fuse_dfs\" -DPACKAGE_VERSION=\"0.1.0\"
-DPACKAGE_STRING=\"fuse_dfs\ 0.1.0\" -DPACKAGE_BUGREPORT=\"\"
-DGETGROUPS_T=gid_t -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1
-DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE_MEMORY_H=1
-DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1
-DHAVE_GETGROUPS=1 -DGETGROUPS_T=gid_t  -I. -I.  -DPERMS=1
-D_FILE_OFFSET_BITS=64 -I/usr/lib/jvm/java-1.6.0-openjdk-1.6.0.0/include
-I/usr/local/hadoop/src/c++/libhdfs/
-I/usr/lib/jvm/java-1.6.0-openjdk-1.6.0.0/include/linux/
-D_FUSE_DFS_VERSION=\"0.1.0\" -DPROTECTED_PATHS=\"\"
-I/usr/local/hadoop/hdfs-fuse/include   -Wall -O3 -MT fuse_dfs.o -MD -MP -MF
".deps/fuse_dfs.Tpo" -c -o fuse_dfs.o fuse_dfs.c; \
     [exec]     then mv -f ".deps/fuse_dfs.Tpo" ".deps/fuse_dfs.Po"; else rm
-f ".deps/fuse_dfs.Tpo"; exit 1; fi
     [exec] In file included from fuse_dfs.c:19:
     [exec] fuse_dfs.h:31:18: error: fuse.h: No such file or directory

I cannot find fuse.h under hadoop tree.

Can someone provide hint ?

--00504502cbe9f03994047355c477--

From common-user-return-17416-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Sat Sep 12 00:12:19 2009
Return-Path: <common-user-return-17416-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 87774 invoked from network); 12 Sep 2009 00:12:19 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 12 Sep 2009 00:12:19 -0000
Received: (qmail 9867 invoked by uid 500); 12 Sep 2009 00:12:17 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 9779 invoked by uid 500); 12 Sep 2009 00:12:17 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 9766 invoked by uid 99); 12 Sep 2009 00:12:17 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Sep 2009 00:12:17 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of anthony.urso@gmail.com designates 209.85.222.196 as permitted sender)
Received: from [209.85.222.196] (HELO mail-pz0-f196.google.com) (209.85.222.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Sep 2009 00:12:07 +0000
Received: by pzk34 with SMTP id 34so1204509pzk.25
        for <common-user@hadoop.apache.org>; Fri, 11 Sep 2009 17:11:46 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=UrBUxaOOZTZPDrTVums2X/bmRPQocvF5VW/Zj/B0UHE=;
        b=QWV+n4cp/4bXu0osECQd0prs9TxM0IxLG65lYfRMya+6k9pBwzVsKntXuT8Rd4fBQA
         ahtCWIK6lYcrR2IoaljDpO4hERnZxfNJXYMWQGn4KPKtxSM+r8g5t9P63WorO5TIl8TZ
         6HaE6KHzfdB5cJBZCHFzLSxX2TLsTvD1bXIqo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=wK1ucm9JlWCJkk+C+pDY1YBzOqvFRJkp4Dh48JS9yjbfT1cWZ4Z4t/IYqVLluMVs5j
         swFFDEgCZi9rCV5DQmFZHkI52Pu90WwJza9FZswmReAYuJkKvognyraF2lsbRAKMR6i8
         nBS80AJYMZGfBFOBoIgGhkONv8by+Jc0pZOHY=
MIME-Version: 1.0
Received: by 10.140.171.4 with SMTP id t4mr793829rve.83.1252714306691; Fri, 11 
	Sep 2009 17:11:46 -0700 (PDT)
In-Reply-To: <17e273100909111635w79fda992hbc80d2fc8794c18a@mail.gmail.com>
References: <17e273100909111635w79fda992hbc80d2fc8794c18a@mail.gmail.com>
Date: Fri, 11 Sep 2009 17:11:46 -0700
Message-ID: <ba72f77f0909111711o79d38d3bt1d342153f403d5c4@mail.gmail.com>
Subject: Re: building hdfs-fuse
From: Anthony Urso <anthony.urso@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

fuse.h should come with the FUSE software, not Hadoop.  It should be
somewhere like /usr/include/fuse.h on a Linux machine. Possibly
/usr/local/include/fuse.h

Did you install FUSE from source?  If not, you probably need something
like Debian's  libfuse-dev package installed by your operating system.
 Other vendors will call the package by a different name.

Cheers,
Anthony

On Fri, Sep 11, 2009 at 4:35 PM, Ted Yu <yuzhihong@gmail.com> wrote:
> I use the following commandline to build fuse:
> ant compile-contrib -Dlibhdfs=3D1 -Dfusedfs=3D1
>
> My ant version is 1.7.1
>
> I got the following error:
> =A0 =A0 [exec] if gcc -DPACKAGE_NAME=3D\"fuse_dfs\"
> -DPACKAGE_TARNAME=3D\"fuse_dfs\" -DPACKAGE_VERSION=3D\"0.1.0\"
> -DPACKAGE_STRING=3D\"fuse_dfs\ 0.1.0\" -DPACKAGE_BUGREPORT=3D\"\"
> -DGETGROUPS_T=3Dgid_t -DSTDC_HEADERS=3D1 -DHAVE_SYS_TYPES_H=3D1
> -DHAVE_SYS_STAT_H=3D1 -DHAVE_STDLIB_H=3D1 -DHAVE_STRING_H=3D1 -DHAVE_MEMO=
RY_H=3D1
> -DHAVE_STRINGS_H=3D1 -DHAVE_INTTYPES_H=3D1 -DHAVE_STDINT_H=3D1 -DHAVE_UNI=
STD_H=3D1
> -DHAVE_GETGROUPS=3D1 -DGETGROUPS_T=3Dgid_t =A0-I. -I. =A0-DPERMS=3D1
> -D_FILE_OFFSET_BITS=3D64 -I/usr/lib/jvm/java-1.6.0-openjdk-1.6.0.0/includ=
e
> -I/usr/local/hadoop/src/c++/libhdfs/
> -I/usr/lib/jvm/java-1.6.0-openjdk-1.6.0.0/include/linux/
> -D_FUSE_DFS_VERSION=3D\"0.1.0\" -DPROTECTED_PATHS=3D\"\"
> -I/usr/local/hadoop/hdfs-fuse/include =A0 -Wall -O3 -MT fuse_dfs.o -MD -M=
P -MF
> ".deps/fuse_dfs.Tpo" -c -o fuse_dfs.o fuse_dfs.c; \
> =A0 =A0 [exec] =A0 =A0 then mv -f ".deps/fuse_dfs.Tpo" ".deps/fuse_dfs.Po=
"; else rm
> -f ".deps/fuse_dfs.Tpo"; exit 1; fi
> =A0 =A0 [exec] In file included from fuse_dfs.c:19:
> =A0 =A0 [exec] fuse_dfs.h:31:18: error: fuse.h: No such file or directory
>
> I cannot find fuse.h under hadoop tree.
>
> Can someone provide hint ?
>

From common-user-return-17417-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Sat Sep 12 06:12:48 2009
Return-Path: <common-user-return-17417-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 45229 invoked from network); 12 Sep 2009 06:12:48 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 12 Sep 2009 06:12:48 -0000
Received: (qmail 60505 invoked by uid 500); 12 Sep 2009 06:12:45 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 60408 invoked by uid 500); 12 Sep 2009 06:12:45 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 60397 invoked by uid 500); 12 Sep 2009 06:12:44 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 60394 invoked by uid 99); 12 Sep 2009 06:12:44 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Sep 2009 06:12:44 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of harish.mallipeddi@gmail.com designates 209.85.222.196 as permitted sender)
Received: from [209.85.222.196] (HELO mail-pz0-f196.google.com) (209.85.222.196)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Sep 2009 06:12:37 +0000
Received: by pzk34 with SMTP id 34so1344498pzk.25
        for <core-user@hadoop.apache.org>; Fri, 11 Sep 2009 23:12:17 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:from:date:message-id
         :subject:to:content-type;
        bh=HhOwuI8qkAb3OlG/TCNhq8xvurCN+2Ishys6jPp+KyE=;
        b=CRhoC7mU2CLZTWuT9wI/X5jpDWHjVlX3ZGWre99gg8E1mGgwLciQcBBNGj5Np3Jfsd
         Vs6l/rd8cCkMgIwrL2vyrmfbQg0hunUesW73tvXzPAtas88x0XAKq0jn63kbtdBC7MQA
         A3/cx+1v6Np+ri5gh6SrSxO2OHsPW4rhE6eGA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:from:date:message-id:subject:to:content-type;
        b=FIblw7ZFcB/EU8Y6oxhXT4juwVQrEKBccknidAvn6X6MHQF4n27crBoxFp2feFhaoC
         vXZGog5UGqqB//+vaSCnxihHkD1d83MOw8w/ESYA+Pq65+c1JVvvsI6n2+GCWm5Da+eR
         2NEr+vTLXK2VRBZS2M3SvK9zYVC/0zWAzK74U=
MIME-Version: 1.0
Received: by 10.142.55.11 with SMTP id d11mr319975wfa.17.1252735937091; Fri, 
	11 Sep 2009 23:12:17 -0700 (PDT)
From: Harish Mallipeddi <harish.mallipeddi@gmail.com>
Date: Sat, 12 Sep 2009 11:41:57 +0530
Message-ID: <e01b80590909112311i2ede13a0u75734394f88c03bd@mail.gmail.com>
Subject: What's a valid combiner?
To: core-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=001636b2bc8387198a04735b50e8
X-Virus-Checked: Checked by ClamAV on apache.org

--001636b2bc8387198a04735b50e8
Content-Type: text/plain; charset=ISO-8859-1

Hi,
I was looking at how the Combiner gets run inside Hadoop. Since there's no
separate Combiner interface, it basically seems to give the user the
impression any valid Reducer can be used as a Combiner. There's a little
"warning" note added to the docs under the setCombinerClass() method as to
what a combiner should not do:

"The framework may invoke the combiner 0, 1, or multiple times, in both the
mapper and reducer tasks. In general, the combiner is called as the
sort/merge result is written to disk. The combiner must:
* be side-effect free
* have the same input and output key types and the same input and output
value types
Typically the combiner is same as the Reducer for the job i.e.
setReducerClass(Class)."

But after reading through some of the Hadoop code, it seems like there are
many more restrictions on what a valid combiner is. Correct me if I'm wrong
but a combiner can potentially get run 3 different times:

1) Map-side - when a map-side spill is about to occur, combiner is run
inside each partition.
2) Map-side - when multiple spill files are being merged together.
3) Reduce-side - when multiple map-outputs are being merged before the
reduce() function is invoked.

In all these above cases, Hadoop is making an assumption that:

1) A combiner does not change the key. Apart from the fact that the input
and output key types should match (as already mentioned in the Java docs
above), it seems like the input and the output key should be exactly the
same. Because if the combiner modifies the key, the key basically ends up in
the wrong partition (because this new key is never rehashed to another
partition) and the entire merge-sort operation is affected downstream.

2) Since the combiner can be run multiple times or not be run at all, it
directly implies that the operation that is used to combine multiple values
into one value should be "associative & commutative"?

Why isn't there a separate Combiner interface? If not, maybe some of these
other gotchas should be documented somewhere?

I ran a simple experiment - I took the wordcount example and just modified
the Reducer such that it outputs the string key "reversed" and then used
this reducer as the combiner. It led to some funny results.

-- 
Harish Mallipeddi
http://blog.poundbang.in

--001636b2bc8387198a04735b50e8--

From common-user-return-17418-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Sat Sep 12 07:57:40 2009
Return-Path: <common-user-return-17418-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 1226 invoked from network); 12 Sep 2009 07:57:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 12 Sep 2009 07:57:40 -0000
Received: (qmail 93011 invoked by uid 500); 12 Sep 2009 07:57:38 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 92920 invoked by uid 500); 12 Sep 2009 07:57:37 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 92910 invoked by uid 99); 12 Sep 2009 07:57:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Sep 2009 07:57:37 +0000
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.30.56] (HELO QMTA06.emeryville.ca.mail.comcast.net) (76.96.30.56)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Sep 2009 07:57:26 +0000
Received: from OMTA13.emeryville.ca.mail.comcast.net ([76.96.30.52])
	by QMTA06.emeryville.ca.mail.comcast.net with comcast
	id fjx51c00317UAYkA6jx5Jx; Sat, 12 Sep 2009 07:57:05 +0000
Received: from [10.0.0.59] ([98.234.216.58])
	by OMTA13.emeryville.ca.mail.comcast.net with comcast
	id fjx41c0051GAoR68Zjx5FS; Sat, 12 Sep 2009 07:57:05 +0000
Message-Id: <0EC00F9E-B676-4E8A-913D-1B68B994CD0C@apache.org>
From: Owen O'Malley <omalley@apache.org>
To: common-user@hadoop.apache.org
In-Reply-To: <e01b80590909112311i2ede13a0u75734394f88c03bd@mail.gmail.com>
Content-Type: text/plain; charset=US-ASCII; format=flowed; delsp=yes
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0 (Apple Message framework v936)
Subject: Re: What's a valid combiner?
Date: Sat, 12 Sep 2009 00:57:03 -0700
References: <e01b80590909112311i2ede13a0u75734394f88c03bd@mail.gmail.com>
X-Mailer: Apple Mail (2.936)
X-Virus-Checked: Checked by ClamAV on apache.org

On Sep 11, 2009, at 11:11 PM, Harish Mallipeddi wrote:

> 1) A combiner does not change the key.

Please file a jira asking for this to be documented. You are right,  
this is a requirement on combiners and it is not currently stated.

> 2) Since the combiner can be run multiple times or not be run at  
> all, it
> directly implies that the operation that is used to combine multiple  
> values
> into one value should be "associative & commutative"?

Clearly that is the intent. However "associative and commutative" only  
have meaning for us math geeks. In non-math terms, telling the user  
that it may be run an indeterminate number of times implies that it  
must have those properties in order to do anything reasonable.

> Why isn't there a separate Combiner interface? If not, maybe some of  
> these
> other gotchas should be documented somewhere?

Such a class wouldn't be very interesting:

class Combiner extends Reducer {
}

isn't very interesting. Furthermore, it is often the case that the  
Combiner is the same as the Reducer....

I did toy with the idea of making an attribute such as @SideEffectFree  
that could mark classes that are acceptable as combiners. There is an  
old jira about this somewhere...

> I ran a simple experiment - I took the wordcount example and just  
> modified
> the Reducer such that it outputs the string key "reversed" and then  
> used
> this reducer as the combiner. It led to some funny results.

No doubt.

-- Owen

From common-user-return-17419-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Sat Sep 12 12:37:50 2009
Return-Path: <common-user-return-17419-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 51722 invoked from network); 12 Sep 2009 12:37:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 12 Sep 2009 12:37:50 -0000
Received: (qmail 14077 invoked by uid 500); 12 Sep 2009 12:37:48 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 13996 invoked by uid 500); 12 Sep 2009 12:37:47 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 13985 invoked by uid 99); 12 Sep 2009 12:37:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Sep 2009 12:37:47 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of yuzhihong@gmail.com designates 209.85.216.204 as permitted sender)
Received: from [209.85.216.204] (HELO mail-px0-f204.google.com) (209.85.216.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Sep 2009 12:37:38 +0000
Received: by pxi42 with SMTP id 42so1552994pxi.20
        for <common-user@hadoop.apache.org>; Sat, 12 Sep 2009 05:37:17 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=YAILVWZB8A/vEbPbjmk91xYSxwg6Z+0W8blgLQjbL34=;
        b=vAUGnXvc/d8uLXdOH3SNQy6TZjxjsbshEea+rqDSH5d2AJYaz+80fCTNXhsc6mfcVS
         upA6GHGboAHJoATAkU0FE9N5ctNrU0UqTkTyVa7VvxG0YnGmNge3PO+Y7MAASkugXhv5
         3beJYcHQoZ20/SFd4ik5q/MSFFaG00e1mjmTs=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=u44uwREPf87E0oIfmMS6+nJNB8CmnrTte0jg97X/RzGW4+NgdjhynxRs92c6CDX3wf
         NxqLIeCkdipufiY19zozNA8YbXdMeKsPE20smJxY+G3RJluOdGiSWsUtGwrEp1ol6+0D
         xsMQshrapj3nnBTLtJWPLbeVf+/7ems3ytOsc=
MIME-Version: 1.0
Received: by 10.143.25.40 with SMTP id c40mr337122wfj.265.1252759037224; Sat, 
	12 Sep 2009 05:37:17 -0700 (PDT)
In-Reply-To: <ba72f77f0909111711o79d38d3bt1d342153f403d5c4@mail.gmail.com>
References: <17e273100909111635w79fda992hbc80d2fc8794c18a@mail.gmail.com>
	 <ba72f77f0909111711o79d38d3bt1d342153f403d5c4@mail.gmail.com>
Date: Sat, 12 Sep 2009 05:37:17 -0700
Message-ID: <17e273100909120537t6ebaeb4fpa755ec857a1f2c9f@mail.gmail.com>
Subject: Re: building hdfs-fuse
From: Ted Yu <yuzhihong@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=001636e1f96d6728d8047360b195
X-Virus-Checked: Checked by ClamAV on apache.org

--001636e1f96d6728d8047360b195
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: quoted-printable

I found fuse.h at /usr/include/linux/
I upgraded ggc on my Linux but still saw problems.

For the following enum:

enum fuse_opcode {
        FUSE_LOOKUP        =3D 1,
        FUSE_FORGET        =3D 2,  /* no reply */

     [exec] /usr/local/hadoop/hdfs-fuse/include/fuse.h:115: error:
redeclaration of enumerator =E2=80=98FUSE_GETXATTR=E2=80=99
     [exec] /usr/local/hadoop/hdfs-fuse/include/fuse.h:115: error: previous
definition of =E2=80=98FUSE_GETXATTR=E2=80=99 was here

-------
For:
struct fuse_init_in {
        __u32   major;
        __u32   minor;
        __u32   max_readahead;
        __u32   flags;
};

     [exec] /usr/local/hadoop/hdfs-fuse/include/fuse.h:279: error:
redefinition of =E2=80=98struct fuse_init_in=E2=80=99

--------
fuse_fill_dir_t isn't defined in fuse.h, so

     [exec] In file included from fuse_dfs.c:21:
     [exec] fuse_impls.h:37: error: expected declaration specifiers or
=E2=80=98...=E2=80=99 before =E2=80=98fuse_fill_dir_t=E2=80=99
     [exec] fuse_impls.h:38: warning: =E2=80=98struct fuse_file_info=E2=80=
=99 declared
inside parameter list

On Fri, Sep 11, 2009 at 5:11 PM, Anthony Urso <anthony.urso@gmail.com>wrote=
:

> fuse.h should come with the FUSE software, not Hadoop.  It should be
> somewhere like /usr/include/fuse.h on a Linux machine. Possibly
> /usr/local/include/fuse.h
>
> Did you install FUSE from source?  If not, you probably need something
> like Debian's  libfuse-dev package installed by your operating system.
>  Other vendors will call the package by a different name.
>
> Cheers,
> Anthony
>
> On Fri, Sep 11, 2009 at 4:35 PM, Ted Yu <yuzhihong@gmail.com> wrote:
> > I use the following commandline to build fuse:
> > ant compile-contrib -Dlibhdfs=3D1 -Dfusedfs=3D1
> >
> > My ant version is 1.7.1
> >
> > I got the following error:
> >     [exec] if gcc -DPACKAGE_NAME=3D\"fuse_dfs\"
> > -DPACKAGE_TARNAME=3D\"fuse_dfs\" -DPACKAGE_VERSION=3D\"0.1.0\"
> > -DPACKAGE_STRING=3D\"fuse_dfs\ 0.1.0\" -DPACKAGE_BUGREPORT=3D\"\"
> > -DGETGROUPS_T=3Dgid_t -DSTDC_HEADERS=3D1 -DHAVE_SYS_TYPES_H=3D1
> > -DHAVE_SYS_STAT_H=3D1 -DHAVE_STDLIB_H=3D1 -DHAVE_STRING_H=3D1 -DHAVE_ME=
MORY_H=3D1
> > -DHAVE_STRINGS_H=3D1 -DHAVE_INTTYPES_H=3D1 -DHAVE_STDINT_H=3D1
> -DHAVE_UNISTD_H=3D1
> > -DHAVE_GETGROUPS=3D1 -DGETGROUPS_T=3Dgid_t  -I. -I.  -DPERMS=3D1
> > -D_FILE_OFFSET_BITS=3D64 -I/usr/lib/jvm/java-1.6.0-openjdk-1.6.0.0/incl=
ude
> > -I/usr/local/hadoop/src/c++/libhdfs/
> > -I/usr/lib/jvm/java-1.6.0-openjdk-1.6.0.0/include/linux/
> > -D_FUSE_DFS_VERSION=3D\"0.1.0\" -DPROTECTED_PATHS=3D\"\"
> > -I/usr/local/hadoop/hdfs-fuse/include   -Wall -O3 -MT fuse_dfs.o -MD -M=
P
> -MF
> > ".deps/fuse_dfs.Tpo" -c -o fuse_dfs.o fuse_dfs.c; \
> >     [exec]     then mv -f ".deps/fuse_dfs.Tpo" ".deps/fuse_dfs.Po"; els=
e
> rm
> > -f ".deps/fuse_dfs.Tpo"; exit 1; fi
> >     [exec] In file included from fuse_dfs.c:19:
> >     [exec] fuse_dfs.h:31:18: error: fuse.h: No such file or directory
> >
> > I cannot find fuse.h under hadoop tree.
> >
> > Can someone provide hint ?
> >
>

--001636e1f96d6728d8047360b195--

From common-user-return-17420-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Sat Sep 12 20:39:57 2009
Return-Path: <common-user-return-17420-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 35199 invoked from network); 12 Sep 2009 20:39:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 12 Sep 2009 20:39:57 -0000
Received: (qmail 1549 invoked by uid 500); 12 Sep 2009 20:39:55 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 1471 invoked by uid 500); 12 Sep 2009 20:39:55 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 1461 invoked by uid 500); 12 Sep 2009 20:39:55 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 1458 invoked by uid 99); 12 Sep 2009 20:39:55 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Sep 2009 20:39:55 +0000
X-ASF-Spam-Status: No, hits=1.1 required=10.0
	tests=FORGED_HOTMAIL_RCVD2,SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of lists@nabble.com designates 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Sep 2009 20:39:46 +0000
Received: from isper.nabble.com ([192.168.236.156])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lists@nabble.com>)
	id 1MmZNV-0006J1-QL
	for core-user@hadoop.apache.org; Sat, 12 Sep 2009 13:39:25 -0700
Message-ID: <25418039.post@talk.nabble.com>
Date: Sat, 12 Sep 2009 13:39:25 -0700 (PDT)
From: Richard G <gladiatorcn@hotmail.com>
To: core-user@hadoop.apache.org
Subject: How to retrieve the reducer output file names?
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: gladiatorcn@hotmail.com
X-Virus-Checked: Checked by ClamAV on apache.org


Hi,

For my application, I need to retrieve the output file name for each
reducer. But is there any convenient way to do that? I also want to know
which file is coming from which reducer. So simple enumeration in output
directory doesn't work for me.

Thank you!
-- 
View this message in context: http://www.nabble.com/How-to-retrieve-the-reducer-output-file-names--tp25418039p25418039.html
Sent from the Hadoop core-user mailing list archive at Nabble.com.


From common-user-return-17421-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Sat Sep 12 20:44:39 2009
Return-Path: <common-user-return-17421-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 35959 invoked from network); 12 Sep 2009 20:44:39 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 12 Sep 2009 20:44:39 -0000
Received: (qmail 5823 invoked by uid 500); 12 Sep 2009 20:44:37 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 5731 invoked by uid 500); 12 Sep 2009 20:44:37 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 5721 invoked by uid 99); 12 Sep 2009 20:44:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Sep 2009 20:44:37 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of amansk@gmail.com designates 209.85.132.246 as permitted sender)
Received: from [209.85.132.246] (HELO an-out-0708.google.com) (209.85.132.246)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Sep 2009 20:44:26 +0000
Received: by an-out-0708.google.com with SMTP id c38so721456ana.29
        for <common-user@hadoop.apache.org>; Sat, 12 Sep 2009 13:44:05 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=0r2Ibq4StWp6fbKjTcriD8pBke0AaM0cfcE0TMbtWXg=;
        b=FAG0aU3a+gnndArZdykQmLWL9GmjjxOT5qWKfYVvZfI5xv6B7EAl9lCXNmm4lDkycq
         cOPoLNazbwLJiGRoGh65y/imQJRmIHxO02LJeHFCuJC9ggXSQa83nLaQIh/6XSQFg1aX
         7vqxL6YtJc6/YUwtQ42TgJzmmAG63Dvj7SXEo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=SQoKafqLSfkV/u9qUwmKj8KpV2UZa4LuPSKLyR7hEzoWvVG8nvlI+QSMo9y97U2w/p
         yBM0KF9ODzBsVUE3RWlbScOruAnQopZS8ZNAGdf6gwehlWotym98Ep+OxeSKy9/797xm
         dfe3/sYiTIRgdVeLdh1ND1PUFCC8ZLYjQSmVg=
MIME-Version: 1.0
Received: by 10.100.192.12 with SMTP id p12mr4799179anf.142.1252788245166; 
	Sat, 12 Sep 2009 13:44:05 -0700 (PDT)
In-Reply-To: <25418039.post@talk.nabble.com>
References: <25418039.post@talk.nabble.com>
From: Amandeep Khurana <amansk@gmail.com>
Date: Sat, 12 Sep 2009 13:43:45 -0700
Message-ID: <35a22e220909121343m3f6e50dfmfb53b1f28b5be853@mail.gmail.com>
Subject: Re: How to retrieve the reducer output file names?
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0016364ed19454fbdc0473677e55
X-Virus-Checked: Checked by ClamAV on apache.org

--0016364ed19454fbdc0473677e55
Content-Type: text/plain; charset=ISO-8859-1

I'm not sure if that is possible. Would rather wait for someone to give a
more concrete answer.

However, I'm curious - what kind of application is it and why would you need
to know which reducer is giving out which file? Also, have you thought about
any other way of designing the application so that it can run independent of
this information?


Amandeep Khurana
Computer Science Graduate Student
University of California, Santa Cruz


On Sat, Sep 12, 2009 at 1:39 PM, Richard G <gladiatorcn@hotmail.com> wrote:

>
> Hi,
>
> For my application, I need to retrieve the output file name for each
> reducer. But is there any convenient way to do that? I also want to know
> which file is coming from which reducer. So simple enumeration in output
> directory doesn't work for me.
>
> Thank you!
> --
> View this message in context:
> http://www.nabble.com/How-to-retrieve-the-reducer-output-file-names--tp25418039p25418039.html
> Sent from the Hadoop core-user mailing list archive at Nabble.com.
>
>

--0016364ed19454fbdc0473677e55--

From common-user-return-17422-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Sat Sep 12 21:21:11 2009
Return-Path: <common-user-return-17422-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 42022 invoked from network); 12 Sep 2009 21:21:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 12 Sep 2009 21:21:11 -0000
Received: (qmail 21799 invoked by uid 500); 12 Sep 2009 21:21:09 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 21711 invoked by uid 500); 12 Sep 2009 21:21:09 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 21701 invoked by uid 99); 12 Sep 2009 21:21:09 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Sep 2009 21:21:09 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of tarandeep@gmail.com designates 209.85.219.208 as permitted sender)
Received: from [209.85.219.208] (HELO mail-ew0-f208.google.com) (209.85.219.208)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sat, 12 Sep 2009 21:20:58 +0000
Received: by ewy4 with SMTP id 4so2081791ewy.36
        for <common-user@hadoop.apache.org>; Sat, 12 Sep 2009 14:20:38 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=UbeLl0usP2busUwoED+5umSrvAOm37ICnaixhCpL3XY=;
        b=QDHCtRz/ohe3/rmzKJ8yvN2YgWq2fqXIa+iI6kRjDhqjPkwdRKU0qayn3Tvct+sTmH
         LjyshgY0N3rqH+yyFoGSc3Cp7/3TnGqmW0gBzr9NCsTuunxfsyVmnsiLjT18dYypv1Ir
         OGDmiFQaxnXp+xsc77+jVYzrOl17Xf4jHhs4c=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=ir3L9V5Lxp1P9c2iu8wsjWqjERKB4QpIxcm87OxjpxexFKOVL+Uq99iSMGZCL+vxTO
         f3qywWP5AU0VhkSGz2C3IFmifYpYj9G2dXXe/SjAvuhV5SWY5bOQy3n2Hwov19dyIqfk
         lBi6bRorTcjoU4uM1/r5qHaUbyaWolXmGzrdI=
MIME-Version: 1.0
Received: by 10.211.157.7 with SMTP id j7mr5039274ebo.2.1252790438107; Sat, 12 
	Sep 2009 14:20:38 -0700 (PDT)
In-Reply-To: <25418039.post@talk.nabble.com>
References: <25418039.post@talk.nabble.com>
From: Tarandeep Singh <tarandeep@gmail.com>
Date: Sat, 12 Sep 2009 14:20:18 -0700
Message-ID: <e75c02ef0909121420r6f326d5fied3452d412b8b4c4@mail.gmail.com>
Subject: Re: How to retrieve the reducer output file names?
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=00504502cd070a9aaf04736801be
X-Virus-Checked: Checked by ClamAV on apache.org

--00504502cd070a9aaf04736801be
Content-Type: text/plain; charset=ISO-8859-1

The output of mappers is partitioned, each partition is given a number
starting from 0 and a reducer works on one of these partitions. In the
configure method of your reducer code, you can get the partition number by-
jobConf.getInt( "mapred.task.partition", 0);

If you use the default output format, then the reducer working on partition
0 will output part-00000, reducer working on partition 1 will output
part-00001 etc.

You can extend TextOutputFormat or SequenceFileOutputFormat (depending upon
which output format you are using) and change the file name from part-xxxxx
to some one else.

Hope this helps,
Tarandeep


On Sat, Sep 12, 2009 at 1:39 PM, Richard G <gladiatorcn@hotmail.com> wrote:

>
> Hi,
>
> For my application, I need to retrieve the output file name for each
> reducer. But is there any convenient way to do that? I also want to know
> which file is coming from which reducer. So simple enumeration in output
> directory doesn't work for me.
>
> Thank you!
> --
> View this message in context:
> http://www.nabble.com/How-to-retrieve-the-reducer-output-file-names--tp25418039p25418039.html
> Sent from the Hadoop core-user mailing list archive at Nabble.com.
>
>

--00504502cd070a9aaf04736801be--

From common-user-return-17423-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Sun Sep 13 10:01:52 2009
Return-Path: <common-user-return-17423-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 44722 invoked from network); 13 Sep 2009 10:01:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 13 Sep 2009 10:01:51 -0000
Received: (qmail 54784 invoked by uid 500); 13 Sep 2009 10:01:49 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 54697 invoked by uid 500); 13 Sep 2009 10:01:49 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 54687 invoked by uid 500); 13 Sep 2009 10:01:49 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 54684 invoked by uid 99); 13 Sep 2009 10:01:49 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Sep 2009 10:01:49 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of stas.oskin@gmail.com designates 209.85.218.214 as permitted sender)
Received: from [209.85.218.214] (HELO mail-bw0-f214.google.com) (209.85.218.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Sep 2009 10:01:40 +0000
Received: by bwz10 with SMTP id 10so1623152bwz.29
        for <core-user@hadoop.apache.org>; Sun, 13 Sep 2009 03:01:19 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:date:message-id:subject
         :from:to:content-type;
        bh=adxOKepGWbPfRuupSa0NJg9dSJwqJAQb31+6Ul+GVCg=;
        b=Vf3DDC+p5K2674PPR9NupVRhya5JH1Bv3Ix2+gdfp7E8DeoUWbhEfs6Ri2xcNzFMDi
         iQHSSPmjhni1iJ9lSSeEqEiZLczmiPl+gN/VCzwEvs4Sw0tq7KcbrpjF9OLKsY0QqAOA
         SGGdwzA+XhIQSZvipBhinzDjg2zfXzrRslbss=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=K4/7gVguSb0mjEBmjvevi9nlXmhu/1bXjGAHFeDCs05TkC2aMSXEWrWi+5tzO9R63f
         ED8FvRL4HM5hCdgUhcvpOkfHJtInFx2Uz6MA6IPE+ozz+iwJD/SVV7gRA7s3mvQe2Q6O
         59l1V22yhuPdOPQuwYcK3Te3IPBuL9U7Og/qs=
MIME-Version: 1.0
Received: by 10.223.1.137 with SMTP id 9mr1684484faf.93.1252836079778; Sun, 13 
	Sep 2009 03:01:19 -0700 (PDT)
Date: Sun, 13 Sep 2009 13:01:19 +0300
Message-ID: <77938bc20909130301g22082bd4xed4cd9b3c9632699@mail.gmail.com>
Subject: Multiple disks for DFS
From: Stas Oskin <stas.oskin@gmail.com>
To: core-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0015174764da7f3dd6047372a11f
X-Virus-Checked: Checked by ClamAV on apache.org

--0015174764da7f3dd6047372a11f
Content-Type: text/plain; charset=ISO-8859-1

Hi.

When I specify multiple disks for DFS, does Hadoop distributes the
concurrent writings over the multiple disks?

I mean, to prevent an utilization of a single disk?

Thanks for any info on subject.

--0015174764da7f3dd6047372a11f--

From common-user-return-17424-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Sun Sep 13 10:08:47 2009
Return-Path: <common-user-return-17424-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 45482 invoked from network); 13 Sep 2009 10:08:46 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 13 Sep 2009 10:08:46 -0000
Received: (qmail 57919 invoked by uid 500); 13 Sep 2009 10:08:44 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 57841 invoked by uid 500); 13 Sep 2009 10:08:44 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 57831 invoked by uid 500); 13 Sep 2009 10:08:44 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 57828 invoked by uid 99); 13 Sep 2009 10:08:44 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Sep 2009 10:08:44 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of stas.oskin@gmail.com designates 209.85.220.218 as permitted sender)
Received: from [209.85.220.218] (HELO mail-fx0-f218.google.com) (209.85.220.218)
    by apache.org (qpsmtpd/0.29) with ESMTP; Sun, 13 Sep 2009 10:08:35 +0000
Received: by fxm18 with SMTP id 18so1628242fxm.29
        for <core-user@hadoop.apache.org>; Sun, 13 Sep 2009 03:08:15 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=4rsoFtLv/tfX1iJUNz+BW0VHx5jFqx9UDjccV+b1r8s=;
        b=GyAydQokcqNuFYE73kYCf/RPV3vRP1ihLmLt26dZpkxeHUsenjA6vf045XcjdjVZl+
         TBnuDvGpglorF0P+x21yU0GBuDfysqt9XJF0DXW4m0LbA6exHlYrSk6o49eGgkXvi53U
         npXOkSwcyJdWjYdL56r+tKMvObofqi8yceo4Y=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=ZA+X9PGuq6/KZFiFs77K3f4cJ8GZoPrfkeZ4nc/NOOaWcFcobp0fqq0kOoP2QAIi20
         3Z8PMuSLQXvGOB+McegU5ZkwGwI+JFzwMg+mRKMtyxkpWnL8CIyw+F+/99rNBbmrJq1A
         rstve/RRK2dfNnHTIDdr4lX1TqmkhJTFW8WEw=
MIME-Version: 1.0
Received: by 10.223.7.90 with SMTP id c26mr1804122fac.73.1252836494994; Sun, 
	13 Sep 2009 03:08:14 -0700 (PDT)
In-Reply-To: <77938bc20905250340o2a7f60c8v548e123ae3be365e@mail.gmail.com>
References: <77938bc20905240533v3f1ff7c9s7ca005ff7c9b5a92@mail.gmail.com>
	 <ac79ea400905250332s170d0c4fseed8eea4a9a83d26@mail.gmail.com>
	 <77938bc20905250340o2a7f60c8v548e123ae3be365e@mail.gmail.com>
Date: Sun, 13 Sep 2009 13:08:14 +0300
Message-ID: <77938bc20909130308n30e6017fubce1900b039eba29@mail.gmail.com>
Subject: Re: RandomAccessFile with HDFS
From: Stas Oskin <stas.oskin@gmail.com>
To: core-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=00151747860e3eefe7047372bac2
X-Virus-Checked: Checked by ClamAV on apache.org

--00151747860e3eefe7047372bac2
Content-Type: text/plain; charset=ISO-8859-1

Hi.

Any idea when the "append" functionality is expected?

Regards.

--00151747860e3eefe7047372bac2--

From common-user-return-17425-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 14 02:38:50 2009
Return-Path: <common-user-return-17425-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 3430 invoked from network); 14 Sep 2009 02:38:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Sep 2009 02:38:49 -0000
Received: (qmail 42360 invoked by uid 500); 14 Sep 2009 02:38:47 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 42248 invoked by uid 500); 14 Sep 2009 02:38:47 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 42238 invoked by uid 99); 14 Sep 2009 02:38:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 02:38:47 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jason.hadoop@gmail.com designates 209.85.212.183 as permitted sender)
Received: from [209.85.212.183] (HELO mail-vw0-f183.google.com) (209.85.212.183)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 02:38:36 +0000
Received: by vws13 with SMTP id 13so1648946vws.2
        for <common-user@hadoop.apache.org>; Sun, 13 Sep 2009 19:38:15 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=SFwRpZRCBoZupDgOBI337mPyjBY7eaZqw++DOYzkmv4=;
        b=gQ+iXPF5RU5g9xImyIrgH47Qt2m6Vfn1nLiDgZ1aa4J0kGHvbAkSU6U5tT33nK6Xsp
         B6I0COEXTBYh7oSidOMK7PVx1qguXWyqmOZDlV54nnzwz2K5LqJJH7sWkfK1+0UEKsW9
         RalalOd2Y9yBLgX6OSah+AKm6Ml7XS9nUoSnQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=F3x510ExN6t+eq2da+GPJTx0VE3A5zin6/k2W61w3d7bOcBeyCkjMDxA6gGyCWX5c7
         lVKP/p6no93Iq0Wzw+7v0Ist+GqtTpK8YI92HyRz1pYcQZJdxS6oLygI97D3lKHYJEsm
         sktYY0YDsSNotUPRK5P143p0R5gYxXtWZmvj0=
MIME-Version: 1.0
Received: by 10.220.108.40 with SMTP id d40mr7215165vcp.80.1252895895081; Sun, 
	13 Sep 2009 19:38:15 -0700 (PDT)
In-Reply-To: <77938bc20909130301g22082bd4xed4cd9b3c9632699@mail.gmail.com>
References: <77938bc20909130301g22082bd4xed4cd9b3c9632699@mail.gmail.com>
Date: Sun, 13 Sep 2009 19:38:15 -0700
Message-ID: <314098690909131938n4331541r5034ccb8cfcab679@mail.gmail.com>
Subject: Re: Multiple disks for DFS
From: Jason Venner <jason.hadoop@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=00c09f8de204c453d30473808e97
X-Virus-Checked: Checked by ClamAV on apache.org

--00c09f8de204c453d30473808e97
Content-Type: text/plain; charset=ISO-8859-1

When you have multiple partitions specified for hdfs storage, they are used
for block storage in a round robin fashion.
If a partition has insufficient space it is dropped for the set used for
storing new blocks.

On Sun, Sep 13, 2009 at 3:01 AM, Stas Oskin <stas.oskin@gmail.com> wrote:

> Hi.
>
> When I specify multiple disks for DFS, does Hadoop distributes the
> concurrent writings over the multiple disks?
>
> I mean, to prevent an utilization of a single disk?
>
> Thanks for any info on subject.
>



-- 
Pro Hadoop, a book to guide you from beginner to hadoop mastery,
http://www.amazon.com/dp/1430219424?tag=jewlerymall
www.prohadoopbook.com a community for Hadoop Professionals

--00c09f8de204c453d30473808e97--

From common-user-return-17426-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 14 04:56:10 2009
Return-Path: <common-user-return-17426-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 45701 invoked from network); 14 Sep 2009 04:56:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Sep 2009 04:56:10 -0000
Received: (qmail 26292 invoked by uid 500); 14 Sep 2009 04:56:07 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 26195 invoked by uid 500); 14 Sep 2009 04:56:07 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 26185 invoked by uid 99); 14 Sep 2009 04:56:07 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 04:56:07 +0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=NO_RDNS_DOTCOM_HELO,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [216.145.54.171] (HELO mrout1.yahoo.com) (216.145.54.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 04:55:55 +0000
Received: from EGL-EX07CAS01.ds.corp.yahoo.com (egl-ex07cas01.eglbp.corp.yahoo.com [203.83.248.208])
	by mrout1.yahoo.com (8.13.6/8.13.6/y.out) with ESMTP id n8E4tUur021741
	for <common-user@hadoop.apache.org>; Sun, 13 Sep 2009 21:55:31 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; s=serpent; d=yahoo-inc.com; c=nofws; q=dns;
	h=received:from:to:date:subject:thread-topic:thread-index:
	message-id:references:in-reply-to:accept-language:
	content-language:x-ms-has-attach:x-ms-tnef-correlator:acceptlanguage:
	content-type:content-transfer-encoding:mime-version;
	b=Pg9XJDHtK9adEQQBT7OuFH972CGYSpmpvAUdA/8knU3N4LGB+0wqEiYPO5JvvJts
Received: from EGL-EX07VS01.ds.corp.yahoo.com ([203.83.248.206]) by
 EGL-EX07CAS01.ds.corp.yahoo.com ([203.83.248.215]) with mapi; Mon, 14 Sep
 2009 10:25:30 +0530
From: Amogh Vasekar <amogh@yahoo-inc.com>
To: "common-user@hadoop.apache.org" <common-user@hadoop.apache.org>
Date: Mon, 14 Sep 2009 10:23:58 +0530
Subject: RE: Hadoop Input Files Directory
Thread-Topic: Hadoop Input Files Directory
Thread-Index: AcozJ7uY/948FYosQgOZYg12ZIuTDQBz06sw
Message-ID: <616DA47B2EF5B944B91846785B512FF4CFC727F80B@EGL-EX07VS01.ds.corp.yahoo.com>
References: <003701ca3324$622b6210$26822630$@utsa.edu>
 <35a22e220909111433y5ad94e03oa93af00a1c8f7246@mail.gmail.com>
In-Reply-To: <35a22e220909111433y5ad94e03oa93af00a1c8f7246@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

An alternative will be to use hadoop fs apis to recursively list file statu=
s and pass that as the input files . This is slightly complicated but will =
give you more control and might help while debugging as well.
Just a thought.

Thanks,
Amogh

-----Original Message-----
From: Amandeep Khurana [mailto:amansk@gmail.com]=20
Sent: Saturday, September 12, 2009 3:03 AM
To: common-user@hadoop.apache.org
Subject: Re: Hadoop Input Files Directory

You can give something like /path/to/directories/*/*/*


On Fri, Sep 11, 2009 at 2:10 PM, Boyu Zhang <bzhang@cs.utsa.edu> wrote:

> Dear All,
>
>
>
> I have an input directories of depth 3, the actual files are in the deepe=
st
> levels. (something like /data/user/dir_0/file0 , /data/user/dir_1/file0,
> /data/user/dir_2/file0) And I want to write a mapreduce job to process
> these
> files in the deepest levels.
>
>
>
> One way of doing so is to specify the input path to the directories that
> contain the files, like /data/user/dir_0, /data/user/dir_1,
> /data/user/dir_2. But this way is not feasible when I have much more
> directories as I will. I tried to specify the input path as /data/user, b=
ut
> I get error of cannot open filename /data/user/dir_0.
>
>
>
> My question is that is there any way that I can process all the files in =
a
> hierarchy with the input path set to the top level?
>
>
>
> Thanks a lot for the time!
>
>
>
> Boyu Zhang
>
> University of Delaware
>
>

From common-user-return-17427-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 14 08:11:59 2009
Return-Path: <common-user-return-17427-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 94399 invoked from network); 14 Sep 2009 08:11:59 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Sep 2009 08:11:59 -0000
Received: (qmail 81737 invoked by uid 500); 14 Sep 2009 08:11:56 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 81648 invoked by uid 500); 14 Sep 2009 08:11:56 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 81638 invoked by uid 99); 14 Sep 2009 08:11:56 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 08:11:56 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of leongfans@gmail.com designates 209.85.223.193 as permitted sender)
Received: from [209.85.223.193] (HELO mail-iw0-f193.google.com) (209.85.223.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 08:11:45 +0000
Received: by iwn31 with SMTP id 31so228477iwn.2
        for <common-user@hadoop.apache.org>; Mon, 14 Sep 2009 01:11:25 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:date:message-id:subject
         :from:to:content-type;
        bh=qhX0YBRVf1hzYXlCLlRYtPiXRw0Qw5BJGdbwe1CLK9g=;
        b=BRBZoiCEv2rXwPN6TSFGj4SOHNVNVd6KKn4rXpyBFkrcTlSl5R258D3FZU7Oe+94+L
         JVjxcdGNI+TnAMyntwBjsh231VeScZT44EGgGuciScqp17kax16ZIqzK4zdyNmjSgBEA
         3JCEROe2SeV5j5ag670jK1qlo0K4nzSIE56nE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=bx0smgPgaP4dFouHm/cl7kl6Y+aihzj2ypYbCZ/HPFJg+NhFp6a2uy2fiL2FlWQQEq
         GYYn2PQCRnySuphoKamu7evhMyJ6bvfdXvacL007zQ+7Sz7giRqwP2vTXQVLCjObPejX
         D5IwEhckfqmRL3jwGBxatS9+ScOf2bBV/ectI=
MIME-Version: 1.0
Received: by 10.231.61.195 with SMTP id u3mr12731255ibh.12.1252915885081; Mon, 
	14 Sep 2009 01:11:25 -0700 (PDT)
Date: Mon, 14 Sep 2009 16:11:25 +0800
Message-ID: <a757a1c00909140111k50eb0651q7d7585a6ebbba546@mail.gmail.com>
Subject: How to report the status
From: "Eason.Lee" <leongfans@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=00151774149c4384a3047385365a
X-Virus-Checked: Checked by ClamAV on apache.org

--00151774149c4384a3047385365a
Content-Type: text/plain; charset=ISO-8859-1

I am using hadoop Map job to import data into hbase from DB
For there is more than 10M records.It takes more than 10 minutes to finish
one map job.
So I got  "failed to report status for 604 seconds" Error!

I have set in my Map as followed:
cnkiTable.put(put);
 if ((++count % 1000)==0) {
   context.setStatus((count / len) +" done!");
   context.progress();
  }

but it seems no use

do I have to implements my on reporter?

anyone can help me ?

--00151774149c4384a3047385365a--

From common-user-return-17428-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 14 08:56:26 2009
Return-Path: <common-user-return-17428-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 5135 invoked from network); 14 Sep 2009 08:56:25 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Sep 2009 08:56:25 -0000
Received: (qmail 21772 invoked by uid 500); 14 Sep 2009 08:56:23 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 21707 invoked by uid 500); 14 Sep 2009 08:56:23 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 21697 invoked by uid 99); 14 Sep 2009 08:56:23 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 08:56:23 +0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=NO_RDNS_DOTCOM_HELO,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [69.147.107.21] (HELO mrout2-b.corp.re1.yahoo.com) (69.147.107.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 08:56:10 +0000
Received: from EGL-EX07CAS02.ds.corp.yahoo.com (egl-ex07cas02.eglbp.corp.yahoo.com [203.83.248.209])
	by mrout2-b.corp.re1.yahoo.com (8.13.8/8.13.8/y.out) with ESMTP id n8E8sFwn067937
	for <common-user@hadoop.apache.org>; Mon, 14 Sep 2009 01:54:16 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; s=serpent; d=yahoo-inc.com; c=nofws; q=dns;
	h=received:from:to:date:subject:thread-topic:thread-index:
	message-id:references:in-reply-to:accept-language:
	content-language:x-ms-has-attach:x-ms-tnef-correlator:acceptlanguage:
	content-type:content-transfer-encoding:mime-version;
	b=P1FXrDTVtNfH3AeUkeHUTCuIZhHwVWnKWsJHIWd5dfPGQdk3jaYg7xLDxo/+bweH
Received: from EGL-EX07VS01.ds.corp.yahoo.com ([203.83.248.206]) by
 EGL-EX07CAS02.ds.corp.yahoo.com ([203.83.248.216]) with mapi; Mon, 14 Sep
 2009 14:24:15 +0530
From: Amogh Vasekar <amogh@yahoo-inc.com>
To: "common-user@hadoop.apache.org" <common-user@hadoop.apache.org>
Date: Mon, 14 Sep 2009 14:22:42 +0530
Subject: RE: How to report the status
Thread-Topic: How to report the status
Thread-Index: Aco1ExQFAGy3MxqaS+KX2s9ae+ACbQABSsqA
Message-ID: <616DA47B2EF5B944B91846785B512FF4CFC727F85F@EGL-EX07VS01.ds.corp.yahoo.com>
References: <a757a1c00909140111k50eb0651q7d7585a6ebbba546@mail.gmail.com>
In-Reply-To: <a757a1c00909140111k50eb0651q7d7585a6ebbba546@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,
Ran into a similar issue : https://issues.apache.org/jira/browse/HBASE-1791

Not sure if what you are experiencing is similar.
Context.progress() "should" work. One ugly hack would be to set the timeout=
 value to high number. But I would wait for a better answer before doing th=
at.

Thanks,
Amogh

-----Original Message-----
From: Eason.Lee [mailto:leongfans@gmail.com]=20
Sent: Monday, September 14, 2009 1:41 PM
To: common-user@hadoop.apache.org
Subject: How to report the status

I am using hadoop Map job to import data into hbase from DB
For there is more than 10M records.It takes more than 10 minutes to finish
one map job.
So I got  "failed to report status for 604 seconds" Error!

I have set in my Map as followed:
cnkiTable.put(put);
 if ((++count % 1000)=3D=3D0) {
   context.setStatus((count / len) +" done!");
   context.progress();
  }

but it seems no use

do I have to implements my on reporter?

anyone can help me ?

From common-user-return-17429-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 14 09:17:05 2009
Return-Path: <common-user-return-17429-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 12133 invoked from network); 14 Sep 2009 09:17:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Sep 2009 09:17:05 -0000
Received: (qmail 55412 invoked by uid 500); 14 Sep 2009 09:17:03 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 55344 invoked by uid 500); 14 Sep 2009 09:17:02 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 55334 invoked by uid 99); 14 Sep 2009 09:17:02 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 09:17:02 +0000
X-ASF-Spam-Status: No, hits=-4.0 required=10.0
	tests=NORMAL_HTTP_TO_IP,RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [134.134.136.24] (HELO mga09.intel.com) (134.134.136.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 09:16:51 +0000
Received: from orsmga001.jf.intel.com ([10.7.209.18])
  by orsmga102.jf.intel.com with ESMTP; 14 Sep 2009 02:01:23 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="4.44,381,1249282800"; 
   d="scan'208";a="550301637"
Received: from irsmsx602.ger.corp.intel.com ([163.33.3.242])
  by orsmga001.jf.intel.com with ESMTP; 14 Sep 2009 02:15:45 -0700
Received: from hasmsx601.ger.corp.intel.com (10.184.10.125) by
 irsmsx602.ger.corp.intel.com (163.33.3.242) with Microsoft SMTP Server (TLS)
 id 8.1.358.0; Mon, 14 Sep 2009 10:16:20 +0100
Received: from hasmsx504.ger.corp.intel.com ([10.184.10.123]) by
 hasmsx601.ger.corp.intel.com ([10.184.10.125]) with mapi; Mon, 14 Sep 2009
 12:16:19 +0300
From: "Touretsky, Gregory" <gregory.touretsky@intel.com>
To: "common-user@hadoop.apache.org" <common-user@hadoop.apache.org>
Date: Mon, 14 Sep 2009 12:16:18 +0300
Subject: RE: Building libhdfs.so in Hadoop 0.20.1
Thread-Topic: Building libhdfs.so in Hadoop 0.20.1
Thread-Index: AcoyFzpuMHk1iHe3Qt+0V7057h/lLwDAr0bQ
Message-ID: <6F5C1D715B2DA5498A628E6B9C124F0401452213AA@hasmsx504.ger.corp.intel.com>
References: <6F5C1D715B2DA5498A628E6B9C124F0401451C5DEB@hasmsx504.ger.corp.intel.com>
 <ae4767d10909100603u4f253524s2faf7e1d8f1a8894@mail.gmail.com>
In-Reply-To: <ae4767d10909100603u4f253524s2faf7e1d8f1a8894@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Ok, looks like I finally was able to setup FUSE-HDFS on SLES10 box (using H=
adoop-0.20.1 distribution)
As it took me a while to figure this out, I thought to share these steps wi=
th the Universe.

1. In general, my SLES10 system runs with 2.6.16.60 kernel. The OS is 64-bi=
t.
2. Download and make FUSE. I did it with fuse-2.8.0.tar.gz. Regular configu=
re & make & make install worked
3. modprobe fuse
4. export JAVA_HOME=3D<wherever your 64-bit Java 1.6 resides>
5. export HADOOP_HOME=3D<wherever your 0.20.1 hadoop lives>
6. vi  $HADOOP_HOME/src/contrib/fuse-dfs/src/fuse_dfs_wrapper.sh   - update=
 the variables (HADOOP_HOME, JAVA_HOME, ...)
7. cd $HADOOP_HOME
8. setenv ANT_OPTS "-Dhttp.proxyHost=3D<your HTTP proxy> -Dhttp.proxyPort=
=3D<port>"
   This would allow you to build everything if you are behind the firewall
9. Make sure your default autoconf is v2.61, and your default ant is 1.7.1 =
 - I've had problems with older versions
10. ant compile -Dcompile.c++=3Dtrue -Dlibhdfs=3Dtrue
11. ln -s $HADOOP_HOME/build/c++/Linux-amd64-64/lib $HADOOP_HOME/build/libh=
dfs
12. export LD_LIBRARY_PATH=3D/usr/lib:/usr/local/lib:$HADOOP_HOME/build/lib=
hdfs:$JAVA_HOME/jre/lib/amd64/server
13. ant compile-contrib -Dlibhdfs=3D1 -Dfusedfs=3D1

If everything is ok till this point, you should be ready to go. Follow http=
://wiki.apache.org/hadoop/MountableHDFS procedure after INSTALLING section

-----Original Message-----
From: Ryan Smith [mailto:ryan.justin.smith@gmail.com]=20
Sent: Thursday, September 10, 2009 4:04 PM
To: common-user@hadoop.apache.org
Subject: Re: Building libhdfs.so in Hadoop 0.20.1

Maybe someone can correct me if im wrong, but this is what I did to get
libhdfs on 0.20.0 to build:

NOTE: on debian, you need to apply a patch:
https://issues.apache.org/jira/browse/HADOOP-5611

Compile libhdfs:  ant compile-contrib -Dlibhdfs=3D1
Then to install libhdfs in the local hadoop lib:   ant package -Dlibhdfs=3D1
If the ant package -Dlibhdfs=3D1 command fails due to Forrest, then you can
remove the docs from being packaged.
cd $HADOOP_HOME/
vi build.xml
Then change the package target, and remove the "javadoc", "docs", and
"cn-docs" targets from the dependencies and re-run the package command.
Finally, add a soft link for backwards compatibility so hdfs-fuse/fuse-dfs
can find the libhdfs.so file:
ln -s ./c++/{OS}-{ARCH}/lib build/libhdfs



On Thu, Sep 10, 2009 at 8:38 AM, Touretsky, Gregory <
gregory.touretsky@intel.com> wrote:

>  Hi,
>
>
>
>    I have a problem building libhdfs.so in Hadoop 0.20.1
>
> From what I could see, the build process has changed significantly in
> 0.20.0 (as mentioned in http://issues.apache.org/jira/browse/HADOOP-3344),
> and "ant compile-libhdfs -Dlibhdfs=3D1" can't be used anymore.
>
> I'm trying to use standard autotools to build the libhdfs - but it always
> fails:
>
> >cd /tmp/hadoop-0.20.1/src/c++/libhdfs
>
> >./configure >& ~/tmp/configure.out   (see attached)
>
> > make
>
> if /bin/sh ./libtool --mode=3Dcompile --tag=3DCC
> /usr/intel/pkgs/gcc/4.4.0/bin/gcc -DPACKAGE_NAME=3D\"libhdfs\"
> -DPACKAGE_TARNAME=3D\"libhdfs\" -DPACKAGE_VERSION=3D\"0.1.0\"
> -DPACKAGE_STRING=3D\"libhdfs\ 0.1.0\" -DPACKAGE_BUGREPORT=3D\"
> omalley@apache.org\" -DPACKAGE=3D\"libhdfs\" -DVERSION=3D\"0.1.0\"
> -DSTDC_HEADERS=3D1 -DHAVE_SYS_TYPES_H=3D1 -DHAVE_SYS_STAT_H=3D1 -DHAVE_ST=
DLIB_H=3D1
> -DHAVE_STRING_H=3D1 -DHAVE_MEMORY_H=3D1 -DHAVE_STRINGS_H=3D1 -DHAVE_INTTY=
PES_H=3D1
> -DHAVE_STDINT_H=3D1 -DHAVE_UNISTD_H=3D1 -DHAVE_DLFCN_H=3D1 -DLT_OBJDIR=3D=
\".libs/\"
> -Dsize_t=3Dunsigned\ int -DHAVE_FCNTL_H=3D1 -Dconst=3D -Dvolatile=3D -I. =
-I.     -g
> -O2 -DOS_LINUX -DDSO_DLFCN -DCPU=3D\"amd64\" -m -I/usr/intel/pkgs/java/1.=
6.0.10/include
> -I/usr/intel/pkgs/java/1.6.0.10/include/linux<http://1.6.0.10/include%0A-=
I/usr/intel/pkgs/java/1.6.0.10/include/linux>-Wall -Wstrict-prototypes -MT =
hdfs.lo -MD -MP -MF ".deps/hdfs.Tpo" -c -o
> hdfs.lo hdfs.c; \
>
> then mv -f ".deps/hdfs.Tpo" ".deps/hdfs.Plo"; else rm -f ".deps/hdfs.Tpo";
> exit 1; fi
>
> libtool: compile:  /usr/intel/pkgs/gcc/4.4.0/bin/gcc
> -DPACKAGE_NAME=3D\"libhdfs\" -DPACKAGE_TARNAME=3D\"libhdfs\"
> -DPACKAGE_VERSION=3D\"0.1.0\" "-DPACKAGE_STRING=3D\"libhdfs 0.1.0\""
> -DPACKAGE_BUGREPORT=3D\"omalley@apache.org\" -DPACKAGE=3D\"libhdfs\"
> -DVERSION=3D\"0.1.0\" -DSTDC_HEADERS=3D1 -DHAVE_SYS_TYPES_H=3D1
> -DHAVE_SYS_STAT_H=3D1 -DHAVE_STDLIB_H=3D1 -DHAVE_STRING_H=3D1 -DHAVE_MEMO=
RY_H=3D1
> -DHAVE_STRINGS_H=3D1 -DHAVE_INTTYPES_H=3D1 -DHAVE_STDINT_H=3D1 -DHAVE_UNI=
STD_H=3D1
> -DHAVE_DLFCN_H=3D1 -DLT_OBJDIR=3D\".libs/\" "-Dsize_t=3Dunsigned int"
> -DHAVE_FCNTL_H=3D1 -Dconst=3D -Dvolatile=3D -I. -I. -g -O2 -DOS_LINUX -DD=
SO_DLFCN
> -DCPU=3D\"amd64\" -m -I/usr/intel/pkgs/java/1.6.0.10/include
> -I/usr/intel/pkgs/java/1.6.0.10/include/linux<http://1.6.0.10/include%0A-=
I/usr/intel/pkgs/java/1.6.0.10/include/linux>-Wall -Wstrict-prototypes -MT =
hdfs.lo -MD -MP -MF .deps/hdfs.Tpo -c hdfs.c
> -fPIC -DPIC -o .libs/hdfs.o
>
> cc1: error: unrecognized command line option "-m"
>
> make: *** [hdfs.lo] Error 1
>
>
>
> Any idea how to do it now?
> Also, it's probably time to update the
> http://wiki.apache.org/hadoop/MountableHDFS guide.
>
>
>
> Thanks in advance,
>
>    Gregory Touretsky
>
> ---------------------------------------------------------------------
> Intel Israel (74) Limited
>
> This e-mail and any attachments may contain confidential material for
> the sole use of the intended recipient(s). Any review or distribution
> by others is strictly prohibited. If you are not the intended
> recipient, please contact the sender and delete all copies.
>
>
---------------------------------------------------------------------
Intel Israel (74) Limited

This e-mail and any attachments may contain confidential material for
the sole use of the intended recipient(s). Any review or distribution
by others is strictly prohibited. If you are not the intended
recipient, please contact the sender and delete all copies.


From common-user-return-17430-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 14 09:18:45 2009
Return-Path: <common-user-return-17430-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 12411 invoked from network); 14 Sep 2009 09:18:45 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Sep 2009 09:18:45 -0000
Received: (qmail 58667 invoked by uid 500); 14 Sep 2009 09:18:43 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 58591 invoked by uid 500); 14 Sep 2009 09:18:43 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 58581 invoked by uid 99); 14 Sep 2009 09:18:43 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 09:18:43 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of leongfans@gmail.com designates 209.85.223.193 as permitted sender)
Received: from [209.85.223.193] (HELO mail-iw0-f193.google.com) (209.85.223.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 09:18:32 +0000
Received: by iwn31 with SMTP id 31so240771iwn.2
        for <common-user@hadoop.apache.org>; Mon, 14 Sep 2009 02:18:11 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=IT+F/P9urdVRPAnh3uitBG3yO5fDuFOoq7Mrmcx5f0c=;
        b=wxV6YK/BJlniCXvcnDgVbBbCNYkBIihtCo2XS3jT6/2tyuYEsjQ6Hf0sccPuYkap3O
         hbu2iO65sVoLDqWEFCh7t2cl3tpz3QrH1iRbdWGXsfTHBHsk5z+LN8/zi4lSscSeDqUo
         KSBBOtALrwOLj23QA2bIfbgK38L+jTc9DuZco=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=JuhxGaPSFe+FPvvsYKFAeYmkJj5ji8Ywkt+grIfk5eVbuOjd+tniaN6T6rtXeT4rpi
         GXpBhkYL8IJi8fxHnQPv+61L2rvqdD5gC8a8FbftFRm6LBstxbpUT/C54M7RJs3iCCTQ
         tHHJrt/EZsqJ3xuuHBcPlaAL9wSb2T11XEhQY=
MIME-Version: 1.0
Received: by 10.231.125.28 with SMTP id w28mr12688338ibr.50.1252919891269; 
	Mon, 14 Sep 2009 02:18:11 -0700 (PDT)
In-Reply-To: <616DA47B2EF5B944B91846785B512FF4CFC727F85F@EGL-EX07VS01.ds.corp.yahoo.com>
References: <a757a1c00909140111k50eb0651q7d7585a6ebbba546@mail.gmail.com>
	 <616DA47B2EF5B944B91846785B512FF4CFC727F85F@EGL-EX07VS01.ds.corp.yahoo.com>
Date: Mon, 14 Sep 2009 17:18:11 +0800
Message-ID: <a757a1c00909140218k2cf86eex6acaa9b28ea74381@mail.gmail.com>
Subject: Re: How to report the status
From: "Eason.Lee" <leongfans@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0016e645b8ca0d1b9e0473862529
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e645b8ca0d1b9e0473862529
Content-Type: text/plain; charset=ISO-8859-1

Seems Context.progress()  work in HBase
>_<
I can see the status updated in the TaskTracker through web
But the JobTracker seems receiving nothing!

2009/9/14 Amogh Vasekar <amogh@yahoo-inc.com>

> Hi,
> Ran into a similar issue :
> https://issues.apache.org/jira/browse/HBASE-1791
>
> Not sure if what you are experiencing is similar.
> Context.progress() "should" work. One ugly hack would be to set the timeout
> value to high number. But I would wait for a better answer before doing
> that.
>
> Thanks,
> Amogh
>
> -----Original Message-----
> From: Eason.Lee [mailto:leongfans@gmail.com]
> Sent: Monday, September 14, 2009 1:41 PM
> To: common-user@hadoop.apache.org
> Subject: How to report the status
>
> I am using hadoop Map job to import data into hbase from DB
> For there is more than 10M records.It takes more than 10 minutes to finish
> one map job.
> So I got  "failed to report status for 604 seconds" Error!
>
> I have set in my Map as followed:
> cnkiTable.put(put);
>  if ((++count % 1000)==0) {
>   context.setStatus((count / len) +" done!");
>   context.progress();
>  }
>
> but it seems no use
>
> do I have to implements my on reporter?
>
> anyone can help me ?
>

--0016e645b8ca0d1b9e0473862529--

From common-user-return-17431-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 14 13:41:29 2009
Return-Path: <common-user-return-17431-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 96045 invoked from network); 14 Sep 2009 13:41:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Sep 2009 13:41:29 -0000
Received: (qmail 95182 invoked by uid 500); 14 Sep 2009 13:41:27 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 95084 invoked by uid 500); 14 Sep 2009 13:41:27 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 95074 invoked by uid 99); 14 Sep 2009 13:41:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 13:41:26 +0000
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.210.204] (HELO mail-yx0-f204.google.com) (209.85.210.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 13:41:15 +0000
Received: by yxe42 with SMTP id 42so4067652yxe.31
        for <common-user@hadoop.apache.org>; Mon, 14 Sep 2009 06:40:53 -0700 (PDT)
Received: by 10.101.194.8 with SMTP id w8mr6167933anp.190.1252935652967;
        Mon, 14 Sep 2009 06:40:52 -0700 (PDT)
Received: from ?10.66.66.5? ([67.201.160.103])
        by mx.google.com with ESMTPS id 20sm2897ywh.2.2009.09.14.06.40.45
        (version=SSLv3 cipher=RC4-MD5);
        Mon, 14 Sep 2009 06:40:52 -0700 (PDT)
Message-ID: <4AAE47D7.4080905@chaeron.com>
Date: Mon, 14 Sep 2009 09:40:39 -0400
From: Andrzej Jan Taramina <andrzej@chaeron.com>
Organization: Chaeron Corporation
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: common-user@hadoop.apache.org
Subject: Processing a large quantity of smaller XML files?
X-Enigmail-Version: 0.96.0
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

I'm new to Hadoop, so pardon the potentially dumb question....

I've gathered, from much research, that Hadoop is not always a good choice when you need to process a whack of smaller
files, which is what we need to do.

More specifically, we need to start by processing about 250K XML files, each of which is in the 50K - 2M range, with an
average size of 100K bytes.  The processing we need to do on each file is pretty CPU-intensive, with a lot of pattern
matching. What we need to do would fall nicely into the Map/Reduce paradigm.  Over time, the volume of files will grow
by an order of magnitude into the range of millions of files, hence the desire to use a mapred distributed cluster to do
the analysis we need.

Normally, one could just concatenate the XML files into bigger input files.  Unfortunately, one of our constrains is
that a certain percentage of these XML files will change every night, and so we need to be able to update the Hadoop
data store (HDFS perhaps) on a regular basis.  This would be difficult if the files are all concatenated.

The XML data originally comes from a number of XML databases.

Any advice/suggestions on the best way to structure our data storage of all the XML files so that Hadoop would run
efficiently and we could thus use Map/Reduce on a Hadoop cluster, yet still conveniently update the changed files on a
nightly basis?

Much appreciated!

-- 
Andrzej Taramina
Chaeron Corporation: Enterprise System Solutions
http://www.chaeron.com

From common-user-return-17432-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 14 13:45:27 2009
Return-Path: <common-user-return-17432-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 98662 invoked from network); 14 Sep 2009 13:45:27 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Sep 2009 13:45:27 -0000
Received: (qmail 5699 invoked by uid 500); 14 Sep 2009 13:45:25 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 5616 invoked by uid 500); 14 Sep 2009 13:45:24 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 5606 invoked by uid 99); 14 Sep 2009 13:45:24 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 13:45:24 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of piotr.praczyk@gmail.com designates 209.85.219.208 as permitted sender)
Received: from [209.85.219.208] (HELO mail-ew0-f208.google.com) (209.85.219.208)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 13:45:15 +0000
Received: by ewy4 with SMTP id 4so3069533ewy.36
        for <common-user@hadoop.apache.org>; Mon, 14 Sep 2009 06:44:53 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=AshtAQ74eZJFgTx0UjcIZxF3SrVmGUNeK5ykyiJvegY=;
        b=I53M4ZEI8QZSbqqjieYQKfHKl6KSJwex34kqQWF6l0tcrV5QB3tbPtLcxCg9a79XEy
         kMJbliJ9A/h4IdUhZ5o3ZWvPvfkNeXBEse2WJi8FqlT0SKLBV8T+GbD7A7UfYDw54So/
         5tOqtTa6qVraisqhzF1DmtGW3W9FLOfOuk2xA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=J8eZCnjDL96RMmZxo1gIBGHSJIPALX28/O991dBuYTpvyHDXDalGEKYYagpXV15PVD
         atq1Xq0jgu67ZjduXDn4kV03zGFZpEmX7+sLa0ckoG3zG51GbvItS7YCTRItTl8Jlvtt
         UuVGOpFcB5U3uXyoWgy23IsBWLlk+t9sFM+O8=
MIME-Version: 1.0
Received: by 10.216.90.208 with SMTP id e58mr1468102wef.57.1252935893564; Mon, 
	14 Sep 2009 06:44:53 -0700 (PDT)
In-Reply-To: <4AAE47D7.4080905@chaeron.com>
References: <4AAE47D7.4080905@chaeron.com>
From: Piotr Praczyk <piotr.praczyk@gmail.com>
Date: Mon, 14 Sep 2009 15:44:32 +0200
Message-ID: <5aae27ff0909140644n1f97a232k97d5022bff6d5aef@mail.gmail.com>
Subject: Re: Processing a large quantity of smaller XML files?
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0016e6db2ae7dcc509047389de5d
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e6db2ae7dcc509047389de5d
Content-Type: text/plain; charset=ISO-8859-1

Hi

Maybe you should consider using HBase instead of pure HDFS ?
HDFS tends to have a big block size which would lead to a massive storage
space loss. HBase runs on top of HDFS and would store many files in the same
block yet allowing to modify them selectively.

regards
Piotr

2009/9/14 Andrzej Jan Taramina <andrzej@chaeron.com>

> I'm new to Hadoop, so pardon the potentially dumb question....
>
> I've gathered, from much research, that Hadoop is not always a good choice
> when you need to process a whack of smaller
> files, which is what we need to do.
>
> More specifically, we need to start by processing about 250K XML files,
> each of which is in the 50K - 2M range, with an
> average size of 100K bytes.  The processing we need to do on each file is
> pretty CPU-intensive, with a lot of pattern
> matching. What we need to do would fall nicely into the Map/Reduce
> paradigm.  Over time, the volume of files will grow
> by an order of magnitude into the range of millions of files, hence the
> desire to use a mapred distributed cluster to do
> the analysis we need.
>
> Normally, one could just concatenate the XML files into bigger input files.
>  Unfortunately, one of our constrains is
> that a certain percentage of these XML files will change every night, and
> so we need to be able to update the Hadoop
> data store (HDFS perhaps) on a regular basis.  This would be difficult if
> the files are all concatenated.
>
> The XML data originally comes from a number of XML databases.
>
> Any advice/suggestions on the best way to structure our data storage of all
> the XML files so that Hadoop would run
> efficiently and we could thus use Map/Reduce on a Hadoop cluster, yet still
> conveniently update the changed files on a
> nightly basis?
>
> Much appreciated!
>
> --
> Andrzej Taramina
> Chaeron Corporation: Enterprise System Solutions
> http://www.chaeron.com
>

--0016e6db2ae7dcc509047389de5d--

From common-user-return-17433-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 14 14:07:13 2009
Return-Path: <common-user-return-17433-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 8383 invoked from network); 14 Sep 2009 14:07:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Sep 2009 14:07:13 -0000
Received: (qmail 47615 invoked by uid 500); 14 Sep 2009 14:07:11 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 47560 invoked by uid 500); 14 Sep 2009 14:07:11 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 47550 invoked by uid 99); 14 Sep 2009 14:07:11 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 14:07:11 +0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [129.93.181.2] (HELO mathstat.unl.edu) (129.93.181.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 14:07:00 +0000
Received: from [192.168.255.39] (thecoffeehouse.ellipse.net [216.229.17.187])
	(authenticated bits=0)
	by mathstat.unl.edu (8.13.8/8.13.8) with ESMTP id n8EE6Zad021499
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT)
	for <common-user@hadoop.apache.org>; Mon, 14 Sep 2009 09:06:38 -0500
From: Brian Bockelman <bbockelm@cse.unl.edu>
Mime-Version: 1.0 (Apple Message framework v1075.2)
Content-Type: multipart/signed; boundary=Apple-Mail-56--247911223; protocol="application/pkcs7-signature"; micalg=sha1
Subject: Re: Processing a large quantity of smaller XML files?
Date: Mon, 14 Sep 2009 09:06:35 -0500
In-Reply-To: <5aae27ff0909140644n1f97a232k97d5022bff6d5aef@mail.gmail.com>
To: common-user@hadoop.apache.org
References: <4AAE47D7.4080905@chaeron.com> <5aae27ff0909140644n1f97a232k97d5022bff6d5aef@mail.gmail.com>
Message-Id: <AE44107C-DA46-4A4B-9CF5-77D9EAED8C73@cse.unl.edu>
X-Mailer: Apple Mail (2.1075.2)
X-Virus-Checked: Checked by ClamAV on apache.org

--Apple-Mail-56--247911223
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset=us-ascii;
	format=flowed;
	delsp=yes


On Sep 14, 2009, at 8:44 AM, Piotr Praczyk wrote:

> Hi
>
> Maybe you should consider using HBase instead of pure HDFS ?
> HDFS tends to have a big block size which would lead to a massive  
> storage
> space loss.

Nope, this is not true at all.  If you have 64MB blocks and write a  
32KB file, the space physically used on disk is ... 32KB.

250K XML files is not insane, and your NN would be able to *easily*  
handle it (10 million files in HDFS would require 4GB of RAM in the  
NN).  However, you've correctly noticed that because you *can* handle  
it, it does not mean it would be *efficient*.

I would suggest looking into at Cloudera's blog posting about the  
"small files problem":

http://www.cloudera.com/blog/2009/02/02/the-small-files-problem/

The simplest thing you could do is to use the Hadoop ARchive format  
(HAR) in a pre-processing step.  The best thing you could do is to  
have a pre-processing step based on sequence file (note: either Oozie  
or Cascading are great workflow systems to help you out).

When you say "update" nightly, do you mean "add new files" or "update  
existing files"?  If you really mean changing existing files, HBase  
might be good for you - http://wiki.apache.org/hadoop/Hbase/HbaseArchitecture 
.  HBase natively includes the concept of a timestamp, so you will be  
able to run against the the "latest version" or be able to specify a  
fixed version (in case if you want to repeat a night's analysis).

If you have separate archival storage for your data, you can also  
consider reloading every night; this might be scalable up to a few TB.

Brian

> HBase runs on top of HDFS and would store many files in the same
> block yet allowing to modify them selectively.
>
> regards
> Piotr
>
> 2009/9/14 Andrzej Jan Taramina <andrzej@chaeron.com>
>
>> I'm new to Hadoop, so pardon the potentially dumb question....
>>
>> I've gathered, from much research, that Hadoop is not always a good  
>> choice
>> when you need to process a whack of smaller
>> files, which is what we need to do.
>>
>> More specifically, we need to start by processing about 250K XML  
>> files,
>> each of which is in the 50K - 2M range, with an
>> average size of 100K bytes.  The processing we need to do on each  
>> file is
>> pretty CPU-intensive, with a lot of pattern
>> matching. What we need to do would fall nicely into the Map/Reduce
>> paradigm.  Over time, the volume of files will grow
>> by an order of magnitude into the range of millions of files, hence  
>> the
>> desire to use a mapred distributed cluster to do
>> the analysis we need.
>>
>> Normally, one could just concatenate the XML files into bigger  
>> input files.
>> Unfortunately, one of our constrains is
>> that a certain percentage of these XML files will change every  
>> night, and
>> so we need to be able to update the Hadoop
>> data store (HDFS perhaps) on a regular basis.  This would be  
>> difficult if
>> the files are all concatenated.
>>
>> The XML data originally comes from a number of XML databases.
>>
>> Any advice/suggestions on the best way to structure our data  
>> storage of all
>> the XML files so that Hadoop would run
>> efficiently and we could thus use Map/Reduce on a Hadoop cluster,  
>> yet still
>> conveniently update the changed files on a
>> nightly basis?
>>
>> Much appreciated!
>>
>> --
>> Andrzej Taramina
>> Chaeron Corporation: Enterprise System Solutions
>> http://www.chaeron.com
>>


--Apple-Mail-56--247911223
Content-Disposition: attachment;
	filename=smime.p7s
Content-Type: application/pkcs7-signature;
	name=smime.p7s
Content-Transfer-Encoding: base64

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIICjCCA/gw
ggLgoAMCAQICASkwDQYJKoZIhvcNAQEFBQAwdTETMBEGCgmSJomT8ixkARkWA25ldDESMBAGCgmS
JomT8ixkARkWAkVTMQ4wDAYDVQQKEwVFU25ldDEgMB4GA1UECxMXQ2VydGlmaWNhdGUgQXV0aG9y
aXRpZXMxGDAWBgNVBAMTD0VTbmV0IFJvb3QgQ0EgMTAeFw0wMjEyMDUwODAwMDBaFw0xMzAxMjUw
ODAwMDBaMGkxEzARBgoJkiaJk/IsZAEZFgNvcmcxGDAWBgoJkiaJk/IsZAEZFghET0VHcmlkczEg
MB4GA1UECxMXQ2VydGlmaWNhdGUgQXV0aG9yaXRpZXMxFjAUBgNVBAMTDURPRUdyaWRzIENBIDEw
ggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC09dYjYaPbCD5mtbiQb7Ka3y1qAm0ZcqKC
FciWcfe8Kwcuy9tjHuIsLf9ZItdkDW4xy8sua9nJlx3KlwjtumTMtOtg35KZCknUd8KM4VGTSFdL
VG9AbNayef76caVCGM1+jyF0Lq03kauGOPTcNfZe1TZa3e1c9rc8ljV5OSWa/mfsCACyS5zFIWu0
yIDNyJdf+n0hwaPN53wllpJ30taD+JBjQ7h2k4xRWzeaznLOb9OztZVRA/1sVze+iczFh2xwa4Vd
Gy0eIIPw1pfvYwxO36rm0S109qvbsNlaroPRbxerPKakQLpKe034Xcx7gBPqUk/FxoRRWin5EWN3
rz9LAgMBAAGjgZ4wgZswDgYDVR0PAQH/BAQDAgGGMBEGCWCGSAGG+EIBAQQEAwIAhzAdBgNVHQ4E
FgQUyhkdEo5upDhdQtQxDgjb2Y0XDV0wHwYDVR0jBBgwFoAUvF1NSC/4NZRZq1yJSz7RsjoUAeow
DwYDVR0TAQH/BAUwAwEB/zAlBgNVHREEHjAcgRpET0VHcmlkcy1DQS0xQGRvZWdyaWRzLm9yZzAN
BgkqhkiG9w0BAQUFAAOCAQEAZNVrIDLqe39CEOiJt7Q7EpBPhAihMvDTSf/42u0SMbUmChww4mLm
ph5DBghZUVF8Yn59kRZMn1QLOtO1HzLqvAvPITacZVPlJgG2IXzlR636YghZFAycbIUEOJDBHR4v
tQO1KDxgZwvAbtmKIoxvhUCq2xsfFt9kCBBn+JYtQ6O5LsBJq3PmuubeMcc7mbQAfJZ7h/3Qghgk
FIhmE1+LBXPJbkuP8vgfg6h2BKoAf5TFfZECgGZKimfN110tBvfedGZwYYd3/GsJc83B0JN1gny0
gqNVPm392UchXGeBRrHnm2gkhIkr48Oq6EmNGV9/a6XfbplQW/JWbtPVPWkaizCCBAowggLyoAMC
AQICAwCB+zANBgkqhkiG9w0BAQUFADBpMRMwEQYKCZImiZPyLGQBGRYDb3JnMRgwFgYKCZImiZPy
LGQBGRYIRE9FR3JpZHMxIDAeBgNVBAsTF0NlcnRpZmljYXRlIEF1dGhvcml0aWVzMRYwFAYDVQQD
Ew1ET0VHcmlkcyBDQSAxMB4XDTA5MDYwMjE5NDExM1oXDTEwMDYwMjE5NDExM1owYTETMBEGCgmS
JomT8ixkARkWA29yZzEYMBYGCgmSJomT8ixkARkWCGRvZWdyaWRzMQ8wDQYDVQQLEwZQZW9wbGUx
HzAdBgNVBAMTFkJyaWFuIEJvY2tlbG1hbiA1MDQzMDcwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw
ggEKAoIBAQDPWEl7hBiuFRVBSY4SwvG0HpkCZi74a0BeD0tNARgxoQVJ7jhJjR3G4y8ino0/5axt
2EEfIWUE+DVpV37IWOQl8q/wdvicnhbfjByxBbq4sfWPLepU7+Kd8k1FKHRHermARn9VxEkFLrLB
Gp7O5EX4mFHDaQy+Vv0thtA+m4qKoM+DA/8cOkJA5Rn6ZS/v/vtBzJh9HimVnhBx4+rw2cvKN+7r
lKsm7qTn9TCZmrQ97CvBEXSkHS11m8vYF6ZwcTgSCJM0M9nnX5JilupQO1vDICXSUZeWX2xpsqeL
x1PFGWgDaYXxFGtTRt2Qc9EPwf9Dr72xGPbKN8u5HylpOMDnAgMBAAGjgcIwgb8wEQYJYIZIAYb4
QgEBBAQDAgWgMA4GA1UdDwEB/wQEAwIF4DAfBgNVHSMEGDAWgBTKGR0Sjm6kOF1C1DEOCNvZjRcN
XTAYBgNVHSAEETAPMA0GCyqGSIb3TAMHAQMAMD4GA1UdHwQ3MDUwM6AxoC+GLWh0dHA6Ly9jcmwu
ZG9lZ3JpZHMub3JnLzFjM2YyY2E4LzFjM2YyY2E4LmNybDAfBgNVHREEGDAWgRRiYm9ja2VsbUBj
c2UudW5sLmVkdTANBgkqhkiG9w0BAQUFAAOCAQEAp6KjcWnfnH/MGlUkUWstE9gtPeymHp+2r4zI
w8JXigncJh/8qpSZqBcVhD24WFowI95otblrKYNZKW9f2G/hWwDSxZFqHhCDxFO12vDthrzOc3EH
CwypJPvIlZPt/E/x93XruzPxJwPz84DKKuPoJAMeNlADbd+92YtRr2y+VuMpgZaebMAoeCdWH8Cq
Y8xheNMajf8uiImBbatDuCu7qRvhwgxsMNLHEt4h853K1Zc181RlFGXG1+uL/Q/8VeKiASiCu+7L
1zpfLg7OCr6rJHb5S7wU+CeAvzSqmyy0fd2mwPeiX7huK+Cw4UjaB3yGKItzWT+KQJnV//wcSrzZ
dTGCAv0wggL5AgEBMHAwaTETMBEGCgmSJomT8ixkARkWA29yZzEYMBYGCgmSJomT8ixkARkWCERP
RUdyaWRzMSAwHgYDVQQLExdDZXJ0aWZpY2F0ZSBBdXRob3JpdGllczEWMBQGA1UEAxMNRE9FR3Jp
ZHMgQ0EgMQIDAIH7MAkGBSsOAwIaBQCgggFiMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJ
KoZIhvcNAQkFMQ8XDTA5MDkxNDE0MDYzNlowIwYJKoZIhvcNAQkEMRYEFJlkC0mudlTc8CTTMbAN
wXII3M6IMH8GCSsGAQQBgjcQBDFyMHAwaTETMBEGCgmSJomT8ixkARkWA29yZzEYMBYGCgmSJomT
8ixkARkWCERPRUdyaWRzMSAwHgYDVQQLExdDZXJ0aWZpY2F0ZSBBdXRob3JpdGllczEWMBQGA1UE
AxMNRE9FR3JpZHMgQ0EgMQIDAIH7MIGBBgsqhkiG9w0BCRACCzFyoHAwaTETMBEGCgmSJomT8ixk
ARkWA29yZzEYMBYGCgmSJomT8ixkARkWCERPRUdyaWRzMSAwHgYDVQQLExdDZXJ0aWZpY2F0ZSBB
dXRob3JpdGllczEWMBQGA1UEAxMNRE9FR3JpZHMgQ0EgMQIDAIH7MA0GCSqGSIb3DQEBAQUABIIB
AI/99yvyHldWfYvwxJFXHzTXLEW0zDrMMknSEQi4M9/EwZ1hudDxE2VktY0PtKwy3xCxZZurQ90e
AzE1VcvRhq4sHTdHCudsXaLPPnqY3IlxA7GcrYppE9wrJxe4OivsrC0auzoABu7eNHjQnOmT691X
Pi7WZYoraX2FyoGboq1RghKUTaPQhQnttMKRfGdqcECDzzDj8Tqv0pcxCwj/JbEhH5ZR9SHX2BMI
0y/NWOdWxQQDcQSlWlGgiEy9tRDDj6YDId3Ts6Co+6PgknmxnH5ntFHnrazgassKcgOC8VXZSZDQ
aWEPQr1qxLzxYTR5NPU7A3z4ZyVe5b/4EGUmE2MAAAAAAAA=

--Apple-Mail-56--247911223--

From common-user-return-17434-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 14 14:13:50 2009
Return-Path: <common-user-return-17434-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 11130 invoked from network); 14 Sep 2009 14:13:50 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Sep 2009 14:13:50 -0000
Received: (qmail 59577 invoked by uid 500); 14 Sep 2009 14:13:47 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 59499 invoked by uid 500); 14 Sep 2009 14:13:47 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 59489 invoked by uid 99); 14 Sep 2009 14:13:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 14:13:47 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of xcolwell@gmail.com designates 209.85.221.203 as permitted sender)
Received: from [209.85.221.203] (HELO mail-qy0-f203.google.com) (209.85.221.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 14:13:36 +0000
Received: by qyk41 with SMTP id 41so2305698qyk.25
        for <common-user@hadoop.apache.org>; Mon, 14 Sep 2009 07:13:15 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:message-id:date:from
         :user-agent:mime-version:to:subject:references:in-reply-to
         :content-type:content-transfer-encoding;
        bh=O8CYBnvwv20+BN+DOxGU6egRycEVsTOApf/Aecmh5jA=;
        b=B9cnn5GbjzJAysNkzFD0CVd31rjyNNEph29xyfNxaHq96VHw7bv22qQvUFAcQYEnaz
         +fYAze0Wahy5MjDY/5kZkGIVpqVjoHS6WbJlaj+uIE2IfOI6Qhc1dKefwuD5rs4Jt30j
         90+OMyv5tvHiQBRe5THBzbh+yM/VCQjM/Af14=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type:content-transfer-encoding;
        b=ND4fGuXjS1VTLWAcl9RijD+BkS6KX1TDXQShJ56oI5LyI/OEuXybWeaeCGPfbI7UqP
         Yy3i4JfXuC8mzu2WVeoCF0+GgrPLUAZ83Kaz4Hbau4nt3i8SiTIRQZ1TKxsvBFNX2jcH
         ki9YjB2+Vvbw7ayvIYstSFfzMKyHqqeNQtMoM=
Received: by 10.224.90.67 with SMTP id h3mr5130913qam.240.1252937595346;
        Mon, 14 Sep 2009 07:13:15 -0700 (PDT)
Received: from ?10.1.20.105? (dsl254-070-240.nyc1.dsl.speakeasy.net [216.254.70.240])
        by mx.google.com with ESMTPS id 5sm1451927qwg.51.2009.09.14.07.13.12
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Mon, 14 Sep 2009 07:13:13 -0700 (PDT)
Message-ID: <4AAE4F7D.60809@gmail.com>
Date: Mon, 14 Sep 2009 10:13:17 -0400
From: brien colwell <xcolwell@gmail.com>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: common-user@hadoop.apache.org
Subject: Re: Processing a large quantity of smaller XML files?
References: <4AAE47D7.4080905@chaeron.com>
In-Reply-To: <4AAE47D7.4080905@chaeron.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

We have a similar setup of many smaller files. We found that using a 
combined file input (64mb of files are bundled as input to a single map 
job) in conjunction with compressed files on the HDFS much reduced the 
overhead of the map jobs. I haven't compared distributing ZIP/TAR files 
on the HDFS versus using the combined file input ... I assume the 
combined file input is efficient but have not measured versus explicitly 
bundling the input files.




Andrzej Jan Taramina wrote:
> I'm new to Hadoop, so pardon the potentially dumb question....
>
> I've gathered, from much research, that Hadoop is not always a good choice when you need to process a whack of smaller
> files, which is what we need to do.
>
> More specifically, we need to start by processing about 250K XML files, each of which is in the 50K - 2M range, with an
> average size of 100K bytes.  The processing we need to do on each file is pretty CPU-intensive, with a lot of pattern
> matching. What we need to do would fall nicely into the Map/Reduce paradigm.  Over time, the volume of files will grow
> by an order of magnitude into the range of millions of files, hence the desire to use a mapred distributed cluster to do
> the analysis we need.
>
> Normally, one could just concatenate the XML files into bigger input files.  Unfortunately, one of our constrains is
> that a certain percentage of these XML files will change every night, and so we need to be able to update the Hadoop
> data store (HDFS perhaps) on a regular basis.  This would be difficult if the files are all concatenated.
>
> The XML data originally comes from a number of XML databases.
>
> Any advice/suggestions on the best way to structure our data storage of all the XML files so that Hadoop would run
> efficiently and we could thus use Map/Reduce on a Hadoop cluster, yet still conveniently update the changed files on a
> nightly basis?
>
> Much appreciated!
>
>   


From common-user-return-17435-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 14 14:47:02 2009
Return-Path: <common-user-return-17435-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 22588 invoked from network); 14 Sep 2009 14:47:02 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Sep 2009 14:47:02 -0000
Received: (qmail 36233 invoked by uid 500); 14 Sep 2009 14:47:00 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 36184 invoked by uid 500); 14 Sep 2009 14:47:00 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 36172 invoked by uid 99); 14 Sep 2009 14:47:00 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 14:47:00 +0000
X-ASF-Spam-Status: No, hits=3.7 required=10.0
	tests=HTML_MESSAGE,NORMAL_HTTP_TO_IP,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of vincenzo.gulisano@gmail.com designates 209.85.218.214 as permitted sender)
Received: from [209.85.218.214] (HELO mail-bw0-f214.google.com) (209.85.218.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 14:46:48 +0000
Received: by bwz10 with SMTP id 10so2234345bwz.29
        for <common-user@hadoop.apache.org>; Mon, 14 Sep 2009 07:46:28 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=PJ4gv0L9zxro+6W91cuqKsjTiUYzaztrEnUYJvhsbQ8=;
        b=X87KLaid7iQRVF61sXBF9gqNg1TdnI1YnCUe96HMnP9gQMcYdZHkE9RuukECPeE8lT
         s1PyE1n/eSxKUXJW3ATclmXdg/4Utlka4n+8e/MvVV7W3wKDkWaj77m+UuzTI1un+VY7
         9PgGxwKfh0av2ptLIfmWktFH8TKL4Hbwt4GpM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=pKpIGEYbuMaowwAVippZAts5Jkr0f2A+w3fB95LnTnLZtonsP5Os/1H1enuuwGSK+T
         TgW1JnDFZtW+7VxIgqfnGWuy8FUZAi3g0QJZ8zD0RYQizAGht/ZGDsAXkBZSAC0kpKsw
         euo1HZz692VRnVe/cO6B7Z5Ato9perel8FAxQ=
MIME-Version: 1.0
Received: by 10.223.81.65 with SMTP id w1mr2251135fak.46.1252939588115; Mon, 
	14 Sep 2009 07:46:28 -0700 (PDT)
In-Reply-To: <4c6b39130909140743n11e19684sb4aa83c63b6e6a1@mail.gmail.com>
References: <4c6b39130909140704r398da06fs31f56b438d0af015@mail.gmail.com> 
	<4c6b39130909140743n11e19684sb4aa83c63b6e6a1@mail.gmail.com>
From: Vincenzo Gulisano <vincenzo.gulisano@gmail.com>
Date: Mon, 14 Sep 2009 16:46:08 +0200
Message-ID: <4c6b39130909140746l16658775kfecac5c852ce7ea7@mail.gmail.com>
Subject: Fwd: Hadoop installation problems - help
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=001517447dc6131db904738abbc9
X-Virus-Checked: Checked by ClamAV on apache.org

--001517447dc6131db904738abbc9
Content-Type: text/plain; charset=ISO-8859-1

Hi,
after a lot of unsuccessful attempts of running hadoop distributed file
system on my machine, I've located one possible error.
Maybe you have some ideas about what's going on.

Experiment:
What I'm doing is simply executing start-all.sh and hadoop dfsadmin -report

After the setup I can check that everything is working using:

jps
...
17421 NameNode
17519 DataNode
17611 SecondaryNameNode
17685 JobTracker
17778 TaskTracker
18425 Jps
...




AND

sudo netstat -plten | grep java
...
tcp        0      0 127.0.0.1:54310         0.0.0.0:* LISTEN      1062
      346907      17421/java      (namenode)
tcp        0      0 127.0.0.1:54311         0.0.0.0:* LISTEN      1062
      347480      17685/java      (job tracker)




2 things happen launching the application:
1) The program waits and nothing happens (99% of the times)
2) The program works but the report shows that the HDFS has some problems

Taking a look to the debug:


main:

  [1] java.lang.Object.wait (native method)
  [2] java.lang.Object.wait (Object.java:485)
  [3] org.apache.hadoop.ipc.Client.call (Client.java:725)
  [4] org.apache.hadoop.ipc.RPC$Invoker.invoke (RPC.java:220)
  [5] $Proxy0.getProtocolVersion (null)
  [6] org.apache.hadoop.ipc.RPC.getProxy (RPC.java:359)
  [7] org.apache.hadoop.hdfs.DFSClient.createRPCNamenode
(DFSClient.java:105)
  [8] org.apache.hadoop.hdfs.DFSClient.<init> (DFSClient.java:208)
  [9] org.apache.hadoop.hdfs.DFSClient.<init> (DFSClient.java:169)
  [10] org.apache.hadoop.hdfs.DistributedFileSystem.initialize
(DistributedFileSystem.java:82)
  [11] org.apache.hadoop.fs.FileSystem.createFileSystem
(FileSystem.java:1,384)
  [12] org.apache.hadoop.fs.FileSystem.access$200 (FileSystem.java:66)
  [13] org.apache.hadoop.fs.FileSystem$Cache.get (FileSystem.java:1,399)
  [14] org.apache.hadoop.fs.FileSystem.get (FileSystem.java:199)
  [15] org.apache.hadoop.fs.FileSystem.get (FileSystem.java:96)
  [16] org.apache.hadoop.fs.FsShell.init (FsShell.java:85)
  [17] org.apache.hadoop.hdfs.tools.DFSAdmin.run (DFSAdmin.java:777)
  [18] org.apache.hadoop.util.ToolRunner.run (ToolRunner.java:65)
  [19] org.apache.hadoop.util.ToolRunner.run (ToolRunner.java:79)
  [20] org.apache.hadoop.hdfs.tools.DFSAdmin.main (DFSAdmin.java:858)

IPC Client (47) connection to localhost/127.0.0.1:8020 from vincenzo:
  [1] sun.nio.ch.EPollArrayWrapper.epollWait (native method)
  [2] sun.nio.ch.EPollArrayWrapper.poll (EPollArrayWrapper.java:215)
  [3] sun.nio.ch.EPollSelectorImpl.doSelect (EPollSelectorImpl.java:65)
  [4] sun.nio.ch.SelectorImpl.lockAndDoSelect (SelectorImpl.java:69)
  [5] sun.nio.ch.SelectorImpl.select (SelectorImpl.java:80)
  [6] org.apache.hadoop.net.SocketIOWithTimeout$SelectorPool.select
(SocketIOWithTimeout.java:332)
  [7] org.apache.hadoop.net.SocketIOWithTimeout.doIO
(SocketIOWithTimeout.java:157)
  [8] org.apache.hadoop.net.SocketInputStream.read
(SocketInputStream.java:155)
  [9] org.apache.hadoop.net.SocketInputStream.read
(SocketInputStream.java:128)
  [10] java.io.FilterInputStream.read (FilterInputStream.java:116)
  [11] org.apache.hadoop.ipc.Client$Connection$PingInputStream.read
(Client.java:276)
  [12] java.io.BufferedInputStream.fill (BufferedInputStream.java:218)
  [13] java.io.BufferedInputStream.read (BufferedInputStream.java:237)
  [14] java.io.DataInputStream.readInt (DataInputStream.java:370)
  [15] org.apache.hadoop.ipc.Client$Connection.receiveResponse
(Client.java:501)
  [16] org.apache.hadoop.ipc.Client$Connection.run (Client.java:446)

Have you any idea about why this can happen?

I've tries also to telnet the host:port and it works. I've tried all
possible addresses in the configuration (localhost / 127.0.0.1 / name /
name.domain ).

Any help is appreciated,
Thanks in advance

Vincenzo

--001517447dc6131db904738abbc9--

From common-user-return-17436-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 14 14:51:37 2009
Return-Path: <common-user-return-17436-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 25652 invoked from network); 14 Sep 2009 14:51:37 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Sep 2009 14:51:37 -0000
Received: (qmail 52010 invoked by uid 500); 14 Sep 2009 14:51:34 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 51935 invoked by uid 500); 14 Sep 2009 14:51:34 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 51924 invoked by uid 99); 14 Sep 2009 14:51:34 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 14:51:34 +0000
X-ASF-Spam-Status: No, hits=4.9 required=10.0
	tests=HTML_MESSAGE,NORMAL_HTTP_TO_IP,SPF_NEUTRAL,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.211.191] (HELO mail-yw0-f191.google.com) (209.85.211.191)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 14:51:23 +0000
Received: by ywh29 with SMTP id 29so4744010ywh.23
        for <common-user@hadoop.apache.org>; Mon, 14 Sep 2009 07:51:02 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.90.13.15 with SMTP id 15mr3926787agm.74.1252939862140; Mon, 14 
	Sep 2009 07:51:02 -0700 (PDT)
In-Reply-To: <4c6b39130909140746l16658775kfecac5c852ce7ea7@mail.gmail.com>
References: <4c6b39130909140704r398da06fs31f56b438d0af015@mail.gmail.com> 
	<4c6b39130909140743n11e19684sb4aa83c63b6e6a1@mail.gmail.com> 
	<4c6b39130909140746l16658775kfecac5c852ce7ea7@mail.gmail.com>
From: Todd Lipcon <todd@cloudera.com>
Date: Mon, 14 Sep 2009 07:50:42 -0700
Message-ID: <45f85f70909140750m58389923r19efb0ca0bbd396a@mail.gmail.com>
Subject: Re: Hadoop installation problems - help
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0016361e7d1268686404738acb83
X-Virus-Checked: Checked by ClamAV on apache.org

--0016361e7d1268686404738acb83
Content-Type: text/plain; charset=ISO-8859-1

Hi Vincenzo,

Look at the log output of your daemons. My guess is that you'll find
something pretty clear there.

-Todd

On Mon, Sep 14, 2009 at 7:46 AM, Vincenzo Gulisano <
vincenzo.gulisano@gmail.com> wrote:

> Hi,
> after a lot of unsuccessful attempts of running hadoop distributed file
> system on my machine, I've located one possible error.
> Maybe you have some ideas about what's going on.
>
> Experiment:
> What I'm doing is simply executing start-all.sh and hadoop dfsadmin -report
>
> After the setup I can check that everything is working using:
>
> jps
> ...
> 17421 NameNode
> 17519 DataNode
> 17611 SecondaryNameNode
> 17685 JobTracker
> 17778 TaskTracker
> 18425 Jps
> ...
>
>
>
>
> AND
>
> sudo netstat -plten | grep java
> ...
> tcp        0      0 127.0.0.1:54310         0.0.0.0:* LISTEN      1062
>      346907      17421/java      (namenode)
> tcp        0      0 127.0.0.1:54311         0.0.0.0:* LISTEN      1062
>      347480      17685/java      (job tracker)
>
>
>
>
> 2 things happen launching the application:
> 1) The program waits and nothing happens (99% of the times)
> 2) The program works but the report shows that the HDFS has some problems
>
> Taking a look to the debug:
>
>
> main:
>
>  [1] java.lang.Object.wait (native method)
>  [2] java.lang.Object.wait (Object.java:485)
>  [3] org.apache.hadoop.ipc.Client.call (Client.java:725)
>  [4] org.apache.hadoop.ipc.RPC$Invoker.invoke (RPC.java:220)
>  [5] $Proxy0.getProtocolVersion (null)
>  [6] org.apache.hadoop.ipc.RPC.getProxy (RPC.java:359)
>  [7] org.apache.hadoop.hdfs.DFSClient.createRPCNamenode
> (DFSClient.java:105)
>  [8] org.apache.hadoop.hdfs.DFSClient.<init> (DFSClient.java:208)
>  [9] org.apache.hadoop.hdfs.DFSClient.<init> (DFSClient.java:169)
>  [10] org.apache.hadoop.hdfs.DistributedFileSystem.initialize
> (DistributedFileSystem.java:82)
>  [11] org.apache.hadoop.fs.FileSystem.createFileSystem
> (FileSystem.java:1,384)
>  [12] org.apache.hadoop.fs.FileSystem.access$200 (FileSystem.java:66)
>  [13] org.apache.hadoop.fs.FileSystem$Cache.get (FileSystem.java:1,399)
>  [14] org.apache.hadoop.fs.FileSystem.get (FileSystem.java:199)
>  [15] org.apache.hadoop.fs.FileSystem.get (FileSystem.java:96)
>  [16] org.apache.hadoop.fs.FsShell.init (FsShell.java:85)
>  [17] org.apache.hadoop.hdfs.tools.DFSAdmin.run (DFSAdmin.java:777)
>  [18] org.apache.hadoop.util.ToolRunner.run (ToolRunner.java:65)
>  [19] org.apache.hadoop.util.ToolRunner.run (ToolRunner.java:79)
>  [20] org.apache.hadoop.hdfs.tools.DFSAdmin.main (DFSAdmin.java:858)
>
> IPC Client (47) connection to localhost/127.0.0.1:8020 from vincenzo:
>  [1] sun.nio.ch.EPollArrayWrapper.epollWait (native method)
>  [2] sun.nio.ch.EPollArrayWrapper.poll (EPollArrayWrapper.java:215)
>  [3] sun.nio.ch.EPollSelectorImpl.doSelect (EPollSelectorImpl.java:65)
>  [4] sun.nio.ch.SelectorImpl.lockAndDoSelect (SelectorImpl.java:69)
>  [5] sun.nio.ch.SelectorImpl.select (SelectorImpl.java:80)
>  [6] org.apache.hadoop.net.SocketIOWithTimeout$SelectorPool.select
> (SocketIOWithTimeout.java:332)
>  [7] org.apache.hadoop.net.SocketIOWithTimeout.doIO
> (SocketIOWithTimeout.java:157)
>  [8] org.apache.hadoop.net.SocketInputStream.read
> (SocketInputStream.java:155)
>  [9] org.apache.hadoop.net.SocketInputStream.read
> (SocketInputStream.java:128)
>  [10] java.io.FilterInputStream.read (FilterInputStream.java:116)
>  [11] org.apache.hadoop.ipc.Client$Connection$PingInputStream.read
> (Client.java:276)
>  [12] java.io.BufferedInputStream.fill (BufferedInputStream.java:218)
>  [13] java.io.BufferedInputStream.read (BufferedInputStream.java:237)
>  [14] java.io.DataInputStream.readInt (DataInputStream.java:370)
>  [15] org.apache.hadoop.ipc.Client$Connection.receiveResponse
> (Client.java:501)
>  [16] org.apache.hadoop.ipc.Client$Connection.run (Client.java:446)
>
> Have you any idea about why this can happen?
>
> I've tries also to telnet the host:port and it works. I've tried all
> possible addresses in the configuration (localhost / 127.0.0.1 / name /
> name.domain ).
>
> Any help is appreciated,
> Thanks in advance
>
> Vincenzo
>

--0016361e7d1268686404738acb83--

From common-user-return-17437-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 14 14:58:51 2009
Return-Path: <common-user-return-17437-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 28914 invoked from network); 14 Sep 2009 14:58:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Sep 2009 14:58:51 -0000
Received: (qmail 83069 invoked by uid 500); 14 Sep 2009 14:58:49 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 83017 invoked by uid 500); 14 Sep 2009 14:58:49 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 82976 invoked by uid 99); 14 Sep 2009 14:58:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 14:58:49 +0000
X-ASF-Spam-Status: No, hits=3.7 required=10.0
	tests=HTML_MESSAGE,NORMAL_HTTP_TO_IP,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of vincenzo.gulisano@gmail.com designates 209.85.218.214 as permitted sender)
Received: from [209.85.218.214] (HELO mail-bw0-f214.google.com) (209.85.218.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 14:58:39 +0000
Received: by bwz10 with SMTP id 10so2243637bwz.29
        for <common-user@hadoop.apache.org>; Mon, 14 Sep 2009 07:58:17 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=Cmn27iJfXszLZUM1g79iMTT3vYIrqK2kk5rd+5fe//s=;
        b=YanAyP3WTB0k0oib4Q1XWpi+6wzS3BmeJQgtvtqCiCfAkKly7Bw0j8CaXoLc4UJZMr
         UknmOdc5q+4l8sihRtPjL9Sr6bFWZu0JF9m3zQmLIU+AkW4v07S9Dw+Y5S3u+CYQxXYo
         uyEcioXzZrukRq8BNgqaa8CN6MrAKoIOfp6IM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=GlE1aGsZbI9K0GYUYjdBbNyZZ+hP47kTiWAetcf7FHBnI8aM9d2XbgocsMGgdKrk2E
         zV37hzfKHfHel6NRWfu5Y5NThBubSejsOH6eZoE5pwaAVasJWc27H1rP7679s0SAVkqW
         3ZSxx5/q+t4iELf74WkrGLPfa1q59+Dtmms04=
MIME-Version: 1.0
Received: by 10.223.22.81 with SMTP id m17mr2258313fab.28.1252940297318; Mon, 
	14 Sep 2009 07:58:17 -0700 (PDT)
In-Reply-To: <45f85f70909140750m58389923r19efb0ca0bbd396a@mail.gmail.com>
References: <4c6b39130909140704r398da06fs31f56b438d0af015@mail.gmail.com> 
	<4c6b39130909140743n11e19684sb4aa83c63b6e6a1@mail.gmail.com> 
	<4c6b39130909140746l16658775kfecac5c852ce7ea7@mail.gmail.com> 
	<45f85f70909140750m58389923r19efb0ca0bbd396a@mail.gmail.com>
From: Vincenzo Gulisano <vincenzo.gulisano@gmail.com>
Date: Mon, 14 Sep 2009 16:57:57 +0200
Message-ID: <4c6b39130909140757h6be4182eu64e4290262f355b@mail.gmail.com>
Subject: Re: Hadoop installation problems - help
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=00151747beea58b37404738ae511
X-Virus-Checked: Checked by ClamAV on apache.org

--00151747beea58b37404738ae511
Content-Type: text/plain; charset=ISO-8859-1

Hi Todd,
thanks for your answer. I've already tried this solution. No error is
reported.
As the program remains in a "wait state", no error is detected.
I've seen that the error
"sun.nio.ch.EPollArrayWrapper. epollWait (native method)"
affects other old bugs of hadoop, but I couldn't solve mine.
Thanks again




2009/9/14 Todd Lipcon <todd@cloudera.com>

> Hi Vincenzo,
>
> Look at the log output of your daemons. My guess is that you'll find
> something pretty clear there.
>
> -Todd
>
> On Mon, Sep 14, 2009 at 7:46 AM, Vincenzo Gulisano <
> vincenzo.gulisano@gmail.com> wrote:
>
> > Hi,
> > after a lot of unsuccessful attempts of running hadoop distributed file
> > system on my machine, I've located one possible error.
> > Maybe you have some ideas about what's going on.
> >
> > Experiment:
> > What I'm doing is simply executing start-all.sh and hadoop dfsadmin
> -report
> >
> > After the setup I can check that everything is working using:
> >
> > jps
> > ...
> > 17421 NameNode
> > 17519 DataNode
> > 17611 SecondaryNameNode
> > 17685 JobTracker
> > 17778 TaskTracker
> > 18425 Jps
> > ...
> >
> >
> >
> >
> > AND
> >
> > sudo netstat -plten | grep java
> > ...
> > tcp        0      0 127.0.0.1:54310         0.0.0.0:* LISTEN      1062
> >      346907      17421/java      (namenode)
> > tcp        0      0 127.0.0.1:54311         0.0.0.0:* LISTEN      1062
> >      347480      17685/java      (job tracker)
> >
> >
> >
> >
> > 2 things happen launching the application:
> > 1) The program waits and nothing happens (99% of the times)
> > 2) The program works but the report shows that the HDFS has some problems
> >
> > Taking a look to the debug:
> >
> >
> > main:
> >
> >  [1] java.lang.Object.wait (native method)
> >  [2] java.lang.Object.wait (Object.java:485)
> >  [3] org.apache.hadoop.ipc.Client.call (Client.java:725)
> >  [4] org.apache.hadoop.ipc.RPC$Invoker.invoke (RPC.java:220)
> >  [5] $Proxy0.getProtocolVersion (null)
> >  [6] org.apache.hadoop.ipc.RPC.getProxy (RPC.java:359)
> >  [7] org.apache.hadoop.hdfs.DFSClient.createRPCNamenode
> > (DFSClient.java:105)
> >  [8] org.apache.hadoop.hdfs.DFSClient.<init> (DFSClient.java:208)
> >  [9] org.apache.hadoop.hdfs.DFSClient.<init> (DFSClient.java:169)
> >  [10] org.apache.hadoop.hdfs.DistributedFileSystem.initialize
> > (DistributedFileSystem.java:82)
> >  [11] org.apache.hadoop.fs.FileSystem.createFileSystem
> > (FileSystem.java:1,384)
> >  [12] org.apache.hadoop.fs.FileSystem.access$200 (FileSystem.java:66)
> >  [13] org.apache.hadoop.fs.FileSystem$Cache.get (FileSystem.java:1,399)
> >  [14] org.apache.hadoop.fs.FileSystem.get (FileSystem.java:199)
> >  [15] org.apache.hadoop.fs.FileSystem.get (FileSystem.java:96)
> >  [16] org.apache.hadoop.fs.FsShell.init (FsShell.java:85)
> >  [17] org.apache.hadoop.hdfs.tools.DFSAdmin.run (DFSAdmin.java:777)
> >  [18] org.apache.hadoop.util.ToolRunner.run (ToolRunner.java:65)
> >  [19] org.apache.hadoop.util.ToolRunner.run (ToolRunner.java:79)
> >  [20] org.apache.hadoop.hdfs.tools.DFSAdmin.main (DFSAdmin.java:858)
> >
> > IPC Client (47) connection to localhost/127.0.0.1:8020 from vincenzo:
> >  [1] sun.nio.ch.EPollArrayWrapper.epollWait (native method)
> >  [2] sun.nio.ch.EPollArrayWrapper.poll (EPollArrayWrapper.java:215)
> >  [3] sun.nio.ch.EPollSelectorImpl.doSelect (EPollSelectorImpl.java:65)
> >  [4] sun.nio.ch.SelectorImpl.lockAndDoSelect (SelectorImpl.java:69)
> >  [5] sun.nio.ch.SelectorImpl.select (SelectorImpl.java:80)
> >  [6] org.apache.hadoop.net.SocketIOWithTimeout$SelectorPool.select
> > (SocketIOWithTimeout.java:332)
> >  [7] org.apache.hadoop.net.SocketIOWithTimeout.doIO
> > (SocketIOWithTimeout.java:157)
> >  [8] org.apache.hadoop.net.SocketInputStream.read
> > (SocketInputStream.java:155)
> >  [9] org.apache.hadoop.net.SocketInputStream.read
> > (SocketInputStream.java:128)
> >  [10] java.io.FilterInputStream.read (FilterInputStream.java:116)
> >  [11] org.apache.hadoop.ipc.Client$Connection$PingInputStream.read
> > (Client.java:276)
> >  [12] java.io.BufferedInputStream.fill (BufferedInputStream.java:218)
> >  [13] java.io.BufferedInputStream.read (BufferedInputStream.java:237)
> >  [14] java.io.DataInputStream.readInt (DataInputStream.java:370)
> >  [15] org.apache.hadoop.ipc.Client$Connection.receiveResponse
> > (Client.java:501)
> >  [16] org.apache.hadoop.ipc.Client$Connection.run (Client.java:446)
> >
> > Have you any idea about why this can happen?
> >
> > I've tries also to telnet the host:port and it works. I've tried all
> > possible addresses in the configuration (localhost / 127.0.0.1 / name /
> > name.domain ).
> >
> > Any help is appreciated,
> > Thanks in advance
> >
> > Vincenzo
> >
>



-- 
Vincenzo Massimiliano Gulisano
PhD student - UPM - Distributed System Lab.

--00151747beea58b37404738ae511--

From common-user-return-17438-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 14 15:04:20 2009
Return-Path: <common-user-return-17438-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 31947 invoked from network); 14 Sep 2009 15:04:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Sep 2009 15:04:20 -0000
Received: (qmail 270 invoked by uid 500); 14 Sep 2009 15:04:18 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 202 invoked by uid 500); 14 Sep 2009 15:04:18 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 192 invoked by uid 99); 14 Sep 2009 15:04:18 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 15:04:18 +0000
X-ASF-Spam-Status: No, hits=4.9 required=10.0
	tests=HTML_MESSAGE,NORMAL_HTTP_TO_IP,SPF_NEUTRAL,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: neutral (athena.apache.org: local policy)
Received: from [209.85.132.244] (HELO an-out-0708.google.com) (209.85.132.244)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 15:04:07 +0000
Received: by an-out-0708.google.com with SMTP id c38so1099095ana.29
        for <common-user@hadoop.apache.org>; Mon, 14 Sep 2009 08:03:45 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.101.209.23 with SMTP id l23mr6219585anq.173.1252940625236; 
	Mon, 14 Sep 2009 08:03:45 -0700 (PDT)
In-Reply-To: <4c6b39130909140757h6be4182eu64e4290262f355b@mail.gmail.com>
References: <4c6b39130909140704r398da06fs31f56b438d0af015@mail.gmail.com> 
	<4c6b39130909140743n11e19684sb4aa83c63b6e6a1@mail.gmail.com> 
	<4c6b39130909140746l16658775kfecac5c852ce7ea7@mail.gmail.com> 
	<45f85f70909140750m58389923r19efb0ca0bbd396a@mail.gmail.com> 
	<4c6b39130909140757h6be4182eu64e4290262f355b@mail.gmail.com>
From: Todd Lipcon <todd@cloudera.com>
Date: Mon, 14 Sep 2009 08:03:25 -0700
Message-ID: <45f85f70909140803g78c59c1bo39cbb72707d2980b@mail.gmail.com>
Subject: Re: Hadoop installation problems - help
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0016e6d3cf14e4530304738af8f3
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e6d3cf14e4530304738af8f3
Content-Type: text/plain; charset=ISO-8859-1

That's not an error - that just means that the daemon thread is waiting for
a connection (IO event)

The logs in $HADOOP_HOME/log/ are entirely empty? Both the .log and .out
files? I find that hard to believe :)

-Todd

On Mon, Sep 14, 2009 at 7:57 AM, Vincenzo Gulisano <
vincenzo.gulisano@gmail.com> wrote:

> Hi Todd,
> thanks for your answer. I've already tried this solution. No error is
> reported.
> As the program remains in a "wait state", no error is detected.
> I've seen that the error
> "sun.nio.ch.EPollArrayWrapper. epollWait (native method)"
> affects other old bugs of hadoop, but I couldn't solve mine.
> Thanks again
>
>
>
>
> 2009/9/14 Todd Lipcon <todd@cloudera.com>
>
> > Hi Vincenzo,
> >
> > Look at the log output of your daemons. My guess is that you'll find
> > something pretty clear there.
> >
> > -Todd
> >
> > On Mon, Sep 14, 2009 at 7:46 AM, Vincenzo Gulisano <
> > vincenzo.gulisano@gmail.com> wrote:
> >
> > > Hi,
> > > after a lot of unsuccessful attempts of running hadoop distributed file
> > > system on my machine, I've located one possible error.
> > > Maybe you have some ideas about what's going on.
> > >
> > > Experiment:
> > > What I'm doing is simply executing start-all.sh and hadoop dfsadmin
> > -report
> > >
> > > After the setup I can check that everything is working using:
> > >
> > > jps
> > > ...
> > > 17421 NameNode
> > > 17519 DataNode
> > > 17611 SecondaryNameNode
> > > 17685 JobTracker
> > > 17778 TaskTracker
> > > 18425 Jps
> > > ...
> > >
> > >
> > >
> > >
> > > AND
> > >
> > > sudo netstat -plten | grep java
> > > ...
> > > tcp        0      0 127.0.0.1:54310         0.0.0.0:* LISTEN      1062
> > >      346907      17421/java      (namenode)
> > > tcp        0      0 127.0.0.1:54311         0.0.0.0:* LISTEN      1062
> > >      347480      17685/java      (job tracker)
> > >
> > >
> > >
> > >
> > > 2 things happen launching the application:
> > > 1) The program waits and nothing happens (99% of the times)
> > > 2) The program works but the report shows that the HDFS has some
> problems
> > >
> > > Taking a look to the debug:
> > >
> > >
> > > main:
> > >
> > >  [1] java.lang.Object.wait (native method)
> > >  [2] java.lang.Object.wait (Object.java:485)
> > >  [3] org.apache.hadoop.ipc.Client.call (Client.java:725)
> > >  [4] org.apache.hadoop.ipc.RPC$Invoker.invoke (RPC.java:220)
> > >  [5] $Proxy0.getProtocolVersion (null)
> > >  [6] org.apache.hadoop.ipc.RPC.getProxy (RPC.java:359)
> > >  [7] org.apache.hadoop.hdfs.DFSClient.createRPCNamenode
> > > (DFSClient.java:105)
> > >  [8] org.apache.hadoop.hdfs.DFSClient.<init> (DFSClient.java:208)
> > >  [9] org.apache.hadoop.hdfs.DFSClient.<init> (DFSClient.java:169)
> > >  [10] org.apache.hadoop.hdfs.DistributedFileSystem.initialize
> > > (DistributedFileSystem.java:82)
> > >  [11] org.apache.hadoop.fs.FileSystem.createFileSystem
> > > (FileSystem.java:1,384)
> > >  [12] org.apache.hadoop.fs.FileSystem.access$200 (FileSystem.java:66)
> > >  [13] org.apache.hadoop.fs.FileSystem$Cache.get (FileSystem.java:1,399)
> > >  [14] org.apache.hadoop.fs.FileSystem.get (FileSystem.java:199)
> > >  [15] org.apache.hadoop.fs.FileSystem.get (FileSystem.java:96)
> > >  [16] org.apache.hadoop.fs.FsShell.init (FsShell.java:85)
> > >  [17] org.apache.hadoop.hdfs.tools.DFSAdmin.run (DFSAdmin.java:777)
> > >  [18] org.apache.hadoop.util.ToolRunner.run (ToolRunner.java:65)
> > >  [19] org.apache.hadoop.util.ToolRunner.run (ToolRunner.java:79)
> > >  [20] org.apache.hadoop.hdfs.tools.DFSAdmin.main (DFSAdmin.java:858)
> > >
> > > IPC Client (47) connection to localhost/127.0.0.1:8020 from vincenzo:
> > >  [1] sun.nio.ch.EPollArrayWrapper.epollWait (native method)
> > >  [2] sun.nio.ch.EPollArrayWrapper.poll (EPollArrayWrapper.java:215)
> > >  [3] sun.nio.ch.EPollSelectorImpl.doSelect (EPollSelectorImpl.java:65)
> > >  [4] sun.nio.ch.SelectorImpl.lockAndDoSelect (SelectorImpl.java:69)
> > >  [5] sun.nio.ch.SelectorImpl.select (SelectorImpl.java:80)
> > >  [6] org.apache.hadoop.net.SocketIOWithTimeout$SelectorPool.select
> > > (SocketIOWithTimeout.java:332)
> > >  [7] org.apache.hadoop.net.SocketIOWithTimeout.doIO
> > > (SocketIOWithTimeout.java:157)
> > >  [8] org.apache.hadoop.net.SocketInputStream.read
> > > (SocketInputStream.java:155)
> > >  [9] org.apache.hadoop.net.SocketInputStream.read
> > > (SocketInputStream.java:128)
> > >  [10] java.io.FilterInputStream.read (FilterInputStream.java:116)
> > >  [11] org.apache.hadoop.ipc.Client$Connection$PingInputStream.read
> > > (Client.java:276)
> > >  [12] java.io.BufferedInputStream.fill (BufferedInputStream.java:218)
> > >  [13] java.io.BufferedInputStream.read (BufferedInputStream.java:237)
> > >  [14] java.io.DataInputStream.readInt (DataInputStream.java:370)
> > >  [15] org.apache.hadoop.ipc.Client$Connection.receiveResponse
> > > (Client.java:501)
> > >  [16] org.apache.hadoop.ipc.Client$Connection.run (Client.java:446)
> > >
> > > Have you any idea about why this can happen?
> > >
> > > I've tries also to telnet the host:port and it works. I've tried all
> > > possible addresses in the configuration (localhost / 127.0.0.1 / name /
> > > name.domain ).
> > >
> > > Any help is appreciated,
> > > Thanks in advance
> > >
> > > Vincenzo
> > >
> >
>
>
>
> --
> Vincenzo Massimiliano Gulisano
> PhD student - UPM - Distributed System Lab.
>

--0016e6d3cf14e4530304738af8f3--

From common-user-return-17439-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 14 15:23:54 2009
Return-Path: <common-user-return-17439-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 41049 invoked from network); 14 Sep 2009 15:23:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Sep 2009 15:23:54 -0000
Received: (qmail 64910 invoked by uid 500); 14 Sep 2009 15:23:52 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 64834 invoked by uid 500); 14 Sep 2009 15:23:52 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 64824 invoked by uid 99); 14 Sep 2009 15:23:52 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 15:23:52 +0000
X-ASF-Spam-Status: No, hits=3.7 required=10.0
	tests=HTML_MESSAGE,NORMAL_HTTP_TO_IP,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of vincenzo.gulisano@gmail.com designates 209.85.218.214 as permitted sender)
Received: from [209.85.218.214] (HELO mail-bw0-f214.google.com) (209.85.218.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 15:23:40 +0000
Received: by bwz10 with SMTP id 10so2262949bwz.29
        for <common-user@hadoop.apache.org>; Mon, 14 Sep 2009 08:23:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=Qxo3DOyS3ET0LZ3/Bg4p1pOwEftpX9JL6isQvCEnqyQ=;
        b=Ha1GsN6varhwGmCdg//90eNwMKazfM+JxiL8dq80FqNf2+505S5idNujjS78uxE/hI
         edmc3fP5Rou+4MESxe7Cr41V9dVyvYY/AqotwOCaGo8O5Vuv1mCySpvAOk3nMBhtg5Gp
         D6DOehQLWHfF9nWRZx9NuXstQKF4t8HTgRYTc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=RQH/1yQb39fXYGLNC4f8ersTfoHseRQF/bFOuHebf9jrJ4YjA+dP3SYYOUCzH7LUux
         ZVOoKqogL+WeihFVBKPJnsg8cZ4iNiZOCOsKmKXa+dO8IcJuqOuDqzuSBhvlWBMlSHM+
         Mfkv8gzycNNQf6WjPaLAkrt4GM/S/PhMvHKJk=
MIME-Version: 1.0
Received: by 10.223.57.66 with SMTP id b2mr2207012fah.33.1252941799349; Mon, 
	14 Sep 2009 08:23:19 -0700 (PDT)
In-Reply-To: <45f85f70909140803g78c59c1bo39cbb72707d2980b@mail.gmail.com>
References: <4c6b39130909140704r398da06fs31f56b438d0af015@mail.gmail.com> 
	<4c6b39130909140743n11e19684sb4aa83c63b6e6a1@mail.gmail.com> 
	<4c6b39130909140746l16658775kfecac5c852ce7ea7@mail.gmail.com> 
	<45f85f70909140750m58389923r19efb0ca0bbd396a@mail.gmail.com> 
	<4c6b39130909140757h6be4182eu64e4290262f355b@mail.gmail.com> 
	<45f85f70909140803g78c59c1bo39cbb72707d2980b@mail.gmail.com>
From: Vincenzo Gulisano <vincenzo.gulisano@gmail.com>
Date: Mon, 14 Sep 2009 17:22:59 +0200
Message-ID: <4c6b39130909140822o4d0736a4yf831fc3113edabbe@mail.gmail.com>
Subject: Re: Hadoop installation problems - help
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=001517473434dfdf8904738b3e00
X-Virus-Checked: Checked by ClamAV on apache.org

--001517473434dfdf8904738b3e00
Content-Type: text/plain; charset=ISO-8859-1

Hi,
I've just repeated the experiment. this is what I get:

NAMENODE

2009-09-14 17:08:25,304 INFO
org.apache.hadoop.hdfs.server.namenode.NameNode: STARTUP_MSG:
/************************************************************
STARTUP_MSG: Starting NameNode
STARTUP_MSG:   host = XXX/192.*.*.*
STARTUP_MSG:   args = []
STARTUP_MSG:   version = 0.20.2-dev
STARTUP_MSG:   build =  -r ; compiled by 'vincenzo' on Mon Sep 14 15:49:43
CEST 2009
************************************************************/
2009-09-14 17:08:25,442 INFO org.apache.hadoop.ipc.metrics.RpcMetrics:
Initializing RPC Metrics with hostName=NameNode, port=8020
2009-09-14 17:08:25,448 INFO
org.apache.hadoop.hdfs.server.namenode.NameNode: Namenode up at:
XXX/192.*.*.*:8020
2009-09-14 17:08:25,450 INFO org.apache.hadoop.metrics.jvm.JvmMetrics:
Initializing JVM Metrics with processName=NameNode, sessionId=null
2009-09-14 17:08:25,453 INFO
org.apache.hadoop.hdfs.server.namenode.metrics.NameNodeMetrics: Initializing
NameNodeMeterics using context
object:org.apache.hadoop.metrics.spi.NullContext
2009-09-14 17:08:25,530 INFO
org.apache.hadoop.hdfs.server.namenode.FSNamesystem:
fsOwner=vincenzo,vincenzo
2009-09-14 17:08:25,530 INFO
org.apache.hadoop.hdfs.server.namenode.FSNamesystem: supergroup=supergroup
2009-09-14 17:08:25,530 INFO
org.apache.hadoop.hdfs.server.namenode.FSNamesystem:
isPermissionEnabled=true
2009-09-14 17:08:25,540 INFO
org.apache.hadoop.hdfs.server.namenode.metrics.FSNamesystemMetrics:
Initializing FSNamesystemMetrics using context
object:org.apache.hadoop.metrics.spi.NullContext
2009-09-14 17:08:25,542 INFO
org.apache.hadoop.hdfs.server.namenode.FSNamesystem: Registered
FSNamesystemStatusMBean
2009-09-14 17:08:25,581 INFO org.apache.hadoop.hdfs.server.common.Storage:
Number of files = 1
2009-09-14 17:08:25,586 INFO org.apache.hadoop.hdfs.server.common.Storage:
Number of files under construction = 0
2009-09-14 17:08:25,586 INFO org.apache.hadoop.hdfs.server.common.Storage:
Image file of size 98 loaded in 0 seconds.
2009-09-14 17:08:25,586 INFO org.apache.hadoop.hdfs.server.common.Storage:
Edits file /tmp/hadoop-vincenzo/dfs/name/current/edits of size 4 edits # 0
loaded in 0 seconds.
2009-09-14 17:08:25,590 INFO org.apache.hadoop.hdfs.server.common.Storage:
Image file of size 98 saved in 0 seconds.
2009-09-14 17:08:25,602 INFO
org.apache.hadoop.hdfs.server.namenode.FSNamesystem: Finished loading
FSImage in 117 msecs
2009-09-14 17:08:25,603 INFO
org.apache.hadoop.hdfs.server.namenode.FSNamesystem: Total number of blocks
= 0
2009-09-14 17:08:25,603 INFO
org.apache.hadoop.hdfs.server.namenode.FSNamesystem: Number of invalid
blocks = 0
2009-09-14 17:08:25,603 INFO
org.apache.hadoop.hdfs.server.namenode.FSNamesystem: Number of
under-replicated blocks = 0
2009-09-14 17:08:25,603 INFO
org.apache.hadoop.hdfs.server.namenode.FSNamesystem: Number of
over-replicated blocks = 0
2009-09-14 17:08:25,603 INFO org.apache.hadoop.hdfs.StateChange: STATE*
Leaving safe mode after 0 secs.
2009-09-14 17:08:25,604 INFO org.apache.hadoop.hdfs.StateChange: STATE*
Network topology has 0 racks and 0 datanodes
2009-09-14 17:08:25,604 INFO org.apache.hadoop.hdfs.StateChange: STATE*
UnderReplicatedBlocks has 0 blocks
2009-09-14 17:08:25,802 INFO org.mortbay.log: Logging to
org.slf4j.impl.Log4jLoggerAdapter(org.mortbay.log) via
org.mortbay.log.Slf4jLog
2009-09-14 17:08:25,893 INFO org.apache.hadoop.http.HttpServer: Port
returned by webServer.getConnectors()[0].getLocalPort() before open() is -1.
Opening the listener on 50070
2009-09-14 17:08:25,894 INFO org.apache.hadoop.http.HttpServer:
listener.getLocalPort() returned 50070
webServer.getConnectors()[0].getLocalPort() returned 50070
2009-09-14 17:08:25,894 INFO org.apache.hadoop.http.HttpServer: Jetty bound
to port 50070
2009-09-14 17:08:25,894 INFO org.mortbay.log: jetty-6.1.14

DATANODE

2009-09-14 17:08:26,768 INFO
org.apache.hadoop.hdfs.server.datanode.DataNode: STARTUP_MSG:
/************************************************************
STARTUP_MSG: Starting DataNode
STARTUP_MSG:   host = XXX/192.*.*.*
STARTUP_MSG:   args = []
STARTUP_MSG:   version = 0.20.2-dev
STARTUP_MSG:   build =  -r ; compiled by 'vincenzo' on Mon Sep 14 15:49:43
CEST 2009
************************************************************/

JOBTRACKER

2009-09-14 17:08:28,721 INFO org.apache.hadoop.mapred.JobTracker:
STARTUP_MSG:
/************************************************************
STARTUP_MSG: Starting JobTracker
STARTUP_MSG:   host = XXX/192.*.*.*
STARTUP_MSG:   args = []
STARTUP_MSG:   version = 0.20.2-dev
STARTUP_MSG:   build =  -r ; compiled by 'vincenzo' on Mon Sep 14 15:49:43
CEST 2009
************************************************************/
2009-09-14 17:08:28,829 INFO org.apache.hadoop.mapred.JobTracker: Scheduler
configured with (memSizeForMapSlotOnJT, memSizeForReduceSlotOnJT,
limitMaxMemForMapTasks, limitMaxMemForReduceTasks) (-1, -1, -1, -1)
2009-09-14 17:08:28,875 INFO org.apache.hadoop.ipc.metrics.RpcMetrics:
Initializing RPC Metrics with hostName=JobTracker, port=8021
2009-09-14 17:08:28,948 INFO org.mortbay.log: Logging to
org.slf4j.impl.Log4jLoggerAdapter(org.mortbay.log) via
org.mortbay.log.Slf4jLog
2009-09-14 17:08:29,114 INFO org.apache.hadoop.http.HttpServer: Port
returned by webServer.getConnectors()[0].getLocalPort() before open() is -1.
Opening the listener on 50030
2009-09-14 17:08:29,116 INFO org.apache.hadoop.http.HttpServer:
listener.getLocalPort() returned 50030
webServer.getConnectors()[0].getLocalPort() returned 50030
2009-09-14 17:08:29,116 INFO org.apache.hadoop.http.HttpServer: Jetty bound
to port 50030
2009-09-14 17:08:29,116 INFO org.mortbay.log: jetty-6.1.14

TASKTRACER

2009-09-14 17:08:30,028 INFO org.apache.hadoop.mapred.TaskTracker:
STARTUP_MSG:
/************************************************************
STARTUP_MSG: Starting TaskTracker
STARTUP_MSG:   host = XXX/192.*.*.*
STARTUP_MSG:   args = []
STARTUP_MSG:   version = 0.20.2-dev
STARTUP_MSG:   build =  -r ; compiled by 'vincenzo' on Mon Sep 14 15:49:43
CEST 2009
************************************************************/
2009-09-14 17:08:30,240 INFO org.mortbay.log: Logging to
org.slf4j.impl.Log4jLoggerAdapter(org.mortbay.log) via
org.mortbay.log.Slf4jLog
2009-09-14 17:08:30,399 INFO org.apache.hadoop.http.HttpServer: Port
returned by webServer.getConnectors()[0].getLocalPort() before open() is -1.
Opening the listener on 50060
2009-09-14 17:08:30,407 INFO org.apache.hadoop.http.HttpServer:
listener.getLocalPort() returned 50060
webServer.getConnectors()[0].getLocalPort() returned 50060
2009-09-14 17:08:30,407 INFO org.apache.hadoop.http.HttpServer: Jetty bound
to port 50060
2009-09-14 17:08:30,407 INFO org.mortbay.log: jetty-6.1.14

SECONDARY NAME NODE

2009-09-14 17:08:27,666 INFO
org.apache.hadoop.hdfs.server.namenode.SecondaryNameNode: STARTUP_MSG:
/************************************************************
STARTUP_MSG: Starting SecondaryNameNode
STARTUP_MSG:   host = XXX/192.*.*.*
STARTUP_MSG:   args = []
STARTUP_MSG:   version = 0.20.2-dev
STARTUP_MSG:   build =  -r ; compiled by 'vincenzo' on Mon Sep 14 15:49:43
CEST 2009
************************************************************/
2009-09-14 17:08:27,738 INFO org.apache.hadoop.metrics.jvm.JvmMetrics:
Initializing JVM Metrics with processName=SecondaryNameNode, sessionId=null

______________________

I've noticed now that the namenode says that 0 namenode are availabe, but
the configuration is the one suggested by the hadoop tutorial and all the
conf files (included masters and slaves) of my single-node cluster setup are
specified with full name.
Do you have any idea about why this happens?
Again, thanks for your help


2009/9/14 Todd Lipcon <todd@cloudera.com>

> That's not an error - that just means that the daemon thread is waiting for
> a connection (IO event)
>
> The logs in $HADOOP_HOME/log/ are entirely empty? Both the .log and .out
> files? I find that hard to believe :)
>
> -Todd
>
> On Mon, Sep 14, 2009 at 7:57 AM, Vincenzo Gulisano <
> vincenzo.gulisano@gmail.com> wrote:
>
> > Hi Todd,
> > thanks for your answer. I've already tried this solution. No error is
> > reported.
> > As the program remains in a "wait state", no error is detected.
> > I've seen that the error
> > "sun.nio.ch.EPollArrayWrapper. epollWait (native method)"
> > affects other old bugs of hadoop, but I couldn't solve mine.
> > Thanks again
> >
> >
> >
> >
> > 2009/9/14 Todd Lipcon <todd@cloudera.com>
> >
> > > Hi Vincenzo,
> > >
> > > Look at the log output of your daemons. My guess is that you'll find
> > > something pretty clear there.
> > >
> > > -Todd
> > >
> > > On Mon, Sep 14, 2009 at 7:46 AM, Vincenzo Gulisano <
> > > vincenzo.gulisano@gmail.com> wrote:
> > >
> > > > Hi,
> > > > after a lot of unsuccessful attempts of running hadoop distributed
> file
> > > > system on my machine, I've located one possible error.
> > > > Maybe you have some ideas about what's going on.
> > > >
> > > > Experiment:
> > > > What I'm doing is simply executing start-all.sh and hadoop dfsadmin
> > > -report
> > > >
> > > > After the setup I can check that everything is working using:
> > > >
> > > > jps
> > > > ...
> > > > 17421 NameNode
> > > > 17519 DataNode
> > > > 17611 SecondaryNameNode
> > > > 17685 JobTracker
> > > > 17778 TaskTracker
> > > > 18425 Jps
> > > > ...
> > > >
> > > >
> > > >
> > > >
> > > > AND
> > > >
> > > > sudo netstat -plten | grep java
> > > > ...
> > > > tcp        0      0 127.0.0.1:54310         0.0.0.0:* LISTEN
>  1062
> > > >      346907      17421/java      (namenode)
> > > > tcp        0      0 127.0.0.1:54311         0.0.0.0:* LISTEN
>  1062
> > > >      347480      17685/java      (job tracker)
> > > >
> > > >
> > > >
> > > >
> > > > 2 things happen launching the application:
> > > > 1) The program waits and nothing happens (99% of the times)
> > > > 2) The program works but the report shows that the HDFS has some
> > problems
> > > >
> > > > Taking a look to the debug:
> > > >
> > > >
> > > > main:
> > > >
> > > >  [1] java.lang.Object.wait (native method)
> > > >  [2] java.lang.Object.wait (Object.java:485)
> > > >  [3] org.apache.hadoop.ipc.Client.call (Client.java:725)
> > > >  [4] org.apache.hadoop.ipc.RPC$Invoker.invoke (RPC.java:220)
> > > >  [5] $Proxy0.getProtocolVersion (null)
> > > >  [6] org.apache.hadoop.ipc.RPC.getProxy (RPC.java:359)
> > > >  [7] org.apache.hadoop.hdfs.DFSClient.createRPCNamenode
> > > > (DFSClient.java:105)
> > > >  [8] org.apache.hadoop.hdfs.DFSClient.<init> (DFSClient.java:208)
> > > >  [9] org.apache.hadoop.hdfs.DFSClient.<init> (DFSClient.java:169)
> > > >  [10] org.apache.hadoop.hdfs.DistributedFileSystem.initialize
> > > > (DistributedFileSystem.java:82)
> > > >  [11] org.apache.hadoop.fs.FileSystem.createFileSystem
> > > > (FileSystem.java:1,384)
> > > >  [12] org.apache.hadoop.fs.FileSystem.access$200 (FileSystem.java:66)
> > > >  [13] org.apache.hadoop.fs.FileSystem$Cache.get
> (FileSystem.java:1,399)
> > > >  [14] org.apache.hadoop.fs.FileSystem.get (FileSystem.java:199)
> > > >  [15] org.apache.hadoop.fs.FileSystem.get (FileSystem.java:96)
> > > >  [16] org.apache.hadoop.fs.FsShell.init (FsShell.java:85)
> > > >  [17] org.apache.hadoop.hdfs.tools.DFSAdmin.run (DFSAdmin.java:777)
> > > >  [18] org.apache.hadoop.util.ToolRunner.run (ToolRunner.java:65)
> > > >  [19] org.apache.hadoop.util.ToolRunner.run (ToolRunner.java:79)
> > > >  [20] org.apache.hadoop.hdfs.tools.DFSAdmin.main (DFSAdmin.java:858)
> > > >
> > > > IPC Client (47) connection to localhost/127.0.0.1:8020 from
> vincenzo:
> > > >  [1] sun.nio.ch.EPollArrayWrapper.epollWait (native method)
> > > >  [2] sun.nio.ch.EPollArrayWrapper.poll (EPollArrayWrapper.java:215)
> > > >  [3] sun.nio.ch.EPollSelectorImpl.doSelect
> (EPollSelectorImpl.java:65)
> > > >  [4] sun.nio.ch.SelectorImpl.lockAndDoSelect (SelectorImpl.java:69)
> > > >  [5] sun.nio.ch.SelectorImpl.select (SelectorImpl.java:80)
> > > >  [6] org.apache.hadoop.net.SocketIOWithTimeout$SelectorPool.select
> > > > (SocketIOWithTimeout.java:332)
> > > >  [7] org.apache.hadoop.net.SocketIOWithTimeout.doIO
> > > > (SocketIOWithTimeout.java:157)
> > > >  [8] org.apache.hadoop.net.SocketInputStream.read
> > > > (SocketInputStream.java:155)
> > > >  [9] org.apache.hadoop.net.SocketInputStream.read
> > > > (SocketInputStream.java:128)
> > > >  [10] java.io.FilterInputStream.read (FilterInputStream.java:116)
> > > >  [11] org.apache.hadoop.ipc.Client$Connection$PingInputStream.read
> > > > (Client.java:276)
> > > >  [12] java.io.BufferedInputStream.fill (BufferedInputStream.java:218)
> > > >  [13] java.io.BufferedInputStream.read (BufferedInputStream.java:237)
> > > >  [14] java.io.DataInputStream.readInt (DataInputStream.java:370)
> > > >  [15] org.apache.hadoop.ipc.Client$Connection.receiveResponse
> > > > (Client.java:501)
> > > >  [16] org.apache.hadoop.ipc.Client$Connection.run (Client.java:446)
> > > >
> > > > Have you any idea about why this can happen?
> > > >
> > > > I've tries also to telnet the host:port and it works. I've tried all
> > > > possible addresses in the configuration (localhost / 127.0.0.1 / name
> /
> > > > name.domain ).
> > > >
> > > > Any help is appreciated,
> > > > Thanks in advance
> > > >
> > > > Vincenzo
> > > >
> > >
> >
> >
> >
> > --
> > Vincenzo Massimiliano Gulisano
> > PhD student - UPM - Distributed System Lab.
> >
>



-- 
Vincenzo Massimiliano Gulisano
PhD student - UPM - Distributed System Lab.

--001517473434dfdf8904738b3e00--

From common-user-return-17440-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 14 15:45:51 2009
Return-Path: <common-user-return-17440-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 51698 invoked from network); 14 Sep 2009 15:45:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Sep 2009 15:45:51 -0000
Received: (qmail 8429 invoked by uid 500); 14 Sep 2009 15:45:49 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 8356 invoked by uid 500); 14 Sep 2009 15:45:49 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 8346 invoked by uid 99); 14 Sep 2009 15:45:49 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 15:45:49 +0000
X-ASF-Spam-Status: No, hits=3.7 required=10.0
	tests=HTML_MESSAGE,NORMAL_HTTP_TO_IP,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: local policy)
Received: from [209.85.211.191] (HELO mail-yw0-f191.google.com) (209.85.211.191)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 15:45:39 +0000
Received: by ywh29 with SMTP id 29so4815862ywh.23
        for <common-user@hadoop.apache.org>; Mon, 14 Sep 2009 08:45:17 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.91.142.8 with SMTP id u8mr3928618agn.102.1252943117533; Mon, 
	14 Sep 2009 08:45:17 -0700 (PDT)
In-Reply-To: <4c6b39130909140822o4d0736a4yf831fc3113edabbe@mail.gmail.com>
References: <4c6b39130909140704r398da06fs31f56b438d0af015@mail.gmail.com> 
	<4c6b39130909140743n11e19684sb4aa83c63b6e6a1@mail.gmail.com> 
	<4c6b39130909140746l16658775kfecac5c852ce7ea7@mail.gmail.com> 
	<45f85f70909140750m58389923r19efb0ca0bbd396a@mail.gmail.com> 
	<4c6b39130909140757h6be4182eu64e4290262f355b@mail.gmail.com> 
	<45f85f70909140803g78c59c1bo39cbb72707d2980b@mail.gmail.com> 
	<4c6b39130909140822o4d0736a4yf831fc3113edabbe@mail.gmail.com>
From: Todd Lipcon <todd@cloudera.com>
Date: Mon, 14 Sep 2009 08:44:54 -0700
Message-ID: <45f85f70909140844k36495b91l5820e285cb2a7bf@mail.gmail.com>
Subject: Re: Hadoop installation problems - help
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0016e646039071c29e04738b8d02
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e646039071c29e04738b8d02
Content-Type: text/plain; charset=ISO-8859-1

What do your config files look like? Is your NN web UI available at
http://localhost:50070/ ? It looks to me like your datanode is stuck trying
to talk to the NN. Can you get a stack trace from the DN using jstack or
kill -QUIT?

-Todd

On Mon, Sep 14, 2009 at 8:22 AM, Vincenzo Gulisano <
vincenzo.gulisano@gmail.com> wrote:

> Hi,
> I've just repeated the experiment. this is what I get:
>
> NAMENODE
>
> 2009-09-14 17:08:25,304 INFO
> org.apache.hadoop.hdfs.server.namenode.NameNode: STARTUP_MSG:
> /************************************************************
> STARTUP_MSG: Starting NameNode
> STARTUP_MSG:   host = XXX/192.*.*.*
> STARTUP_MSG:   args = []
> STARTUP_MSG:   version = 0.20.2-dev
> STARTUP_MSG:   build =  -r ; compiled by 'vincenzo' on Mon Sep 14 15:49:43
> CEST 2009
> ************************************************************/
> 2009-09-14 17:08:25,442 INFO org.apache.hadoop.ipc.metrics.RpcMetrics:
> Initializing RPC Metrics with hostName=NameNode, port=8020
> 2009-09-14 17:08:25,448 INFO
> org.apache.hadoop.hdfs.server.namenode.NameNode: Namenode up at:
> XXX/192.*.*.*:8020
> 2009-09-14 17:08:25,450 INFO org.apache.hadoop.metrics.jvm.JvmMetrics:
> Initializing JVM Metrics with processName=NameNode, sessionId=null
> 2009-09-14 17:08:25,453 INFO
> org.apache.hadoop.hdfs.server.namenode.metrics.NameNodeMetrics:
> Initializing
> NameNodeMeterics using context
> object:org.apache.hadoop.metrics.spi.NullContext
> 2009-09-14 17:08:25,530 INFO
> org.apache.hadoop.hdfs.server.namenode.FSNamesystem:
> fsOwner=vincenzo,vincenzo
> 2009-09-14 17:08:25,530 INFO
> org.apache.hadoop.hdfs.server.namenode.FSNamesystem: supergroup=supergroup
> 2009-09-14 17:08:25,530 INFO
> org.apache.hadoop.hdfs.server.namenode.FSNamesystem:
> isPermissionEnabled=true
> 2009-09-14 17:08:25,540 INFO
> org.apache.hadoop.hdfs.server.namenode.metrics.FSNamesystemMetrics:
> Initializing FSNamesystemMetrics using context
> object:org.apache.hadoop.metrics.spi.NullContext
> 2009-09-14 17:08:25,542 INFO
> org.apache.hadoop.hdfs.server.namenode.FSNamesystem: Registered
> FSNamesystemStatusMBean
> 2009-09-14 17:08:25,581 INFO org.apache.hadoop.hdfs.server.common.Storage:
> Number of files = 1
> 2009-09-14 17:08:25,586 INFO org.apache.hadoop.hdfs.server.common.Storage:
> Number of files under construction = 0
> 2009-09-14 17:08:25,586 INFO org.apache.hadoop.hdfs.server.common.Storage:
> Image file of size 98 loaded in 0 seconds.
> 2009-09-14 17:08:25,586 INFO org.apache.hadoop.hdfs.server.common.Storage:
> Edits file /tmp/hadoop-vincenzo/dfs/name/current/edits of size 4 edits # 0
> loaded in 0 seconds.
> 2009-09-14 17:08:25,590 INFO org.apache.hadoop.hdfs.server.common.Storage:
> Image file of size 98 saved in 0 seconds.
> 2009-09-14 17:08:25,602 INFO
> org.apache.hadoop.hdfs.server.namenode.FSNamesystem: Finished loading
> FSImage in 117 msecs
> 2009-09-14 17:08:25,603 INFO
> org.apache.hadoop.hdfs.server.namenode.FSNamesystem: Total number of blocks
> = 0
> 2009-09-14 17:08:25,603 INFO
> org.apache.hadoop.hdfs.server.namenode.FSNamesystem: Number of invalid
> blocks = 0
> 2009-09-14 17:08:25,603 INFO
> org.apache.hadoop.hdfs.server.namenode.FSNamesystem: Number of
> under-replicated blocks = 0
> 2009-09-14 17:08:25,603 INFO
> org.apache.hadoop.hdfs.server.namenode.FSNamesystem: Number of
> over-replicated blocks = 0
> 2009-09-14 17:08:25,603 INFO org.apache.hadoop.hdfs.StateChange: STATE*
> Leaving safe mode after 0 secs.
> 2009-09-14 17:08:25,604 INFO org.apache.hadoop.hdfs.StateChange: STATE*
> Network topology has 0 racks and 0 datanodes
> 2009-09-14 17:08:25,604 INFO org.apache.hadoop.hdfs.StateChange: STATE*
> UnderReplicatedBlocks has 0 blocks
> 2009-09-14 17:08:25,802 INFO org.mortbay.log: Logging to
> org.slf4j.impl.Log4jLoggerAdapter(org.mortbay.log) via
> org.mortbay.log.Slf4jLog
> 2009-09-14 17:08:25,893 INFO org.apache.hadoop.http.HttpServer: Port
> returned by webServer.getConnectors()[0].getLocalPort() before open() is
> -1.
> Opening the listener on 50070
> 2009-09-14 17:08:25,894 INFO org.apache.hadoop.http.HttpServer:
> listener.getLocalPort() returned 50070
> webServer.getConnectors()[0].getLocalPort() returned 50070
> 2009-09-14 17:08:25,894 INFO org.apache.hadoop.http.HttpServer: Jetty bound
> to port 50070
> 2009-09-14 17:08:25,894 INFO org.mortbay.log: jetty-6.1.14
>
> DATANODE
>
> 2009-09-14 17:08:26,768 INFO
> org.apache.hadoop.hdfs.server.datanode.DataNode: STARTUP_MSG:
> /************************************************************
> STARTUP_MSG: Starting DataNode
> STARTUP_MSG:   host = XXX/192.*.*.*
> STARTUP_MSG:   args = []
> STARTUP_MSG:   version = 0.20.2-dev
> STARTUP_MSG:   build =  -r ; compiled by 'vincenzo' on Mon Sep 14 15:49:43
> CEST 2009
> ************************************************************/
>
> JOBTRACKER
>
> 2009-09-14 17:08:28,721 INFO org.apache.hadoop.mapred.JobTracker:
> STARTUP_MSG:
> /************************************************************
> STARTUP_MSG: Starting JobTracker
> STARTUP_MSG:   host = XXX/192.*.*.*
> STARTUP_MSG:   args = []
> STARTUP_MSG:   version = 0.20.2-dev
> STARTUP_MSG:   build =  -r ; compiled by 'vincenzo' on Mon Sep 14 15:49:43
> CEST 2009
> ************************************************************/
> 2009-09-14 17:08:28,829 INFO org.apache.hadoop.mapred.JobTracker: Scheduler
> configured with (memSizeForMapSlotOnJT, memSizeForReduceSlotOnJT,
> limitMaxMemForMapTasks, limitMaxMemForReduceTasks) (-1, -1, -1, -1)
> 2009-09-14 17:08:28,875 INFO org.apache.hadoop.ipc.metrics.RpcMetrics:
> Initializing RPC Metrics with hostName=JobTracker, port=8021
> 2009-09-14 17:08:28,948 INFO org.mortbay.log: Logging to
> org.slf4j.impl.Log4jLoggerAdapter(org.mortbay.log) via
> org.mortbay.log.Slf4jLog
> 2009-09-14 17:08:29,114 INFO org.apache.hadoop.http.HttpServer: Port
> returned by webServer.getConnectors()[0].getLocalPort() before open() is
> -1.
> Opening the listener on 50030
> 2009-09-14 17:08:29,116 INFO org.apache.hadoop.http.HttpServer:
> listener.getLocalPort() returned 50030
> webServer.getConnectors()[0].getLocalPort() returned 50030
> 2009-09-14 17:08:29,116 INFO org.apache.hadoop.http.HttpServer: Jetty bound
> to port 50030
> 2009-09-14 17:08:29,116 INFO org.mortbay.log: jetty-6.1.14
>
> TASKTRACER
>
> 2009-09-14 17:08:30,028 INFO org.apache.hadoop.mapred.TaskTracker:
> STARTUP_MSG:
> /************************************************************
> STARTUP_MSG: Starting TaskTracker
> STARTUP_MSG:   host = XXX/192.*.*.*
> STARTUP_MSG:   args = []
> STARTUP_MSG:   version = 0.20.2-dev
> STARTUP_MSG:   build =  -r ; compiled by 'vincenzo' on Mon Sep 14 15:49:43
> CEST 2009
> ************************************************************/
> 2009-09-14 17:08:30,240 INFO org.mortbay.log: Logging to
> org.slf4j.impl.Log4jLoggerAdapter(org.mortbay.log) via
> org.mortbay.log.Slf4jLog
> 2009-09-14 17:08:30,399 INFO org.apache.hadoop.http.HttpServer: Port
> returned by webServer.getConnectors()[0].getLocalPort() before open() is
> -1.
> Opening the listener on 50060
> 2009-09-14 17:08:30,407 INFO org.apache.hadoop.http.HttpServer:
> listener.getLocalPort() returned 50060
> webServer.getConnectors()[0].getLocalPort() returned 50060
> 2009-09-14 17:08:30,407 INFO org.apache.hadoop.http.HttpServer: Jetty bound
> to port 50060
> 2009-09-14 17:08:30,407 INFO org.mortbay.log: jetty-6.1.14
>
> SECONDARY NAME NODE
>
> 2009-09-14 17:08:27,666 INFO
> org.apache.hadoop.hdfs.server.namenode.SecondaryNameNode: STARTUP_MSG:
> /************************************************************
> STARTUP_MSG: Starting SecondaryNameNode
> STARTUP_MSG:   host = XXX/192.*.*.*
> STARTUP_MSG:   args = []
> STARTUP_MSG:   version = 0.20.2-dev
> STARTUP_MSG:   build =  -r ; compiled by 'vincenzo' on Mon Sep 14 15:49:43
> CEST 2009
> ************************************************************/
> 2009-09-14 17:08:27,738 INFO org.apache.hadoop.metrics.jvm.JvmMetrics:
> Initializing JVM Metrics with processName=SecondaryNameNode, sessionId=null
>
> ______________________
>
> I've noticed now that the namenode says that 0 namenode are availabe, but
> the configuration is the one suggested by the hadoop tutorial and all the
> conf files (included masters and slaves) of my single-node cluster setup
> are
> specified with full name.
> Do you have any idea about why this happens?
> Again, thanks for your help
>
>
> 2009/9/14 Todd Lipcon <todd@cloudera.com>
>
> > That's not an error - that just means that the daemon thread is waiting
> for
> > a connection (IO event)
> >
> > The logs in $HADOOP_HOME/log/ are entirely empty? Both the .log and .out
> > files? I find that hard to believe :)
> >
> > -Todd
> >
> > On Mon, Sep 14, 2009 at 7:57 AM, Vincenzo Gulisano <
> > vincenzo.gulisano@gmail.com> wrote:
> >
> > > Hi Todd,
> > > thanks for your answer. I've already tried this solution. No error is
> > > reported.
> > > As the program remains in a "wait state", no error is detected.
> > > I've seen that the error
> > > "sun.nio.ch.EPollArrayWrapper. epollWait (native method)"
> > > affects other old bugs of hadoop, but I couldn't solve mine.
> > > Thanks again
> > >
> > >
> > >
> > >
> > > 2009/9/14 Todd Lipcon <todd@cloudera.com>
> > >
> > > > Hi Vincenzo,
> > > >
> > > > Look at the log output of your daemons. My guess is that you'll find
> > > > something pretty clear there.
> > > >
> > > > -Todd
> > > >
> > > > On Mon, Sep 14, 2009 at 7:46 AM, Vincenzo Gulisano <
> > > > vincenzo.gulisano@gmail.com> wrote:
> > > >
> > > > > Hi,
> > > > > after a lot of unsuccessful attempts of running hadoop distributed
> > file
> > > > > system on my machine, I've located one possible error.
> > > > > Maybe you have some ideas about what's going on.
> > > > >
> > > > > Experiment:
> > > > > What I'm doing is simply executing start-all.sh and hadoop dfsadmin
> > > > -report
> > > > >
> > > > > After the setup I can check that everything is working using:
> > > > >
> > > > > jps
> > > > > ...
> > > > > 17421 NameNode
> > > > > 17519 DataNode
> > > > > 17611 SecondaryNameNode
> > > > > 17685 JobTracker
> > > > > 17778 TaskTracker
> > > > > 18425 Jps
> > > > > ...
> > > > >
> > > > >
> > > > >
> > > > >
> > > > > AND
> > > > >
> > > > > sudo netstat -plten | grep java
> > > > > ...
> > > > > tcp        0      0 127.0.0.1:54310         0.0.0.0:* LISTEN
> >  1062
> > > > >      346907      17421/java      (namenode)
> > > > > tcp        0      0 127.0.0.1:54311         0.0.0.0:* LISTEN
> >  1062
> > > > >      347480      17685/java      (job tracker)
> > > > >
> > > > >
> > > > >
> > > > >
> > > > > 2 things happen launching the application:
> > > > > 1) The program waits and nothing happens (99% of the times)
> > > > > 2) The program works but the report shows that the HDFS has some
> > > problems
> > > > >
> > > > > Taking a look to the debug:
> > > > >
> > > > >
> > > > > main:
> > > > >
> > > > >  [1] java.lang.Object.wait (native method)
> > > > >  [2] java.lang.Object.wait (Object.java:485)
> > > > >  [3] org.apache.hadoop.ipc.Client.call (Client.java:725)
> > > > >  [4] org.apache.hadoop.ipc.RPC$Invoker.invoke (RPC.java:220)
> > > > >  [5] $Proxy0.getProtocolVersion (null)
> > > > >  [6] org.apache.hadoop.ipc.RPC.getProxy (RPC.java:359)
> > > > >  [7] org.apache.hadoop.hdfs.DFSClient.createRPCNamenode
> > > > > (DFSClient.java:105)
> > > > >  [8] org.apache.hadoop.hdfs.DFSClient.<init> (DFSClient.java:208)
> > > > >  [9] org.apache.hadoop.hdfs.DFSClient.<init> (DFSClient.java:169)
> > > > >  [10] org.apache.hadoop.hdfs.DistributedFileSystem.initialize
> > > > > (DistributedFileSystem.java:82)
> > > > >  [11] org.apache.hadoop.fs.FileSystem.createFileSystem
> > > > > (FileSystem.java:1,384)
> > > > >  [12] org.apache.hadoop.fs.FileSystem.access$200
> (FileSystem.java:66)
> > > > >  [13] org.apache.hadoop.fs.FileSystem$Cache.get
> > (FileSystem.java:1,399)
> > > > >  [14] org.apache.hadoop.fs.FileSystem.get (FileSystem.java:199)
> > > > >  [15] org.apache.hadoop.fs.FileSystem.get (FileSystem.java:96)
> > > > >  [16] org.apache.hadoop.fs.FsShell.init (FsShell.java:85)
> > > > >  [17] org.apache.hadoop.hdfs.tools.DFSAdmin.run (DFSAdmin.java:777)
> > > > >  [18] org.apache.hadoop.util.ToolRunner.run (ToolRunner.java:65)
> > > > >  [19] org.apache.hadoop.util.ToolRunner.run (ToolRunner.java:79)
> > > > >  [20] org.apache.hadoop.hdfs.tools.DFSAdmin.main
> (DFSAdmin.java:858)
> > > > >
> > > > > IPC Client (47) connection to localhost/127.0.0.1:8020 from
> > vincenzo:
> > > > >  [1] sun.nio.ch.EPollArrayWrapper.epollWait (native method)
> > > > >  [2] sun.nio.ch.EPollArrayWrapper.poll (EPollArrayWrapper.java:215)
> > > > >  [3] sun.nio.ch.EPollSelectorImpl.doSelect
> > (EPollSelectorImpl.java:65)
> > > > >  [4] sun.nio.ch.SelectorImpl.lockAndDoSelect (SelectorImpl.java:69)
> > > > >  [5] sun.nio.ch.SelectorImpl.select (SelectorImpl.java:80)
> > > > >  [6] org.apache.hadoop.net.SocketIOWithTimeout$SelectorPool.select
> > > > > (SocketIOWithTimeout.java:332)
> > > > >  [7] org.apache.hadoop.net.SocketIOWithTimeout.doIO
> > > > > (SocketIOWithTimeout.java:157)
> > > > >  [8] org.apache.hadoop.net.SocketInputStream.read
> > > > > (SocketInputStream.java:155)
> > > > >  [9] org.apache.hadoop.net.SocketInputStream.read
> > > > > (SocketInputStream.java:128)
> > > > >  [10] java.io.FilterInputStream.read (FilterInputStream.java:116)
> > > > >  [11] org.apache.hadoop.ipc.Client$Connection$PingInputStream.read
> > > > > (Client.java:276)
> > > > >  [12] java.io.BufferedInputStream.fill
> (BufferedInputStream.java:218)
> > > > >  [13] java.io.BufferedInputStream.read
> (BufferedInputStream.java:237)
> > > > >  [14] java.io.DataInputStream.readInt (DataInputStream.java:370)
> > > > >  [15] org.apache.hadoop.ipc.Client$Connection.receiveResponse
> > > > > (Client.java:501)
> > > > >  [16] org.apache.hadoop.ipc.Client$Connection.run (Client.java:446)
> > > > >
> > > > > Have you any idea about why this can happen?
> > > > >
> > > > > I've tries also to telnet the host:port and it works. I've tried
> all
> > > > > possible addresses in the configuration (localhost / 127.0.0.1 /
> name
> > /
> > > > > name.domain ).
> > > > >
> > > > > Any help is appreciated,
> > > > > Thanks in advance
> > > > >
> > > > > Vincenzo
> > > > >
> > > >
> > >
> > >
> > >
> > > --
> > > Vincenzo Massimiliano Gulisano
> > > PhD student - UPM - Distributed System Lab.
> > >
> >
>
>
>
> --
> Vincenzo Massimiliano Gulisano
> PhD student - UPM - Distributed System Lab.
>

--0016e646039071c29e04738b8d02--

From common-user-return-17441-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 14 17:23:10 2009
Return-Path: <common-user-return-17441-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 97924 invoked from network); 14 Sep 2009 17:23:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Sep 2009 17:23:09 -0000
Received: (qmail 11957 invoked by uid 500); 14 Sep 2009 17:23:07 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 11887 invoked by uid 500); 14 Sep 2009 17:23:06 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 11877 invoked by uid 99); 14 Sep 2009 17:23:06 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 17:23:06 +0000
X-ASF-Spam-Status: No, hits=3.8 required=10.0
	tests=RCVD_NUMERIC_HELO,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [216.145.54.173] (HELO mrout3.yahoo.com) (216.145.54.173)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 17:22:53 +0000
Received: from SNV-EXPF01.ds.corp.yahoo.com (snv-expf01.ds.corp.yahoo.com [207.126.227.250])
	by mrout3.yahoo.com (8.13.6/8.13.6/y.out) with ESMTP id n8EHLnPG085584
	for <common-user@hadoop.apache.org>; Mon, 14 Sep 2009 10:21:49 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; s=serpent; d=yahoo-inc.com; c=nofws; q=dns;
	h=received:user-agent:date:subject:from:to:message-id:
	thread-topic:thread-index:in-reply-to:mime-version:content-type:
	content-transfer-encoding:x-originalarrivaltime;
	b=XKS+TB5lxDn7EHBJyDuEic786yvDG81k5uaXnYHObYOUDdmQ52LHsNPxDJzdrRuo
Received: from SNV-EXVS02.ds.corp.yahoo.com ([216.145.51.202]) by SNV-EXPF01.ds.corp.yahoo.com with Microsoft SMTPSVC(6.0.3790.3959);
	 Mon, 14 Sep 2009 10:21:48 -0700
Received: from 207.126.235.30 ([207.126.235.30]) by SNV-EXVS02.ds.corp.yahoo.com ([216.145.51.163]) via Exchange Front-End Server snv-webmail.corp.yahoo.com ([207.126.227.248]) with Microsoft Exchange Server HTTP-DAV ;
 Mon, 14 Sep 2009 17:20:54 +0000
User-Agent: Microsoft-Entourage/12.19.0.090515
Date: Mon, 14 Sep 2009 10:20:52 -0700
Subject: Re: Decommissioning Individual Disks
From: Boris Shkolnik <borya@yahoo-inc.com>
To: <common-user@hadoop.apache.org>
Message-ID: <C6D3C984.20F9F%borya@yahoo-inc.com>
Thread-Topic: Decommissioning Individual Disks
Thread-Index: Aco1X7Wy2qiydjz2n06JC4UFgB58iA==
In-Reply-To: <cbbf4b570909111056m7582ec84g6a6b869949f68ac7@mail.gmail.com>
Mime-version: 1.0
Content-type: text/plain;
	charset="US-ASCII"
Content-transfer-encoding: 7bit
X-OriginalArrivalTime: 14 Sep 2009 17:21:48.0802 (UTC) FILETIME=[D78D7E20:01CA355F]
X-Virus-Checked: Checked by ClamAV on apache.org


The JIRA is committed already. So loosing a directory will not stop the
datanode anymore. If directory shows up later again it will not be added
automatically. 

On 9/11/09 10:56 AM, "Edward Capriolo" <edlinuxguru@gmail.com> wrote:

> If you lose a directory the datanode stops. See
> https://issues.apache.org/jira/browse/HDFS-457


From common-user-return-17442-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 14 18:26:15 2009
Return-Path: <common-user-return-17442-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 23674 invoked from network); 14 Sep 2009 18:26:14 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Sep 2009 18:26:14 -0000
Received: (qmail 26554 invoked by uid 500); 14 Sep 2009 18:26:12 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 26470 invoked by uid 500); 14 Sep 2009 18:26:12 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 26434 invoked by uid 99); 14 Sep 2009 18:26:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 18:26:12 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of sampritavh@gmail.com designates 209.85.212.185 as permitted sender)
Received: from [209.85.212.185] (HELO mail-vw0-f185.google.com) (209.85.212.185)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 18:26:01 +0000
Received: by vws15 with SMTP id 15so2333465vws.5
        for <common-user@hadoop.apache.org>; Mon, 14 Sep 2009 11:25:40 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=aFb/mNVc6COwCdNPbjNCyOF6o2LwK7dP7guyWNt2yp0=;
        b=lpdSNcj+ATNBTd4FxEurRMSMIpN7RQfN3ImOFTK1s7Jt7kdsJ54TktwryMC2Gzvq16
         vZnBsI3irBrVZuJnbwPW/e591ts0qsQcGq6dC60XejaK60EXqwTPGJcSZk4VZfK+5Ti/
         BPDfQpxs7n1IbnkcBlVh7okuBZ1aPmuSEHTs8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=KlB7maIqLSWq7ltBUGaTsAZ1zXz27nTJmTtvnSl9S5CnsAONfCTeYn5by8lLs+e5hY
         4SJ8sMw5VMCacSP7r4YWLR8mhPg6RG70LKk1u3ThDX/+A90FJjZfnhRUfECjmT7C2pb6
         EW+TvHsQOi2pnKU9LkLAGWm+t/6fzIFbllaFc=
MIME-Version: 1.0
Received: by 10.220.79.168 with SMTP id p40mr8748865vck.110.1252952740340; 
	Mon, 14 Sep 2009 11:25:40 -0700 (PDT)
In-Reply-To: <4238036a0909110121s4489bd05rba8641b723adee14@mail.gmail.com>
References: <bfca79780909081821v6a83f165n71d7d9c0f1387f3b@mail.gmail.com> 
	<35538fbe0909081922k261b2435w542963cfecd910f7@mail.gmail.com> 
	<bfca79780909081949s710088e0h2bdbbc964ebf262b@mail.gmail.com> 
	<35538fbe0909082121m78201936g857367c986aca0f0@mail.gmail.com> 
	<bfca79780909091513m7fc60c4ah99cecfecb3d2de2f@mail.gmail.com> 
	<35538fbe0909101730o73b53a5cx7c9ea1d3f05b56a7@mail.gmail.com> 
	<4238036a0909110121s4489bd05rba8641b723adee14@mail.gmail.com>
From: Samprita Hegde <sampritavh@gmail.com>
Date: Mon, 14 Sep 2009 14:25:20 -0400
Message-ID: <bfca79780909141125t4db76556u8030e071e99c644a@mail.gmail.com>
Subject: Re: Using Ganglia with hadoop 0.19.0 on Amazon EC2
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0016e64603c80224ee04738dcb8a
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e64603c80224ee04738dcb8a
Content-Type: text/plain; charset=ISO-8859-1

John,
   I have been using the scripts provided in the hadoop-ec2-init-remote.sh.
But  whenever I try to connect to the master-node for ganglia metrics I
always get the message. "server is taking too long to respond".  The
documentation says to type in the command
bin/hadoop-ec2 proxy <cluster-name>   in our local machine and then  we
should be able to connect to the mater node using its  public dns (example:
"http://ec2-174-129-99-201.compute-1.amazonaws.com/ganglia")  to view the
cluster status and other metrics. Please correct me if I am wrong . I have
followed the steps mentioned there . But I am not able to see the ganglia in
my browser. I suspect there is php script or something which parses the XML
data and renders it on to the browser.


@ Matt,
   I have done all the steps that you have mentioned. Can you please tell
what are the next steps that I shoudl do?

Thanks and Regards,
Samprita


On Fri, Sep 11, 2009 at 4:21 AM, John Clarke <clarkemjj@gmail.com> wrote:

> Hadoop comes with a number of scripts to configure EC2 instances, see
> "HADOOP_HOME/src/contrib/ec2/bin"
>
> If you take a look at "src/contrib/ec2/bin/image/hadoop-init" you will see
> that it sets up Ganglia.
>
> I currently use the Cloudera scripts from
> http://www.cloudera.com/hadoop-ec2,
> these do not however set up Ganglia so I modified the
> hadoop-ec2-init-remote.sh script to install the necessary packages and to
> configure it as per the hadoop-init script above. The
> hadoop-ec2-init-remote.sh is run at boot time on each node.
>
> John.
>

--0016e64603c80224ee04738dcb8a--

From common-user-return-17443-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 14 18:35:49 2009
Return-Path: <common-user-return-17443-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 29136 invoked from network); 14 Sep 2009 18:35:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Sep 2009 18:35:49 -0000
Received: (qmail 38030 invoked by uid 500); 14 Sep 2009 18:35:45 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 37900 invoked by uid 500); 14 Sep 2009 18:35:45 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 37882 invoked by uid 500); 14 Sep 2009 18:35:45 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 37877 invoked by uid 99); 14 Sep 2009 18:35:45 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 18:35:45 +0000
X-ASF-Spam-Status: No, hits=0.0 required=10.0
	tests=HS_INDEX_PARAM,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of bradfordstephens@gmail.com designates 209.85.211.191 as permitted sender)
Received: from [209.85.211.191] (HELO mail-yw0-f191.google.com) (209.85.211.191)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 18:35:33 +0000
Received: by ywh29 with SMTP id 29so5050539ywh.23
        for <multiple recipients>; Mon, 14 Sep 2009 11:35:12 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:date:message-id:subject
         :from:to:content-type;
        bh=JokDMJ41Z8XoK1Tr59S71icLdvC006bf/SLmSTHnyl0=;
        b=megNJ7NuEEhwOxhfjPmlK40jEmS+IyGYxF/gbkvFojsao7neVgjpdY9w5a1I9kAoRI
         2CBXjLuZM9wJX0tItFLXLyYJ3con5iqCNcgUwYPhssph1fYLUI45CZT8ArVSXBbh8mzs
         xYHzLIy+9DBZDsXEdMssWRqJ3FU5UE/84Dk7s=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=NMUJiEk6GjJtJJdbzOsPyC8x1x1srBj2CIM1CwmJkv86UffTXJg6Yzl8xriOpf/1zb
         VU0D8yAtReFymFmvPiZQMH6CjO61fSnadtoPXSPA2ypdP6Mp+x0L4zbKzendXuqyswlG
         kZWkYxjw1OQ6uZh0Vi0AHGK+sUUNMi3eWfRfo=
MIME-Version: 1.0
Received: by 10.90.182.20 with SMTP id e20mr4020460agf.106.1252953312768; Mon, 
	14 Sep 2009 11:35:12 -0700 (PDT)
Date: Mon, 14 Sep 2009 11:35:12 -0700
Message-ID: <860544ed0909141135y3e4c83a7mfd350e083e51ad11@mail.gmail.com>
Subject: Seattle / PNW Hadoop/Lucene/HBase Meetup, Wed Sep 30th
From: Bradford Stephens <bradfordstephens@gmail.com>
To: core-user@hadoop.apache.org, java-user@lucene.apache.org, 
	solr-user@lucene.apache.org, hbase-user@hadoop.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Greetings,

It's time for another Hadoop/Lucene/Apache"Cloud"  Stack meetup!
This month it'll be on Wednesday, the 30th, at 6:45 pm.

We should have a few interesting guests this time around -- someone from
Facebook may be stopping by to talk about Hive :)

We've had great attendance in the past few months, let's keep it up! I'm always
amazed by the things I learn from everyone.

We're back at the University of Washington, Allen Computer Science
Center (not Computer Engineering)
Map: http://www.washington.edu/home/maps/?CSE

Room: 303 -or- the Entry level. If there are changes, signs will be posted.

More Info:

The meetup is about 2 hours (and there's usually food): we'll have two
in-depth talks of 15-20
minutes each, and then several "lightning talks" of 5 minutes. If no
one offers, We'll then have discussion and 'social time'.  we'll just
have general discussion. Let net know if you're interested in speaking
or attending. We'd like to focus on education, so every presentation
*needs* to ask some questions at the end. We can talk about these
after the presentations, and I'll record what we've learned in a wiki
and share that with the rest of us.

Contact: Bradford Stephens, 904-415-3009, bradfordstephens@gmail.com

Cheers,
Bradford
-- 
http://www.roadtofailure.com -- The Fringes of Scalability, Social
Media, and Computer Science

From common-user-return-17444-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 14 18:51:21 2009
Return-Path: <common-user-return-17444-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 33207 invoked from network); 14 Sep 2009 18:51:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Sep 2009 18:51:21 -0000
Received: (qmail 64771 invoked by uid 500); 14 Sep 2009 18:51:18 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 64688 invoked by uid 500); 14 Sep 2009 18:51:18 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 64669 invoked by uid 99); 14 Sep 2009 18:51:18 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 18:51:18 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of stas.oskin@gmail.com designates 209.85.218.214 as permitted sender)
Received: from [209.85.218.214] (HELO mail-bw0-f214.google.com) (209.85.218.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 18:51:07 +0000
Received: by bwz10 with SMTP id 10so2407233bwz.29
        for <common-user@hadoop.apache.org>; Mon, 14 Sep 2009 11:50:47 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=H6V7kP1kGL0ctfbY52phFWKJBiEMiF0rB3HHa0aRcYg=;
        b=nC18Z2Ti74K/HzoWbzDbP1Vsu2dKdmsn+9rpSWcbWOx9tzEzMzwmt9Kk1YQ3w9Ux62
         zyC7y9w/gaMnHGtYB6OQdd86psQ4Cm8SSE7JLjVfMy7Eju5mG9Ta9dYLLpwREHJtHc6c
         SXhhJj0vzvbSpOjBc2Ekr9bPtzd/uUk9FKY2I=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=oa7XAx0UFnjFdvETBUdbJp1yaLEimH+ff8zx7crKVrudamBw2rkfYIJFjXNl56IbJA
         NKylGe7ViHS23oIQNrwNoea5nNz1oJCUIyRN9xXAMJlozeMjI6DvXvPFga5PMY8KvU7z
         5bnY5+mpILWT2+r5S6ff56yZraMOQezIgx93c=
MIME-Version: 1.0
Received: by 10.223.7.90 with SMTP id c26mr2304975fac.73.1252954246704; Mon, 
	14 Sep 2009 11:50:46 -0700 (PDT)
In-Reply-To: <314098690909131938n4331541r5034ccb8cfcab679@mail.gmail.com>
References: <77938bc20909130301g22082bd4xed4cd9b3c9632699@mail.gmail.com>
	 <314098690909131938n4331541r5034ccb8cfcab679@mail.gmail.com>
Date: Mon, 14 Sep 2009 21:50:46 +0300
Message-ID: <77938bc20909141150o5651b1ddjebb7110cca57e4ff@mail.gmail.com>
Subject: Re: Multiple disks for DFS
From: Stas Oskin <stas.oskin@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=00151747860ecb6fbb04738e24a0
X-Virus-Checked: Checked by ClamAV on apache.org

--00151747860ecb6fbb04738e24a0
Content-Type: text/plain; charset=ISO-8859-1

Hi.

Thanks for the explanation.

Any idea if I can re-use this round robin mechanism for local disk writing?

Or it's DFS only?

Regards.

2009/9/14 Jason Venner <jason.hadoop@gmail.com>

> When you have multiple partitions specified for hdfs storage, they are used
> for block storage in a round robin fashion.
> If a partition has insufficient space it is dropped for the set used for
> storing new blocks.
>
> On Sun, Sep 13, 2009 at 3:01 AM, Stas Oskin <stas.oskin@gmail.com> wrote:
>
> > Hi.
> >
> > When I specify multiple disks for DFS, does Hadoop distributes the
> > concurrent writings over the multiple disks?
> >
> > I mean, to prevent an utilization of a single disk?
> >
> > Thanks for any info on subject.
> >
>
>
>
> --
> Pro Hadoop, a book to guide you from beginner to hadoop mastery,
> http://www.amazon.com/dp/1430219424?tag=jewlerymall
> www.prohadoopbook.com a community for Hadoop Professionals
>

--00151747860ecb6fbb04738e24a0--

From common-user-return-17445-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 14 19:27:11 2009
Return-Path: <common-user-return-17445-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 44291 invoked from network); 14 Sep 2009 19:27:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Sep 2009 19:27:11 -0000
Received: (qmail 22697 invoked by uid 500); 14 Sep 2009 19:27:08 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 22601 invoked by uid 500); 14 Sep 2009 19:27:08 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 22591 invoked by uid 99); 14 Sep 2009 19:27:08 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 19:27:08 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of dali.kilani@gmail.com designates 209.85.219.208 as permitted sender)
Received: from [209.85.219.208] (HELO mail-ew0-f208.google.com) (209.85.219.208)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 19:26:59 +0000
Received: by ewy4 with SMTP id 4so3380433ewy.36
        for <common-user@hadoop.apache.org>; Mon, 14 Sep 2009 12:26:38 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:reply-to:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=SwoRMylqMWlwKszFHem4Cr/h/fUJGUxm1Hi7qsYp8XU=;
        b=rsaBMMAsVP/qClGnUq5JnK2zseClBK+RvhC/lVhhWOIA5z5oVtzBd3LNoSX+KFbu3m
         wycCpxQi5rDFqAWN2/6qPi8PRdVzuWhTPmM7alnYJfr2K3SE5Y2THK1vQdtUD3GnpLol
         ZteOUrkcPo/LnE7gwOyhc/m0YOVuFTx3B86AY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:content-type;
        b=TIerFWHn7x6WOzQQDEhQWmo05XUhGTl2mlWLi08QikfjtEyWSqhtQr35mGxMWviZUl
         QSzbYCkL+20GGNQ7ONuuoqCpzx5w825Cxbj9CrRizEwZxHTXIJoSrM/OQKGchTjgG710
         NqTkkHJiPLSyYcIxqNy1GUoNy7qfqafPZ+i08=
MIME-Version: 1.0
Received: by 10.211.156.13 with SMTP id i13mr7281223ebo.22.1252956397978; Mon, 
	14 Sep 2009 12:26:37 -0700 (PDT)
Reply-To: mohamed.kilani@m4x.org
In-Reply-To: <77938bc20909141150o5651b1ddjebb7110cca57e4ff@mail.gmail.com>
References: <77938bc20909130301g22082bd4xed4cd9b3c9632699@mail.gmail.com>
	 <314098690909131938n4331541r5034ccb8cfcab679@mail.gmail.com>
	 <77938bc20909141150o5651b1ddjebb7110cca57e4ff@mail.gmail.com>
Date: Mon, 14 Sep 2009 12:26:37 -0700
Message-ID: <77d4e5730909141226m563a5d9ema6a25b5826882771@mail.gmail.com>
Subject: Re: Multiple disks for DFS
From: Dali Kilani <dali.kilani@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=00504502d2ed05444b04738ea5fa
X-Virus-Checked: Checked by ClamAV on apache.org

--00504502d2ed05444b04738ea5fa
Content-Type: text/plain; charset=ISO-8859-1

Just specify multiple directories (where the different local partitions are
mounted) for dfs.data.dir (hdfs data) and mapred.local.dir (intermediate
data) in hdfs-site.xml.Data should then be striped across the different
partitions/disks.

See here : http://bit.ly/fbUkr

Dali

On Mon, Sep 14, 2009 at 11:50 AM, Stas Oskin <stas.oskin@gmail.com> wrote:

> Hi.
>
> Thanks for the explanation.
>
> Any idea if I can re-use this round robin mechanism for local disk writing?
>
> Or it's DFS only?
>
> Regards.
>
> 2009/9/14 Jason Venner <jason.hadoop@gmail.com>
>
> > When you have multiple partitions specified for hdfs storage, they are
> used
> > for block storage in a round robin fashion.
> > If a partition has insufficient space it is dropped for the set used for
> > storing new blocks.
> >
> > On Sun, Sep 13, 2009 at 3:01 AM, Stas Oskin <stas.oskin@gmail.com>
> wrote:
> >
> > > Hi.
> > >
> > > When I specify multiple disks for DFS, does Hadoop distributes the
> > > concurrent writings over the multiple disks?
> > >
> > > I mean, to prevent an utilization of a single disk?
> > >
> > > Thanks for any info on subject.
> > >
> >
> >
> >
> > --
> > Pro Hadoop, a book to guide you from beginner to hadoop mastery,
> > http://www.amazon.com/dp/1430219424?tag=jewlerymall
> > www.prohadoopbook.com a community for Hadoop Professionals
> >
>



-- 
Dali Kilani
===========
Phone :  (650) 492-5921 (Google Voice)
E-Fax  :  (775) 552-2982

--00504502d2ed05444b04738ea5fa--

From common-user-return-17446-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 14 21:04:31 2009
Return-Path: <common-user-return-17446-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 87698 invoked from network); 14 Sep 2009 21:04:31 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Sep 2009 21:04:31 -0000
Received: (qmail 96510 invoked by uid 500); 14 Sep 2009 21:04:28 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 96402 invoked by uid 500); 14 Sep 2009 21:04:28 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 96392 invoked by uid 99); 14 Sep 2009 21:04:28 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 21:04:28 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of cubicdesign@gmail.com designates 74.125.78.25 as permitted sender)
Received: from [74.125.78.25] (HELO ey-out-2122.google.com) (74.125.78.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 21:04:20 +0000
Received: by ey-out-2122.google.com with SMTP id 22so628639eye.23
        for <common-user@hadoop.apache.org>; Mon, 14 Sep 2009 14:03:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:message-id:date:from
         :user-agent:mime-version:to:subject:content-type;
        bh=iAX6WscrIp4tUPEiuRkR9E2c7NxHW95JDWSNGdDZ/RE=;
        b=UIE6ahhxTO1cb+7m9/g8eVq4hOz67H2CCrnwZwsncPNkO0WYuq6fWcF9osL8dLecP5
         gNcCVFcBBbOxqYv/sxUcIsSbPyr783Cpou28nrteRtfCfaM9f+PYWLGqQZoLG91e1qBb
         Kvws7O6Y39fThXNvYYzn73l+IpFCIDcFBWRb0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:user-agent:mime-version:to:subject
         :content-type;
        b=uWxs+xG2yq/vhZqvRMMOQQWSAu8PXaZpoGjrAN1NHTi5Z1AeyD17ulU5UQ/wP6QzIW
         8gpAS5P/3w5zC0rmGvCoH1B82mZ/Z17SNUZDncI3c5bnYaab8tZj4t0PVCTnnyXUnXHI
         AnGU5QMb4XJouM1M9tr0S7HMap2pd9tIjIB1Y=
Received: by 10.210.101.1 with SMTP id y1mr3681573ebb.60.1252962238810;
        Mon, 14 Sep 2009 14:03:58 -0700 (PDT)
Received: from ?192.168.220.104? (host-091-097-241-085.ewe-ip-backbone.de [91.97.241.85])
        by mx.google.com with ESMTPS id 28sm3917516eyg.12.2009.09.14.14.03.57
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Mon, 14 Sep 2009 14:03:57 -0700 (PDT)
Message-ID: <4AAEAFBB.90709@Gmail.com>
Date: Mon, 14 Sep 2009 23:03:55 +0200
From: CubicDesign <cubicdesign@gmail.com>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: common-user@hadoop.apache.org
Subject: HadoopDB and similar stuff
Content-Type: multipart/alternative;
 boundary="------------050201000107010307090101"
X-Virus-Checked: Checked by ClamAV on apache.org

--------------050201000107010307090101
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

Hi.

Anybody has experience a DB that can handle large amounts of data on top 
of Hadoop?
HBase and Hive is nice but they also lack of some features. HadoopDB 
seems to bring some equilibrium. However, it seems to be still an infant 
project.

Any thoughts?


--------------050201000107010307090101--

From common-user-return-17447-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 14 21:07:21 2009
Return-Path: <common-user-return-17447-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 88502 invoked from network); 14 Sep 2009 21:07:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Sep 2009 21:07:21 -0000
Received: (qmail 249 invoked by uid 500); 14 Sep 2009 21:07:19 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 178 invoked by uid 500); 14 Sep 2009 21:07:18 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 168 invoked by uid 99); 14 Sep 2009 21:07:18 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 21:07:18 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of amansk@gmail.com designates 209.85.210.204 as permitted sender)
Received: from [209.85.210.204] (HELO mail-yx0-f204.google.com) (209.85.210.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 21:07:11 +0000
Received: by yxe42 with SMTP id 42so4596230yxe.31
        for <common-user@hadoop.apache.org>; Mon, 14 Sep 2009 14:06:51 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=r7S3uF/TEihmiPfkKcq5Txjd6524aRrIGc257DZsDN4=;
        b=gxeX+BoeuCQHRggj1M1py8eNFWLuLTNA15iN4F+yJIDT3ZyLIEV99aYa5WdXrNM795
         bzbpxkzQeQq3sqSXojBu+k8bQrgf9b6tGEflR5JaJojRiWRd8pV7F0/V9G8QxXlbTfE1
         TJm5TFJ/z3j7hfMnjuYH+j+eO8uhYPIS6VKio=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=kXHgfAfQBGjYud24MQCZfxoU5R1iH2u3Aj0/mDwJup8/F8LM4RL7hgQFraQL1TYQC/
         66CLbR0t6kUO12sGngwq4ThNdY4q8V3jIDSBqCG7F49e6UJcUpLiZAzl0SI3I5PP0ZFy
         Eo++LrowSwwgcCzldfQpU8iwK4os5W+aE7uCc=
MIME-Version: 1.0
Received: by 10.101.26.6 with SMTP id d6mr6666071anj.149.1252962411173; Mon, 
	14 Sep 2009 14:06:51 -0700 (PDT)
In-Reply-To: <4AAEAFBB.90709@Gmail.com>
References: <4AAEAFBB.90709@Gmail.com>
From: Amandeep Khurana <amansk@gmail.com>
Date: Mon, 14 Sep 2009 14:06:31 -0700
Message-ID: <35a22e220909141406n5ebe271ap496f614ee0395fdb@mail.gmail.com>
Subject: Re: HadoopDB and similar stuff
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=001636b2b1296f57050473900b68
X-Virus-Checked: Checked by ClamAV on apache.org

--001636b2b1296f57050473900b68
Content-Type: text/plain; charset=ISO-8859-1

HadoopDB is not a DB on top of Hadoop. Its more like doing map reduce over
database instances rather than hdfs...

HBase is the most stable structured storage layer available over Hadoop..

What kind of features are you looking for?

On Mon, Sep 14, 2009 at 2:03 PM, CubicDesign <cubicdesign@gmail.com> wrote:

> Hi.
>
> Anybody has experience a DB that can handle large amounts of data on top of
> Hadoop?
> HBase and Hive is nice but they also lack of some features. HadoopDB seems
> to bring some equilibrium. However, it seems to be still an infant project.
>
> Any thoughts?
>
>

--001636b2b1296f57050473900b68--

From common-user-return-17448-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 14 21:22:52 2009
Return-Path: <common-user-return-17448-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 93334 invoked from network); 14 Sep 2009 21:22:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Sep 2009 21:22:52 -0000
Received: (qmail 13451 invoked by uid 500); 14 Sep 2009 21:22:50 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 13373 invoked by uid 500); 14 Sep 2009 21:22:50 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 13363 invoked by uid 99); 14 Sep 2009 21:22:50 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 21:22:50 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of omer@vertica.com designates 209.48.61.166 as permitted sender)
Received: from [209.48.61.166] (HELO mx1.vertica.com) (209.48.61.166)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 21:22:43 +0000
Envelope-to: common-user@hadoop.apache.org
Received: from evilbill ([10.10.50.20] helo=mail.vertica.com)
	by mx1.vertica.com with esmtp (Exim 4.63)
	(envelope-from <omer@vertica.com>)
	id 1MnJ0A-0000Mc-5B
	for common-user@hadoop.apache.org; Mon, 14 Sep 2009 17:22:22 -0400
X-MimeOLE: Produced By Microsoft Exchange V6.5
Content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
Subject: RE: HadoopDB and similar stuff
Date: Mon, 14 Sep 2009 17:22:14 -0400
Message-ID: <D5BEDD267E3D2348ADBA4FD9263CD3D605C53BC2@evilbill.VerticaCorp.com>
In-Reply-To: <4AAEAFBB.90709@Gmail.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: HadoopDB and similar stuff
Thread-Index: Aco1fvmhsHVp+AaPQiGCdCIhuhXhmwAAZXnA
References: <4AAEAFBB.90709@Gmail.com>
From: "Omer Trajman" <omer@vertica.com>
To: <common-user@hadoop.apache.org>
X-Virus-Checked: Checked by ClamAV on apache.org

The closest thing that's stable may be DBInputFormat, which allows you
to Map/Reduce on data that's in a database and also query the same
database via the native SQL interface.  In this case the DB sits under
or next to hadoop.

[shameless-plug] Vertica has an optimized VerticaInput/OutputFormat
based on DBInputFormat that can handle large amounts of data
[/shameless-plug]

-----Original Message-----
From: CubicDesign [mailto:cubicdesign@gmail.com]=20
Sent: Monday, September 14, 2009 5:04 PM
To: common-user@hadoop.apache.org
Subject: HadoopDB and similar stuff

Hi.

Anybody has experience a DB that can handle large amounts of data on top

of Hadoop?
HBase and Hive is nice but they also lack of some features. HadoopDB=20
seems to bring some equilibrium. However, it seems to be still an infant

project.

Any thoughts?


From common-user-return-17449-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 14 22:41:49 2009
Return-Path: <common-user-return-17449-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 21635 invoked from network); 14 Sep 2009 22:41:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Sep 2009 22:41:49 -0000
Received: (qmail 90566 invoked by uid 500); 14 Sep 2009 22:41:46 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 90484 invoked by uid 500); 14 Sep 2009 22:41:46 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 90474 invoked by uid 99); 14 Sep 2009 22:41:46 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 22:41:46 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ted.dunning@gmail.com designates 209.85.211.191 as permitted sender)
Received: from [209.85.211.191] (HELO mail-yw0-f191.google.com) (209.85.211.191)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 22:41:37 +0000
Received: by ywh29 with SMTP id 29so5367937ywh.23
        for <common-user@hadoop.apache.org>; Mon, 14 Sep 2009 15:41:16 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=rPJVRMm9GI75u2DBslKvTd7ZNXS+cc/Y7r7LQsUJfXE=;
        b=r0siqOtCxZ0WRcJUp8/9U3Mg2OFdZckS/SPUex/iQckngv0o1TG42rFrwGSfPztouN
         NwLkeM9rhF50lx2rWWVnR0R4Gspzk4g49u4SEy0OJTu+Y0FzwpYkem35rIGWSC3RRXMA
         Xp+DS7qJdJ4cjll/wiHL6ZysT7DyvxsWjMDxU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=cgnF8ob6SVkbpc/sPMtElqMJWZEzBJ7fuwxiaOtMw2hlZ6wm+l3e2lJh3IbAM71n/L
         iLXCJ7SrU0GD2u0jCPJzEmV/pG8WGV2Bb56NZdc63nfSu2mYbTQHDIAiKvdTS3jpb1qQ
         ia5IHzUQLOL/lAJ0iqKIIbpGE8/gnGqIHyKnU=
MIME-Version: 1.0
Received: by 10.150.130.6 with SMTP id c6mr11119245ybd.160.1252968076094; Mon, 
	14 Sep 2009 15:41:16 -0700 (PDT)
In-Reply-To: <4AAEAFBB.90709@Gmail.com>
References: <4AAEAFBB.90709@Gmail.com>
From: Ted Dunning <ted.dunning@gmail.com>
Date: Mon, 14 Sep 2009 15:40:56 -0700
Message-ID: <c7d45fc70909141540n7cc7e755ibb8a25a360c7f8f3@mail.gmail.com>
Subject: Re: HadoopDB and similar stuff
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=000e0cd59fa8172cd30473915d41
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd59fa8172cd30473915d41
Content-Type: text/plain; charset=UTF-8

You don't really say what you want here.

Do you want a database that lives in hadoop's file storage?  Hbase is the
closest for that.

Do you want to be able to import or export data from hadoop to database?
There is a db input/output format (or three) that could help with that.
Cloudera has their sqoop software as well.

Do you want to tightly integrate SQL and map-reduce?  Asterdata has a
product that might help you.

Did you mean something else entirely?  Ask again with more details about
what you really want and I am sure somebody will help you out.

On Mon, Sep 14, 2009 at 2:03 PM, CubicDesign <cubicdesign@gmail.com> wrote:

> Hi.
>
> Anybody has experience a DB that can handle large amounts of data on top of
> Hadoop?
> HBase and Hive is nice but they also lack of some features. HadoopDB seems
> to bring some equilibrium. However, it seems to be still an infant project.
>
> Any thoughts?
>
>


-- 
Ted Dunning, CTO
DeepDyve

--000e0cd59fa8172cd30473915d41--

From common-user-return-17450-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Mon Sep 14 22:50:40 2009
Return-Path: <common-user-return-17450-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 23063 invoked from network); 14 Sep 2009 22:50:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 14 Sep 2009 22:50:40 -0000
Received: (qmail 96966 invoked by uid 500); 14 Sep 2009 22:50:38 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 96886 invoked by uid 500); 14 Sep 2009 22:50:37 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 96876 invoked by uid 99); 14 Sep 2009 22:50:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 22:50:37 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of scottblanc@gmail.com designates 209.85.212.185 as permitted sender)
Received: from [209.85.212.185] (HELO mail-vw0-f185.google.com) (209.85.212.185)
    by apache.org (qpsmtpd/0.29) with ESMTP; Mon, 14 Sep 2009 22:50:28 +0000
Received: by vws15 with SMTP id 15so2483038vws.5
        for <common-user@hadoop.apache.org>; Mon, 14 Sep 2009 15:50:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:date:message-id:subject
         :from:to:content-type;
        bh=Fen4kKRdWESDEdQ/1j5k1xctWeFYBm38JmhGHKiyv9E=;
        b=q2Pbj14PXfgI14Za+he4VQ3wdc3x6Jzgo0r5fVjz+lYiRM4/yrTy/ez8Mzt7fw0K/V
         Szq1MgvrqCSSPqY4J2UfeJOFCYtFnm0vPOZpMw6/iuSTVTvNO9qCJ5F/H43aj3sVi2hA
         kpppSXBk+VnyIPVGCWOX9FIsMzznu9XjgD91Q=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=AJIQ5ZZ/1glSh84PhwyJqcWyZDGIPTC5kx+liPLOy8pSdF+jYiON7R3sJFYV1mjiSF
         IxVv/QfLJuNMCGtQuCDikyv4UegdPRY1P23bAz1A9lLqbD+n+aYuFoBV9m3DjxH48A0J
         M+F6cCLWJmOOXy2ZKbJq9QJJUYv7NDJPYLCRA=
MIME-Version: 1.0
Received: by 10.220.108.164 with SMTP id f36mr8788655vcp.25.1252968607197; 
	Mon, 14 Sep 2009 15:50:07 -0700 (PDT)
Date: Mon, 14 Sep 2009 15:50:07 -0700
Message-ID: <401b577e0909141550l6e8a2a42l458cd80fcee4a143@mail.gmail.com>
Subject: Question about DFSClient "Could not obtain block" errors
From: scott w <scottblanc@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=00c09f899b2dbf2d020473917cef
X-Virus-Checked: Checked by ClamAV on apache.org

--00c09f899b2dbf2d020473917cef
Content-Type: text/plain; charset=ISO-8859-1

I am trying to read data placed on hdfs in one EC2 cluster from a different
EC2 cluster and am getting the errors below. Both EC2 Clusters are running
v0.19. When I run 'hadoop -get small-page-index small-page-index' on the
source cluster everything works fine and the data is properly retrieved out
of hdfs. FWIW, hadoop fs -ls works fine across clusters. Any ideas of what
might be the problem and how to remedy it?

thanks,
Scott

Here are the errors I am getting:

[root@domU-12-31-38-00-4E-32 ~]# hadoop fs -cp
hdfs://domU-12-31-38-00-1C-B1.compute-1.internal:50001/user/root/small-page-index
small-page-index
09/09/14 21:48:43 INFO hdfs.DFSClient: Could not obtain block
blk_-4157273618194597760_1160 from any node:  java.io.IOException: No live
nodes contain current block
09/09/14 21:51:46 INFO hdfs.DFSClient: Could not obtain block
blk_-4157273618194597760_1160 from any node:  java.io.IOException: No live
nodes contain current block
09/09/14 21:54:49 INFO hdfs.DFSClient: Could not obtain block
blk_-4157273618194597760_1160 from any node:  java.io.IOException: No live
nodes contain current block
Exception closing file /user/root/small-page-index/aIndex/_0.cfs
java.io.IOException: Filesystem closed
    at org.apache.hadoop.hdfs.DFSClient.checkOpen(DFSClient.java:198)
    at org.apache.hadoop.hdfs.DFSClient.access$600(DFSClient.java:65)
    at
org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.closeInternal(DFSClient.java:3084)
    at
org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.close(DFSClient.java:3053)
    at
org.apache.hadoop.hdfs.DFSClient$LeaseChecker.close(DFSClient.java:942)
    at org.apache.hadoop.hdfs.DFSClient.close(DFSClient.java:210)
    at
org.apache.hadoop.hdfs.DistributedFileSystem.close(DistributedFileSystem.java:243)
    at org.apache.hadoop.fs.FileSystem$Cache.closeAll(FileSystem.java:1413)
    at org.apache.hadoop.fs.FileSystem.closeAll(FileSystem.java:236)
    at
org.apache.hadoop.fs.FileSystem$ClientFinalizer.run(FileSystem.java:221)

--00c09f899b2dbf2d020473917cef--

From common-user-return-17451-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 02:28:23 2009
Return-Path: <common-user-return-17451-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 72627 invoked from network); 15 Sep 2009 02:28:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 02:28:23 -0000
Received: (qmail 45973 invoked by uid 500); 15 Sep 2009 02:28:20 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 45921 invoked by uid 500); 15 Sep 2009 02:28:20 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 45911 invoked by uid 99); 15 Sep 2009 02:28:20 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 02:28:20 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of mafish@gmail.com designates 209.85.216.204 as permitted sender)
Received: from [209.85.216.204] (HELO mail-px0-f204.google.com) (209.85.216.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 02:28:11 +0000
Received: by pxi42 with SMTP id 42so3043685pxi.20
        for <common-user@hadoop.apache.org>; Mon, 14 Sep 2009 19:27:50 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=hf313uFhoYe1AUn0TEg1dgjfFkXuADJHR6JdgnkWjJw=;
        b=sDdaI1SULQOfMzklAI9sUGRO4NPpYpjy4qyczkONCixRW4eDiquSOVKMK2J/kcnUMx
         AcysHNKZ2CFeWP//QlzuujNqnD3XzWn7B8MDFfAIQstJX8rrzU6c7y8ldVRGTLRTCebW
         jegH4WqSYQJvQ9k+laCgcqF8k3tc+pFP6ArDY=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=Aoa2y3u+dcqeLN8YMK7ebqmqldVhOAJJxO9g8iZLkPcD2aS6gRieUM6PLSNp/wZzEZ
         Z55gIaswdKObHtGTnIOIQwifZFbV1kqOSlR6+tiyDHDXj3suVT+sWWAs6IRZQQXF63HN
         /wpgjMUEkXdqtwDc0w7EoYu93/e7eAzAsMKcw=
MIME-Version: 1.0
Received: by 10.141.40.7 with SMTP id s7mr942457rvj.25.1252981181333; Mon, 14 
	Sep 2009 19:19:41 -0700 (PDT)
In-Reply-To: <401b577e0909141550l6e8a2a42l458cd80fcee4a143@mail.gmail.com>
References: <401b577e0909141550l6e8a2a42l458cd80fcee4a143@mail.gmail.com>
Date: Tue, 15 Sep 2009 10:19:41 +0800
Message-ID: <944750dd0909141919g67a2e1e3nb58bf301a9132ce3@mail.gmail.com>
Subject: Re: Question about DFSClient "Could not obtain block" errors
From: Mafish Liu <mafish@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Check if your datanodes are starting up correctly.
This error occurs when there are file entries in namenode. By it meets
problems to fetch file data from datanodes.

2009/9/15 scott w <scottblanc@gmail.com>:
> I am trying to read data placed on hdfs in one EC2 cluster from a differe=
nt
> EC2 cluster and am getting the errors below. Both EC2 Clusters are runnin=
g
> v0.19. When I run 'hadoop -get small-page-index small-page-index' on the
> source cluster everything works fine and the data is properly retrieved o=
ut
> of hdfs. FWIW, hadoop fs -ls works fine across clusters. Any ideas of wha=
t
> might be the problem and how to remedy it?
>
> thanks,
> Scott
>
> Here are the errors I am getting:
>
> [root@domU-12-31-38-00-4E-32 ~]# hadoop fs -cp
> hdfs://domU-12-31-38-00-1C-B1.compute-1.internal:50001/user/root/small-pa=
ge-index
> small-page-index
> 09/09/14 21:48:43 INFO hdfs.DFSClient: Could not obtain block
> blk_-4157273618194597760_1160 from any node: =A0java.io.IOException: No l=
ive
> nodes contain current block
> 09/09/14 21:51:46 INFO hdfs.DFSClient: Could not obtain block
> blk_-4157273618194597760_1160 from any node: =A0java.io.IOException: No l=
ive
> nodes contain current block
> 09/09/14 21:54:49 INFO hdfs.DFSClient: Could not obtain block
> blk_-4157273618194597760_1160 from any node: =A0java.io.IOException: No l=
ive
> nodes contain current block
> Exception closing file /user/root/small-page-index/aIndex/_0.cfs
> java.io.IOException: Filesystem closed
> =A0 =A0at org.apache.hadoop.hdfs.DFSClient.checkOpen(DFSClient.java:198)
> =A0 =A0at org.apache.hadoop.hdfs.DFSClient.access$600(DFSClient.java:65)
> =A0 =A0at
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.closeInternal(DFSClient.=
java:3084)
> =A0 =A0at
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.close(DFSClient.java:305=
3)
> =A0 =A0at
> org.apache.hadoop.hdfs.DFSClient$LeaseChecker.close(DFSClient.java:942)
> =A0 =A0at org.apache.hadoop.hdfs.DFSClient.close(DFSClient.java:210)
> =A0 =A0at
> org.apache.hadoop.hdfs.DistributedFileSystem.close(DistributedFileSystem.=
java:243)
> =A0 =A0at org.apache.hadoop.fs.FileSystem$Cache.closeAll(FileSystem.java:=
1413)
> =A0 =A0at org.apache.hadoop.fs.FileSystem.closeAll(FileSystem.java:236)
> =A0 =A0at
> org.apache.hadoop.fs.FileSystem$ClientFinalizer.run(FileSystem.java:221)
>



--=20
Mafish@gmail.com

From common-user-return-17452-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 02:35:51 2009
Return-Path: <common-user-return-17452-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 73662 invoked from network); 15 Sep 2009 02:35:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 02:35:51 -0000
Received: (qmail 50031 invoked by uid 500); 15 Sep 2009 02:35:49 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 49957 invoked by uid 500); 15 Sep 2009 02:35:49 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 49947 invoked by uid 99); 15 Sep 2009 02:35:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 02:35:48 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jason.hadoop@gmail.com designates 209.85.212.185 as permitted sender)
Received: from [209.85.212.185] (HELO mail-vw0-f185.google.com) (209.85.212.185)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 02:35:37 +0000
Received: by vws15 with SMTP id 15so2578176vws.5
        for <common-user@hadoop.apache.org>; Mon, 14 Sep 2009 19:35:16 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=4PVeRnBcVH99upWSjoIdAcV2jeE0Hhq2u7Bpuwt3MKk=;
        b=w/AhgdsaRsfWz3aL7bfIC1peYn9dos9eK188KzE2QkpxMLvdAmB16Or0aYXp460bTi
         ztMduvD3Tq9LonZW7sKt5vxJFOIWqiVdW2HBrUx9DCbH5ArRuK8iKZH53tWxh7mgpuEh
         vLE0ydI+9KstBbrz8eYn/BIA4N9cTTm6BjEJ8=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=OkuOOy6EVNEOK6rD8X8O39uXwtJYovtzhheGFSFoooYhdJPlF1oNKeiP4Dxkvh+6/I
         ZQVCXTd6F87pzrbok+STtDjuH1faZPeFwCH3w1hPcrhjI4pjzNctnXy17JX6JhtDxQyL
         Q56DyHYVM7PUP/zdVQssFVs6g8K3wq+M5l9+U=
MIME-Version: 1.0
Received: by 10.220.88.23 with SMTP id y23mr9461523vcl.94.1252982116567; Mon, 
	14 Sep 2009 19:35:16 -0700 (PDT)
In-Reply-To: <4AAAA53E.1070407@casalemedia.com>
References: <4AAAA53E.1070407@casalemedia.com>
Date: Mon, 14 Sep 2009 19:35:16 -0700
Message-ID: <314098690909141935k66ca07e7i4ddbe85e86baec65@mail.gmail.com>
Subject: Re: Question about mapred.child.java.opts
From: Jason Venner <jason.hadoop@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0016e64602a6f7cc41047394a19e
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e64602a6f7cc41047394a19e
Content-Type: text/plain; charset=ISO-8859-1

For streaming, you just need enough space to the run the child that forks
and handles the streaming mapper/reducer and enough space to handle sorting
the date with out the task getting stuck in GC hell.


On Fri, Sep 11, 2009 at 12:30 PM, Mayuran Yogarajah <
mayuran.yogarajah@casalemedia.com> wrote:

> Is there any sense in setting mapred.child.java.opts to a high value
> if all we're using is Hadoop streaming ? We've set it to 512MB but
> I don't know if it even matters..
>
> thanks
>



-- 
Pro Hadoop, a book to guide you from beginner to hadoop mastery,
http://www.amazon.com/dp/1430219424?tag=jewlerymall
www.prohadoopbook.com a community for Hadoop Professionals

--0016e64602a6f7cc41047394a19e--

From common-user-return-17453-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 05:43:18 2009
Return-Path: <common-user-return-17453-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 13965 invoked from network); 15 Sep 2009 05:43:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 05:43:18 -0000
Received: (qmail 82667 invoked by uid 500); 15 Sep 2009 05:43:15 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 82571 invoked by uid 500); 15 Sep 2009 05:43:15 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 82561 invoked by uid 500); 15 Sep 2009 05:43:15 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 82558 invoked by uid 99); 15 Sep 2009 05:43:15 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 05:43:15 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of redpony@gmail.com designates 209.85.223.193 as permitted sender)
Received: from [209.85.223.193] (HELO mail-iw0-f193.google.com) (209.85.223.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 05:43:06 +0000
Received: by iwn31 with SMTP id 31so290172iwn.2
        for <core-user@hadoop.apache.org>; Mon, 14 Sep 2009 22:42:45 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:sender:received:date
         :x-google-sender-auth:message-id:subject:from:to:content-type;
        bh=+hZrsAuWDeF9mU5fdAEmussnu+T/31QFGaZuVsow9oQ=;
        b=pDTH5M41kmb6sQq7Xx3mzx64tHvzgHelkHBtWc8zmkorhkoQw64EnK7bZaTq+yn38j
         InH6QMJxxUBl2INNgm9Meh4GPm6YVMsGznoa6NfbwtnyJgVukc2/3D5WRFzt7mwh9+aq
         LRBRIvUnCgPnKO7ip+tgRhrl3QL/EhRgRWnjo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:date:x-google-sender-auth:message-id:subject
         :from:to:content-type;
        b=iXE36vfj/islDaETJVfhTsKTx56mz6TRBDTJx9jVv21UiDT3C+pZkPYYEnR3JJDlHw
         hRSqmdVFh8KQtDmeJhhz4FXAq9wDZgr6UMhBd13JaPI47W+H6t9/NUsLy/IwByE8FsLt
         0Wd/IRELfQyQvvhOvP2642AjhFhBSvxMqc1YI=
MIME-Version: 1.0
Sender: redpony@gmail.com
Received: by 10.231.6.79 with SMTP id 15mr14985855iby.36.1252993365412; Mon, 
	14 Sep 2009 22:42:45 -0700 (PDT)
Date: Tue, 15 Sep 2009 01:42:45 -0400
X-Google-Sender-Auth: 5bce99b24153582b
Message-ID: <a763284c0909142242l78ff7dadk1e5d4613c8478fac@mail.gmail.com>
Subject: Best practices with large-memory jobs
From: Chris Dyer <redpony@umd.edu>
To: core-user@hadoop.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Hello Hadoopers-
I'm attempting to run some large-memory map tasks with using hadoop
streaming, but I seem to be running afoul of the mapred.child.ulimit
restriction, which is set to 2097152.  I assume this is in KB since my
tasks fail when they get to about 2GB (I just need to get to about
2.3GB- almost there!).  So far, nothing I've tried has succeeded in
changing this value.   I've attempted to add
-jobconf mapred.child.ulimt=3000000
to the streaming command line, but to no avail.  In the job's xml file
that I find in my logs, it's still got the old value.  And worse, in
my task logs I see the message:
"attempt to override final parameter: mapred.child.ulimit;  Ignoring."
which doesn't exactly inspire confidence that I'm on the right path.

I see there's been a fair amount of traffic on Jira about large memory
jobs, but there doesn't seem to be much in the way of examples or
documentation.  Can someone tell me how to run such a job, especially
a streaming job?

Many thanks in advance--
Chris
ps. I'm running an 18.3 cluster on Amazon EC2 (I've been using the
Cloudera convenience scripts, but I can abandon this if I need more
control).  The instances have plenty of memory (7.5GB).

From common-user-return-17454-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 06:22:11 2009
Return-Path: <common-user-return-17454-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 50780 invoked from network); 15 Sep 2009 06:22:10 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 06:22:10 -0000
Received: (qmail 87406 invoked by uid 500); 15 Sep 2009 06:22:08 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 87316 invoked by uid 500); 15 Sep 2009 06:22:08 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 87306 invoked by uid 99); 15 Sep 2009 06:22:08 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 06:22:08 +0000
X-ASF-Spam-Status: No, hits=3.4 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [74.125.92.24] (HELO qw-out-2122.google.com) (74.125.92.24)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 06:21:59 +0000
Received: by qw-out-2122.google.com with SMTP id 9so1112146qwb.35
        for <common-user@hadoop.apache.org>; Mon, 14 Sep 2009 23:21:37 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.229.11.147 with SMTP id t19mr2204210qct.28.1252995697582; Mon, 
	14 Sep 2009 23:21:37 -0700 (PDT)
In-Reply-To: <c7d45fc70909141540n7cc7e755ibb8a25a360c7f8f3@mail.gmail.com>
References: <4AAEAFBB.90709@Gmail.com>
	 <c7d45fc70909141540n7cc7e755ibb8a25a360c7f8f3@mail.gmail.com>
Date: Mon, 14 Sep 2009 23:21:37 -0700
Message-ID: <c9118d4c0909142321y1d4d725fo7e1509d62cb9ddb9@mail.gmail.com>
Subject: Re: HadoopDB and similar stuff
From: Jeff Hammerbacher <hammer@cloudera.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0016364ee87275a3b2047397cb27
X-Virus-Checked: Checked by ClamAV on apache.org

--0016364ee87275a3b2047397cb27
Content-Type: text/plain; charset=ISO-8859-1

>
> Do you want to tightly integrate SQL and map-reduce?  Asterdata has a
> product that might help you.
>

As does Greenplum. You could also get this functionality from Pig or Hive,
which are Apache 2.0-licensed subprojects of Hadoop.

--0016364ee87275a3b2047397cb27--

From common-user-return-17455-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 07:04:09 2009
Return-Path: <common-user-return-17455-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 60406 invoked from network); 15 Sep 2009 07:04:08 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 07:04:08 -0000
Received: (qmail 34453 invoked by uid 500); 15 Sep 2009 07:04:06 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 34383 invoked by uid 500); 15 Sep 2009 07:04:06 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 34367 invoked by uid 99); 15 Sep 2009 07:04:05 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 07:04:05 +0000
X-ASF-Spam-Status: No, hits=4.2 required=10.0
	tests=HTML_MESSAGE,NO_RDNS_DOTCOM_HELO,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [69.147.107.21] (HELO mrout2-b.corp.re1.yahoo.com) (69.147.107.21)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 07:03:52 +0000
Received: from EGL-EX07CAS01.ds.corp.yahoo.com (egl-ex07cas01.eglbp.corp.yahoo.com [203.83.248.208])
	by mrout2-b.corp.re1.yahoo.com (8.13.8/8.13.8/y.out) with ESMTP id n8F727jG061592;
	Tue, 15 Sep 2009 00:02:08 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; s=serpent; d=yahoo-inc.com; c=nofws; q=dns;
	h=received:from:to:date:subject:thread-topic:thread-index:
	message-id:accept-language:content-language:x-ms-has-attach:
	x-ms-tnef-correlator:acceptlanguage:content-type:mime-version;
	b=XbrJWEUfTVIildB8KCwXhFOs3uJkQY48V5Y90sQ4lwymuDwqkdMsGMNVrRgt9vNK
Received: from EGL-EX07VS01.ds.corp.yahoo.com ([203.83.248.206]) by
 EGL-EX07CAS01.ds.corp.yahoo.com ([203.83.248.215]) with mapi; Tue, 15 Sep
 2009 12:32:07 +0530
From: Amogh Vasekar <amogh@yahoo-inc.com>
To: "common-user@hadoop.apache.org" <common-user@hadoop.apache.org>,
        "mapreduce-user@hadoop.apache.org" <mapreduce-user@hadoop.apache.org>
Date: Tue, 15 Sep 2009 12:30:33 +0530
Subject: JVM reuse
Thread-Topic: JVM reuse
Thread-Index: Aco10jfuZEs8whYjTT2AxxRVP0NZ1Q==
Message-ID: <616DA47B2EF5B944B91846785B512FF4CFC727F927@EGL-EX07VS01.ds.corp.yahoo.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
Content-Type: multipart/alternative;
	boundary="_000_616DA47B2EF5B944B91846785B512FF4CFC727F927EGLEX07VS01ds_"
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

--_000_616DA47B2EF5B944B91846785B512FF4CFC727F927EGLEX07VS01ds_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi All,
Regarding the JVM reuse feature incorporated, it says reuse is generally re=
commended for streaming and pipes jobs. I'm a little unclear on this and an=
y pointers will be appreciated.
Also, in what scenarios will this feature be helpful for java mapred jobs?

Thanks,
Amogh

--_000_616DA47B2EF5B944B91846785B512FF4CFC727F927EGLEX07VS01ds_--

From common-user-return-17456-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 07:43:13 2009
Return-Path: <common-user-return-17456-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 68715 invoked from network); 15 Sep 2009 07:43:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 07:43:13 -0000
Received: (qmail 74737 invoked by uid 500); 15 Sep 2009 07:43:10 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 74663 invoked by uid 500); 15 Sep 2009 07:43:10 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 74653 invoked by uid 99); 15 Sep 2009 07:43:10 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 07:43:10 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ted.dunning@gmail.com designates 209.85.211.198 as permitted sender)
Received: from [209.85.211.198] (HELO mail-yw0-f198.google.com) (209.85.211.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 07:43:02 +0000
Received: by ywh36 with SMTP id 36so5824797ywh.21
        for <common-user@hadoop.apache.org>; Tue, 15 Sep 2009 00:42:41 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=VDkkrHnUPsLR/CZ0pJgey8cwSpvRiVF1nLlcAjSddbU=;
        b=ek/FBJwNVgr0RxDJWZJcc/CxDXjBKnT3mWYFu97k4HWFNsplGuc4B2qrE2Iaf6Qxd1
         xoY8Qvz4V7YCT1KxnD4Xf2tCy0IprzMCVWIrXpJoYRFIkxWc+LZKQPCshKKRSbcEfn7F
         aJiuR9rgk1zOW4f3oOg8jBdg2Qnoihao6PStQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=iPs12MFBk9lvHDjgk5IfKFwOCXSoQEqbFL4KM60KUB8J/l7LCN0YZPPu/8jdO1PkH0
         sW+NhGF32NxY4ChEzkPlv4xmEoveJ55B4OU7IVva14mnv9WiHunnSe5nQlMqhV7C/oWF
         PFM/IhJokSdu9Z2sj6CgvblO7pVdFJPdVFWu8=
MIME-Version: 1.0
Received: by 10.150.116.16 with SMTP id o16mr11892202ybc.66.1253000561090; 
	Tue, 15 Sep 2009 00:42:41 -0700 (PDT)
In-Reply-To: <c9118d4c0909142321y1d4d725fo7e1509d62cb9ddb9@mail.gmail.com>
References: <4AAEAFBB.90709@Gmail.com> <c7d45fc70909141540n7cc7e755ibb8a25a360c7f8f3@mail.gmail.com> 
	<c9118d4c0909142321y1d4d725fo7e1509d62cb9ddb9@mail.gmail.com>
From: Ted Dunning <ted.dunning@gmail.com>
Date: Tue, 15 Sep 2009 00:42:21 -0700
Message-ID: <c7d45fc70909150042x8e8eq259eeba593e7a890@mail.gmail.com>
Subject: Re: HadoopDB and similar stuff
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=000e0cd5a1c058e172047398ed35
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd5a1c058e172047398ed35
Content-Type: text/plain; charset=UTF-8

uhhh... neither pig nor hive are really SQL.  Higher level of abstraction
than pure MR, but not SQL.

You are right to include Greenplum, though.  They slipped my mind, probably
because they don't have a google ad running everything 30 seconds like Aster
does.

On Mon, Sep 14, 2009 at 11:21 PM, Jeff Hammerbacher <hammer@cloudera.com>wrote:

> >
> > Do you want to tightly integrate SQL and map-reduce?  Asterdata has a
> > product that might help you.
> >
>
> As does Greenplum. You could also get this functionality from Pig or Hive,
> which are Apache 2.0-licensed subprojects of Hadoop.




-- 
Ted Dunning, CTO
DeepDyve

--000e0cd5a1c058e172047398ed35--

From common-user-return-17457-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 08:42:30 2009
Return-Path: <common-user-return-17457-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 85118 invoked from network); 15 Sep 2009 08:42:30 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 08:42:30 -0000
Received: (qmail 47182 invoked by uid 500); 15 Sep 2009 08:42:28 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 47111 invoked by uid 500); 15 Sep 2009 08:42:27 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 47101 invoked by uid 99); 15 Sep 2009 08:42:27 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 08:42:27 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ezotrank@gmail.com designates 209.85.218.214 as permitted sender)
Received: from [209.85.218.214] (HELO mail-bw0-f214.google.com) (209.85.218.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 08:42:18 +0000
Received: by bwz10 with SMTP id 10so2738326bwz.29
        for <common-user@hadoop.apache.org>; Tue, 15 Sep 2009 01:41:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:from:date:message-id
         :subject:to:content-type;
        bh=q6hZCq0yEKh+w4sBAbRPbFofrCGb0iog0uTyjjgC6E4=;
        b=xb4Ofvv4qVpFUfOiQCU0ZGKgFJL7oe2vAVG2aV4SjSsd/zOnceaCpHTWZDGVxJK6cS
         mfE07y5vo/KG0d6UYntk3cM4FINaW0bTevTQkdw+r7Qmab8LGxnECd4CK/si6mjZ9ohZ
         +qi2Vw+2akX1xW1yXlOWQUHdw4OrqZAr0hUfE=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:from:date:message-id:subject:to:content-type;
        b=cM3CnnVbWgxB0MofXBYu74YGXxTnYnPN4hYHaoDo+U4AA2GQVwynvcht1G0MxHW4w+
         PQVyLwkpYd5c8RgVGP60a7RNFeDgkOX2kJF5z2T0iivydKytfLIB1mDkUchigAeGuDQF
         Ht1hKTT5YPp59W8K1xS9XEetcdnnpwiVBdkNk=
MIME-Version: 1.0
Received: by 10.223.144.67 with SMTP id y3mr2506160fau.11.1253004118109; Tue, 
	15 Sep 2009 01:41:58 -0700 (PDT)
From: Maxim Kremenev <ezotrank@gmail.com>
Date: Tue, 15 Sep 2009 11:41:38 +0300
Message-ID: <bbb90ef70909150141v69d2364ex6cb61d4fbb378489@mail.gmail.com>
Subject: connect to hdfs
To: common-user@hadoop.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Hay folks.
I find a way to connect my app on Ruby on Rails to hdfs, today I use
system call, but it's a bad. Somebody know a solution for my problem?
Maybe somebody know interesting libs on ruby, who can help me connect
my rails to hdsf or have a some expirience?

-- 
Maxim Kremenev

e-mail: ezotrank@gmail.com
icq: 300301802
skype: goof89
m. phone: +7-911-4502511

From common-user-return-17458-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 09:28:20 2009
Return-Path: <common-user-return-17458-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 97654 invoked from network); 15 Sep 2009 09:28:20 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 09:28:20 -0000
Received: (qmail 3264 invoked by uid 500); 15 Sep 2009 09:28:18 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 3193 invoked by uid 500); 15 Sep 2009 09:28:18 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 3183 invoked by uid 99); 15 Sep 2009 09:28:17 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 09:28:17 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of cubicdesign@gmail.com designates 209.85.219.208 as permitted sender)
Received: from [209.85.219.208] (HELO mail-ew0-f208.google.com) (209.85.219.208)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 09:28:07 +0000
Received: by ewy4 with SMTP id 4so3881993ewy.36
        for <common-user@hadoop.apache.org>; Tue, 15 Sep 2009 02:27:47 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:message-id:date:from
         :user-agent:mime-version:to:subject:references:in-reply-to
         :content-type;
        bh=aD1GDI6A2nSiHPglzo+q3jispz50FCCbrzPeU9ztXyc=;
        b=s8C1EOVoti9/zF40CVLinKHdtKhVZorTH29okQPAHXNqCAQY8TN4bM5jWbLj+MhsW+
         qSYNRv15Ou8L8HM1ve1ZKeDPZHWgsWhdkbenwneLUqkH6scWvXS9CgPDFKdoU1G6cOLy
         PlAubJ6yk4uPWuruueTT5Lp3TMI20zIKdv+zo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type;
        b=VThGCiLtyafxvouVwQnV2We1FMptXCkr3qgM2EnolbiCd4ExmXrkem3adIui2ylqvJ
         cWBO1x7tG2GliBExfMwH/kVY4y989x5bwEmsaJbOKREBrm0rqRGTcohWROzwhqeb6Jtq
         0WrHZ4A8bZ3y8i7A6K+9x4Y72S8L29MY4Y6Nc=
Received: by 10.210.156.7 with SMTP id d7mr545378ebe.16.1253006866642;
        Tue, 15 Sep 2009 02:27:46 -0700 (PDT)
Received: from ?192.168.220.104? (host-091-097-242-025.ewe-ip-backbone.de [91.97.242.25])
        by mx.google.com with ESMTPS id 10sm1002694eyz.34.2009.09.15.02.27.45
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Tue, 15 Sep 2009 02:27:45 -0700 (PDT)
Message-ID: <4AAF5E0F.5070208@Gmail.com>
Date: Tue, 15 Sep 2009 11:27:43 +0200
From: CubicDesign <cubicdesign@gmail.com>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: common-user@hadoop.apache.org
Subject: Re: HadoopDB and similar stuff
References: <4AAEAFBB.90709@Gmail.com> <35a22e220909141406n5ebe271ap496f614ee0395fdb@mail.gmail.com>
In-Reply-To: <35a22e220909141406n5ebe271ap496f614ee0395fdb@mail.gmail.com>
Content-Type: multipart/alternative;
 boundary="------------010103010408080802090709"
X-Virus-Checked: Checked by ClamAV on apache.org

--------------010103010408080802090709
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit


> What kind of features are you looking for?
>   

 Hi.

We want to use Hadoop (Streaming) to run some tools to process over 1 
million entries per job. Each tool will output one string so we will 
have 1 mil outputs also. Each string (probably 5KB to 50KB length) will 
be parsed and from this parsing will result about 25-30 columns). There 
may be several jobs per day.

We need to collect the output of these tools and store it somewhere for 
later analysis. The results of one job need to be together - like in one 
table.

So, we need a DB that can store over one million rows (hmm... or 
columns?) per table and support some nice (SQL) interrogations. A 
Hadoop-oriented DB will be nice because it can store safely data (fault 
tolerant) and because it is distributed we won't have bottlenecks like 
we have with the current MySQL DB.

 

 





--------------010103010408080802090709--

From common-user-return-17459-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 09:33:18 2009
Return-Path: <common-user-return-17459-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 215 invoked from network); 15 Sep 2009 09:33:18 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 09:33:18 -0000
Received: (qmail 11853 invoked by uid 500); 15 Sep 2009 09:33:16 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 11762 invoked by uid 500); 15 Sep 2009 09:33:15 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 11748 invoked by uid 99); 15 Sep 2009 09:33:15 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 09:33:15 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of cpbhagtani@gmail.com designates 209.85.222.204 as permitted sender)
Received: from [209.85.222.204] (HELO mail-pz0-f204.google.com) (209.85.222.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 09:33:06 +0000
Received: by pzk42 with SMTP id 42so3348933pzk.31
        for <multiple recipients>; Tue, 15 Sep 2009 02:31:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:cc:content-type;
        bh=POzHT0Eftd1A/Faw4a1bylInEv0cQoKVN8nTrjmAOeQ=;
        b=U3mylO2Z91G4u63MMhvfPrXG2X29AVxDX72ZKD+28xUzvgUuVarlb50/ivuWnafD/J
         Z7Th/oYLCmvGeLuE6MPrwdZz26Kv81A87TFr5dWoY8elrmVJkzNpbg+1dHSq7rSJav3F
         JlDS9SMkFeHmZ6Lar6opgZRwNaZxsOVXPbamo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        b=lSCAo7QG81cms4Bj6LQX/Gd+J4H66+xOxn63VER3jOTms/kRGLlQ8hgkLYtUxD7J6w
         Udu3kXMjeWS8qarfQ8IH1fb5oCj+vccyAGCB/g/yiGiqK6IesZZxqLdis2sCyLQEoKc+
         oX5W0DUCX7NYVoWrPdQQqAVlG47T5keM4/UQQ=
MIME-Version: 1.0
Received: by 10.115.61.10 with SMTP id o10mr13439216wak.37.1253007103941; Tue, 
	15 Sep 2009 02:31:43 -0700 (PDT)
In-Reply-To: <616DA47B2EF5B944B91846785B512FF4CFC727F927@EGL-EX07VS01.ds.corp.yahoo.com>
References: <616DA47B2EF5B944B91846785B512FF4CFC727F927@EGL-EX07VS01.ds.corp.yahoo.com>
Date: Tue, 15 Sep 2009 15:01:43 +0530
Message-ID: <4061df20909150231l7fcc3d85q2ff39f7bd8ae8218@mail.gmail.com>
Subject: Re: JVM reuse
From: Chandraprakash Bhagtani <cpbhagtani@gmail.com>
To: common-user@hadoop.apache.org
Cc: "mapreduce-user@hadoop.apache.org" <mapreduce-user@hadoop.apache.org>
Content-Type: multipart/alternative; boundary=0016e64dd6d254deb704739a7353
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e64dd6d254deb704739a7353
Content-Type: text/plain; charset=windows-1252
Content-Transfer-Encoding: quoted-printable

Hi,

mapred.job.reuse.jvm.num.tasks can be used for jobs that have a large numbe=
r
of very short-lived tasks (these are usually map tasks) or that have length=
y
initialization, can see performance gains when the JVM is reused for
subsequent tasks.

For more info you can refer

  *O=92 Reilly, Hadoop- The Definitive Guide
*

--=20
Thanks & Regards,
Chandra Prakash Bhagtani

On Tue, Sep 15, 2009 at 12:30 PM, Amogh Vasekar <amogh@yahoo-inc.com> wrote=
:

> Hi All,
> Regarding the JVM reuse feature incorporated, it says reuse is generally
> recommended for streaming and pipes jobs. I'm a little unclear on this an=
d
> any pointers will be appreciated.
> Also, in what scenarios will this feature be helpful for java mapred jobs=
?
>
> Thanks,
> Amogh
>

--0016e64dd6d254deb704739a7353--

From common-user-return-17460-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 10:53:56 2009
Return-Path: <common-user-return-17460-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 22914 invoked from network); 15 Sep 2009 10:53:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 10:53:55 -0000
Received: (qmail 39100 invoked by uid 500); 15 Sep 2009 10:53:53 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 39043 invoked by uid 500); 15 Sep 2009 10:53:53 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 39032 invoked by uid 99); 15 Sep 2009 10:53:53 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 10:53:53 +0000
X-ASF-Spam-Status: No, hits=3.7 required=10.0
	tests=HTML_MESSAGE,NORMAL_HTTP_TO_IP,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of work.aviad@gmail.com designates 209.85.220.218 as permitted sender)
Received: from [209.85.220.218] (HELO mail-fx0-f218.google.com) (209.85.220.218)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 10:53:43 +0000
Received: by fxm18 with SMTP id 18so2827227fxm.29
        for <common-user@hadoop.apache.org>; Tue, 15 Sep 2009 03:52:22 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:sender:received:in-reply-to
         :references:date:x-google-sender-auth:message-id:subject:from:to
         :content-type;
        bh=kdLwk7uk7Ifm9dBc0RQhGFH7tSCoA9OeHIR2zLC3VFQ=;
        b=VwjAbGylt8j9HivGuZFqsO04Q4v/xlAM1cyZg9mHqc9PWXKmRTdiEnXCy/m1lymcIY
         XDWMybPcsJEAz0nCNFzFHLAUgGxkqlFQTGWlAlHX7iwxchBeFNIIDV/MiUh2h6BtEVig
         FT4xkilP5U2ATYLyX7U0AD5fxx+/2E4cfggcI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:in-reply-to:references:date
         :x-google-sender-auth:message-id:subject:from:to:content-type;
        b=Ldm7NewLI6g+gZplVwJ67EcqD688Ja3I4wL7KAeRe1Rb6ZXECvC3VyUjJZ1XuJxTWs
         nD/UH/jATiiusNs0hvpNCc2EhBjkZeuSBnhqtz1DmH7NxHgYF06pThToedqSnSizpwAM
         ajQZ/hWGgg1iAM3zuZoMarpJ44LwPIx00G5lE=
MIME-Version: 1.0
Sender: work.aviad@gmail.com
Received: by 10.204.34.69 with SMTP id k5mr6146687bkd.2.1253011942741; Tue, 15 
	Sep 2009 03:52:22 -0700 (PDT)
In-Reply-To: <6a3f6a4b0909090906g68575ccem58a10d588984e471@mail.gmail.com>
References: <6a3f6a4b0909090906g68575ccem58a10d588984e471@mail.gmail.com>
Date: Tue, 15 Sep 2009 13:52:22 +0300
X-Google-Sender-Auth: 015a98e089ca630a
Message-ID: <6a3f6a4b0909150352v164872cdn4b7fac3d022d8410@mail.gmail.com>
Subject: Re: MultipleTextOutputFormat splitting output into different 
	directories.
From: Aviad sela <sela.stam@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=000325559e82bf17d604739b9334
X-Virus-Checked: Checked by ClamAV on apache.org

--000325559e82bf17d604739b9334
Content-Type: text/plain; charset=ISO-8859-1

Is any body interested ,addressed such probelm.
Or does it seem to be esoteric usage ?




On Wed, Sep 9, 2009 at 7:06 PM, Aviad sela <sela.stam@gmail.com> wrote:

>  I am using Hadoop 0.19.1
>
> I attempt to split an input into multiple directories.
> I don't know in advance how many directories exists.
> I don't know in advance what is the directory depth.
> I expect that under each such directory a file exists with all availble
> records having the same key permutation
> found in the job.
>
> If currently each reducer produce a single output i.e. PART-0001
> I would like to create as many directory necessary taking the following
> pattern:
>
>                key1 / key2/ .../ keyN/ PART-0001
>
> where the  "key?"  may have different values for each input record.
> different record may results with a different path requested:
>               key1a/key2b/PART-0001
>               key1c/key2d/key3e/PART-0001
> to keep it simple, during each job we may expect the same depth from each
> record.
>
> I assume that the input records imply that each reduce will produce several
> hundreds of such directories.
> (Indeed this strongly depends on the input record semantic).
>
>
> The MAP part reads a record,following some logic, assign a key like :
> KEY_A, KEY_B
> The MAP Value is the original input line.
>
>
> For The reducer part I assign the IdentityReducer.
> However have set :
>
>     jobConf.setReducerClass(IdentityReducer.
> *class*);
>
>     jobConf.setOutputFormat(MyTextOutputFormat.*class*);
>
>
>
> Where the MyTextOutputFormat  extends MultipleTextOutputFormat, and
> implements:
>
>     protected String generateFileNameForKeyValue(K key, V value, String
> name)
>     {
>         String keyParts[] = key.toString().split(",");
>         Path finalPath = null;
>         // Build the directory structure comprised of the Key parts
>        for (int i=0; i < keyParts.length; i++)
>        {
>             String part = keyParts[i].trim();
>            if  (false == "".equals(part))
>            {
>                if (null == finalPath)
>                           finalPath = new Path(part);
>                 else
>                 {
>                         finalPath = new Path(finalPath, part);
>                 }
>            }
>         } //end of for
>
>        String fileName = generateLeafFileName(name);
>        finalPath = new Path(finalPath, fileName);
>
>        return finalPath.toString();
>  } //generatedFileNameKeyValue
> During execution I have seen the reduce attempts does create the following
> path under the output path:
>
> "/user/hadoop/test_rep01/_temporary/_attempt_200909080349_0013_r_000000_0/KEY_A/KEY_B/part-00000"
>    However, the file was empty.
>
>
>
> The job fails at the end with the the following exceptions found in the
> task log:
>
> 2009-09-09 11:19:49,653 INFO org.apache.hadoop.hdfs.DFSClient: Exception in
> createBlockOutputStream java.io.IOException: Bad connect ack with
> firstBadLink 9.148.30.71:50010
> 2009-09-09 11:19:49,654 INFO org.apache.hadoop.hdfs.DFSClient: Abandoning
> block blk_-6138647338595590910_39383
> 2009-09-09 11:19:55,659 WARN org.apache.hadoop.hdfs.DFSClient: DataStreamer
> Exception: java.io.IOException: Unable to create new block.
> at
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.nextBlockOutputStream(DFSClient.java:2722)
> at
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.access$2000(DFSClient.java:1996)
> at
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream$DataStreamer.run(DFSClient.java:2183)
>
> 2009-09-09 11:19:55,659 WARN org.apache.hadoop.hdfs.DFSClient: Error
> Recovery for block blk_-6138647338595590910_39383 bad datanode[1] nodes ==
> null
> 2009-09-09 11:19:55,660 WARN org.apache.hadoop.hdfs.DFSClient: Could not
> get block locations. Source file
> "/user/hadoop/test_rep01/_temporary/_attempt_200909080349_0013_r_000002_0/KEY_A/KEY_B/part-00002"
> - Aborting...
> 2009-09-09 11:19:55,686 WARN org.apache.hadoop.mapred.TaskTracker: Error
> running child
> java.io.IOException: Bad connect ack with firstBadLink 9.148.30.71:50010
> at
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.createBlockOutputStream(DFSClient.java:2780)
> at
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.nextBlockOutputStream(DFSClient.java:2703)
> at
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.access$2000(DFSClient.java:1996)
> at
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream$DataStreamer.run(DFSClient.java:2183)
> 2009-09-09 11:19:55,688 INFO org.apache.hadoop.mapred.TaskRunner: Runnning
> cleanup for the task
>
>
> The Command line also writes:
>
> 09/09/09 11:24:06 INFO mapred.JobClient: Task Id :
> attempt_200909080349_0013_r_000003_2, Status : FAILED
> java.io.IOException: Bad connect ack with firstBadLink 9.148.30.80:50010
>         at
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.createBlockOutputStream(DFSClient.java:2780)
>         at
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.nextBlockOutputStream(DFSClient.java:2703)
>         at
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.access$2000(DFSClient.java:1996)
>         at
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream$DataStreamer.run(DFSClient.java:2183)
>
>
>
> Any Ideas how to support such a scenario
>

--000325559e82bf17d604739b9334--

From common-user-return-17461-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 11:37:13 2009
Return-Path: <common-user-return-17461-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 34194 invoked from network); 15 Sep 2009 11:37:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 11:37:12 -0000
Received: (qmail 95224 invoked by uid 500); 15 Sep 2009 11:37:10 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 95131 invoked by uid 500); 15 Sep 2009 11:37:10 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 95115 invoked by uid 99); 15 Sep 2009 11:37:10 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 11:37:10 +0000
X-ASF-Spam-Status: No, hits=3.7 required=10.0
	tests=HTML_MESSAGE,NORMAL_HTTP_TO_IP,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of jly.list@googlemail.com designates 209.85.219.208 as permitted sender)
Received: from [209.85.219.208] (HELO mail-ew0-f208.google.com) (209.85.219.208)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 11:36:58 +0000
Received: by ewy4 with SMTP id 4so3969645ewy.36
        for <common-user@hadoop.apache.org>; Tue, 15 Sep 2009 04:35:37 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=googlemail.com; s=gamma;
        h=domainkey-signature:mime-version:received:reply-to:in-reply-to
         :references:date:message-id:subject:from:to:content-type;
        bh=6GekbcYCxjLWVbZ1iXFGWUSFeJX0vX65bzMh2u46Jhc=;
        b=VpxK2IqCa79Ejy+UqwIdJ/1hz7Kx+bzl7laXIZH1UqhPUZXfdaqSos2q2fG2e5TCrA
         3fUsYJ+sGBaWZs4e9JfKmzsEt9t7Y05EdZdh5GfABlOwDdTUkg+MVoL92ay+85WU/wI1
         cIW+98lvrYzrVLFUMmiNw/44gzfTH/D6FnC3o=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=googlemail.com; s=gamma;
        h=mime-version:reply-to:in-reply-to:references:date:message-id
         :subject:from:to:content-type;
        b=xc90inLQng/CieRGTM2gFEAwu2Q65iyZjT44XwblNRGfvKJIepMlHVY3W0hKDHPWxn
         mMA5U8sFkO+9ITeAr/EQLFjvHLNQP0lJV0U9tJs44tSBtY1DmTybjpB+Gw/0paEbaliw
         keEZDw8iszKJcP3aRSnYBuTEPal4RIJ6BkXHI=
MIME-Version: 1.0
Received: by 10.216.86.193 with SMTP id w43mr1894639wee.17.1253014537424; Tue, 
	15 Sep 2009 04:35:37 -0700 (PDT)
Reply-To: jly.list@googlemail.com
In-Reply-To: <6a3f6a4b0909150352v164872cdn4b7fac3d022d8410@mail.gmail.com>
References: <6a3f6a4b0909090906g68575ccem58a10d588984e471@mail.gmail.com>
	 <6a3f6a4b0909150352v164872cdn4b7fac3d022d8410@mail.gmail.com>
Date: Tue, 15 Sep 2009 12:35:37 +0100
Message-ID: <6fb160ee0909150435j8dea681mc8aac6e7548e91fc@mail.gmail.com>
Subject: Re: MultipleTextOutputFormat splitting output into different 
	directories.
From: Jingkei Ly <jly.list@googlemail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0016e6d644f566d18104739c2e0b
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e6d644f566d18104739c2e0b
Content-Type: text/plain; charset=ISO-8859-1

I think I had similar sorts of errors trying to write via 100s of open
OutputStreams to HDFS - I presume that MultipleOutputFormat has to do the
same at each Reducer if you give it many output files to create, as in your
use case.
I think the problem stems from having many concurrent sockets open. You can
mitigate this problem by adding dfs.datanode.max.xcievers to hadoop-site.xml
and setting a higher value (if you check the DataNode logs you might find
these errors confirming it: java.io.IOException: xceiverCount 257 exceeds
the limit of concurrent xcievers 256). However, I think this setting carries
a memory overhead so you can't keep increasing the value indefinitely - is
there another way you can approach this without needing so many output files
per reducer?

2009/9/15 Aviad sela <sela.stam@gmail.com>

> Is any body interested ,addressed such probelm.
> Or does it seem to be esoteric usage ?
>
>
>
>
> On Wed, Sep 9, 2009 at 7:06 PM, Aviad sela <sela.stam@gmail.com> wrote:
>
> >  I am using Hadoop 0.19.1
> >
> > I attempt to split an input into multiple directories.
> > I don't know in advance how many directories exists.
> > I don't know in advance what is the directory depth.
> > I expect that under each such directory a file exists with all availble
> > records having the same key permutation
> > found in the job.
> >
> > If currently each reducer produce a single output i.e. PART-0001
> > I would like to create as many directory necessary taking the following
> > pattern:
> >
> >                key1 / key2/ .../ keyN/ PART-0001
> >
> > where the  "key?"  may have different values for each input record.
> > different record may results with a different path requested:
> >               key1a/key2b/PART-0001
> >               key1c/key2d/key3e/PART-0001
> > to keep it simple, during each job we may expect the same depth from each
> > record.
> >
> > I assume that the input records imply that each reduce will produce
> several
> > hundreds of such directories.
> > (Indeed this strongly depends on the input record semantic).
> >
> >
> > The MAP part reads a record,following some logic, assign a key like :
> > KEY_A, KEY_B
> > The MAP Value is the original input line.
> >
> >
> > For The reducer part I assign the IdentityReducer.
> > However have set :
> >
> >     jobConf.setReducerClass(IdentityReducer.
> > *class*);
> >
> >     jobConf.setOutputFormat(MyTextOutputFormat.*class*);
> >
> >
> >
> > Where the MyTextOutputFormat  extends MultipleTextOutputFormat, and
> > implements:
> >
> >     protected String generateFileNameForKeyValue(K key, V value, String
> > name)
> >     {
> >         String keyParts[] = key.toString().split(",");
> >         Path finalPath = null;
> >         // Build the directory structure comprised of the Key parts
> >        for (int i=0; i < keyParts.length; i++)
> >        {
> >             String part = keyParts[i].trim();
> >            if  (false == "".equals(part))
> >            {
> >                if (null == finalPath)
> >                           finalPath = new Path(part);
> >                 else
> >                 {
> >                         finalPath = new Path(finalPath, part);
> >                 }
> >            }
> >         } //end of for
> >
> >        String fileName = generateLeafFileName(name);
> >        finalPath = new Path(finalPath, fileName);
> >
> >        return finalPath.toString();
> >  } //generatedFileNameKeyValue
> > During execution I have seen the reduce attempts does create the
> following
> > path under the output path:
> >
> >
> "/user/hadoop/test_rep01/_temporary/_attempt_200909080349_0013_r_000000_0/KEY_A/KEY_B/part-00000"
> >    However, the file was empty.
> >
> >
> >
> > The job fails at the end with the the following exceptions found in the
> > task log:
> >
> > 2009-09-09 11:19:49,653 INFO org.apache.hadoop.hdfs.DFSClient: Exception
> in
> > createBlockOutputStream java.io.IOException: Bad connect ack with
> > firstBadLink 9.148.30.71:50010
> > 2009-09-09 11:19:49,654 INFO org.apache.hadoop.hdfs.DFSClient: Abandoning
> > block blk_-6138647338595590910_39383
> > 2009-09-09 11:19:55,659 WARN org.apache.hadoop.hdfs.DFSClient:
> DataStreamer
> > Exception: java.io.IOException: Unable to create new block.
> > at
> >
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.nextBlockOutputStream(DFSClient.java:2722)
> > at
> >
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.access$2000(DFSClient.java:1996)
> > at
> >
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream$DataStreamer.run(DFSClient.java:2183)
> >
> > 2009-09-09 11:19:55,659 WARN org.apache.hadoop.hdfs.DFSClient: Error
> > Recovery for block blk_-6138647338595590910_39383 bad datanode[1] nodes
> ==
> > null
> > 2009-09-09 11:19:55,660 WARN org.apache.hadoop.hdfs.DFSClient: Could not
> > get block locations. Source file
> >
> "/user/hadoop/test_rep01/_temporary/_attempt_200909080349_0013_r_000002_0/KEY_A/KEY_B/part-00002"
> > - Aborting...
> > 2009-09-09 11:19:55,686 WARN org.apache.hadoop.mapred.TaskTracker: Error
> > running child
> > java.io.IOException: Bad connect ack with firstBadLink 9.148.30.71:50010
> > at
> >
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.createBlockOutputStream(DFSClient.java:2780)
> > at
> >
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.nextBlockOutputStream(DFSClient.java:2703)
> > at
> >
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.access$2000(DFSClient.java:1996)
> > at
> >
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream$DataStreamer.run(DFSClient.java:2183)
> > 2009-09-09 11:19:55,688 INFO org.apache.hadoop.mapred.TaskRunner:
> Runnning
> > cleanup for the task
> >
> >
> > The Command line also writes:
> >
> > 09/09/09 11:24:06 INFO mapred.JobClient: Task Id :
> > attempt_200909080349_0013_r_000003_2, Status : FAILED
> > java.io.IOException: Bad connect ack with firstBadLink 9.148.30.80:50010
> >         at
> >
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.createBlockOutputStream(DFSClient.java:2780)
> >         at
> >
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.nextBlockOutputStream(DFSClient.java:2703)
> >         at
> >
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.access$2000(DFSClient.java:1996)
> >         at
> >
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream$DataStreamer.run(DFSClient.java:2183)
> >
> >
> >
> > Any Ideas how to support such a scenario
> >
>

--0016e6d644f566d18104739c2e0b--

From common-user-return-17462-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 11:51:40 2009
Return-Path: <common-user-return-17462-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 38736 invoked from network); 15 Sep 2009 11:51:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 11:51:40 -0000
Received: (qmail 14766 invoked by uid 500); 15 Sep 2009 11:51:38 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 14688 invoked by uid 500); 15 Sep 2009 11:51:38 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 14676 invoked by uid 99); 15 Sep 2009 11:51:38 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 11:51:38 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of stas.oskin@gmail.com designates 209.85.218.214 as permitted sender)
Received: from [209.85.218.214] (HELO mail-bw0-f214.google.com) (209.85.218.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 11:51:26 +0000
Received: by bwz10 with SMTP id 10so2840787bwz.29
        for <common-user@hadoop.apache.org>; Tue, 15 Sep 2009 04:51:06 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=AVinJpwoUyt8+9ULjxneraKVOgFaldYuCAM89tiD4mU=;
        b=fLeEPKvuGB+EvHMZ5WHauRJtr+WUxsvR3Gy2Uv2R+xPHGcoufsjx51AD9dSdfd73GQ
         kLbNR5nXZvA/sxlh6pdApdNgkEiBi2dal5UsbZlQufMKhP1NyPYf9WW0v8S7QrrcC48Q
         PwET9jkHG6fTbs+aI5JA4VhOw51ZSI6S+1mec=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=gaEvJuVNhfavcxkKgIKKdUokhluGYkNpWdxU2apfSpGnyeHPMUD0ZW5gKz9xN9HZRh
         ViKe+4F9QSqE28qtszUEUoC3MFhJzVgRm45aJPubNB6niTT77NnjY7H7DcZcWd+wPAI+
         16+D9nbvI9inEcwOt3WRD/adTE5SzPRkpvyVM=
MIME-Version: 1.0
Received: by 10.223.76.79 with SMTP id b15mr2677422fak.66.1253015465965; Tue, 
	15 Sep 2009 04:51:05 -0700 (PDT)
In-Reply-To: <77d4e5730909141226m563a5d9ema6a25b5826882771@mail.gmail.com>
References: <77938bc20909130301g22082bd4xed4cd9b3c9632699@mail.gmail.com>
	 <314098690909131938n4331541r5034ccb8cfcab679@mail.gmail.com>
	 <77938bc20909141150o5651b1ddjebb7110cca57e4ff@mail.gmail.com>
	 <77d4e5730909141226m563a5d9ema6a25b5826882771@mail.gmail.com>
Date: Tue, 15 Sep 2009 14:51:05 +0300
Message-ID: <77938bc20909150451v7b163206g4ca148ffcccf506e@mail.gmail.com>
Subject: Re: Multiple disks for DFS
From: Stas Oskin <stas.oskin@gmail.com>
To: common-user@hadoop.apache.org, mohamed.kilani@m4x.org
Content-Type: multipart/alternative; boundary=001517478ae4bf372004739c658d
X-Virus-Checked: Checked by ClamAV on apache.org

--001517478ae4bf372004739c658d
Content-Type: text/plain; charset=ISO-8859-1

Hi.

Thanks for the advice, but I actually asked, if I can use the DFS local
files (where the file is written locally, and not to DFS), with the
round-robin mechanism, for my own needs.

Regards.

2009/9/14 Dali Kilani <dali.kilani@gmail.com>

> Just specify multiple directories (where the different local partitions are
> mounted) for dfs.data.dir (hdfs data) and mapred.local.dir (intermediate
> data) in hdfs-site.xml.Data should then be striped across the different
> partitions/disks.
>
> See here : http://bit.ly/fbUkr
>
> Dali
>
> On Mon, Sep 14, 2009 at 11:50 AM, Stas Oskin <stas.oskin@gmail.com> wrote:
>
> > Hi.
> >
> > Thanks for the explanation.
> >
> > Any idea if I can re-use this round robin mechanism for local disk
> writing?
> >
> > Or it's DFS only?
> >
> > Regards.
> >
> > 2009/9/14 Jason Venner <jason.hadoop@gmail.com>
> >
> > > When you have multiple partitions specified for hdfs storage, they are
> > used
> > > for block storage in a round robin fashion.
> > > If a partition has insufficient space it is dropped for the set used
> for
> > > storing new blocks.
> > >
> > > On Sun, Sep 13, 2009 at 3:01 AM, Stas Oskin <stas.oskin@gmail.com>
> > wrote:
> > >
> > > > Hi.
> > > >
> > > > When I specify multiple disks for DFS, does Hadoop distributes the
> > > > concurrent writings over the multiple disks?
> > > >
> > > > I mean, to prevent an utilization of a single disk?
> > > >
> > > > Thanks for any info on subject.
> > > >
> > >
> > >
> > >
> > > --
> > > Pro Hadoop, a book to guide you from beginner to hadoop mastery,
> > > http://www.amazon.com/dp/1430219424?tag=jewlerymall
> > > www.prohadoopbook.com a community for Hadoop Professionals
> > >
> >
>
>
>
> --
> Dali Kilani
> ===========
> Phone :  (650) 492-5921 (Google Voice)
> E-Fax  :  (775) 552-2982
>

--001517478ae4bf372004739c658d--

From common-user-return-17463-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 13:00:52 2009
Return-Path: <common-user-return-17463-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 69836 invoked from network); 15 Sep 2009 13:00:52 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 13:00:52 -0000
Received: (qmail 10313 invoked by uid 500); 15 Sep 2009 13:00:50 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 10234 invoked by uid 500); 15 Sep 2009 13:00:50 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 10224 invoked by uid 99); 15 Sep 2009 13:00:50 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 13:00:50 +0000
X-ASF-Spam-Status: No, hits=3.7 required=10.0
	tests=HTML_MESSAGE,NORMAL_HTTP_TO_IP,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of work.aviad@gmail.com designates 209.85.218.214 as permitted sender)
Received: from [209.85.218.214] (HELO mail-bw0-f214.google.com) (209.85.218.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 13:00:39 +0000
Received: by bwz10 with SMTP id 10so2884841bwz.29
        for <common-user@hadoop.apache.org>; Tue, 15 Sep 2009 05:59:19 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:sender:received:in-reply-to
         :references:date:x-google-sender-auth:message-id:subject:from:to
         :content-type;
        bh=+bZ8nfz6i1B3unWrsv+LQbDb+Whiluv71PjkdiH5HE4=;
        b=R4825ENExlFL4FnYNXsaGk+UQec9FdkDHfgW5VTfCgnFuRTvGyd1me09Zh81yzCXjd
         R8/7uvt7c3k3xLlqD+6rkxBWbI7wU8Lecw9SFwgtCfInolkXf6Mo7CRFrPxhw1psm/zl
         gFdEIumIpgNZeSyk04ncdRMUMpzz1OAckWq04=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:in-reply-to:references:date
         :x-google-sender-auth:message-id:subject:from:to:content-type;
        b=hXdMFwsyGA1RNwBGFxI0F/byArNo2K/xH7WOnVSU4evBEu8Ka18HegVAtV8UIu8wPP
         bhRhzSjr4E8OtK/vuxoDAi1mFQGBO72xoP4uO0VlfRZj+c8+lyQBTX0UiliRdatmpm7u
         0ecTNS6DiimJZGXWSb0jKaG9bTVRllaqMdHK8=
MIME-Version: 1.0
Sender: work.aviad@gmail.com
Received: by 10.204.153.24 with SMTP id i24mr6325721bkw.114.1253019559006; 
	Tue, 15 Sep 2009 05:59:19 -0700 (PDT)
In-Reply-To: <6fb160ee0909150435j8dea681mc8aac6e7548e91fc@mail.gmail.com>
References: <6a3f6a4b0909090906g68575ccem58a10d588984e471@mail.gmail.com>
	 <6a3f6a4b0909150352v164872cdn4b7fac3d022d8410@mail.gmail.com>
	 <6fb160ee0909150435j8dea681mc8aac6e7548e91fc@mail.gmail.com>
Date: Tue, 15 Sep 2009 15:59:18 +0300
X-Google-Sender-Auth: daacc25b17e2dee9
Message-ID: <6a3f6a4b0909150559u28d8fccfq9bc17cb9feb74d40@mail.gmail.com>
Subject: Re: MultipleTextOutputFormat splitting output into different 
	directories.
From: Aviad sela <sela.stam@gmail.com>
To: common-user@hadoop.apache.org, jly.list@googlemail.com
Content-Type: multipart/alternative; boundary=0015175dd9ceb6119304739d593b
X-Virus-Checked: Checked by ClamAV on apache.org

--0015175dd9ceb6119304739d593b
Content-Type: text/plain; charset=ISO-8859-1

Indeed the data node exception relates to too many files opened, however of
different type from the one you have mentioned. I have appended the error at
the bottom.

Since I am not familiar with the code, the underlying architecture and
design decision the following discussion is just my thoughts and I am not
trying to make any statement :-))

As listed in my first mail, every second reducer reports error which relates
to a socket problem. The other reducer reports the same source of
error emitting from the stack trace any relation to socket. Becaus of this
difference I think that some of the reducers works with local hdfs and
other with remote instance.

I have seen the system reaches 100% map and 100% reduce, for which all files
are created under the _temporary directory (under the target user
directory). I assume that each reducer writes to its local hdfs,and that
failure occur during finalization of the process, when all data is moved
into the target user directory. I guess that this finalization should be
"atomic" inorder to make sure that a reducer's "attempt" is finalized. The
current common usage of reducer output, in which there is a single file
output, make the "atomic" finalization simple

Still, I am puzzled why this should cause failure, because I expect the DFS
engine to rename of the _temporary files into their final name, without
copying them over the network. In any case, since any resources is limited,
the DFS engine might need to take this into account. Once such solution
would be to iterate over all waiting temporary files sharing the availble
amount of sockets.

Regarding your remark of using another approach:
This is always a possiblity , yet we believe that by splitting the data
during reduce into different files, may display significant advantages
during successive processing. Just consider what is required to retrieve a
single key - deep scan through all files.


IOException:

WARN org.apache.hadoop.hdfs.server.datanode.DataNode: java.io.IOException:
Cannot run program "bash": java.io.IOException: error=24, Too many open
files at java.lang.Throwable.(Throwable.java:80) at
java.lang.ProcessBuilder.start(ProcessBuilder.java:449) at
org.apache.hadoop.util.Shell.runCommand(Shell.java:149) at
org.apache.hadoop.util.Shell.run(Shell.java:134) at
org.apache.hadoop.fs.DF.getCapacity(DF.java:63) at
org.apache.hadoop.hdfs.server.datanode.FSDataset$FSVolume.getCapacity(FSDataset.java:338)
at
org.apache.hadoop.hdfs.server.datanode.FSDataset$FSVolumeSet.getCapacity(FSDataset.java:503)
at
org.apache.hadoop.hdfs.server.datanode.FSDataset.getCapacity(FSDataset.java:700)
at
org.apache.hadoop.hdfs.server.datanode.DataNode.offerService(DataNode.java:680)
at org.apache.hadoop.hdfs.server.datanode.DataNode.run(DataNode.java:1141)
at java.lang.Thread.run(Thread.java:735) Caused by: java.io.IOException:
java.io.IOException: error=24, Too many open files at
java.lang.Throwable.(Throwable.java:67) at java.lang.UNIXProcess




On Tue, Sep 15, 2009 at 2:35 PM, Jingkei Ly <jly.list@googlemail.com> wrote:

> I think I had similar sorts of errors trying to write via 100s of open
> OutputStreams to HDFS - I presume that MultipleOutputFormat has to do the
> same at each Reducer if you give it many output files to create, as in your
> use case.
> I think the problem stems from having many concurrent sockets open. You can
> mitigate this problem by adding dfs.datanode.max.xcievers to
> hadoop-site.xml
> and setting a higher value (if you check the DataNode logs you might find
> these errors confirming it: java.io.IOException: xceiverCount 257 exceeds
> the limit of concurrent xcievers 256). However, I think this setting
> carries
> a memory overhead so you can't keep increasing the value indefinitely - is
> there another way you can approach this without needing so many output
> files
> per reducer?
>
> 2009/9/15 Aviad sela <sela.stam@gmail.com>
>
> > Is any body interested ,addressed such probelm.
> > Or does it seem to be esoteric usage ?
> >
> >
> >
> >
> > On Wed, Sep 9, 2009 at 7:06 PM, Aviad sela <sela.stam@gmail.com> wrote:
> >
> > >  I am using Hadoop 0.19.1
> > >
> > > I attempt to split an input into multiple directories.
> > > I don't know in advance how many directories exists.
> > > I don't know in advance what is the directory depth.
> > > I expect that under each such directory a file exists with all availble
> > > records having the same key permutation
> > > found in the job.
> > >
> > > If currently each reducer produce a single output i.e. PART-0001
> > > I would like to create as many directory necessary taking the following
> > > pattern:
> > >
> > >                key1 / key2/ .../ keyN/ PART-0001
> > >
> > > where the  "key?"  may have different values for each input record.
> > > different record may results with a different path requested:
> > >               key1a/key2b/PART-0001
> > >               key1c/key2d/key3e/PART-0001
> > > to keep it simple, during each job we may expect the same depth from
> each
> > > record.
> > >
> > > I assume that the input records imply that each reduce will produce
> > several
> > > hundreds of such directories.
> > > (Indeed this strongly depends on the input record semantic).
> > >
> > >
> > > The MAP part reads a record,following some logic, assign a key like :
> > > KEY_A, KEY_B
> > > The MAP Value is the original input line.
> > >
> > >
> > > For The reducer part I assign the IdentityReducer.
> > > However have set :
> > >
> > >     jobConf.setReducerClass(IdentityReducer.
> > > *class*);
> > >
> > >     jobConf.setOutputFormat(MyTextOutputFormat.*class*);
> > >
> > >
> > >
> > > Where the MyTextOutputFormat  extends MultipleTextOutputFormat, and
> > > implements:
> > >
> > >     protected String generateFileNameForKeyValue(K key, V value, String
> > > name)
> > >     {
> > >         String keyParts[] = key.toString().split(",");
> > >         Path finalPath = null;
> > >         // Build the directory structure comprised of the Key parts
> > >        for (int i=0; i < keyParts.length; i++)
> > >        {
> > >             String part = keyParts[i].trim();
> > >            if  (false == "".equals(part))
> > >            {
> > >                if (null == finalPath)
> > >                           finalPath = new Path(part);
> > >                 else
> > >                 {
> > >                         finalPath = new Path(finalPath, part);
> > >                 }
> > >            }
> > >         } //end of for
> > >
> > >        String fileName = generateLeafFileName(name);
> > >        finalPath = new Path(finalPath, fileName);
> > >
> > >        return finalPath.toString();
> > >  } //generatedFileNameKeyValue
> > > During execution I have seen the reduce attempts does create the
> > following
> > > path under the output path:
> > >
> > >
> >
> "/user/hadoop/test_rep01/_temporary/_attempt_200909080349_0013_r_000000_0/KEY_A/KEY_B/part-00000"
> > >    However, the file was empty.
> > >
> > >
> > >
> > > The job fails at the end with the the following exceptions found in the
> > > task log:
> > >
> > > 2009-09-09 11:19:49,653 INFO org.apache.hadoop.hdfs.DFSClient:
> Exception
> > in
> > > createBlockOutputStream java.io.IOException: Bad connect ack with
> > > firstBadLink 9.148.30.71:50010
> > > 2009-09-09 11:19:49,654 INFO org.apache.hadoop.hdfs.DFSClient:
> Abandoning
> > > block blk_-6138647338595590910_39383
> > > 2009-09-09 11:19:55,659 WARN org.apache.hadoop.hdfs.DFSClient:
> > DataStreamer
> > > Exception: java.io.IOException: Unable to create new block.
> > > at
> > >
> >
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.nextBlockOutputStream(DFSClient.java:2722)
> > > at
> > >
> >
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.access$2000(DFSClient.java:1996)
> > > at
> > >
> >
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream$DataStreamer.run(DFSClient.java:2183)
> > >
> > > 2009-09-09 11:19:55,659 WARN org.apache.hadoop.hdfs.DFSClient: Error
> > > Recovery for block blk_-6138647338595590910_39383 bad datanode[1] nodes
> > ==
> > > null
> > > 2009-09-09 11:19:55,660 WARN org.apache.hadoop.hdfs.DFSClient: Could
> not
> > > get block locations. Source file
> > >
> >
> "/user/hadoop/test_rep01/_temporary/_attempt_200909080349_0013_r_000002_0/KEY_A/KEY_B/part-00002"
> > > - Aborting...
> > > 2009-09-09 11:19:55,686 WARN org.apache.hadoop.mapred.TaskTracker:
> Error
> > > running child
> > > java.io.IOException: Bad connect ack with firstBadLink
> 9.148.30.71:50010
> > > at
> > >
> >
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.createBlockOutputStream(DFSClient.java:2780)
> > > at
> > >
> >
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.nextBlockOutputStream(DFSClient.java:2703)
> > > at
> > >
> >
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.access$2000(DFSClient.java:1996)
> > > at
> > >
> >
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream$DataStreamer.run(DFSClient.java:2183)
> > > 2009-09-09 11:19:55,688 INFO org.apache.hadoop.mapred.TaskRunner:
> > Runnning
> > > cleanup for the task
> > >
> > >
> > > The Command line also writes:
> > >
> > > 09/09/09 11:24:06 INFO mapred.JobClient: Task Id :
> > > attempt_200909080349_0013_r_000003_2, Status : FAILED
> > > java.io.IOException: Bad connect ack with firstBadLink
> 9.148.30.80:50010
> > >         at
> > >
> >
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.createBlockOutputStream(DFSClient.java:2780)
> > >         at
> > >
> >
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.nextBlockOutputStream(DFSClient.java:2703)
> > >         at
> > >
> >
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.access$2000(DFSClient.java:1996)
> > >         at
> > >
> >
> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream$DataStreamer.run(DFSClient.java:2183)
> > >
> > >
> > >
> > > Any Ideas how to support such a scenario
> > >
> >
>

--0015175dd9ceb6119304739d593b--

From common-user-return-17464-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 14:20:05 2009
Return-Path: <common-user-return-17464-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 96824 invoked from network); 15 Sep 2009 14:20:05 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 14:20:05 -0000
Received: (qmail 85743 invoked by uid 500); 15 Sep 2009 14:20:02 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 85670 invoked by uid 500); 15 Sep 2009 14:20:02 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 85660 invoked by uid 99); 15 Sep 2009 14:20:02 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 14:20:02 +0000
X-ASF-Spam-Status: No, hits=3.4 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.221.203] (HELO mail-qy0-f203.google.com) (209.85.221.203)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 14:19:53 +0000
Received: by qyk41 with SMTP id 41so3125184qyk.25
        for <common-user@hadoop.apache.org>; Tue, 15 Sep 2009 07:18:31 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.229.15.75 with SMTP id j11mr2377369qca.69.1253024311179; Tue, 
	15 Sep 2009 07:18:31 -0700 (PDT)
In-Reply-To: <bbb90ef70909150141v69d2364ex6cb61d4fbb378489@mail.gmail.com>
References: <bbb90ef70909150141v69d2364ex6cb61d4fbb378489@mail.gmail.com>
Date: Tue, 15 Sep 2009 07:18:31 -0700
Message-ID: <c9118d4c0909150718w24ca262cr9b33b135e833736@mail.gmail.com>
Subject: Re: connect to hdfs
From: Jeff Hammerbacher <hammer@cloudera.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=00151747921cf67b9304739e74b1
X-Virus-Checked: Checked by ClamAV on apache.org

--00151747921cf67b9304739e74b1
Content-Type: text/plain; charset=ISO-8859-1

Hey Maxim,
You may want to try the Ruby bindings for the Thrift client for HDFS; more
information is at http://wiki.apache.org/hadoop/HDFS-APIs.

Regards,
Jeff

On Tue, Sep 15, 2009 at 1:41 AM, Maxim Kremenev <ezotrank@gmail.com> wrote:

> Hay folks.
> I find a way to connect my app on Ruby on Rails to hdfs, today I use
> system call, but it's a bad. Somebody know a solution for my problem?
> Maybe somebody know interesting libs on ruby, who can help me connect
> my rails to hdsf or have a some expirience?
>
> --
> Maxim Kremenev
>
> e-mail: ezotrank@gmail.com
> icq: 300301802
> skype: goof89
> m. phone: +7-911-4502511
>

--00151747921cf67b9304739e74b1--

From common-user-return-17465-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 14:29:55 2009
Return-Path: <common-user-return-17465-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 952 invoked from network); 15 Sep 2009 14:29:54 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 14:29:54 -0000
Received: (qmail 5886 invoked by uid 500); 15 Sep 2009 14:29:52 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 5823 invoked by uid 500); 15 Sep 2009 14:29:51 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 5776 invoked by uid 99); 15 Sep 2009 14:29:51 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 14:29:51 +0000
X-ASF-Spam-Status: No, hits=3.4 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [74.125.92.27] (HELO qw-out-2122.google.com) (74.125.92.27)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 14:29:39 +0000
Received: by qw-out-2122.google.com with SMTP id 9so1177512qwb.35
        for <common-user@hadoop.apache.org>; Tue, 15 Sep 2009 07:28:18 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.229.44.19 with SMTP id y19mr2141933qce.48.1253024898514; Tue, 
	15 Sep 2009 07:28:18 -0700 (PDT)
In-Reply-To: <c7d45fc70909150042x8e8eq259eeba593e7a890@mail.gmail.com>
References: <4AAEAFBB.90709@Gmail.com>
	 <c7d45fc70909141540n7cc7e755ibb8a25a360c7f8f3@mail.gmail.com>
	 <c9118d4c0909142321y1d4d725fo7e1509d62cb9ddb9@mail.gmail.com>
	 <c7d45fc70909150042x8e8eq259eeba593e7a890@mail.gmail.com>
Date: Tue, 15 Sep 2009 07:28:18 -0700
Message-ID: <c9118d4c0909150728q57cfc3b0hb6ff983994028d07@mail.gmail.com>
Subject: Re: HadoopDB and similar stuff
From: Jeff Hammerbacher <hammer@cloudera.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=001485e7e7d8f87ea104739e9744
X-Virus-Checked: Checked by ClamAV on apache.org

--001485e7e7d8f87ea104739e9744
Content-Type: text/plain; charset=ISO-8859-1

Hey Ted,
I don't want to derail this thread, but I would like to correct any
misperceptions which may exist in the community.

1) HiveQL intends to include SQL as a subset of its syntax: see the VLDB
paper for more (
http://www.slideshare.net/namit_jain/hive-demo-paper-at-vldb-2009). As it
stands today, a reasonable subset of SQL is already supported, and most
users of MySQL, Oracle, or PostgreSQL will be able to work comfortably in
Hive today.

2) There's a patch for SQL support in Pig:
http://issues.apache.org/jira/browse/PIG-824.

Every database implements a different dialect of SQL (e.g. express a Top K
query in your favorite database and compare to the rest), and the Pig and
HiveQL dialects are as valid as any other. If you disagree, I'd love to hear
your perspective on why these languages are "not SQL".

Regards,
Jeff

On Tue, Sep 15, 2009 at 12:42 AM, Ted Dunning <ted.dunning@gmail.com> wrote:

> uhhh... neither pig nor hive are really SQL.  Higher level of abstraction
> than pure MR, but not SQL.
>
> You are right to include Greenplum, though.  They slipped my mind, probably
> because they don't have a google ad running everything 30 seconds like
> Aster
> does.
>
> On Mon, Sep 14, 2009 at 11:21 PM, Jeff Hammerbacher <hammer@cloudera.com
> >wrote:
>
> > >
> > > Do you want to tightly integrate SQL and map-reduce?  Asterdata has a
> > > product that might help you.
> > >
> >
> > As does Greenplum. You could also get this functionality from Pig or
> Hive,
> > which are Apache 2.0-licensed subprojects of Hadoop.
>
>
>
>
> --
> Ted Dunning, CTO
> DeepDyve
>

--001485e7e7d8f87ea104739e9744--

From common-user-return-17466-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 14:42:23 2009
Return-Path: <common-user-return-17466-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 6165 invoked from network); 15 Sep 2009 14:42:23 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 14:42:23 -0000
Received: (qmail 27516 invoked by uid 500); 15 Sep 2009 14:42:20 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 27425 invoked by uid 500); 15 Sep 2009 14:42:20 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 27415 invoked by uid 99); 15 Sep 2009 14:42:20 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 14:42:20 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [140.203.201.100] (HELO mx1.nuigalway.ie) (140.203.201.100)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 14:42:08 +0000
X-IronPort-Anti-Spam-Filtered: true
X-IronPort-Anti-Spam-Result: ApoEAN5Er0oKhJ0L/2dsb2JhbADfR4QXBQ
X-IronPort-AV: E=Sophos;i="4.44,390,1249254000"; 
   d="scan'208";a="25273840"
Received: from unknown (HELO EVS1.ac.nuigalway.ie) ([10.132.157.11])
  by mx1.nuigalway.ie with ESMTP; 15 Sep 2009 15:41:48 +0100
Received: from EVS1.ac.nuigalway.ie ([10.132.157.14]) by EVS1.ac.nuigalway.ie with Microsoft SMTPSVC(6.0.3790.3959);
	 Tue, 15 Sep 2009 15:41:47 +0100
Received: from [10.2.18.121] ([140.203.154.11]) by EVS1.ac.nuigalway.ie over TLS secured channel with Microsoft SMTPSVC(6.0.3790.3959);
	 Tue, 15 Sep 2009 15:41:47 +0100
Message-ID: <4AAFA7AB.4090105@deri.org>
Date: Tue, 15 Sep 2009 15:41:47 +0100
From: stephen mulcahy <stephen.mulcahy@deri.org>
User-Agent: Mozilla-Thunderbird 2.0.0.22 (X11/20090706)
MIME-Version: 1.0
To: common-user@hadoop.apache.org
Subject: Hadoop 0.20.1 (a big secret?)
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-OriginalArrivalTime: 15 Sep 2009 14:41:47.0114 (UTC) FILETIME=[A6E9ECA0:01CA3612]
X-Virus-Checked: Checked by ClamAV on apache.org

Howdy,

I'm about to install a new hadoop cluster here and I'm wondering which 
Hadoop to install.

Looking at http://hadoop.apache.org/common/releases.html suggests its 
either 0.19.2 or 0.20.0 but looking in 
http://ftp.heanet.ie/mirrors/www.apache.org/dist/hadoop/core/ I see 
0.20.1 has been sitting there since 01-Sep-2009.

A quick google suggests Cloudera are going to base their next release on 
0.20.1 so I'm taking this as an indication that 0.20.1 is ready for 
primetime.

Did I miss the announcement on 0.20.1 or is there some reason why it's 
being kept quiet so far (if so, apologies for publicising it ;)?

Thanks,

-stephen

-- 
Stephen Mulcahy, DI2, Digital Enterprise Research Institute,
NUI Galway, IDA Business Park, Lower Dangan, Galway, Ireland
http://di2.deri.ie    http://webstar.deri.ie    http://sindice.com

From common-user-return-17467-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 15:35:32 2009
Return-Path: <common-user-return-17467-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 33056 invoked from network); 15 Sep 2009 15:35:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 15:35:32 -0000
Received: (qmail 40549 invoked by uid 500); 15 Sep 2009 15:35:29 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 40496 invoked by uid 500); 15 Sep 2009 15:35:29 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 40486 invoked by uid 99); 15 Sep 2009 15:35:29 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 15:35:29 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of edlinuxguru@gmail.com designates 209.85.218.214 as permitted sender)
Received: from [209.85.218.214] (HELO mail-bw0-f214.google.com) (209.85.218.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 15:35:17 +0000
Received: by bwz10 with SMTP id 10so3007522bwz.29
        for <common-user@hadoop.apache.org>; Tue, 15 Sep 2009 08:34:56 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=JoypU4VtH7CsU8ze/yvr3WWnQDcu0Hagfz6eWJ8lkus=;
        b=jfS4mf1X20WmwsNm98vnTJV42IJAIYSdutX3nCZxbBH1BQbaHJR3GDUKK4FkKqsf8X
         gyTYgpxmk1wy7hosHTIaXVtulLmuQ14thJxDtMb5MhjuGskYeU/twiBs0JM6QSDMzAg3
         oerX+EsvFpxbzGe+YyS40LT7rgWm9NJ7PnJ+Y=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=oPZ62dXk2kGG7T4q7ATceaT5nkPqer2PraTZsfYkVXdnCzjaewK7vrx6kQ/QpP1pP/
         LIo7Q0NikqgsADSntpEPufVrxQiIicCNr97aNfTOJaoK/1lioe/vZYN/tEIlmm5Bv1wu
         gdQCpL4eZjQuYCAXNv+9Fwuy7jASun2cCpjMI=
MIME-Version: 1.0
Received: by 10.239.142.147 with SMTP id g19mr188597hba.189.1253028895744; 
	Tue, 15 Sep 2009 08:34:55 -0700 (PDT)
In-Reply-To: <c9118d4c0909150728q57cfc3b0hb6ff983994028d07@mail.gmail.com>
References: <4AAEAFBB.90709@Gmail.com>
	 <c7d45fc70909141540n7cc7e755ibb8a25a360c7f8f3@mail.gmail.com>
	 <c9118d4c0909142321y1d4d725fo7e1509d62cb9ddb9@mail.gmail.com>
	 <c7d45fc70909150042x8e8eq259eeba593e7a890@mail.gmail.com>
	 <c9118d4c0909150728q57cfc3b0hb6ff983994028d07@mail.gmail.com>
Date: Tue, 15 Sep 2009 11:34:55 -0400
Message-ID: <cbbf4b570909150834r53050581n3ce21326f5b3c9fc@mail.gmail.com>
Subject: Re: HadoopDB and similar stuff
From: Edward Capriolo <edlinuxguru@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, Sep 15, 2009 at 10:28 AM, Jeff Hammerbacher <hammer@cloudera.com> w=
rote:
> Hey Ted,
> I don't want to derail this thread, but I would like to correct any
> misperceptions which may exist in the community.
>
> 1) HiveQL intends to include SQL as a subset of its syntax: see the VLDB
> paper for more (
> http://www.slideshare.net/namit_jain/hive-demo-paper-at-vldb-2009). As it
> stands today, a reasonable subset of SQL is already supported, and most
> users of MySQL, Oracle, or PostgreSQL will be able to work comfortably in
> Hive today.
>
> 2) There's a patch for SQL support in Pig:
> http://issues.apache.org/jira/browse/PIG-824.
>
> Every database implements a different dialect of SQL (e.g. express a Top =
K
> query in your favorite database and compare to the rest), and the Pig and
> HiveQL dialects are as valid as any other. If you disagree, I'd love to h=
ear
> your perspective on why these languages are "not SQL".
>
> Regards,
> Jeff
>
> On Tue, Sep 15, 2009 at 12:42 AM, Ted Dunning <ted.dunning@gmail.com> wro=
te:
>
>> uhhh... neither pig nor hive are really SQL. =A0Higher level of abstract=
ion
>> than pure MR, but not SQL.
>>
>> You are right to include Greenplum, though. =A0They slipped my mind, pro=
bably
>> because they don't have a google ad running everything 30 seconds like
>> Aster
>> does.
>>
>> On Mon, Sep 14, 2009 at 11:21 PM, Jeff Hammerbacher <hammer@cloudera.com
>> >wrote:
>>
>> > >
>> > > Do you want to tightly integrate SQL and map-reduce? =A0Asterdata ha=
s a
>> > > product that might help you.
>> > >
>> >
>> > As does Greenplum. You could also get this functionality from Pig or
>> Hive,
>> > which are Apache 2.0-licensed subprojects of Hadoop.
>>
>>
>>
>>
>> --
>> Ted Dunning, CTO
>> DeepDyve
>>
>

I notice we have mentioned greenplum and aster. I will speak to the
fact that I have never used either product, but I have spoken to some
sales reps over the years who are very helpful, I might add.

* caveat: I am not saying that my price information is accurate or current

But the major deal breaker at my old places of employment was always
cost. Per TB pricing was a major deal breaker for US. We wanted to
keep our data indefinitely but most reporting is month-over-month. So
having to keep all our data (that we don't really use that much after
two months) in a system that charges by TB was expensive and would
become more expensive as our data set grows.

In the solution space you get a lot of bank for your buck
(hadoop+hive) vs (TeraData, GreenPlum, Aster), as you know the price
of Hadoop+hive (0+0) plus hardware.

Hive is not 100% SQL, but I would say join the Hive user list and be
amazed. New types of joins, theta-join, etc have been added by user
request. Most of the time if you can't do something you would expect
to do in SQL there is a work around.

The flip side is true as well, Hive has specific support that other
databases don't :)

From common-user-return-17468-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 15:37:13 2009
Return-Path: <common-user-return-17468-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 33644 invoked from network); 15 Sep 2009 15:37:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 15:37:13 -0000
Received: (qmail 45481 invoked by uid 500); 15 Sep 2009 15:37:11 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 45410 invoked by uid 500); 15 Sep 2009 15:37:11 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 45400 invoked by uid 99); 15 Sep 2009 15:37:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 15:37:11 +0000
X-ASF-Spam-Status: No, hits=3.4 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.210.204] (HELO mail-yx0-f204.google.com) (209.85.210.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 15:36:58 +0000
Received: by yxe42 with SMTP id 42so5559785yxe.31
        for <common-user@hadoop.apache.org>; Tue, 15 Sep 2009 08:35:37 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.100.24.22 with SMTP id 22mr7688625anx.119.1253028937283; Tue, 
	15 Sep 2009 08:35:37 -0700 (PDT)
In-Reply-To: <4AAFA7AB.4090105@deri.org>
References: <4AAFA7AB.4090105@deri.org>
From: Todd Lipcon <todd@cloudera.com>
Date: Tue, 15 Sep 2009 08:35:17 -0700
Message-ID: <45f85f70909150835w4f2ab1f4r26ec8f6e3f9ef631@mail.gmail.com>
Subject: Re: Hadoop 0.20.1 (a big secret?)
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0016e6476578b339be04739f88da
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e6476578b339be04739f88da
Content-Type: text/plain; charset=ISO-8859-1

Hi Stephen,

There was an email thread about two weeks ago announcing the release
candidate and subsequent release.

Regarding Cloudera's version, the most recent one available for download is
based on 0.20.0, but we've included many of the bug fixes that are in
0.20.1. We're currently working on updating our patch series to include the
entirety of 0.20.1 and should have that out next week.

-Todd

On Tue, Sep 15, 2009 at 7:41 AM, stephen mulcahy
<stephen.mulcahy@deri.org>wrote:

> Howdy,
>
> I'm about to install a new hadoop cluster here and I'm wondering which
> Hadoop to install.
>
> Looking at http://hadoop.apache.org/common/releases.html suggests its
> either 0.19.2 or 0.20.0 but looking in
> http://ftp.heanet.ie/mirrors/www.apache.org/dist/hadoop/core/ I see 0.20.1
> has been sitting there since 01-Sep-2009.
>
> A quick google suggests Cloudera are going to base their next release on
> 0.20.1 so I'm taking this as an indication that 0.20.1 is ready for
> primetime.
>
> Did I miss the announcement on 0.20.1 or is there some reason why it's
> being kept quiet so far (if so, apologies for publicising it ;)?
>
> Thanks,
>
> -stephen
>
> --
> Stephen Mulcahy, DI2, Digital Enterprise Research Institute,
> NUI Galway, IDA Business Park, Lower Dangan, Galway, Ireland
> http://di2.deri.ie    http://webstar.deri.ie    http://sindice.com
>

--0016e6476578b339be04739f88da--

From common-user-return-17469-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 15:38:36 2009
Return-Path: <common-user-return-17469-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 33968 invoked from network); 15 Sep 2009 15:38:36 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 15:38:36 -0000
Received: (qmail 49641 invoked by uid 500); 15 Sep 2009 15:38:34 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 49567 invoked by uid 500); 15 Sep 2009 15:38:33 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 49557 invoked by uid 99); 15 Sep 2009 15:38:33 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 15:38:33 +0000
X-ASF-Spam-Status: No, hits=3.4 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.210.204] (HELO mail-yx0-f204.google.com) (209.85.210.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 15:38:22 +0000
Received: by yxe42 with SMTP id 42so5562463yxe.31
        for <common-user@hadoop.apache.org>; Tue, 15 Sep 2009 08:38:01 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.91.141.6 with SMTP id t6mr4697209agn.49.1253029081336; Tue, 15 
	Sep 2009 08:38:01 -0700 (PDT)
In-Reply-To: <77938bc20909150451v7b163206g4ca148ffcccf506e@mail.gmail.com>
References: <77938bc20909130301g22082bd4xed4cd9b3c9632699@mail.gmail.com> 
	<314098690909131938n4331541r5034ccb8cfcab679@mail.gmail.com> 
	<77938bc20909141150o5651b1ddjebb7110cca57e4ff@mail.gmail.com> 
	<77d4e5730909141226m563a5d9ema6a25b5826882771@mail.gmail.com> 
	<77938bc20909150451v7b163206g4ca148ffcccf506e@mail.gmail.com>
From: Todd Lipcon <todd@cloudera.com>
Date: Tue, 15 Sep 2009 08:37:41 -0700
Message-ID: <45f85f70909150837r21f22303h448a4fc16fcc43bd@mail.gmail.com>
Subject: Re: Multiple disks for DFS
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0016e6470eec494da404739f9144
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e6470eec494da404739f9144
Content-Type: text/plain; charset=ISO-8859-1

Hi Stas,

Look at the LocalDirAllocator class. It's not really meant for public
consumption, so its API might break in future releases, but that's the class
that the hadoop daemons use for round robin behavior.

-Todd

On Tue, Sep 15, 2009 at 4:51 AM, Stas Oskin <stas.oskin@gmail.com> wrote:

> Hi.
>
> Thanks for the advice, but I actually asked, if I can use the DFS local
> files (where the file is written locally, and not to DFS), with the
> round-robin mechanism, for my own needs.
>
> Regards.
>
> 2009/9/14 Dali Kilani <dali.kilani@gmail.com>
>
> > Just specify multiple directories (where the different local partitions
> are
> > mounted) for dfs.data.dir (hdfs data) and mapred.local.dir (intermediate
> > data) in hdfs-site.xml.Data should then be striped across the different
> > partitions/disks.
> >
> > See here : http://bit.ly/fbUkr
> >
> > Dali
> >
> > On Mon, Sep 14, 2009 at 11:50 AM, Stas Oskin <stas.oskin@gmail.com>
> wrote:
> >
> > > Hi.
> > >
> > > Thanks for the explanation.
> > >
> > > Any idea if I can re-use this round robin mechanism for local disk
> > writing?
> > >
> > > Or it's DFS only?
> > >
> > > Regards.
> > >
> > > 2009/9/14 Jason Venner <jason.hadoop@gmail.com>
> > >
> > > > When you have multiple partitions specified for hdfs storage, they
> are
> > > used
> > > > for block storage in a round robin fashion.
> > > > If a partition has insufficient space it is dropped for the set used
> > for
> > > > storing new blocks.
> > > >
> > > > On Sun, Sep 13, 2009 at 3:01 AM, Stas Oskin <stas.oskin@gmail.com>
> > > wrote:
> > > >
> > > > > Hi.
> > > > >
> > > > > When I specify multiple disks for DFS, does Hadoop distributes the
> > > > > concurrent writings over the multiple disks?
> > > > >
> > > > > I mean, to prevent an utilization of a single disk?
> > > > >
> > > > > Thanks for any info on subject.
> > > > >
> > > >
> > > >
> > > >
> > > > --
> > > > Pro Hadoop, a book to guide you from beginner to hadoop mastery,
> > > > http://www.amazon.com/dp/1430219424?tag=jewlerymall
> > > > www.prohadoopbook.com a community for Hadoop Professionals
> > > >
> > >
> >
> >
> >
> > --
> > Dali Kilani
> > ===========
> > Phone :  (650) 492-5921 (Google Voice)
> > E-Fax  :  (775) 552-2982
> >
>

--0016e6470eec494da404739f9144--

From common-user-return-17470-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 15:44:57 2009
Return-Path: <common-user-return-17470-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 36320 invoked from network); 15 Sep 2009 15:44:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 15:44:57 -0000
Received: (qmail 64760 invoked by uid 500); 15 Sep 2009 15:44:54 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 64684 invoked by uid 500); 15 Sep 2009 15:44:54 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 64674 invoked by uid 99); 15 Sep 2009 15:44:54 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 15:44:54 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of edlinuxguru@gmail.com designates 209.85.218.214 as permitted sender)
Received: from [209.85.218.214] (HELO mail-bw0-f214.google.com) (209.85.218.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 15:44:42 +0000
Received: by bwz10 with SMTP id 10so3014286bwz.29
        for <common-user@hadoop.apache.org>; Tue, 15 Sep 2009 08:44:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=3Oq66qQKOHxDJGIYKHfd+8P2sG2ohCJge9M1PG+99ZM=;
        b=n8r8rvPpGYKbarR8W/a4a6vqifzav2juWdQSu8d3qmvNsMY8bOI5/LF4dQAiaJfpGj
         WW/zQvLUofgNjsWzjfbDjpJp1+FAdVKC1LjSuo7vapkpldjV2HAZoJCU8XKuKLsh4pEe
         U+V2trpeqJxtbbzqGr83Sgpucrw6+ZwjwZyPw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=mB8CYQEWTe9QIcDJoLcyr0Fu1cjfZ7GRDOp6QtaPbN9Bt3qK93PnjeeN7xj2zStsP5
         C9e1538tTR8/vZ3n3eA5eN2U/7isL7VSAVsQGQitRtLIBCWZiAUqCJuEJNEUqU5XVYXr
         qRiu+cmwC/rnBhhs6qKm9yRfaVtXnjMyJeypo=
MIME-Version: 1.0
Received: by 10.239.184.157 with SMTP id y29mr651984hbg.54.1253029461432; Tue, 
	15 Sep 2009 08:44:21 -0700 (PDT)
In-Reply-To: <45f85f70909150835w4f2ab1f4r26ec8f6e3f9ef631@mail.gmail.com>
References: <4AAFA7AB.4090105@deri.org>
	 <45f85f70909150835w4f2ab1f4r26ec8f6e3f9ef631@mail.gmail.com>
Date: Tue, 15 Sep 2009 11:44:21 -0400
Message-ID: <cbbf4b570909150844x262c2fa2x9199e706f26ac781@mail.gmail.com>
Subject: Re: Hadoop 0.20.1 (a big secret?)
From: Edward Capriolo <edlinuxguru@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, Sep 15, 2009 at 11:35 AM, Todd Lipcon <todd@cloudera.com> wrote:
> Hi Stephen,
>
> There was an email thread about two weeks ago announcing the release
> candidate and subsequent release.
>
> Regarding Cloudera's version, the most recent one available for download =
is
> based on 0.20.0, but we've included many of the bug fixes that are in
> 0.20.1. We're currently working on updating our patch series to include t=
he
> entirety of 0.20.1 and should have that out next week.
>
> -Todd
>
> On Tue, Sep 15, 2009 at 7:41 AM, stephen mulcahy
> <stephen.mulcahy@deri.org>wrote:
>
>> Howdy,
>>
>> I'm about to install a new hadoop cluster here and I'm wondering which
>> Hadoop to install.
>>
>> Looking at http://hadoop.apache.org/common/releases.html suggests its
>> either 0.19.2 or 0.20.0 but looking in
>> http://ftp.heanet.ie/mirrors/www.apache.org/dist/hadoop/core/ I see 0.20=
.1
>> has been sitting there since 01-Sep-2009.
>>
>> A quick google suggests Cloudera are going to base their next release on
>> 0.20.1 so I'm taking this as an indication that 0.20.1 is ready for
>> primetime.
>>
>> Did I miss the announcement on 0.20.1 or is there some reason why it's
>> being kept quiet so far (if so, apologies for publicising it ;)?
>>
>> Thanks,
>>
>> -stephen
>>
>> --
>> Stephen Mulcahy, DI2, Digital Enterprise Research Institute,
>> NUI Galway, IDA Business Park, Lower Dangan, Galway, Ireland
>> http://di2.deri.ie =A0 =A0http://webstar.deri.ie =A0 =A0http://sindice.c=
om
>>
>
Stephen,

Hadoop has branches and for the most part, major.minor.release
versioning.  If you look at the svn-trunk you are always going to be
latest branch. At the current moment stable points to 18.X.

It seems the trend community is really trying to come together around 20.

Here is some quick notes:

Hadoop updgrade is easy.
Downgrade between majors can be a major pita.

I would suggest playing with the technology for a while and get a feel
for the version that is best for you.

From common-user-return-17471-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 16:04:09 2009
Return-Path: <common-user-return-17471-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 44271 invoked from network); 15 Sep 2009 16:04:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 16:04:09 -0000
Received: (qmail 8133 invoked by uid 500); 15 Sep 2009 16:04:07 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 8074 invoked by uid 500); 15 Sep 2009 16:04:06 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 8064 invoked by uid 99); 15 Sep 2009 16:04:06 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 16:04:06 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ted.dunning@gmail.com designates 209.85.210.204 as permitted sender)
Received: from [209.85.210.204] (HELO mail-yx0-f204.google.com) (209.85.210.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 16:03:57 +0000
Received: by yxe42 with SMTP id 42so5591803yxe.31
        for <common-user@hadoop.apache.org>; Tue, 15 Sep 2009 09:03:36 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=xKQgMgP9ZDA7nUOyVunI3j6Rugnfot6PNGIhgyhijwQ=;
        b=DI6jWWawd6Bnt2wLtM7KNunkzL/EMnXMjTqIQiCJLlGsfVuQTlcNy3GzOA+75qzRDw
         nCoU0xz/NI3fY6MyO/mPq/dsVjEfA3cbzxNs5y2AoAZ1Ycw1SofVjWxuAqmjBkzMH/LV
         wS/cX0Y2xxEsXfS6S41UW0ed9tpx56hs/I3SU=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=M422LIdZsyB+eP2vR1F/XjVBSAxoRBOa2rlGIOvlUGljKDgrWWUWFr0Y9xp2W4QUqp
         k0OrJAj10A9MJYfQMexK1pgkIOmyG/HL1/kTFMAnL43UWJ5TDD4ABxm4N9v2eWDkrpAq
         NudaurAIdQIqW+Bx/M9sR9LzE58GJtl/U2zQk=
MIME-Version: 1.0
Received: by 10.150.132.11 with SMTP id f11mr10978251ybd.280.1253030616076; 
	Tue, 15 Sep 2009 09:03:36 -0700 (PDT)
In-Reply-To: <77938bc20909150451v7b163206g4ca148ffcccf506e@mail.gmail.com>
References: <77938bc20909130301g22082bd4xed4cd9b3c9632699@mail.gmail.com> 
	<314098690909131938n4331541r5034ccb8cfcab679@mail.gmail.com> 
	<77938bc20909141150o5651b1ddjebb7110cca57e4ff@mail.gmail.com> 
	<77d4e5730909141226m563a5d9ema6a25b5826882771@mail.gmail.com> 
	<77938bc20909150451v7b163206g4ca148ffcccf506e@mail.gmail.com>
From: Ted Dunning <ted.dunning@gmail.com>
Date: Tue, 15 Sep 2009 09:03:16 -0700
Message-ID: <c7d45fc70909150903wb6f764fu34bcae671e3cc255@mail.gmail.com>
Subject: Re: Multiple disks for DFS
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=000e0cd4866cc393c804739fecf0
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd4866cc393c804739fecf0
Content-Type: text/plain; charset=UTF-8

I think that the question confused people.  This is open-source, after all,
so you can use the code any way you like.  It sounds like you are asking
permission to use the code which you, of course, already have.

On Tue, Sep 15, 2009 at 4:51 AM, Stas Oskin <stas.oskin@gmail.com> wrote:

>  ... I actually asked, if I can use the DFS local
> files (where the file is written locally, and not to DFS), with the
> round-robin mechanism, for my own needs.
>



-- 
Ted Dunning, CTO
DeepDyve

--000e0cd4866cc393c804739fecf0--

From common-user-return-17472-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 16:20:29 2009
Return-Path: <common-user-return-17472-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 49798 invoked from network); 15 Sep 2009 16:20:29 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 16:20:29 -0000
Received: (qmail 38446 invoked by uid 500); 15 Sep 2009 16:20:26 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 38361 invoked by uid 500); 15 Sep 2009 16:20:26 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 38351 invoked by uid 99); 15 Sep 2009 16:20:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 16:20:26 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ted.dunning@gmail.com designates 209.85.210.204 as permitted sender)
Received: from [209.85.210.204] (HELO mail-yx0-f204.google.com) (209.85.210.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 16:20:15 +0000
Received: by yxe42 with SMTP id 42so5610629yxe.31
        for <common-user@hadoop.apache.org>; Tue, 15 Sep 2009 09:19:54 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=pTJ6jXiqLUv6/Xtj9MXUIIrK3godW7Erf6Dq8oETLUE=;
        b=uu6JiWt2MAkqV10oXuoQqKNZI02WiFz10m4FmMmxEh3L1ZW87SYiprs4RVS8r5cAPi
         GrN3iusHZvTy51cFWI5SWgRogid2nIgDB0ISLrU2u6YvmsKpPNRxAh0aRSfH46T1bPFp
         948fe1q2J0xCRtsNM6BMubGxzInnWx5ZStm6I=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=GAODOWo4AKK5eOAbMH7g2/jCr6yd/ukYmnn3dU1PWxFlobzgaUKLvMhPlwZZ8KDwZt
         cMWKXm2T9nl/N0QdZVj2e9gduBe14LjNzOcvWLhYVbltmWW23WP0EYZ9/AG762g++uAP
         yXgfY1BJx27P0lZasR+7wwLuvpT8F2FGtE+ck=
MIME-Version: 1.0
Received: by 10.150.48.42 with SMTP id v42mr12738929ybv.65.1253031594078; Tue, 
	15 Sep 2009 09:19:54 -0700 (PDT)
In-Reply-To: <c9118d4c0909150728q57cfc3b0hb6ff983994028d07@mail.gmail.com>
References: <4AAEAFBB.90709@Gmail.com> <c7d45fc70909141540n7cc7e755ibb8a25a360c7f8f3@mail.gmail.com> 
	<c9118d4c0909142321y1d4d725fo7e1509d62cb9ddb9@mail.gmail.com> 
	<c7d45fc70909150042x8e8eq259eeba593e7a890@mail.gmail.com> 
	<c9118d4c0909150728q57cfc3b0hb6ff983994028d07@mail.gmail.com>
From: Ted Dunning <ted.dunning@gmail.com>
Date: Tue, 15 Sep 2009 09:19:34 -0700
Message-ID: <c7d45fc70909150919k70364e60o932a301b4aeec262@mail.gmail.com>
Subject: Re: HadoopDB and similar stuff
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=000e0cd70da80eb30b0473a027cb
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd70da80eb30b0473a027cb
Content-Type: text/plain; charset=UTF-8

On Tue, Sep 15, 2009 at 7:28 AM, Jeff Hammerbacher <hammer@cloudera.com>wrote:

> ... I would like to correct any
> misperceptions which may exist in the community.
>
> 1) HiveQL intends to include SQL as a subset of its syntax: see the VLDB
> paper for more (
> http://www.slideshare.net/namit_jain/hive-demo-paper-at-vldb-2009). As it
> stands today, a reasonable subset of SQL is already supported, and most
> users of MySQL, Oracle, or PostgreSQL will be able to work comfortably in
> Hive today.
>

Note the key word "intends".  That indicates future tense.

As you say, it is a reasonable subset.  I don't know the I am sure that
there are wide swaths of SQL semantics that are not implemented.
Transactions, rollback, fancy outer joins, exactly correct syntax for null,
row updates and deletions are areas that I would expect deficiencies
relative to SQL.  Conversely, I doubt that there are many Hive programs that
could run without major alterations on conventional SQL engines.

The result is that HiveQL != SQL.  It is more correct to say HiveQL =kinda=
SQL.

2) There's a patch for SQL support in Pig:
> http://issues.apache.org/jira/browse/PIG-824.
>

More future tense.  This is hardly part of Pig at this point.  I expect that
this will come closer to SQL than the current HiveQL, but it is likely to
not have key semantic properties due to the properties of the substrate and
also have some important additions.

Every database implements a different dialect of SQL (e.g. express a Top K
> query in your favorite database and compare to the rest), and the Pig and
> HiveQL dialects are as valid as any other.


This level of cultural relativism is a bit disingenuous.  My point is that
you are setting up unreasonable expectations.  MR based systems are
inherently very different from traditional databases (which is, of course,
the POINT of having MR).  SQL is very strongly tied to the underlying row
update and transactional semantics of traditional databases.

I am NOT saying that Hive and Pig are not useful.  For many things, I prefer
them to SQL-based systems.  I am just saying that they are different
animals.

I am also NOT saying that Hive and Pig aren't a good way for SQL based
programmers to transition to map-reduce.  I am just saying that you should
tell people that Hive and Pig are similar to SQL so you don't have their
heads explode when they realize that it isn't really SQL.

Remember that many, many people claimed that myIsam tables are not really
SQL.  Hive is a darned site further from SQL than that.

--000e0cd70da80eb30b0473a027cb--

From common-user-return-17473-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 16:22:09 2009
Return-Path: <common-user-return-17473-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 51068 invoked from network); 15 Sep 2009 16:22:09 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 16:22:09 -0000
Received: (qmail 44645 invoked by uid 500); 15 Sep 2009 16:22:06 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 44554 invoked by uid 500); 15 Sep 2009 16:22:06 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 44544 invoked by uid 99); 15 Sep 2009 16:22:06 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 16:22:06 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of cubicdesign@gmail.com designates 209.85.219.208 as permitted sender)
Received: from [209.85.219.208] (HELO mail-ew0-f208.google.com) (209.85.219.208)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 16:21:56 +0000
Received: by ewy4 with SMTP id 4so4230743ewy.36
        for <common-user@hadoop.apache.org>; Tue, 15 Sep 2009 09:20:35 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:message-id:date:from
         :user-agent:mime-version:to:subject:references:in-reply-to
         :content-type;
        bh=j1bQTDYCrKZ9jyd/kDTnIRbbNOnWR8Uw0Q8LSoPok/g=;
        b=tgsbv6f95hl4FvSMBW/XlRx6Jo2CbRSYiNj4K2BwZSrYP/6RQLJ51/qqo0Y3WG9H+E
         iQq9cLAIm7EanxYmEDLI7762Ee1/yf2ejpyG4qZ1masezfpH3tIziRSFBZJcEzq3BAW3
         b0q0X1xUtaEkAF5pmb3o4dA6bJ5NaYIsdhb5o=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type;
        b=ngmDnIH08q9+wiG48fqLrI2HHZpNVqKnnG26+Bgjcv0F3zSWORiGE9HoRMH2uFrrul
         gWPMMVBmJcggyXeLG9/y7vEN9F172ME1lF0dJuVxemTx7UA307rg+lfxfZ0/bkaKlMuT
         JZHRJaq4GBp+m+/LhfpgFs741M/64w4JTCb40=
Received: by 10.211.144.9 with SMTP id w9mr1071007ebn.45.1253031635692;
        Tue, 15 Sep 2009 09:20:35 -0700 (PDT)
Received: from ?192.168.220.104? (host-091-097-243-155.ewe-ip-backbone.de [91.97.243.155])
        by mx.google.com with ESMTPS id 10sm7931322eyz.18.2009.09.15.09.20.34
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Tue, 15 Sep 2009 09:20:34 -0700 (PDT)
Message-ID: <4AAFBED1.4030908@Gmail.com>
Date: Tue, 15 Sep 2009 18:20:33 +0200
From: CubicDesign <cubicdesign@gmail.com>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: common-user@hadoop.apache.org
Subject: Re: Hadoop 0.20.1 (a big secret?)
References: <4AAFA7AB.4090105@deri.org> <45f85f70909150835w4f2ab1f4r26ec8f6e3f9ef631@mail.gmail.com>
In-Reply-To: <45f85f70909150835w4f2ab1f4r26ec8f6e3f9ef631@mail.gmail.com>
Content-Type: multipart/alternative;
 boundary="------------090909090805040705030509"
X-Virus-Checked: Checked by ClamAV on apache.org

--------------090909090805040705030509
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit

> We're currently working on updating our patch series to include the
entirety of 0.20.1 and should have that out next week.


Hi.

Do you think that 0.20.1 will be the next stable version (like 0.18.3?)
We will install Hadoop in a cluster soon (maybe this week). Which 
version do you recommend?

Regards
B.






--------------090909090805040705030509--

From common-user-return-17474-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 16:24:11 2009
Return-Path: <common-user-return-17474-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 51643 invoked from network); 15 Sep 2009 16:24:11 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 16:24:11 -0000
Received: (qmail 47988 invoked by uid 500); 15 Sep 2009 16:24:09 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 47907 invoked by uid 500); 15 Sep 2009 16:24:09 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 47894 invoked by uid 99); 15 Sep 2009 16:24:09 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 16:24:09 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ted.dunning@gmail.com designates 209.85.211.198 as permitted sender)
Received: from [209.85.211.198] (HELO mail-yw0-f198.google.com) (209.85.211.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 16:23:59 +0000
Received: by ywh36 with SMTP id 36so6382639ywh.21
        for <common-user@hadoop.apache.org>; Tue, 15 Sep 2009 09:23:38 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=nxzOpERUxKNyqZmOsi5hNgqDLy+D4hz3esPZ02Ek+5Q=;
        b=b6aAGGiyN6OfreLq+u34pV2aRHNSRywO0y9P5e0JxqmKFonUxWzzttT3BrMLHqKBcn
         32gvEb2OBoxalqifGmV5bCEQwZl8sIPLDoztUg/C/4TcliY0FEjQNkkhwLnlNgLmJyI6
         zhEuPgKQXhlYfrZd8fDuDh32NYV7ruku0NL+k=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=SSc3BviPJYHpJs4yvpYetfgIfFZ4XSyNONr6WdmqHb54ZXx3jclpoOxob6JV1l+1KX
         oREd6treGC6KiLsB4JyYPasxv9PdBKafFqESS6eAWF3Be3dbaT5K7txzXOOsmOUwD0Ae
         HPc2T7L9aZ6GkOWxbnbainxhh0OXlmgpnnOOs=
MIME-Version: 1.0
Received: by 10.150.132.11 with SMTP id f11mr11010876ybd.280.1253031817145; 
	Tue, 15 Sep 2009 09:23:37 -0700 (PDT)
In-Reply-To: <cbbf4b570909150834r53050581n3ce21326f5b3c9fc@mail.gmail.com>
References: <4AAEAFBB.90709@Gmail.com> <c7d45fc70909141540n7cc7e755ibb8a25a360c7f8f3@mail.gmail.com> 
	<c9118d4c0909142321y1d4d725fo7e1509d62cb9ddb9@mail.gmail.com> 
	<c7d45fc70909150042x8e8eq259eeba593e7a890@mail.gmail.com> 
	<c9118d4c0909150728q57cfc3b0hb6ff983994028d07@mail.gmail.com> 
	<cbbf4b570909150834r53050581n3ce21326f5b3c9fc@mail.gmail.com>
From: Ted Dunning <ted.dunning@gmail.com>
Date: Tue, 15 Sep 2009 09:23:17 -0700
Message-ID: <c7d45fc70909150923g107f1102l14bb28d10247eb4c@mail.gmail.com>
Subject: Re: HadoopDB and similar stuff
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=000e0cd4866c5a6d710473a03472
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd4866c5a6d710473a03472
Content-Type: text/plain; charset=UTF-8

I don't need to be amazed.  I am a strong proponent of map-reduce.  People
forget, but I bought the beer at the first Hadoop summit at Gordon Biersch.

I just don't think that selling Hive or Pig as SQL is fair to the buyer or
the seller.  They aren't the same and have very different virtues.

On Tue, Sep 15, 2009 at 8:34 AM, Edward Capriolo <edlinuxguru@gmail.com>wrote:

> Hive is not 100% SQL, but I would say join the Hive user list and be
> amazed. New types of joins, theta-join, etc have been added by user
> request. Most of the time if you can't do something you would expect
> to do in SQL there is a work around.
>
> The flip side is true as well, Hive has specific support that other
> databases don't :)
>



-- 
Ted Dunning, CTO
DeepDyve

--000e0cd4866c5a6d710473a03472--

From common-user-return-17475-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 16:38:40 2009
Return-Path: <common-user-return-17475-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 56723 invoked from network); 15 Sep 2009 16:38:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 16:38:40 -0000
Received: (qmail 74069 invoked by uid 500); 15 Sep 2009 16:38:37 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 73992 invoked by uid 500); 15 Sep 2009 16:38:37 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 73982 invoked by uid 99); 15 Sep 2009 16:38:37 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 16:38:37 +0000
X-ASF-Spam-Status: No, hits=3.4 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.211.198] (HELO mail-yw0-f198.google.com) (209.85.211.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 16:38:28 +0000
Received: by ywh36 with SMTP id 36so6400983ywh.21
        for <common-user@hadoop.apache.org>; Tue, 15 Sep 2009 09:37:07 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.91.205.11 with SMTP id h11mr4698665agq.101.1253032627194; Tue, 
	15 Sep 2009 09:37:07 -0700 (PDT)
In-Reply-To: <4AAFBED1.4030908@Gmail.com>
References: <4AAFA7AB.4090105@deri.org> <45f85f70909150835w4f2ab1f4r26ec8f6e3f9ef631@mail.gmail.com> 
	<4AAFBED1.4030908@Gmail.com>
From: Todd Lipcon <todd@cloudera.com>
Date: Tue, 15 Sep 2009 09:36:47 -0700
Message-ID: <45f85f70909150936j3c535fbex7880bf1f4aadcd6c@mail.gmail.com>
Subject: Re: Hadoop 0.20.1 (a big secret?)
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0016e6461666a2cc910473a064bd
X-Virus-Checked: Checked by ClamAV on apache.org

--0016e6461666a2cc910473a064bd
Content-Type: text/plain; charset=ISO-8859-1

On Tue, Sep 15, 2009 at 9:20 AM, CubicDesign <cubicdesign@gmail.com> wrote:

>  We're currently working on updating our patch series to include the
>>
> entirety of 0.20.1 and should have that out next week.
>
>
> Hi.
>
> Do you think that 0.20.1 will be the next stable version (like 0.18.3?)
> We will install Hadoop in a cluster soon (maybe this week). Which version
> do you recommend?
>
>
For new clusters we recommend the 0.20 branch. There will probably be some
more point releases beyond 0.20.1 down the road, but I would classify 0.20
as stable enough for production clusters at this point. There may be
slightly more problems than 0.18.3, but I don't know of any commonly
occurring issues that are unfixed.

-Todd

--0016e6461666a2cc910473a064bd--

From common-user-return-17476-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 16:55:27 2009
Return-Path: <common-user-return-17476-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 62058 invoked from network); 15 Sep 2009 16:55:26 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 16:55:26 -0000
Received: (qmail 95912 invoked by uid 500); 15 Sep 2009 16:55:24 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 95828 invoked by uid 500); 15 Sep 2009 16:55:24 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 95817 invoked by uid 99); 15 Sep 2009 16:55:24 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 16:55:24 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of stas.oskin@gmail.com designates 209.85.220.218 as permitted sender)
Received: from [209.85.220.218] (HELO mail-fx0-f218.google.com) (209.85.220.218)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 16:55:13 +0000
Received: by fxm18 with SMTP id 18so3088021fxm.29
        for <common-user@hadoop.apache.org>; Tue, 15 Sep 2009 09:54:52 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=JrKQGSyibTQ2c4C2XKebRSt/EcPfI0mRPW7L4tnKxr4=;
        b=VHfaqak1fqbeo6n8WOa8R4x1M81s/r7LmpJ/1e3/JvKz+oR1+EMRNfaYmSWBMxo6hz
         gu5lXn76E14aWYSNhdMPvjR0pR+y3RjDlhtOQrS46YlPZf1aMRopOeaVZ58TtRM5Lqw8
         OHWdTQkMgY+dNeJo27QbwcYzbL3mR1uEg6J30=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=Ua0oJLIqECPXlYt0EZvbsK4HSXW7uAlvVfuJKwdy3EDqQj6JwihR1uXFW2xF4DtHzS
         DmFT1/Drj59U4SvbMDLBF6CB/t5Zzdfbv+5p+EHRA/9vHSsVLbz7/KqqC1MyqTTw4JOP
         R7kgkEUOpUua8Rdi7bQjSSAGvAuaDOwkpmeW4=
MIME-Version: 1.0
Received: by 10.223.81.65 with SMTP id w1mr2810261fak.46.1253033692591; Tue, 
	15 Sep 2009 09:54:52 -0700 (PDT)
In-Reply-To: <45f85f70909150837r21f22303h448a4fc16fcc43bd@mail.gmail.com>
References: <77938bc20909130301g22082bd4xed4cd9b3c9632699@mail.gmail.com>
	 <314098690909131938n4331541r5034ccb8cfcab679@mail.gmail.com>
	 <77938bc20909141150o5651b1ddjebb7110cca57e4ff@mail.gmail.com>
	 <77d4e5730909141226m563a5d9ema6a25b5826882771@mail.gmail.com>
	 <77938bc20909150451v7b163206g4ca148ffcccf506e@mail.gmail.com>
	 <45f85f70909150837r21f22303h448a4fc16fcc43bd@mail.gmail.com>
Date: Tue, 15 Sep 2009 19:54:52 +0300
Message-ID: <77938bc20909150954ia8bef84q10e3ebd64c35e5a7@mail.gmail.com>
Subject: Re: Multiple disks for DFS
From: Stas Oskin <stas.oskin@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=001517447dc62376c40473a0a46f
X-Virus-Checked: Checked by ClamAV on apache.org

--001517447dc62376c40473a0a46f
Content-Type: text/plain; charset=ISO-8859-1

Hi Todd.

Thanks, that's exactly what I looked for.

Regards.

2009/9/15 Todd Lipcon <todd@cloudera.com>

> Hi Stas,
>
> Look at the LocalDirAllocator class. It's not really meant for public
> consumption, so its API might break in future releases, but that's the
> class
> that the hadoop daemons use for round robin behavior.
>
> -Todd
>
> On Tue, Sep 15, 2009 at 4:51 AM, Stas Oskin <stas.oskin@gmail.com> wrote:
>
> > Hi.
> >
> > Thanks for the advice, but I actually asked, if I can use the DFS local
> > files (where the file is written locally, and not to DFS), with the
> > round-robin mechanism, for my own needs.
> >
> > Regards.
> >
> > 2009/9/14 Dali Kilani <dali.kilani@gmail.com>
> >
> > > Just specify multiple directories (where the different local partitions
> > are
> > > mounted) for dfs.data.dir (hdfs data) and mapred.local.dir
> (intermediate
> > > data) in hdfs-site.xml.Data should then be striped across the different
> > > partitions/disks.
> > >
> > > See here : http://bit.ly/fbUkr
> > >
> > > Dali
> > >
> > > On Mon, Sep 14, 2009 at 11:50 AM, Stas Oskin <stas.oskin@gmail.com>
> > wrote:
> > >
> > > > Hi.
> > > >
> > > > Thanks for the explanation.
> > > >
> > > > Any idea if I can re-use this round robin mechanism for local disk
> > > writing?
> > > >
> > > > Or it's DFS only?
> > > >
> > > > Regards.
> > > >
> > > > 2009/9/14 Jason Venner <jason.hadoop@gmail.com>
> > > >
> > > > > When you have multiple partitions specified for hdfs storage, they
> > are
> > > > used
> > > > > for block storage in a round robin fashion.
> > > > > If a partition has insufficient space it is dropped for the set
> used
> > > for
> > > > > storing new blocks.
> > > > >
> > > > > On Sun, Sep 13, 2009 at 3:01 AM, Stas Oskin <stas.oskin@gmail.com>
> > > > wrote:
> > > > >
> > > > > > Hi.
> > > > > >
> > > > > > When I specify multiple disks for DFS, does Hadoop distributes
> the
> > > > > > concurrent writings over the multiple disks?
> > > > > >
> > > > > > I mean, to prevent an utilization of a single disk?
> > > > > >
> > > > > > Thanks for any info on subject.
> > > > > >
> > > > >
> > > > >
> > > > >
> > > > > --
> > > > > Pro Hadoop, a book to guide you from beginner to hadoop mastery,
> > > > > http://www.amazon.com/dp/1430219424?tag=jewlerymall
> > > > > www.prohadoopbook.com a community for Hadoop Professionals
> > > > >
> > > >
> > >
> > >
> > >
> > > --
> > > Dali Kilani
> > > ===========
> > > Phone :  (650) 492-5921 (Google Voice)
> > > E-Fax  :  (775) 552-2982
> > >
> >
>

--001517447dc62376c40473a0a46f--

From common-user-return-17477-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 17:11:42 2009
Return-Path: <common-user-return-17477-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 68106 invoked from network); 15 Sep 2009 17:11:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 17:11:42 -0000
Received: (qmail 23934 invoked by uid 500); 15 Sep 2009 17:11:40 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 23856 invoked by uid 500); 15 Sep 2009 17:11:40 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 23846 invoked by uid 99); 15 Sep 2009 17:11:40 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 17:11:40 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of cubicdesign@gmail.com designates 209.85.219.208 as permitted sender)
Received: from [209.85.219.208] (HELO mail-ew0-f208.google.com) (209.85.219.208)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 17:11:29 +0000
Received: by ewy4 with SMTP id 4so4276057ewy.36
        for <common-user@hadoop.apache.org>; Tue, 15 Sep 2009 10:10:09 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:message-id:date:from
         :user-agent:mime-version:to:subject:references:in-reply-to
         :content-type;
        bh=LnyBZTuviPjQTXlBDS1u/FrGByjK4beHhUd8GjSB0Tw=;
        b=xkwv4H/2yTBTyqKTHLBQUg1Yoy/UGCtknFCL9HnraHERg8hjhGYmIE2MwyvlavWzDl
         GLa0jOSJ5uJj8wFpJ0gKIi17fd5pyPOx/lPCgJitfVM3vBpvhq75rilne6f3ZL99b4RS
         2DaBJR9p/7tUPtTZBTtgVhDEb/tLzqKVqkZ9I=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type;
        b=ps5l5/Z89coUzNM8jbqgIBMiJ0hMUHJs4Ttmab1t7bZlreYvrGRdXTaZmJ7krHiWu0
         s3fewI8IlQh5+S6JECu+UsDbMrEdo/CTwTpaZ37ZjVqdbnQqgOyIVKBrDayNToLcwSSi
         nYJBg0tpk4sqbyYE8mnBBFmDQufo6x9CDDjRA=
Received: by 10.211.154.17 with SMTP id g17mr1101922ebo.32.1253034609391;
        Tue, 15 Sep 2009 10:10:09 -0700 (PDT)
Received: from ?192.168.220.104? (host-091-097-243-155.ewe-ip-backbone.de [91.97.243.155])
        by mx.google.com with ESMTPS id 28sm6705794eyg.12.2009.09.15.10.10.08
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Tue, 15 Sep 2009 10:10:08 -0700 (PDT)
Message-ID: <4AAFCA6F.5050808@Gmail.com>
Date: Tue, 15 Sep 2009 19:10:07 +0200
From: CubicDesign <cubicdesign@gmail.com>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: common-user@hadoop.apache.org
Subject: Re: Hadoop 0.20.1 (a big secret?)
References: <4AAFA7AB.4090105@deri.org> <45f85f70909150835w4f2ab1f4r26ec8f6e3f9ef631@mail.gmail.com> 	<4AAFBED1.4030908@Gmail.com> <45f85f70909150936j3c535fbex7880bf1f4aadcd6c@mail.gmail.com>
In-Reply-To: <45f85f70909150936j3c535fbex7880bf1f4aadcd6c@mail.gmail.com>
Content-Type: multipart/alternative;
 boundary="------------040507090604030503050906"
X-Virus-Checked: Checked by ClamAV on apache.org

--------------040507090604030503050906
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit


> For new clusters we recommend the 0.20 branch. There will probably be some
> more point releases beyond 0.20.1 down the road, but I would classify 0.20
> as stable enough for production clusters at this point. There may be
> slightly more problems than 0.18.3, but I don't know of any commonly
> occurring issues that are unfixed.
>   

Thanks.

--------------040507090604030503050906--

From common-user-return-17478-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 17:16:53 2009
Return-Path: <common-user-return-17478-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 70801 invoked from network); 15 Sep 2009 17:16:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 17:16:53 -0000
Received: (qmail 31529 invoked by uid 500); 15 Sep 2009 17:16:51 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 31443 invoked by uid 500); 15 Sep 2009 17:16:51 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 31424 invoked by uid 99); 15 Sep 2009 17:16:50 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 17:16:50 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of cubicdesign@gmail.com designates 74.125.78.27 as permitted sender)
Received: from [74.125.78.27] (HELO ey-out-2122.google.com) (74.125.78.27)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 17:16:39 +0000
Received: by ey-out-2122.google.com with SMTP id 22so776874eye.23
        for <common-user@hadoop.apache.org>; Tue, 15 Sep 2009 10:16:19 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:received:received:message-id:date:from
         :user-agent:mime-version:to:subject:references:in-reply-to
         :content-type;
        bh=BVKJu8SM5shIkpHZHLgP0uLlRAUl0hGn4ltvMJgytMc=;
        b=WDewMcb7hU0zf1kiSbU+14du6vb/13fXCJt8K4iAbEm8u4k+17/uRYEfyU45lYTHx9
         P8CQnO6OEXbjApX/wb5wdfSTLpBVA7iKriuTiTHAkclJHIDIZO7Oj8ZMCSHpJwgG135P
         0pst53d+WTE994ZUwXVJuCYtiljLg34gdFA0M=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=message-id:date:from:user-agent:mime-version:to:subject:references
         :in-reply-to:content-type;
        b=Oq6vGdswIgVhR0duNsrdppJhiK408sYMMZC/1YKAjx2jTZscIgNr5brG3Tl2b/z1aS
         ugxmvm/vqMCJx+qpM8EWEFkzn9oI/0TniDkiESV41azibpoZybYPxHloZqWsQaJJGFGk
         FOX9mvfdyaBzEUteWqmKrUsbUGil8wi+QpxJU=
Received: by 10.211.171.12 with SMTP id y12mr1154272ebo.51.1253034979137;
        Tue, 15 Sep 2009 10:16:19 -0700 (PDT)
Received: from ?192.168.220.104? (host-091-097-243-155.ewe-ip-backbone.de [91.97.243.155])
        by mx.google.com with ESMTPS id 10sm983348eyd.14.2009.09.15.10.16.18
        (version=TLSv1/SSLv3 cipher=RC4-MD5);
        Tue, 15 Sep 2009 10:16:18 -0700 (PDT)
Message-ID: <4AAFCBE0.1030603@Gmail.com>
Date: Tue, 15 Sep 2009 19:16:16 +0200
From: CubicDesign <cubicdesign@gmail.com>
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: common-user@hadoop.apache.org
Subject: Re: HadoopDB and similar stuff
References: <4AAEAFBB.90709@Gmail.com> <c7d45fc70909141540n7cc7e755ibb8a25a360c7f8f3@mail.gmail.com> 	<c9118d4c0909142321y1d4d725fo7e1509d62cb9ddb9@mail.gmail.com> 	<c7d45fc70909150042x8e8eq259eeba593e7a890@mail.gmail.com> 	<c9118d4c0909150728q57cfc3b0hb6ff983994028d07@mail.gmail.com> <c7d45fc70909150919k70364e60o932a301b4aeec262@mail.gmail.com>
In-Reply-To: <c7d45fc70909150919k70364e60o932a301b4aeec262@mail.gmail.com>
Content-Type: multipart/alternative;
 boundary="------------070402050506050708040607"
X-Virus-Checked: Checked by ClamAV on apache.org

--------------070402050506050708040607
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit



Ted Dunning wrote:

> I am just saying that you should tell people that Hive and Pig are similar to SQL so you don't have their heads explode when they realize that it isn't really SQL.


Probably for SOME people that are starting a new project (like me) this 
is less relevant. I don't need to convert exiting code or framework to 
make it work with Hive/Pig/HBase. I need to build a new on from scratches.

--------------070402050506050708040607--

From common-user-return-17480-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 17:20:29 2009
Return-Path: <common-user-return-17480-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 72655 invoked from network); 15 Sep 2009 17:20:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 17:20:28 -0000
Received: (qmail 40046 invoked by uid 500); 15 Sep 2009 17:20:22 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 39930 invoked by uid 500); 15 Sep 2009 17:20:22 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 39911 invoked by uid 500); 15 Sep 2009 17:20:22 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 39906 invoked by uid 99); 15 Sep 2009 17:20:22 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 17:20:22 +0000
X-ASF-Spam-Status: No, hits=-4.0 required=10.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of awittenauer@linkedin.com designates 69.28.149.25 as permitted sender)
Received: from [69.28.149.25] (HELO esv4-mav03.corp.linkedin.com) (69.28.149.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 17:20:10 +0000
DomainKey-Signature: s=prod; d=linkedin.com; c=nofws; q=dns;
  h=X-IronPort-AV:Received:User-Agent:Date:Subject:From:To:
   Message-ID:Thread-Topic:Thread-Index:In-Reply-To:
   Mime-version:Content-type:Content-transfer-encoding;
  b=sP5dmYui530EwbniMWGLnM1FXY2n1A4bN1X4vKP6Pp+ut17y1+l5BQZx
   R2ItVvEhuSoqaJ3NHm6288yXs0WI7ZG9HyqZqRATndHO2QvV7qjuC85XA
   wCr0Kljk7lNN1If;
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
  d=linkedin.com; i=awittenauer@linkedin.com; q=dns/txt;
  s=proddkim; t=1253035210; x=1284571210;
  h=from:sender:reply-to:subject:date:message-id:to:cc:
   mime-version:content-transfer-encoding:content-id:
   content-description:resent-date:resent-from:resent-sender:
   resent-to:resent-cc:resent-message-id:in-reply-to:
   references:list-id:list-help:list-unsubscribe:
   list-subscribe:list-post:list-owner:list-archive;
  z=From:=20Allen=20Wittenauer=20<awittenauer@linkedin.com>
   |Subject:=20Re:=20Best=20practices=20with=20large-memory
   =20jobs|Date:=20Tue,=2015=20Sep=202009=2010:19:49=20-0700
   |Message-ID:=20<C6D51AC5.517%awittenauer@linkedin.com>
   |To:=20<common-user@hadoop.apache.org>,=0D=0A=09<core-use
   r@hadoop.apache.org>|Mime-version:=201.0
   |Content-transfer-encoding:=207bit|In-Reply-To:=20<a76328
   4c0909142242l78ff7dadk1e5d4613c8478fac@mail.gmail.com>;
  bh=j+sljIACxZbdDWc/q+R6UK3fHLPcCzlbSV3bxtEsPMk=;
  b=R317VCtwYx++JEZ5cQvO13NJMeDHgaDaf+XuJNii90Uy2VyxNdMEVJiK
   /27e+2EIr27PZ6aVFjPCWSGjLOnpLP8LEwLsN3LNWlcZcyI6GCWXW9wo+
   /tpID+OBzpNT1Y6;
X-IronPort-AV: E=Sophos;i="4.44,391,1249282800"; 
   d="scan'208";a="8598992"
Received: from 172.16.19.135 ([172.16.19.135]) by CORP-MAIL.linkedin.biz ([172.18.46.135]) via Exchange Front-End Server mail-access.linkedin.biz ([172.18.46.133]) with Microsoft Exchange Server HTTP-DAV ;
 Tue, 15 Sep 2009 17:19:48 +0000
User-Agent: Microsoft-Entourage/12.10.0.080409
Date: Tue, 15 Sep 2009 10:19:49 -0700
Subject: Re: Best practices with large-memory jobs
From: Allen Wittenauer <awittenauer@linkedin.com>
To: <common-user@hadoop.apache.org>,
	<core-user@hadoop.apache.org>
Message-ID: <C6D51AC5.517%awittenauer@linkedin.com>
Thread-Topic: Best practices with large-memory jobs
Thread-Index: Aco2KLqOsl4awpMTEE+YPXlxcOiwMw==
In-Reply-To: <a763284c0909142242l78ff7dadk1e5d4613c8478fac@mail.gmail.com>
Mime-version: 1.0
Content-type: text/plain;
	charset="US-ASCII"
Content-transfer-encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 9/14/09 10:42 PM, "Chris Dyer" <redpony@umd.edu> wrote:
> And worse, in
> my task logs I see the message:
> "attempt to override final parameter: mapred.child.ulimit;  Ignoring."
> which doesn't exactly inspire confidence that I'm on the right path.

Chances are the param has been marked final in the task tracker's running
config which will prevent you overriding the value with a job specific
configuration.

> ps. I'm running an 18.3 cluster on Amazon EC2 (I've been using the
> Cloudera convenience scripts, but I can abandon this if I need more
> control).  The instances have plenty of memory (7.5GB).

Depending upon how many tasks per node, that may not be enough. Streaming
jobs eat a crapton (I'm pretty sure that is an SI unit) of memory.  If you
are hitting 2gb+, that means you can probably run 3 tasks max without
swapping.  [Don't forget to count the size of the task tracker JVM, the
streaming.jar JVM, etc, and be cognizant of the fact that JVM mem size !=
Java heap size.]


From common-user-return-17479-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 17:20:29 2009
Return-Path: <common-user-return-17479-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 72642 invoked from network); 15 Sep 2009 17:20:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 17:20:28 -0000
Received: (qmail 40032 invoked by uid 500); 15 Sep 2009 17:20:22 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 39928 invoked by uid 500); 15 Sep 2009 17:20:22 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 39906 invoked by uid 99); 15 Sep 2009 17:20:22 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 17:20:22 +0000
X-ASF-Spam-Status: No, hits=-4.0 required=10.0
	tests=RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of awittenauer@linkedin.com designates 69.28.149.25 as permitted sender)
Received: from [69.28.149.25] (HELO esv4-mav03.corp.linkedin.com) (69.28.149.25)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 17:20:10 +0000
DomainKey-Signature: s=prod; d=linkedin.com; c=nofws; q=dns;
  h=X-IronPort-AV:Received:User-Agent:Date:Subject:From:To:
   Message-ID:Thread-Topic:Thread-Index:In-Reply-To:
   Mime-version:Content-type:Content-transfer-encoding;
  b=sP5dmYui530EwbniMWGLnM1FXY2n1A4bN1X4vKP6Pp+ut17y1+l5BQZx
   R2ItVvEhuSoqaJ3NHm6288yXs0WI7ZG9HyqZqRATndHO2QvV7qjuC85XA
   wCr0Kljk7lNN1If;
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
  d=linkedin.com; i=awittenauer@linkedin.com; q=dns/txt;
  s=proddkim; t=1253035210; x=1284571210;
  h=from:sender:reply-to:subject:date:message-id:to:cc:
   mime-version:content-transfer-encoding:content-id:
   content-description:resent-date:resent-from:resent-sender:
   resent-to:resent-cc:resent-message-id:in-reply-to:
   references:list-id:list-help:list-unsubscribe:
   list-subscribe:list-post:list-owner:list-archive;
  z=From:=20Allen=20Wittenauer=20<awittenauer@linkedin.com>
   |Subject:=20Re:=20Best=20practices=20with=20large-memory
   =20jobs|Date:=20Tue,=2015=20Sep=202009=2010:19:49=20-0700
   |Message-ID:=20<C6D51AC5.517%awittenauer@linkedin.com>
   |To:=20<common-user@hadoop.apache.org>,=0D=0A=09<core-use
   r@hadoop.apache.org>|Mime-version:=201.0
   |Content-transfer-encoding:=207bit|In-Reply-To:=20<a76328
   4c0909142242l78ff7dadk1e5d4613c8478fac@mail.gmail.com>;
  bh=j+sljIACxZbdDWc/q+R6UK3fHLPcCzlbSV3bxtEsPMk=;
  b=R317VCtwYx++JEZ5cQvO13NJMeDHgaDaf+XuJNii90Uy2VyxNdMEVJiK
   /27e+2EIr27PZ6aVFjPCWSGjLOnpLP8LEwLsN3LNWlcZcyI6GCWXW9wo+
   /tpID+OBzpNT1Y6;
X-IronPort-AV: E=Sophos;i="4.44,391,1249282800"; 
   d="scan'208";a="8598992"
Received: from 172.16.19.135 ([172.16.19.135]) by CORP-MAIL.linkedin.biz ([172.18.46.135]) via Exchange Front-End Server mail-access.linkedin.biz ([172.18.46.133]) with Microsoft Exchange Server HTTP-DAV ;
 Tue, 15 Sep 2009 17:19:48 +0000
User-Agent: Microsoft-Entourage/12.10.0.080409
Date: Tue, 15 Sep 2009 10:19:49 -0700
Subject: Re: Best practices with large-memory jobs
From: Allen Wittenauer <awittenauer@linkedin.com>
To: <common-user@hadoop.apache.org>,
	<core-user@hadoop.apache.org>
Message-ID: <C6D51AC5.517%awittenauer@linkedin.com>
Thread-Topic: Best practices with large-memory jobs
Thread-Index: Aco2KLqOsl4awpMTEE+YPXlxcOiwMw==
In-Reply-To: <a763284c0909142242l78ff7dadk1e5d4613c8478fac@mail.gmail.com>
Mime-version: 1.0
Content-type: text/plain;
	charset="US-ASCII"
Content-transfer-encoding: 7bit
X-Virus-Checked: Checked by ClamAV on apache.org

On 9/14/09 10:42 PM, "Chris Dyer" <redpony@umd.edu> wrote:
> And worse, in
> my task logs I see the message:
> "attempt to override final parameter: mapred.child.ulimit;  Ignoring."
> which doesn't exactly inspire confidence that I'm on the right path.

Chances are the param has been marked final in the task tracker's running
config which will prevent you overriding the value with a job specific
configuration.

> ps. I'm running an 18.3 cluster on Amazon EC2 (I've been using the
> Cloudera convenience scripts, but I can abandon this if I need more
> control).  The instances have plenty of memory (7.5GB).

Depending upon how many tasks per node, that may not be enough. Streaming
jobs eat a crapton (I'm pretty sure that is an SI unit) of memory.  If you
are hitting 2gb+, that means you can probably run 3 tasks max without
swapping.  [Don't forget to count the size of the task tracker JVM, the
streaming.jar JVM, etc, and be cognizant of the fact that JVM mem size !=
Java heap size.]


From common-user-return-17481-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 17:23:49 2009
Return-Path: <common-user-return-17481-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 74376 invoked from network); 15 Sep 2009 17:23:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 17:23:49 -0000
Received: (qmail 45713 invoked by uid 500); 15 Sep 2009 17:23:47 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 45519 invoked by uid 500); 15 Sep 2009 17:23:46 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 45270 invoked by uid 500); 15 Sep 2009 17:23:46 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 45267 invoked by uid 99); 15 Sep 2009 17:23:46 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 17:23:46 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of lists@nabble.com designates 216.139.236.158 as permitted sender)
Received: from [216.139.236.158] (HELO kuber.nabble.com) (216.139.236.158)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 17:23:35 +0000
Received: from isper.nabble.com ([192.168.236.156])
	by kuber.nabble.com with esmtp (Exim 4.63)
	(envelope-from <lists@nabble.com>)
	id 1MnbkI-0003iB-GX
	for core-user@hadoop.apache.org; Tue, 15 Sep 2009 10:23:14 -0700
Message-ID: <25458201.post@talk.nabble.com>
Date: Tue, 15 Sep 2009 10:23:14 -0700 (PDT)
From: Zhimin <wangzm@cs.umb.edu>
To: core-user@hadoop.apache.org
Subject: about hadoop jvm allocation in job excution
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Nabble-From: wangzm@cs.umb.edu
X-Virus-Checked: Checked by ClamAV on apache.org


We have a project which needs to support similarity queries against items
from a huge amount of data.  One approach we have tried is to use Hbase as
the data repository and Hadoop as the query execution engine. We adopted
Hadoop because Map-Reduce is a very good model of our underlying task and
the programming was straightforward. However, we found that Hadoop will
always allocate a new JVM for each individual task on a node. This is
inefficient for us because in our case the whole Hadoop platform is
dedicated to some relatively stable  parametrized querries, and security and
strict isolation of different tasks is not our main concern. To save the
task setup time, I wonder if there are some existing mechanism in Hadoop or
some extension of Hadoop in other open source projects that can let us
reside our classes in a JVM on the job node, with task nodes waiting for
requests.  


-- 
View this message in context: http://www.nabble.com/about-hadoop-jvm-allocation-in-job-excution-tp25458201p25458201.html
Sent from the Hadoop core-user mailing list archive at Nabble.com.


From common-user-return-17483-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 17:34:22 2009
Return-Path: <common-user-return-17483-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 77703 invoked from network); 15 Sep 2009 17:34:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 17:34:22 -0000
Received: (qmail 61757 invoked by uid 500); 15 Sep 2009 17:34:16 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 61639 invoked by uid 500); 15 Sep 2009 17:34:16 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 61620 invoked by uid 500); 15 Sep 2009 17:34:16 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 61615 invoked by uid 99); 15 Sep 2009 17:34:16 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 17:34:16 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of redpony@gmail.com designates 209.85.223.193 as permitted sender)
Received: from [209.85.223.193] (HELO mail-iw0-f193.google.com) (209.85.223.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 17:34:07 +0000
Received: by iwn31 with SMTP id 31so207856iwn.2
        for <multiple recipients>; Tue, 15 Sep 2009 10:32:46 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:sender:received:in-reply-to
         :references:date:x-google-sender-auth:message-id:subject:from:to:cc
         :content-type:content-transfer-encoding;
        bh=SzAzwkEa70Rf/9GO3Xxrm+uMrQBjCRZxKd68L3Wqva8=;
        b=AIhH5JdWfSLnswdGrJrA9+67NZi644XfMG7O1EycIj90Au4galPwjDMl14OZYrFJEA
         OKT2jeV1JMNdnZfH+BB5ld8hyQdW5t3FcHkYxL+gqpIazrJ/Mt6atreYdbqmorjH0wqX
         sx51WW+DxvzIFWX4sKtBH4gLh56CPN/LlxSrc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:in-reply-to:references:date
         :x-google-sender-auth:message-id:subject:from:to:cc:content-type
         :content-transfer-encoding;
        b=CKy0WK/WM/UqoYjI88JDt5y8L0akN0RDMiOjm0T/3fWCIABPbW0ryvUAPBlvjAqPuj
         Yxrs8VeN3Gk6tp9mmnkz0WBdfuQOqh/i5di9KlblGkLsR6ZYsKmwOcgvHqC1KSRWUvDl
         L+790Ka71By+hxy+3XHkfwn0L/BWTH9l/7gi8=
MIME-Version: 1.0
Sender: redpony@gmail.com
Received: by 10.231.124.166 with SMTP id u38mr16318575ibr.17.1253035966259; 
	Tue, 15 Sep 2009 10:32:46 -0700 (PDT)
In-Reply-To: <C6D51AC5.517%awittenauer@linkedin.com>
References: <a763284c0909142242l78ff7dadk1e5d4613c8478fac@mail.gmail.com>
	 <C6D51AC5.517%awittenauer@linkedin.com>
Date: Tue, 15 Sep 2009 13:32:46 -0400
X-Google-Sender-Auth: afc4d34f4bacd194
Message-ID: <a763284c0909151032i565429c0k3c7738b9627b2bb4@mail.gmail.com>
Subject: Re: Best practices with large-memory jobs
From: Chris Dyer <redpony@umd.edu>
To: common-user@hadoop.apache.org
Cc: core-user@hadoop.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

>> my task logs I see the message:
>> "attempt to override final parameter: mapred.child.ulimit; =A0Ignoring."
>> which doesn't exactly inspire confidence that I'm on the right path.
>
> Chances are the param has been marked final in the task tracker's running
> config which will prevent you overriding the value with a job specific
> configuration.
Do you have any idea how one unmarks such a thing?  Do I just need to
edit the configuration file for the task tracker?

>
> Depending upon how many tasks per node, that may not be enough. Streaming
> jobs eat a crapton (I'm pretty sure that is an SI unit) of memory. =A0If =
you
Is there any particular reason for the excessive memory use?  I
realize this is Java, but it's just sloshing data down to my
processes...

> are hitting 2gb+, that means you can probably run 3 tasks max without
> swapping. =A0[Don't forget to count the size of the task tracker JVM, the
> streaming.jar JVM, etc, and be cognizant of the fact that JVM mem size !=
=3D
> Java heap size.]
I'm seeing the failures even when I run a single job.  But, obviously
I don't want to schedule more than 3 jobs on a node since they won't
have enough memory.  How does one change the number of map slots per
node?  I'm a hadoop configuration newbie (which is why I was
originally excited about the Cloudera EC2 scripts...)

-Chris

From common-user-return-17482-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 17:34:23 2009
Return-Path: <common-user-return-17482-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 77737 invoked from network); 15 Sep 2009 17:34:22 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 17:34:22 -0000
Received: (qmail 61740 invoked by uid 500); 15 Sep 2009 17:34:16 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 61637 invoked by uid 500); 15 Sep 2009 17:34:16 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 61615 invoked by uid 99); 15 Sep 2009 17:34:16 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 17:34:16 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of redpony@gmail.com designates 209.85.223.193 as permitted sender)
Received: from [209.85.223.193] (HELO mail-iw0-f193.google.com) (209.85.223.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 17:34:07 +0000
Received: by iwn31 with SMTP id 31so207856iwn.2
        for <multiple recipients>; Tue, 15 Sep 2009 10:32:46 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:sender:received:in-reply-to
         :references:date:x-google-sender-auth:message-id:subject:from:to:cc
         :content-type:content-transfer-encoding;
        bh=SzAzwkEa70Rf/9GO3Xxrm+uMrQBjCRZxKd68L3Wqva8=;
        b=AIhH5JdWfSLnswdGrJrA9+67NZi644XfMG7O1EycIj90Au4galPwjDMl14OZYrFJEA
         OKT2jeV1JMNdnZfH+BB5ld8hyQdW5t3FcHkYxL+gqpIazrJ/Mt6atreYdbqmorjH0wqX
         sx51WW+DxvzIFWX4sKtBH4gLh56CPN/LlxSrc=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:sender:in-reply-to:references:date
         :x-google-sender-auth:message-id:subject:from:to:cc:content-type
         :content-transfer-encoding;
        b=CKy0WK/WM/UqoYjI88JDt5y8L0akN0RDMiOjm0T/3fWCIABPbW0ryvUAPBlvjAqPuj
         Yxrs8VeN3Gk6tp9mmnkz0WBdfuQOqh/i5di9KlblGkLsR6ZYsKmwOcgvHqC1KSRWUvDl
         L+790Ka71By+hxy+3XHkfwn0L/BWTH9l/7gi8=
MIME-Version: 1.0
Sender: redpony@gmail.com
Received: by 10.231.124.166 with SMTP id u38mr16318575ibr.17.1253035966259; 
	Tue, 15 Sep 2009 10:32:46 -0700 (PDT)
In-Reply-To: <C6D51AC5.517%awittenauer@linkedin.com>
References: <a763284c0909142242l78ff7dadk1e5d4613c8478fac@mail.gmail.com>
	 <C6D51AC5.517%awittenauer@linkedin.com>
Date: Tue, 15 Sep 2009 13:32:46 -0400
X-Google-Sender-Auth: afc4d34f4bacd194
Message-ID: <a763284c0909151032i565429c0k3c7738b9627b2bb4@mail.gmail.com>
Subject: Re: Best practices with large-memory jobs
From: Chris Dyer <redpony@umd.edu>
To: common-user@hadoop.apache.org
Cc: core-user@hadoop.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

>> my task logs I see the message:
>> "attempt to override final parameter: mapred.child.ulimit; =A0Ignoring."
>> which doesn't exactly inspire confidence that I'm on the right path.
>
> Chances are the param has been marked final in the task tracker's running
> config which will prevent you overriding the value with a job specific
> configuration.
Do you have any idea how one unmarks such a thing?  Do I just need to
edit the configuration file for the task tracker?

>
> Depending upon how many tasks per node, that may not be enough. Streaming
> jobs eat a crapton (I'm pretty sure that is an SI unit) of memory. =A0If =
you
Is there any particular reason for the excessive memory use?  I
realize this is Java, but it's just sloshing data down to my
processes...

> are hitting 2gb+, that means you can probably run 3 tasks max without
> swapping. =A0[Don't forget to count the size of the task tracker JVM, the
> streaming.jar JVM, etc, and be cognizant of the fact that JVM mem size !=
=3D
> Java heap size.]
I'm seeing the failures even when I run a single job.  But, obviously
I don't want to schedule more than 3 jobs on a node since they won't
have enough memory.  How does one change the number of map slots per
node?  I'm a hadoop configuration newbie (which is why I was
originally excited about the Cloudera EC2 scripts...)

-Chris

From common-user-return-17484-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 17:48:15 2009
Return-Path: <common-user-return-17484-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 84249 invoked from network); 15 Sep 2009 17:48:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 17:48:15 -0000
Received: (qmail 96091 invoked by uid 500); 15 Sep 2009 17:48:12 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 96004 invoked by uid 500); 15 Sep 2009 17:48:12 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 95990 invoked by uid 99); 15 Sep 2009 17:48:12 -0000
Received: from athena.apache.org (HELO athena.apache.org) (140.211.11.136)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 17:48:12 +0000
X-ASF-Spam-Status: No, hits=-4.3 required=10.0
	tests=HABEAS_ACCREDITED_SOI,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (athena.apache.org: domain of andy.sautins@returnpath.net designates 38.109.196.9 as permitted sender)
Received: from [38.109.196.9] (HELO mail.corp.returnpath.net) (38.109.196.9)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 17:48:01 +0000
Received: from mail.corp.returnpath.net (localhost.localdomain [127.0.0.1])
	by mail.corp.returnpath.net (Postfix) with ESMTP id BC8BC2502E4;
	Tue, 15 Sep 2009 11:47:40 -0600 (MDT)
DKIM-Signature: v=1; a=rsa-sha1; c=relaxed; d=returnpath.net; h=from:to
	:date:subject:message-id:references:in-reply-to:content-type
	:content-transfer-encoding:mime-version; s=selector1; bh=kmBhhoS
	MHfIdphZcUMhO7YiSqqo=; b=THo33NKMPNn/lOEkZ1cWm9T5MHT60uC9qatLyGA
	vYwkOgPNKEzckKZImwPUIOi99UVNIke/O5fRzqDX0SqSUKhzG069IMPHEgAJHvrX
	eVq0K+w4rCdEwif34dcZefPuonBOBl+f6Soon4UrOuSOjcMu50dWUnshHxGenpkE
	2Pss=
DomainKey-Signature: a=rsa-sha1; c=nofws; d=returnpath.net; h=from:to
	:date:subject:message-id:references:in-reply-to:content-type
	:content-transfer-encoding:mime-version; q=dns; s=selector1; b=g
	l2GHG+rQx0MBosGx6tSlr8LIzT3XGwyLbfy5FAjNM2de9/z3xQwHYXuP6+mxIJao
	pQsK4IQB9QVvsBNBlu5kpnkXnAvMq/HUH5zckweykNkQWzVrVUE9Yel5btFYLre1
	DVmoI1yDsTqjwGWoy6yNdkrsOpNJ3RDYjoFgs4RmPg=
Received: from rpcoex01.rpcorp.local (unknown [10.0.1.142])
	by mail.corp.returnpath.net (Postfix) with ESMTP id B37E5250270;
	Tue, 15 Sep 2009 17:47:40 +0000 (UTC)
Received: from rpcoex01.rpcorp.local ([10.0.1.142]) by rpcoex01.rpcorp.local
 ([10.0.1.142]) with mapi; Tue, 15 Sep 2009 11:47:40 -0600
From: Andy Sautins <andy.sautins@returnpath.net>
To: "common-user@hadoop.apache.org" <common-user@hadoop.apache.org>
Date: Tue, 15 Sep 2009 11:47:24 -0600
Subject: RE: Hadoop 0.20.1 (a big secret?)
Thread-Topic: Hadoop 0.20.1 (a big secret?)
Thread-Index: Aco2G3rkW1HlLPteSfOCbbPWtDisgwAELbqA
Message-ID: <E17A8B06D3D99B4CAA00E72B7BC41C1B0E698EA712@rpcoex01.rpcorp.local>
References: <4AAFA7AB.4090105@deri.org>
	 <45f85f70909150835w4f2ab1f4r26ec8f6e3f9ef631@mail.gmail.com>
 <cbbf4b570909150844x262c2fa2x9199e706f26ac781@mail.gmail.com>
In-Reply-To: <cbbf4b570909150844x262c2fa2x9199e706f26ac781@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach:
X-MS-TNEF-Correlator:
acceptlanguage: en-US
x-ems-proccessed: Yma8eInq5qTp77FzNR/WDA==
x-ems-stamp: IuefbzPpkzm1S9L5a8srag==
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org


  Just as a note the project releases page for common/hdfs/mapreduce (e.g. =
http://hadoop.apache.org/mapreduce/releases.html ) do not have an entry for=
 the 0.20.1 release, but going to the download link shows 0.20.1 as the sta=
ble release for the .20 branch.

  I suspect that is a cause of the confusion.

  Andy

-----Original Message-----
From: Edward Capriolo [mailto:edlinuxguru@gmail.com]=20
Sent: Tuesday, September 15, 2009 9:44 AM
To: common-user@hadoop.apache.org
Subject: Re: Hadoop 0.20.1 (a big secret?)

On Tue, Sep 15, 2009 at 11:35 AM, Todd Lipcon <todd@cloudera.com> wrote:
> Hi Stephen,
>
> There was an email thread about two weeks ago announcing the release
> candidate and subsequent release.
>
> Regarding Cloudera's version, the most recent one available for download =
is
> based on 0.20.0, but we've included many of the bug fixes that are in
> 0.20.1. We're currently working on updating our patch series to include t=
he
> entirety of 0.20.1 and should have that out next week.
>
> -Todd
>
> On Tue, Sep 15, 2009 at 7:41 AM, stephen mulcahy
> <stephen.mulcahy@deri.org>wrote:
>
>> Howdy,
>>
>> I'm about to install a new hadoop cluster here and I'm wondering which
>> Hadoop to install.
>>
>> Looking at http://hadoop.apache.org/common/releases.html suggests its
>> either 0.19.2 or 0.20.0 but looking in
>> http://ftp.heanet.ie/mirrors/www.apache.org/dist/hadoop/core/ I see 0.20=
.1
>> has been sitting there since 01-Sep-2009.
>>
>> A quick google suggests Cloudera are going to base their next release on
>> 0.20.1 so I'm taking this as an indication that 0.20.1 is ready for
>> primetime.
>>
>> Did I miss the announcement on 0.20.1 or is there some reason why it's
>> being kept quiet so far (if so, apologies for publicising it ;)?
>>
>> Thanks,
>>
>> -stephen
>>
>> --
>> Stephen Mulcahy, DI2, Digital Enterprise Research Institute,
>> NUI Galway, IDA Business Park, Lower Dangan, Galway, Ireland
>> http://di2.deri.ie =A0 =A0http://webstar.deri.ie =A0 =A0http://sindice.c=
om
>>
>
Stephen,

Hadoop has branches and for the most part, major.minor.release
versioning.  If you look at the svn-trunk you are always going to be
latest branch. At the current moment stable points to 18.X.

It seems the trend community is really trying to come together around 20.

Here is some quick notes:

Hadoop updgrade is easy.
Downgrade between majors can be a major pita.

I would suggest playing with the technology for a while and get a feel
for the version that is best for you.

From common-user-return-17485-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 18:31:13 2009
Return-Path: <common-user-return-17485-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 8181 invoked from network); 15 Sep 2009 18:31:13 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 18:31:13 -0000
Received: (qmail 46195 invoked by uid 500); 15 Sep 2009 18:31:11 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 46092 invoked by uid 500); 15 Sep 2009 18:31:11 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 46082 invoked by uid 99); 15 Sep 2009 18:31:11 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 18:31:11 +0000
X-ASF-Spam-Status: No, hits=3.4 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.223.193] (HELO mail-iw0-f193.google.com) (209.85.223.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 18:30:58 +0000
Received: by iwn31 with SMTP id 31so233407iwn.2
        for <common-user@hadoop.apache.org>; Tue, 15 Sep 2009 11:29:37 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.126.69 with SMTP id b5mr5838290ibs.54.1253039375022; Tue, 
	15 Sep 2009 11:29:35 -0700 (PDT)
In-Reply-To: <E17A8B06D3D99B4CAA00E72B7BC41C1B0E698EA712@rpcoex01.rpcorp.local>
References: <4AAFA7AB.4090105@deri.org>
	 <45f85f70909150835w4f2ab1f4r26ec8f6e3f9ef631@mail.gmail.com>
	 <cbbf4b570909150844x262c2fa2x9199e706f26ac781@mail.gmail.com>
	 <E17A8B06D3D99B4CAA00E72B7BC41C1B0E698EA712@rpcoex01.rpcorp.local>
Date: Tue, 15 Sep 2009 11:29:34 -0700
Message-ID: <35538fbe0909151129q6359589ai80c98fe318bd2f36@mail.gmail.com>
Subject: Re: Hadoop 0.20.1 (a big secret?)
From: Matt Massie <matt@cloudera.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0016368e2f2fd679e50473a1f6b4
X-Virus-Checked: Checked by ClamAV on apache.org

--0016368e2f2fd679e50473a1f6b4
Content-Type: text/plain; charset=ISO-8859-1

This may be related to the project split.  When I went to package up 0.20.1,
I realized that the release-0.20.1 tag is not in the hadoop repository but
rather the hadoop-common repository.  Important to know if you want to build
0.20.1 from subversion/git.

-Matt

On Tue, Sep 15, 2009 at 10:47 AM, Andy Sautins
<andy.sautins@returnpath.net>wrote:

>
>  Just as a note the project releases page for common/hdfs/mapreduce (e.g.
> http://hadoop.apache.org/mapreduce/releases.html ) do not have an entry
> for the 0.20.1 release, but going to the download link shows 0.20.1 as the
> stable release for the .20 branch.
>
>  I suspect that is a cause of the confusion.
>
>  Andy
>
> -----Original Message-----
> From: Edward Capriolo [mailto:edlinuxguru@gmail.com]
> Sent: Tuesday, September 15, 2009 9:44 AM
> To: common-user@hadoop.apache.org
> Subject: Re: Hadoop 0.20.1 (a big secret?)
>
> On Tue, Sep 15, 2009 at 11:35 AM, Todd Lipcon <todd@cloudera.com> wrote:
> > Hi Stephen,
> >
> > There was an email thread about two weeks ago announcing the release
> > candidate and subsequent release.
> >
> > Regarding Cloudera's version, the most recent one available for download
> is
> > based on 0.20.0, but we've included many of the bug fixes that are in
> > 0.20.1. We're currently working on updating our patch series to include
> the
> > entirety of 0.20.1 and should have that out next week.
> >
> > -Todd
> >
> > On Tue, Sep 15, 2009 at 7:41 AM, stephen mulcahy
> > <stephen.mulcahy@deri.org>wrote:
> >
> >> Howdy,
> >>
> >> I'm about to install a new hadoop cluster here and I'm wondering which
> >> Hadoop to install.
> >>
> >> Looking at http://hadoop.apache.org/common/releases.html suggests its
> >> either 0.19.2 or 0.20.0 but looking in
> >> http://ftp.heanet.ie/mirrors/www.apache.org/dist/hadoop/core/ I see
> 0.20.1
> >> has been sitting there since 01-Sep-2009.
> >>
> >> A quick google suggests Cloudera are going to base their next release on
> >> 0.20.1 so I'm taking this as an indication that 0.20.1 is ready for
> >> primetime.
> >>
> >> Did I miss the announcement on 0.20.1 or is there some reason why it's
> >> being kept quiet so far (if so, apologies for publicising it ;)?
> >>
> >> Thanks,
> >>
> >> -stephen
> >>
> >> --
> >> Stephen Mulcahy, DI2, Digital Enterprise Research Institute,
> >> NUI Galway, IDA Business Park, Lower Dangan, Galway, Ireland
> >> http://di2.deri.ie    http://webstar.deri.ie    http://sindice.com
> >>
> >
> Stephen,
>
> Hadoop has branches and for the most part, major.minor.release
> versioning.  If you look at the svn-trunk you are always going to be
> latest branch. At the current moment stable points to 18.X.
>
> It seems the trend community is really trying to come together around 20.
>
> Here is some quick notes:
>
> Hadoop updgrade is easy.
> Downgrade between majors can be a major pita.
>
> I would suggest playing with the technology for a while and get a feel
> for the version that is best for you.
>

--0016368e2f2fd679e50473a1f6b4--

From common-user-return-17486-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 19:01:51 2009
Return-Path: <common-user-return-17486-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 21232 invoked from network); 15 Sep 2009 19:01:51 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 19:01:51 -0000
Received: (qmail 83517 invoked by uid 500); 15 Sep 2009 19:01:49 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 83422 invoked by uid 500); 15 Sep 2009 19:01:48 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 83412 invoked by uid 99); 15 Sep 2009 19:01:48 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 19:01:48 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of edlinuxguru@gmail.com designates 72.14.220.157 as permitted sender)
Received: from [72.14.220.157] (HELO fg-out-1718.google.com) (72.14.220.157)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 19:01:37 +0000
Received: by fg-out-1718.google.com with SMTP id d23so1246213fga.11
        for <common-user@hadoop.apache.org>; Tue, 15 Sep 2009 12:01:17 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=bP9dfxQu+ZGV6atcpYGAFGy54mlRzfeVmLjNGqq38GA=;
        b=lYKMAQGMelhrb85EkB2AnvKBT0j+zrS5U94NaFO5yniZqw05UUXo4n5GI7ozPwRbNi
         NO5FDilbnAnneVLFPLUZr7t07eVMFKKRghdEjgxIwH99q8115RKcSC7faEpBfKMV+pzJ
         xtRQo9Oiq6jI6QD90IgVmmjK/rVvyVkXeof34=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=k3Mv9kFliHj1rly+8JFiZKBgDme6n/AEo6/RueEhUzOx139kWIL7ZJUhN3/g3//2tJ
         CXqLlcA/S2ORAvEN+Pd+E8AnDG2qBuqEIJCklWndzFpsHTA4ccZcx63xc7xRIW5P/dJa
         KmMsjFj5M1MreRhL/eAUA+OFKXJUJTwqGQ4XU=
MIME-Version: 1.0
Received: by 10.239.168.144 with SMTP id k16mr721165hbe.103.1253041277109; 
	Tue, 15 Sep 2009 12:01:17 -0700 (PDT)
In-Reply-To: <c7d45fc70909150923g107f1102l14bb28d10247eb4c@mail.gmail.com>
References: <4AAEAFBB.90709@Gmail.com>
	 <c7d45fc70909141540n7cc7e755ibb8a25a360c7f8f3@mail.gmail.com>
	 <c9118d4c0909142321y1d4d725fo7e1509d62cb9ddb9@mail.gmail.com>
	 <c7d45fc70909150042x8e8eq259eeba593e7a890@mail.gmail.com>
	 <c9118d4c0909150728q57cfc3b0hb6ff983994028d07@mail.gmail.com>
	 <cbbf4b570909150834r53050581n3ce21326f5b3c9fc@mail.gmail.com>
	 <c7d45fc70909150923g107f1102l14bb28d10247eb4c@mail.gmail.com>
Date: Tue, 15 Sep 2009 15:01:17 -0400
Message-ID: <cbbf4b570909151201i16fb5e27l6beceadcf887eb2e@mail.gmail.com>
Subject: Re: HadoopDB and similar stuff
From: Edward Capriolo <edlinuxguru@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

On Tue, Sep 15, 2009 at 12:23 PM, Ted Dunning <ted.dunning@gmail.com> wrote=
:
> I don't need to be amazed. =A0I am a strong proponent of map-reduce. =A0P=
eople
> forget, but I bought the beer at the first Hadoop summit at Gordon Biersc=
h.
>
> I just don't think that selling Hive or Pig as SQL is fair to the buyer o=
r
> the seller. =A0They aren't the same and have very different virtues.
>
> On Tue, Sep 15, 2009 at 8:34 AM, Edward Capriolo <edlinuxguru@gmail.com>w=
rote:
>
>> Hive is not 100% SQL, but I would say join the Hive user list and be
>> amazed. New types of joins, theta-join, etc have been added by user
>> request. Most of the time if you can't do something you would expect
>> to do in SQL there is a work around.
>>
>> The flip side is true as well, Hive has specific support that other
>> databases don't :)
>>
>
>
>
> --
> Ted Dunning, CTO
> DeepDyve
>

Ted,

I meant that I am more amazed by it, not that you should be amazed by
it :) There have been several tickets opened up like "Let Hive do
theta Join" and then sometimes, with in days, hive trunk supports it.
That is pretty impressive to me.

As for
>>I just don't think that selling Hive or Pig as SQL is fair to the buyer o=
r
>>the seller.  They aren't the same and have very different virtues.

I agree. I think I qualified that as my opinion. However, I will say
that I believe I have received some unsolicited from Aster. Likewise,
I notice Aster will reply to blogs about hadoop and plug away, without
really referencing the topic of the blog in any specific way. So, I
would argue the precedent is set.  Maybe, it is just my pet-peeve.

The philosophical "What is SQL?" is hard to answer. Being different
SQL standards like http://en.wikipedia.org/wiki/SQL-92 or SQL-89 may
only be partially supported by a particular vendor. Every
implementation adds/subtracts features.

I often describe Hive query language in this way:

"If you know SQL I can teach you Hive-QL rather quickly."

From common-user-return-17487-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 19:03:54 2009
Return-Path: <common-user-return-17487-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 21521 invoked from network); 15 Sep 2009 19:03:53 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 19:03:53 -0000
Received: (qmail 85721 invoked by uid 500); 15 Sep 2009 19:03:51 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 85629 invoked by uid 500); 15 Sep 2009 19:03:51 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 85619 invoked by uid 99); 15 Sep 2009 19:03:51 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 19:03:51 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ted.dunning@gmail.com designates 209.85.211.198 as permitted sender)
Received: from [209.85.211.198] (HELO mail-yw0-f198.google.com) (209.85.211.198)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 19:03:42 +0000
Received: by ywh36 with SMTP id 36so6595191ywh.21
        for <common-user@hadoop.apache.org>; Tue, 15 Sep 2009 12:03:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=DHzfRMeJQEudTt13QRG13PGmEoh3KTMdJWYuGuZDuHg=;
        b=P8aXzX0hbXQ3eTCKCwOT1yp313iDUtYPxzT32Yu0sfStDgOhG2Pwg5zR+wS5AfRIW4
         aKmGcZwO3/vL1q9s19uOzZbBoF2jZGl6dHjtlj3pxlzp5tBdE+Bks9TxRSwax/F2hp0X
         F1XkCxo3WVjvoJ45MMOqgb9gRjcChmLSlEwuw=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=WFtG2wcukxLYr7GLY/ZFNLLnEWgobKMa8JfDYxRD4nKOas/j2vt6OG5eVkYFzu0mj6
         +J2oqTftJ8WzNUKQxRke/h0eOgpDRkBb8IwWqIjGZleL9OyTboGiNwtiV1Jhm+WpK2WA
         o661Z4zyBDxHsDUp/1MGQKHjNuYsakIVmr0GQ=
MIME-Version: 1.0
Received: by 10.150.210.5 with SMTP id i5mr13001288ybg.174.1253041401190; Tue, 
	15 Sep 2009 12:03:21 -0700 (PDT)
In-Reply-To: <cbbf4b570909151201i16fb5e27l6beceadcf887eb2e@mail.gmail.com>
References: <4AAEAFBB.90709@Gmail.com> <c7d45fc70909141540n7cc7e755ibb8a25a360c7f8f3@mail.gmail.com> 
	<c9118d4c0909142321y1d4d725fo7e1509d62cb9ddb9@mail.gmail.com> 
	<c7d45fc70909150042x8e8eq259eeba593e7a890@mail.gmail.com> 
	<c9118d4c0909150728q57cfc3b0hb6ff983994028d07@mail.gmail.com> 
	<cbbf4b570909150834r53050581n3ce21326f5b3c9fc@mail.gmail.com> 
	<c7d45fc70909150923g107f1102l14bb28d10247eb4c@mail.gmail.com> 
	<cbbf4b570909151201i16fb5e27l6beceadcf887eb2e@mail.gmail.com>
From: Ted Dunning <ted.dunning@gmail.com>
Date: Tue, 15 Sep 2009 12:03:01 -0700
Message-ID: <c7d45fc70909151203h153c98a5h634930832f72d0a0@mail.gmail.com>
Subject: Re: HadoopDB and similar stuff
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=000e0cd348589b5ae50473a26f09
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd348589b5ae50473a26f09
Content-Type: text/plain; charset=UTF-8

Great description.

On Tue, Sep 15, 2009 at 12:01 PM, Edward Capriolo <edlinuxguru@gmail.com>wrote:

>
> I often describe Hive query language in this way:
>
> "If you know SQL I can teach you Hive-QL rather quickly."




-- 
Ted Dunning, CTO
DeepDyve

--000e0cd348589b5ae50473a26f09--

From common-user-return-17488-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 19:40:21 2009
Return-Path: <common-user-return-17488-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 34799 invoked from network); 15 Sep 2009 19:40:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 19:40:21 -0000
Received: (qmail 44322 invoked by uid 500); 15 Sep 2009 19:40:19 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 44250 invoked by uid 500); 15 Sep 2009 19:40:18 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 44240 invoked by uid 99); 15 Sep 2009 19:40:18 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 19:40:18 +0000
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [76.96.30.64] (HELO QMTA07.emeryville.ca.mail.comcast.net) (76.96.30.64)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 19:40:06 +0000
Received: from OMTA24.emeryville.ca.mail.comcast.net ([76.96.30.92])
	by QMTA07.emeryville.ca.mail.comcast.net with comcast
	id h6vy1c0011zF43QA77fmey; Tue, 15 Sep 2009 19:39:46 +0000
Received: from [192.168.20.2] ([209.131.62.115])
	by OMTA24.emeryville.ca.mail.comcast.net with comcast
	id h7ja1c0022VBGtd8k7jhRQ; Tue, 15 Sep 2009 19:43:45 +0000
Message-Id: <610EAA5F-C23B-491A-84B4-7D28AAF9FBEA@apache.org>
From: Owen O'Malley <omalley@apache.org>
To: common-user@hadoop.apache.org
In-Reply-To: <4AAFA7AB.4090105@deri.org>
Content-Type: text/plain; charset=US-ASCII; format=flowed; delsp=yes
Content-Transfer-Encoding: 7bit
Mime-Version: 1.0 (Apple Message framework v936)
Subject: Re: Hadoop 0.20.1 (a big secret?)
Date: Tue, 15 Sep 2009 12:39:29 -0700
References: <4AAFA7AB.4090105@deri.org>
X-Mailer: Apple Mail (2.936)
X-Virus-Checked: Checked by ClamAV on apache.org


On Sep 15, 2009, at 7:41 AM, stephen mulcahy wrote:

> Howdy,
>
> I'm about to install a new hadoop cluster here and I'm wondering  
> which Hadoop to install.
>
> Looking at http://hadoop.apache.org/common/releases.html suggests  
> its either 0.19.2 or 0.20.0 but looking in http://ftp.heanet.ie/mirrors/www.apache.org/dist/hadoop/core/ 
>  I see 0.20.1 has been sitting there since 01-Sep-2009.

1 Sep 2009 was when I rolled the release candidate. I pushed the  
documentation changes yesterday, so they should be visible today. When  
they are visible, I'll send the announcement out. The 0.20.1 release  
is looking like a stable release and if I was setting up a cluster,  
I'd use it.

-- Owen

From common-user-return-17489-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 21:41:58 2009
Return-Path: <common-user-return-17489-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 76528 invoked from network); 15 Sep 2009 21:41:58 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 21:41:58 -0000
Received: (qmail 19451 invoked by uid 500); 15 Sep 2009 21:41:54 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 19298 invoked by uid 500); 15 Sep 2009 21:41:53 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 19211 invoked by uid 99); 15 Sep 2009 21:41:53 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 21:41:53 +0000
X-ASF-Spam-Status: No, hits=1.2 required=10.0
	tests=SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.210.204] (HELO mail-yx0-f204.google.com) (209.85.210.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 21:41:41 +0000
Received: by yxe42 with SMTP id 42so5976979yxe.31
        for <multiple recipients>; Tue, 15 Sep 2009 14:41:19 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.91.76.5 with SMTP id d5mr4870203agl.68.1253050879535; Tue, 15 
	Sep 2009 14:41:19 -0700 (PDT)
From: Christophe Bisciglia <christophe@cloudera.com>
Date: Tue, 15 Sep 2009 14:40:59 -0700
Message-ID: <69035570909151440i4f3c78baxfb78ba730212ba68@mail.gmail.com>
Subject: Hadoop World: NYC - Speakers and Schedule Up - New: Lightning Talks 
	at Welcome Reception!
To: common-user@hadoop.apache.org, general@hadoop.apache.org, 
	hive-user@hadoop.apache.org, pig-user@hadoop.apache.org, 
	hbase-user <hbase-user@hadoop.apache.org>, zookeeper-user@hadoop.apache.org
Content-Type: text/plain; charset=ISO-8859-1
X-Virus-Checked: Checked by ClamAV on apache.org

Hadoop Fans, we're getting down to the wire for Hadoop World. We
couldn't be happier with how the schedule has come together.

For a full list of speakers and registration details, see
http://www.cloudera.com/hadoop-world-nyc - and if you plan to attend,
register this week, as prices go up $100 after September 21st.

We received nearly 50 submissions, and it was hard to trim this down,
even after creating a 3rd track. To provide more speaking
opportunities and time for the community to share their personal
experiences, Cloudera engineering is hosting a welcome reception with
lightning talks, an open bar, and live entertainment between talks.
There will be no sales or marketing from Cloudera or anyone else, and
talks are limited to 5 minutes to keep things lively. You'll find the
welcome reception in the Roosevelt Grill on the main floor, just off
the hotel lobby.

We'll get started at 6PM on October 1st. We'll also let you
pre-register for the conference so you can skip the line in the
morning.

At the main event, we're particularly excited to hear from Yahoo!
about upcoming API enhancements and security work. The whole team over
there is doing great stuff in this department, and it's features like
this that will help pave the way for serious enterprise adoption of
Hadoop. Facebook is also going to do a deep dive into HDFS
improvements and Hive - other key features for delivering a scalable
platform for a wide variety of data intensive applications.

You'll also hear from leading techologists at traditional enterprises
using Hadoop to solve real business problems today. Of particular note
are VISA on Large Scale Transaction Analysis, IBM on Ad-hoc Web Scale
Analytics, JP Morgan Chase on applications in Financial Services, Booz
Allen on Protein Alignment and Amazon Web Services on Bioinformatics.
These are in addition to all the usual suspects crunching big data in
the web space, and demonstrate how much closer we are to the beginning
of the Hadoop upswing than a plateau. These are exciting times, and we
hope you can all join us.

Cheers,
Christophe and the Cloudera Team

-- 
get hadoop: cloudera.com/hadoop
online training: cloudera.com/hadoop-training
blog: cloudera.com/blog
twitter: twitter.com/cloudera

From common-user-return-17490-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Tue Sep 15 22:53:21 2009
Return-Path: <common-user-return-17490-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 3627 invoked from network); 15 Sep 2009 22:53:21 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 15 Sep 2009 22:53:21 -0000
Received: (qmail 29069 invoked by uid 500); 15 Sep 2009 22:53:18 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 29008 invoked by uid 500); 15 Sep 2009 22:53:18 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 28998 invoked by uid 99); 15 Sep 2009 22:53:18 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 22:53:18 +0000
X-ASF-Spam-Status: No, hits=3.7 required=10.0
	tests=HTML_MESSAGE,NORMAL_HTTP_TO_IP,SPF_PASS,WEIRD_PORT
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of zeevmisc@gmail.com designates 209.85.222.193 as permitted sender)
Received: from [209.85.222.193] (HELO mail-pz0-f193.google.com) (209.85.222.193)
    by apache.org (qpsmtpd/0.29) with ESMTP; Tue, 15 Sep 2009 22:53:08 +0000
Received: by pzk31 with SMTP id 31so3802207pzk.23
        for <common-user@hadoop.apache.org>; Tue, 15 Sep 2009 15:52:47 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:date:message-id:subject
         :from:to:content-type;
        bh=ZVcgq0f8ruYRR1w55pSjTN/egTB6LXiWoP07AB/XUrg=;
        b=vazbAToJF+bPVU/aa6bybRrcvOnaJv1ALxE/EoWcYVeI5H6YYJePeygM0ATMGUQvlU
         2/3ZhCERBBXeb0UXpQmmRBWA9Vmr5fMLRfTiCWU2s1lXxEM0kiltcnRNIj9E1Lc0/uWc
         OjRoVN2q1xaVx+9WWtnYPGGkF+mw7xxC4MAfA=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=GlcFIzY+KyaRz+bbyRjO0+6bqjG9sgmTzWSjsqbCfpedM900bIB6oa3HJAYr1jb1q4
         1MXjrebLYroIf0TVpz/nVC6yjL0ou/Pp8CLxdEzBnXh1B+Vz4418gnzZ5IXgPv7L9GMY
         0AdDMN0h54o40TpNy9KnF5Q+HeHHNh4Pw50gI=
MIME-Version: 1.0
Received: by 10.143.24.42 with SMTP id b42mr660489wfj.237.1253055167705; Tue, 
	15 Sep 2009 15:52:47 -0700 (PDT)
Date: Tue, 15 Sep 2009 15:52:47 -0700
Message-ID: <abdb77f90909151552p9e50da5k811ad7b616ca6378@mail.gmail.com>
Subject: namenode errors
From: Zeev Milin <zeevmisc@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=001636e1f7ab27b3ca0473a5a4aa
X-Virus-Checked: Checked by ClamAV on apache.org

--001636e1f7ab27b3ca0473a5a4aa
Content-Type: text/plain; charset=ISO-8859-1

I see lots of errors (below) in the namenode.log file. Fsck is clean and
restart did not help. Hadoop version is 0.19.1. If anyone has run into this
and resolved it already please let me know.

Thanks!


2009-09-15 18:13:58,783 INFO
org.apache.hadoop.hdfs.server.namenode.FSNamesystem:
commitBlockSynchronization(lastblock=blk_-1745012098763993903_2457112,
newgenerationstamp=0, newlength=0, newtargets=[])
2009-09-15 18:13:58,783 INFO org.apache.hadoop.ipc.Server: IPC Server
handler 18 on 8080, call
commitBlockSynchronization(blk_-1745012098763993903_2457112, 0, 0, false,
true, [Lorg.apache.hadoop.hdfs.protocol.DatanodeID;@6fa0b772) from
10.60.32.172:35019: error: java.io.IOException: Block
(=blk_-1745012098763993903_2457112) not found
java.io.IOException: Block (=blk_-1745012098763993903_2457112) not found
    at
org.apache.hadoop.hdfs.server.namenode.FSNamesystem.commitBlockSynchronization(FSNamesystem.java:1898)
    at
org.apache.hadoop.hdfs.server.namenode.NameNode.commitBlockSynchronization(NameNode.java:410)
    at sun.reflect.GeneratedMethodAccessor34.invoke(Unknown Source)
    at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:452)
    at org.apache.hadoop.ipc.Server$Handler.run(Server.java:892)

--001636e1f7ab27b3ca0473a5a4aa--

From common-user-return-17491-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 16 00:44:28 2009
Return-Path: <common-user-return-17491-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 37750 invoked from network); 16 Sep 2009 00:44:28 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Sep 2009 00:44:28 -0000
Received: (qmail 17918 invoked by uid 500); 16 Sep 2009 00:44:25 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 17832 invoked by uid 500); 16 Sep 2009 00:44:25 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 17822 invoked by uid 99); 16 Sep 2009 00:44:25 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2009 00:44:25 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [209.85.222.195] (HELO mail-pz0-f195.google.com) (209.85.222.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2009 00:44:12 +0000
Received: by pzk33 with SMTP id 33so3809666pzk.24
        for <common-user@hadoop.apache.org>; Tue, 15 Sep 2009 17:43:50 -0700 (PDT)
Received: by 10.115.80.18 with SMTP id h18mr15063095wal.53.1253061830554;
        Tue, 15 Sep 2009 17:43:50 -0700 (PDT)
Received: from ?192.168.42.100? (75-101-123-136.dsl.static.sonic.net [75.101.123.136])
        by mx.google.com with ESMTPS id 20sm1260419pxi.4.2009.09.15.17.43.48
        (version=SSLv3 cipher=RC4-MD5);
        Tue, 15 Sep 2009 17:43:49 -0700 (PDT)
Message-ID: <4AB034B9.5060801@cloudera.com>
Date: Tue, 15 Sep 2009 17:43:37 -0700
From: Amr Awadallah <aaa@cloudera.com>
Organization: Cloudera, Inc.
User-Agent: Thunderbird 2.0.0.23 (Windows/20090812)
MIME-Version: 1.0
To: common-user@hadoop.apache.org
Subject: Re: HadoopDB and similar stuff
References: <4AAEAFBB.90709@Gmail.com> <c7d45fc70909141540n7cc7e755ibb8a25a360c7f8f3@mail.gmail.com> 	<c9118d4c0909142321y1d4d725fo7e1509d62cb9ddb9@mail.gmail.com> 	<c7d45fc70909150042x8e8eq259eeba593e7a890@mail.gmail.com> 	<c9118d4c0909150728q57cfc3b0hb6ff983994028d07@mail.gmail.com> <c7d45fc70909150919k70364e60o932a301b4aeec262@mail.gmail.com>
In-Reply-To: <c7d45fc70909150919k70364e60o932a301b4aeec262@mail.gmail.com>
Content-Type: multipart/alternative;
 boundary="------------040602070400030503050106"
X-Virus-Checked: Checked by ClamAV on apache.org

--------------040602070400030503050106
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: 7bit

Ted,

  Just out of curiosity, did you use asterdata or greenplum before? Is 
their SQL 100% compliant with SQL92? (not to mention SQL2008)

-- amr

Ted Dunning wrote:
> On Tue, Sep 15, 2009 at 7:28 AM, Jeff Hammerbacher <hammer@cloudera.com>wrote:
>
>   
>> ... I would like to correct any
>> misperceptions which may exist in the community.
>>
>> 1) HiveQL intends to include SQL as a subset of its syntax: see the VLDB
>> paper for more (
>> http://www.slideshare.net/namit_jain/hive-demo-paper-at-vldb-2009). As it
>> stands today, a reasonable subset of SQL is already supported, and most
>> users of MySQL, Oracle, or PostgreSQL will be able to work comfortably in
>> Hive today.
>>
>>     
>
> Note the key word "intends".  That indicates future tense.
>
> As you say, it is a reasonable subset.  I don't know the I am sure that
> there are wide swaths of SQL semantics that are not implemented.
> Transactions, rollback, fancy outer joins, exactly correct syntax for null,
> row updates and deletions are areas that I would expect deficiencies
> relative to SQL.  Conversely, I doubt that there are many Hive programs that
> could run without major alterations on conventional SQL engines.
>
> The result is that HiveQL != SQL.  It is more correct to say HiveQL =kinda=
> SQL.
>
> 2) There's a patch for SQL support in Pig:
>   
>> http://issues.apache.org/jira/browse/PIG-824.
>>
>>     
>
> More future tense.  This is hardly part of Pig at this point.  I expect that
> this will come closer to SQL than the current HiveQL, but it is likely to
> not have key semantic properties due to the properties of the substrate and
> also have some important additions.
>
> Every database implements a different dialect of SQL (e.g. express a Top K
>   
>> query in your favorite database and compare to the rest), and the Pig and
>> HiveQL dialects are as valid as any other.
>>     
>
>
> This level of cultural relativism is a bit disingenuous.  My point is that
> you are setting up unreasonable expectations.  MR based systems are
> inherently very different from traditional databases (which is, of course,
> the POINT of having MR).  SQL is very strongly tied to the underlying row
> update and transactional semantics of traditional databases.
>
> I am NOT saying that Hive and Pig are not useful.  For many things, I prefer
> them to SQL-based systems.  I am just saying that they are different
> animals.
>
> I am also NOT saying that Hive and Pig aren't a good way for SQL based
> programmers to transition to map-reduce.  I am just saying that you should
> tell people that Hive and Pig are similar to SQL so you don't have their
> heads explode when they realize that it isn't really SQL.
>
> Remember that many, many people claimed that myIsam tables are not really
> SQL.  Hive is a darned site further from SQL than that.
>
>   

--------------040602070400030503050106--

From common-user-return-17492-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 16 03:57:57 2009
Return-Path: <common-user-return-17492-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 77384 invoked from network); 16 Sep 2009 03:57:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Sep 2009 03:57:57 -0000
Received: (qmail 27057 invoked by uid 500); 16 Sep 2009 03:57:54 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 26846 invoked by uid 500); 16 Sep 2009 03:57:54 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 26836 invoked by uid 99); 16 Sep 2009 03:57:53 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2009 03:57:53 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of tucu00@gmail.com designates 209.85.210.204 as permitted sender)
Received: from [209.85.210.204] (HELO mail-yx0-f204.google.com) (209.85.210.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2009 03:57:44 +0000
Received: by yxe42 with SMTP id 42so6310431yxe.31
        for <common-user@hadoop.apache.org>; Tue, 15 Sep 2009 20:57:23 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type
         :content-transfer-encoding;
        bh=Fu7TdK/KwUjYIWTyTJm/RE8u+BVH3+yBoDd8OmbicHc=;
        b=pPantU1LtpUq+iMt9BWlmp1sJuvK1H0EGRYVAj3atY2r0Ao1uu77j2f8zNNJXfEhK8
         N/mLSBS9U90h0nuUdx6oGHHRJ+iULWV5HAuftAoaecNnddazA/bNoJGY2GAPVBDa/LlP
         Kf11sy/djKBD0IoBij3YddGzNYHtGX4Q/fALQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type:content-transfer-encoding;
        b=vq9G59OOh0LpB/qpiieGzXUDkD37iWyuN0dVsxx1phkqD+vPuAK9dsIC/sGfYfj996
         7kM75s3p5v9ZkPVpFCTnVTjfolZ0lijyyOedZOPVMW02eJX12e7JcMTmji+0lPOv9mTZ
         Dyxwtkomb3uiQ3Won9KkoIoKvdnz8lLMcDmWs=
MIME-Version: 1.0
Received: by 10.101.81.12 with SMTP id i12mr8433116anl.151.1253073442818; Tue, 
	15 Sep 2009 20:57:22 -0700 (PDT)
In-Reply-To: <6a3f6a4b0909150352v164872cdn4b7fac3d022d8410@mail.gmail.com>
References: <6a3f6a4b0909090906g68575ccem58a10d588984e471@mail.gmail.com>
	 <6a3f6a4b0909150352v164872cdn4b7fac3d022d8410@mail.gmail.com>
Date: Wed, 16 Sep 2009 09:27:22 +0530
Message-ID: <b76e3e240909152057m2265baber4cffd50cee59e48a@mail.gmail.com>
Subject: Re: MultipleTextOutputFormat splitting output into different 
	directories.
From: Alejandro Abdelnur <tucu00@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable
X-Virus-Checked: Checked by ClamAV on apache.org

Using the MultipleOutputs (
http://hadoop.apache.org/common/docs/r0.19.0/api/org/apache/hadoop/mapred/l=
ib/MultipleOutputs.html
) you can split data in different files in the outputdir.

After your job finishes you can move the files to different directories.

The benefit of this doing this is that task failures and speculative
execution will also take into account all these files and your data
will be consistent. If you are writing to different directories then
you have to handle this by hand.

A

On Tue, Sep 15, 2009 at 4:22 PM, Aviad sela <sela.stam@gmail.com> wrote:
> Is any body interested ,addressed such probelm.
> Or does it seem to be esoteric usage ?
>
>
>
>
> On Wed, Sep 9, 2009 at 7:06 PM, Aviad sela <sela.stam@gmail.com> wrote:
>
>> =A0I am using Hadoop 0.19.1
>>
>> I attempt to split an input into multiple directories.
>> I don't know in advance how many directories exists.
>> I don't know in advance what is the directory depth.
>> I expect that under each such directory a file exists with all availble
>> records having the same key permutation
>> found in the job.
>>
>> If currently each reducer produce a single output i.e. PART-0001
>> I would like to create as many directory necessary taking the following
>> pattern:
>>
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0key1 / key2/ .../ keyN/ PART-0001
>>
>> where the =A0"key?" =A0may have different values for each input record.
>> different record may results with a different path requested:
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 key1a/key2b/PART-0001
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 key1c/key2d/key3e/PART-0001
>> to keep it simple, during each job we may expect the same depth from eac=
h
>> record.
>>
>> I assume that the input records imply that each reduce will produce seve=
ral
>> hundreds of such directories.
>> (Indeed this strongly depends on the input record semantic).
>>
>>
>> The MAP part reads a record,following some logic, assign a key like :
>> KEY_A, KEY_B
>> The MAP Value is the original input line.
>>
>>
>> For The reducer part I assign the IdentityReducer.
>> However have set :
>>
>> =A0 =A0 jobConf.setReducerClass(IdentityReducer.
>> *class*);
>>
>> =A0 =A0 jobConf.setOutputFormat(MyTextOutputFormat.*class*);
>>
>>
>>
>> Where the MyTextOutputFormat =A0extends MultipleTextOutputFormat, and
>> implements:
>>
>> =A0 =A0 protected String generateFileNameForKeyValue(K key, V value, Str=
ing
>> name)
>> =A0 =A0 {
>> =A0 =A0 =A0 =A0 String keyParts[] =3D key.toString().split(",");
>> =A0 =A0 =A0 =A0 Path finalPath =3D null;
>> =A0 =A0 =A0 =A0 // Build the directory structure comprised of the Key pa=
rts
>> =A0 =A0 =A0 =A0for (int i=3D0; i < keyParts.length; i++)
>> =A0 =A0 =A0 =A0{
>> =A0 =A0 =A0 =A0 =A0 =A0 String part =3D keyParts[i].trim();
>> =A0 =A0 =A0 =A0 =A0 =A0if =A0(false =3D=3D "".equals(part))
>> =A0 =A0 =A0 =A0 =A0 =A0{
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0if (null =3D=3D finalPath)
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 finalPath =3D new Pa=
th(part);
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 else
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 {
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 finalPath =3D new Path(f=
inalPath, part);
>> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 }
>> =A0 =A0 =A0 =A0 =A0 =A0}
>> =A0 =A0 =A0 =A0 } //end of for
>>
>> =A0 =A0 =A0 =A0String fileName =3D generateLeafFileName(name);
>> =A0 =A0 =A0 =A0finalPath =3D new Path(finalPath, fileName);
>>
>> =A0 =A0 =A0 =A0return finalPath.toString();
>> =A0} //generatedFileNameKeyValue
>> During execution I have seen the reduce attempts does create the followi=
ng
>> path under the output path:
>>
>> "/user/hadoop/test_rep01/_temporary/_attempt_200909080349_0013_r_000000_=
0/KEY_A/KEY_B/part-00000"
>> =A0 =A0However, the file was empty.
>>
>>
>>
>> The job fails at the end with the the following exceptions found in the
>> task log:
>>
>> 2009-09-09 11:19:49,653 INFO org.apache.hadoop.hdfs.DFSClient: Exception=
 in
>> createBlockOutputStream java.io.IOException: Bad connect ack with
>> firstBadLink 9.148.30.71:50010
>> 2009-09-09 11:19:49,654 INFO org.apache.hadoop.hdfs.DFSClient: Abandonin=
g
>> block blk_-6138647338595590910_39383
>> 2009-09-09 11:19:55,659 WARN org.apache.hadoop.hdfs.DFSClient: DataStrea=
mer
>> Exception: java.io.IOException: Unable to create new block.
>> at
>> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.nextBlockOutputStream(D=
FSClient.java:2722)
>> at
>> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.access$2000(DFSClient.j=
ava:1996)
>> at
>> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream$DataStreamer.run(DFSCli=
ent.java:2183)
>>
>> 2009-09-09 11:19:55,659 WARN org.apache.hadoop.hdfs.DFSClient: Error
>> Recovery for block blk_-6138647338595590910_39383 bad datanode[1] nodes =
=3D=3D
>> null
>> 2009-09-09 11:19:55,660 WARN org.apache.hadoop.hdfs.DFSClient: Could not
>> get block locations. Source file
>> "/user/hadoop/test_rep01/_temporary/_attempt_200909080349_0013_r_000002_=
0/KEY_A/KEY_B/part-00002"
>> - Aborting...
>> 2009-09-09 11:19:55,686 WARN org.apache.hadoop.mapred.TaskTracker: Error
>> running child
>> java.io.IOException: Bad connect ack with firstBadLink 9.148.30.71:50010
>> at
>> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.createBlockOutputStream=
(DFSClient.java:2780)
>> at
>> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.nextBlockOutputStream(D=
FSClient.java:2703)
>> at
>> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.access$2000(DFSClient.j=
ava:1996)
>> at
>> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream$DataStreamer.run(DFSCli=
ent.java:2183)
>> 2009-09-09 11:19:55,688 INFO org.apache.hadoop.mapred.TaskRunner: Runnni=
ng
>> cleanup for the task
>>
>>
>> The Command line also writes:
>>
>> 09/09/09 11:24:06 INFO mapred.JobClient: Task Id :
>> attempt_200909080349_0013_r_000003_2, Status : FAILED
>> java.io.IOException: Bad connect ack with firstBadLink 9.148.30.80:50010
>> =A0 =A0 =A0 =A0 at
>> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.createBlockOutputStream=
(DFSClient.java:2780)
>> =A0 =A0 =A0 =A0 at
>> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.nextBlockOutputStream(D=
FSClient.java:2703)
>> =A0 =A0 =A0 =A0 at
>> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.access$2000(DFSClient.j=
ava:1996)
>> =A0 =A0 =A0 =A0 at
>> org.apache.hadoop.hdfs.DFSClient$DFSOutputStream$DataStreamer.run(DFSCli=
ent.java:2183)
>>
>>
>>
>> Any Ideas how to support such a scenario
>>
>

From common-user-return-17493-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 16 05:10:48 2009
Return-Path: <common-user-return-17493-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 90006 invoked from network); 16 Sep 2009 05:10:47 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Sep 2009 05:10:47 -0000
Received: (qmail 67707 invoked by uid 500); 16 Sep 2009 05:10:45 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 67634 invoked by uid 500); 16 Sep 2009 05:10:45 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Delivered-To: moderator for common-user@hadoop.apache.org
Received: (qmail 63868 invoked by uid 99); 16 Sep 2009 04:52:01 -0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of shashankagarwal1706@gmail.com designates 209.85.216.200 as permitted sender)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:from:date:message-id
         :subject:to:content-type;
        bh=vYIKeeLIug/N0bBG3rGdw8uO6xisrkP77CM50bK9dOg=;
        b=xeaX17fmmcDSxbBs75NNsTl1xnJahVHm47ZHo1qMkUB0x4J0vOUfulUJA5hoV/uWKX
         EgU5+U4Bubb/HS+AQTQ1ihNbvOg1RDTFNjThUup2YUL6r8yPP5QLZhU4TxzvnAS1TZtz
         BIUNhqvt6VkF3LDsIlMulS5m7EsEsppcTNCoo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:from:date:message-id:subject:to:content-type;
        b=RXIQoFIRxztHMh8VVYXrP3Gy5nJy48sjHJDjjyJbVgwV3HXybZvIK33MntkqPGMXYL
         +PLmysBWAGWhdPjN/bFUezNHRCHikaBpXAKPV3cMHyPJ6k5Tc7/JI8mHfKuVkl/KnK84
         lqaZU4pD35U6iL9mBZmPp9nQfdh0puogfJKIQ=
MIME-Version: 1.0
From: Shashank Agarwal <shashankagarwal1706@gmail.com>
Date: Tue, 15 Sep 2009 21:51:15 -0700
Message-ID: <965314eb0909152151v7dd0a36bkf7781d0c76ea54e4@mail.gmail.com>
Subject: Reg: Error with "ant compile-contrib -Dlibhdfs=1 -Dfusedfs=1"
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=000e0cd17f7afdb55c0473aaa6e4
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd17f7afdb55c0473aaa6e4
Content-Type: text/plain; charset=ISO-8859-1

Hi,

I am trying to run this build target with libhdfs and fusedfs flags. But the
build fails and I get
----------------------
/home/shashank/Desktop/LabWork/hadoop-0.20.0/build.xml:497: The following
error occurred while executing this line:
/home/shashank/Desktop/LabWork/hadoop-0.20.0/src/contrib/build.xml:30: The
following error occurred while executing this line:
/home/shashank/Desktop/LabWork/hadoop-0.20.0/src/contrib/fuse-dfs/build.xml:54:
exec returned: 1
---------------------------------

I visited several threads for the fix, but nothing worked.
Based on suggestions I did
"ant compile-c++-libhdfs -Dislibhdfs=1" followed by ant package.
And then "ant compile-contrib -Dlibhdfs=1 -Dfusedfs=1"
Everything worked fine, but I got stuck on the above mentioned error.
Some threads suggested that I should includ the /usr/local/lib in
/etc/ld.so.conf . I did that as well, but no luck.

I tried on hadoop 0.20.0 and 0.20.1.

Can anyone help me with this.

Thanks

--000e0cd17f7afdb55c0473aaa6e4--

From common-user-return-17494-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 16 05:55:32 2009
Return-Path: <common-user-return-17494-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 98372 invoked from network); 16 Sep 2009 05:55:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Sep 2009 05:55:32 -0000
Received: (qmail 93636 invoked by uid 500); 16 Sep 2009 05:55:26 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 93529 invoked by uid 500); 16 Sep 2009 05:55:26 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 93512 invoked by uid 500); 16 Sep 2009 05:55:26 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 93507 invoked by uid 99); 16 Sep 2009 05:55:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2009 05:55:26 +0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=NO_RDNS_DOTCOM_HELO,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [216.145.54.171] (HELO mrout1.yahoo.com) (216.145.54.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2009 05:55:13 +0000
Received: from EGL-EX07CAS01.ds.corp.yahoo.com (egl-ex07cas01.eglbp.corp.yahoo.com [203.83.248.208])
	by mrout1.yahoo.com (8.13.6/8.13.6/y.out) with ESMTP id n8G5sk40010599;
	Tue, 15 Sep 2009 22:54:47 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; s=serpent; d=yahoo-inc.com; c=nofws; q=dns;
	h=received:from:to:date:subject:thread-topic:thread-index:
	message-id:references:in-reply-to:accept-language:
	content-language:x-ms-has-attach:x-ms-tnef-correlator:acceptlanguage:
	content-type:content-transfer-encoding:mime-version;
	b=Pjm62foivRm6PPq8w5c8d9MxmagfHNC121qPCAiX7IgaV+cZi+Iu5Hfo3hxXGqrB
Received: from EGL-EX07VS01.ds.corp.yahoo.com ([203.83.248.206]) by
 EGL-EX07CAS01.ds.corp.yahoo.com ([203.83.248.215]) with mapi; Wed, 16 Sep
 2009 11:24:46 +0530
From: Amogh Vasekar <amogh@yahoo-inc.com>
To: "common-user@hadoop.apache.org" <common-user@hadoop.apache.org>,
        "core-user@hadoop.apache.org" <core-user@hadoop.apache.org>
Date: Wed, 16 Sep 2009 11:23:14 +0530
Subject: RE: about hadoop jvm allocation in job excution
Thread-Topic: about hadoop jvm allocation in job excution
Thread-Index: Aco2KWRkpyKK+sbLSduwTz6Hoc2pzwAZ9GLQ
Message-ID: <616DA47B2EF5B944B91846785B512FF4CFC727F9EA@EGL-EX07VS01.ds.corp.yahoo.com>
References: <25458201.post@talk.nabble.com>
In-Reply-To: <25458201.post@talk.nabble.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,
Funny enough was looking at it just yesterday.
http://hadoop.apache.org/common/docs/r0.20.0/mapred_tutorial.html#Task+JVM+=
Reuse


Thanks,
Amogh

-----Original Message-----
From: Zhimin [mailto:wangzm@cs.umb.edu]=20
Sent: Tuesday, September 15, 2009 10:53 PM
To: core-user@hadoop.apache.org
Subject: about hadoop jvm allocation in job excution


We have a project which needs to support similarity queries against items
from a huge amount of data.  One approach we have tried is to use Hbase as
the data repository and Hadoop as the query execution engine. We adopted
Hadoop because Map-Reduce is a very good model of our underlying task and
the programming was straightforward. However, we found that Hadoop will
always allocate a new JVM for each individual task on a node. This is
inefficient for us because in our case the whole Hadoop platform is
dedicated to some relatively stable  parametrized querries, and security an=
d
strict isolation of different tasks is not our main concern. To save the
task setup time, I wonder if there are some existing mechanism in Hadoop or
some extension of Hadoop in other open source projects that can let us
reside our classes in a JVM on the job node, with task nodes waiting for
requests. =20


--=20
View this message in context: http://www.nabble.com/about-hadoop-jvm-alloca=
tion-in-job-excution-tp25458201p25458201.html
Sent from the Hadoop core-user mailing list archive at Nabble.com.


From common-user-return-17495-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 16 05:55:32 2009
Return-Path: <common-user-return-17495-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 98379 invoked from network); 16 Sep 2009 05:55:32 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Sep 2009 05:55:32 -0000
Received: (qmail 93660 invoked by uid 500); 16 Sep 2009 05:55:26 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 93531 invoked by uid 500); 16 Sep 2009 05:55:26 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 93507 invoked by uid 99); 16 Sep 2009 05:55:26 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2009 05:55:26 +0000
X-ASF-Spam-Status: No, hits=2.0 required=10.0
	tests=NO_RDNS_DOTCOM_HELO,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [216.145.54.171] (HELO mrout1.yahoo.com) (216.145.54.171)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2009 05:55:13 +0000
Received: from EGL-EX07CAS01.ds.corp.yahoo.com (egl-ex07cas01.eglbp.corp.yahoo.com [203.83.248.208])
	by mrout1.yahoo.com (8.13.6/8.13.6/y.out) with ESMTP id n8G5sk40010599;
	Tue, 15 Sep 2009 22:54:47 -0700 (PDT)
DomainKey-Signature: a=rsa-sha1; s=serpent; d=yahoo-inc.com; c=nofws; q=dns;
	h=received:from:to:date:subject:thread-topic:thread-index:
	message-id:references:in-reply-to:accept-language:
	content-language:x-ms-has-attach:x-ms-tnef-correlator:acceptlanguage:
	content-type:content-transfer-encoding:mime-version;
	b=Pjm62foivRm6PPq8w5c8d9MxmagfHNC121qPCAiX7IgaV+cZi+Iu5Hfo3hxXGqrB
Received: from EGL-EX07VS01.ds.corp.yahoo.com ([203.83.248.206]) by
 EGL-EX07CAS01.ds.corp.yahoo.com ([203.83.248.215]) with mapi; Wed, 16 Sep
 2009 11:24:46 +0530
From: Amogh Vasekar <amogh@yahoo-inc.com>
To: "common-user@hadoop.apache.org" <common-user@hadoop.apache.org>,
        "core-user@hadoop.apache.org" <core-user@hadoop.apache.org>
Date: Wed, 16 Sep 2009 11:23:14 +0530
Subject: RE: about hadoop jvm allocation in job excution
Thread-Topic: about hadoop jvm allocation in job excution
Thread-Index: Aco2KWRkpyKK+sbLSduwTz6Hoc2pzwAZ9GLQ
Message-ID: <616DA47B2EF5B944B91846785B512FF4CFC727F9EA@EGL-EX07VS01.ds.corp.yahoo.com>
References: <25458201.post@talk.nabble.com>
In-Reply-To: <25458201.post@talk.nabble.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

Hi,
Funny enough was looking at it just yesterday.
http://hadoop.apache.org/common/docs/r0.20.0/mapred_tutorial.html#Task+JVM+=
Reuse


Thanks,
Amogh

-----Original Message-----
From: Zhimin [mailto:wangzm@cs.umb.edu]=20
Sent: Tuesday, September 15, 2009 10:53 PM
To: core-user@hadoop.apache.org
Subject: about hadoop jvm allocation in job excution


We have a project which needs to support similarity queries against items
from a huge amount of data.  One approach we have tried is to use Hbase as
the data repository and Hadoop as the query execution engine. We adopted
Hadoop because Map-Reduce is a very good model of our underlying task and
the programming was straightforward. However, we found that Hadoop will
always allocate a new JVM for each individual task on a node. This is
inefficient for us because in our case the whole Hadoop platform is
dedicated to some relatively stable  parametrized querries, and security an=
d
strict isolation of different tasks is not our main concern. To save the
task setup time, I wonder if there are some existing mechanism in Hadoop or
some extension of Hadoop in other open source projects that can let us
reside our classes in a JVM on the job node, with task nodes waiting for
requests. =20


--=20
View this message in context: http://www.nabble.com/about-hadoop-jvm-alloca=
tion-in-job-excution-tp25458201p25458201.html
Sent from the Hadoop core-user mailing list archive at Nabble.com.


From common-user-return-17496-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 16 06:25:15 2009
Return-Path: <common-user-return-17496-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 11664 invoked from network); 16 Sep 2009 06:25:15 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Sep 2009 06:25:15 -0000
Received: (qmail 19313 invoked by uid 500); 16 Sep 2009 06:25:12 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 19211 invoked by uid 500); 16 Sep 2009 06:25:12 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 19201 invoked by uid 99); 16 Sep 2009 06:25:12 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2009 06:25:12 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ezotrank@gmail.com designates 209.85.218.214 as permitted sender)
Received: from [209.85.218.214] (HELO mail-bw0-f214.google.com) (209.85.218.214)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2009 06:25:03 +0000
Received: by bwz10 with SMTP id 10so3417179bwz.29
        for <common-user@hadoop.apache.org>; Tue, 15 Sep 2009 23:24:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=6V0Zj5wbNOHwiwKRbnoF4L8OG1gO+Qog3m8UVC1tgVQ=;
        b=gRYgT+yQBp17csvFVBjkUq+V28jAcilX4jaR1igXcCX++qEwv4Kn+vIooeBM/gUJDV
         NHbZHBcQVrlFffqb6vJD5oSQuvzJ5on/FN5raGcI5UGW+9BlQmyNGKPQ7Z3aEOYoNbGn
         pGPFKK6WlD1zB1yg9ktb7uw1XhrbEUuFQf+No=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=I2qrYeyF7o+RcERfVmq2VWJJDb5aWpRgMpEnH9/ZxlW+iA3VPiKUa8KVG7g6KGix1m
         G4QHUkrgxclUZ5vMjumk8kMS5+23V5JpHdVwuG9JWkzthC56B74TDGEyZN1EajOtlj7h
         2EHHJs8iANySMgz0ei0eo/OP5cIFd8ZTbRfm0=
MIME-Version: 1.0
Received: by 10.223.4.148 with SMTP id 20mr2978955far.0.1253082282596; Tue, 15 
	Sep 2009 23:24:42 -0700 (PDT)
In-Reply-To: <c9118d4c0909150718w24ca262cr9b33b135e833736@mail.gmail.com>
References: <bbb90ef70909150141v69d2364ex6cb61d4fbb378489@mail.gmail.com> 
	<c9118d4c0909150718w24ca262cr9b33b135e833736@mail.gmail.com>
From: Maxim Kremenev <ezotrank@gmail.com>
Date: Wed, 16 Sep 2009 09:24:22 +0300
Message-ID: <bbb90ef70909152324i1bb9a45es7efdba1ad4394f95@mail.gmail.com>
Subject: Re: connect to hdfs
To: common-user@hadoop.apache.org
Content-Type: text/plain; charset=UTF-8
X-Virus-Checked: Checked by ClamAV on apache.org

Thx. But link to ruby-rb don't work(also python too)

On Tue, Sep 15, 2009 at 5:18 PM, Jeff Hammerbacher <hammer@cloudera.com> wrote:
> Hey Maxim,
> You may want to try the Ruby bindings for the Thrift client for HDFS; more
> information is at http://wiki.apache.org/hadoop/HDFS-APIs.
>
> Regards,
> Jeff
>
> On Tue, Sep 15, 2009 at 1:41 AM, Maxim Kremenev <ezotrank@gmail.com> wrote:
>
>> Hay folks.
>> I find a way to connect my app on Ruby on Rails to hdfs, today I use
>> system call, but it's a bad. Somebody know a solution for my problem?
>> Maybe somebody know interesting libs on ruby, who can help me connect
>> my rails to hdsf or have a some expirience?
>>
>> --
>> Maxim Kremenev
>>
>> e-mail: ezotrank@gmail.com
>> icq: 300301802
>> skype: goof89
>> m. phone: +7-911-4502511
>>
>



-- 
Maxim Kremenev

e-mail: ezotrank@gmail.com
icq: 300301802
skype: goof89
m. phone: +7-911-4502511

From common-user-return-17497-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 16 07:09:57 2009
Return-Path: <common-user-return-17497-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 27201 invoked from network); 16 Sep 2009 07:09:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Sep 2009 07:09:57 -0000
Received: (qmail 63534 invoked by uid 500); 16 Sep 2009 07:09:55 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 63446 invoked by uid 500); 16 Sep 2009 07:09:54 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 63436 invoked by uid 99); 16 Sep 2009 07:09:54 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2009 07:09:54 +0000
X-ASF-Spam-Status: No, hits=-1.8 required=10.0
	tests=HTML_MESSAGE,RCVD_IN_DNSWL_MED,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: local policy)
Received: from [134.134.136.20] (HELO mga02.intel.com) (134.134.136.20)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2009 07:09:42 +0000
Received: from orsmga001.jf.intel.com ([10.7.209.18])
  by orsmga101.jf.intel.com with ESMTP; 15 Sep 2009 23:55:15 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="4.44,396,1249282800"; 
   d="scan'208,217";a="551002174"
Received: from irsmsx601.ger.corp.intel.com ([163.33.7.164])
  by orsmga001.jf.intel.com with ESMTP; 16 Sep 2009 00:08:35 -0700
Received: from irsmsx501.ger.corp.intel.com (163.33.7.70) by
 irsmsx601.ger.corp.intel.com (163.33.7.164) with Microsoft SMTP Server (TLS)
 id 8.1.358.0; Wed, 16 Sep 2009 08:09:17 +0100
Received: from hasmsx601.ger.corp.intel.com (10.184.10.125) by
 irsmsx501.ger.corp.intel.com (163.33.7.70) with Microsoft SMTP Server (TLS)
 id 8.1.358.0; Wed, 16 Sep 2009 08:09:17 +0100
Received: from hasmsx504.ger.corp.intel.com ([10.184.10.123]) by
 hasmsx601.ger.corp.intel.com ([10.184.10.125]) with mapi; Wed, 16 Sep 2009
 10:09:15 +0300
From: "Touretsky, Gregory" <gregory.touretsky@intel.com>
To: "common-user@hadoop.apache.org" <common-user@hadoop.apache.org>
Date: Wed, 16 Sep 2009 10:09:13 +0300
Subject: Stretched HDFS cluster
Thread-Topic: Stretched HDFS cluster
Thread-Index: Aco2nJhntjAtXstLTWiFHFoB0iXEMg==
Message-ID: <6F5C1D715B2DA5498A628E6B9C124F04014526A203@hasmsx504.ger.corp.intel.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US
Content-Type: multipart/alternative;
	boundary="_000_6F5C1D715B2DA5498A628E6B9C124F04014526A203hasmsx504gerc_"
MIME-Version: 1.0
X-Virus-Checked: Checked by ClamAV on apache.org

--_000_6F5C1D715B2DA5498A628E6B9C124F04014526A203hasmsx504gerc_
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi,

    Does anyone have an experience running HDFS cluster stretched over high=
-latency WAN connections?
Any specific concerns/options/recommendations?
I'm trying to setup the HDFS cluster with the nodes located in the US, Isra=
el and India - considering it as a potential solution for cross-site data s=
haring...

Regards,
Gregory Touretsky
Intel IT - Strategic Solutions and Architecture
Systems Analyst
gregory.touretsky AT intel.com
(+) 972-4-865-6377, Fax: 04-865-5999
iNET: 465-6377, M/S: IDC10-2.3


---------------------------------------------------------------------
Intel Israel (74) Limited

This e-mail and any attachments may contain confidential material for
the sole use of the intended recipient(s). Any review or distribution
by others is strictly prohibited. If you are not the intended
recipient, please contact the sender and delete all copies.

--_000_6F5C1D715B2DA5498A628E6B9C124F04014526A203hasmsx504gerc_--


From common-user-return-17498-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 16 07:15:57 2009
Return-Path: <common-user-return-17498-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 32183 invoked from network); 16 Sep 2009 07:15:57 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Sep 2009 07:15:57 -0000
Received: (qmail 72919 invoked by uid 500); 16 Sep 2009 07:15:55 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 72819 invoked by uid 500); 16 Sep 2009 07:15:54 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 72809 invoked by uid 99); 16 Sep 2009 07:15:54 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2009 07:15:54 +0000
X-ASF-Spam-Status: No, hits=3.4 required=10.0
	tests=HTML_MESSAGE,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [209.85.210.204] (HELO mail-yx0-f204.google.com) (209.85.210.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2009 07:15:43 +0000
Received: by yxe42 with SMTP id 42so6443647yxe.31
        for <common-user@hadoop.apache.org>; Wed, 16 Sep 2009 00:15:21 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.90.149.6 with SMTP id w6mr5169030agd.90.1253085321747; Wed, 16 
	Sep 2009 00:15:21 -0700 (PDT)
In-Reply-To: <6F5C1D715B2DA5498A628E6B9C124F04014526A203@hasmsx504.ger.corp.intel.com>
References: <6F5C1D715B2DA5498A628E6B9C124F04014526A203@hasmsx504.ger.corp.intel.com>
From: Todd Lipcon <todd@cloudera.com>
Date: Wed, 16 Sep 2009 00:15:01 -0700
Message-ID: <45f85f70909160015n2509ce59q6a734223a1fa3a4a@mail.gmail.com>
Subject: Re: Stretched HDFS cluster
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=00163630f0d379e1f60473aca98b
X-Virus-Checked: Checked by ClamAV on apache.org

--00163630f0d379e1f60473aca98b
Content-Type: text/plain; charset=ISO-8859-1

Hi Gregory,

This is way outside the design parameters of HDFS. It may work, but you are
very likely to run into issues, and I don't think anyone would recommend
this as a solution. More reasonable would be a HDFS cluster spanning two
datacenters within the same metro area (1-2ms latency), but even that isn't
at all common.

For cross-site redundancy of HDFS, the usual solution is using distcp to
make periodic backups between separate clusters.

-Todd

On Wed, Sep 16, 2009 at 12:09 AM, Touretsky, Gregory <
gregory.touretsky@intel.com> wrote:

> Hi,
>
>    Does anyone have an experience running HDFS cluster stretched over
> high-latency WAN connections?
> Any specific concerns/options/recommendations?
> I'm trying to setup the HDFS cluster with the nodes located in the US,
> Israel and India - considering it as a potential solution for cross-site
> data sharing...
>
> Regards,
> Gregory Touretsky
> Intel IT - Strategic Solutions and Architecture
> Systems Analyst
> gregory.touretsky AT intel.com
> (+) 972-4-865-6377, Fax: 04-865-5999
> iNET: 465-6377, M/S: IDC10-2.3
>
>
> ---------------------------------------------------------------------
> Intel Israel (74) Limited
>
> This e-mail and any attachments may contain confidential material for
> the sole use of the intended recipient(s). Any review or distribution
> by others is strictly prohibited. If you are not the intended
> recipient, please contact the sender and delete all copies.
>

--00163630f0d379e1f60473aca98b--

From common-user-return-17499-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 16 07:24:35 2009
Return-Path: <common-user-return-17499-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 34538 invoked from network); 16 Sep 2009 07:24:35 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Sep 2009 07:24:35 -0000
Received: (qmail 83393 invoked by uid 500); 16 Sep 2009 07:24:33 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 83298 invoked by uid 500); 16 Sep 2009 07:24:33 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 83288 invoked by uid 99); 16 Sep 2009 07:24:33 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2009 07:24:33 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of nguyenminhanh@gmail.com designates 209.85.211.183 as permitted sender)
Received: from [209.85.211.183] (HELO mail-yw0-f183.google.com) (209.85.211.183)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2009 07:24:22 +0000
Received: by ywh13 with SMTP id 13so7270060ywh.20
        for <common-user@hadoop.apache.org>; Wed, 16 Sep 2009 00:24:01 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:date:message-id:subject
         :from:to:content-type;
        bh=0G2Kk7oDslwQkEWA0/yGOJWp2QvOANNinztgrR5c6ME=;
        b=qki60Rr2Oee0L1IW7Wd7K/krqgXPmrQAPOPk6dlPcyH7oqSSREqSIC0iKr3zz9b3LC
         BGgjbjbm35SqQz+rkS57TNdex9hkBNy3QILhV4ozo9aPOf38Hd4vhE6gS+Q4bfC9Kxrt
         XaTC3+jIDRdWQY3A2/qZ4EUMD1cr728hAE2gI=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:date:message-id:subject:from:to:content-type;
        b=KN+17h4Hwb0rwzxjoftCB788JqTdOjBBEMy4JbCAUP9qOZ38HVmBuyLl18gmULT58s
         aGHXVzdd+n5kPaLYIS91Gh3HdaSC2ynjcaSYH+3xynTST/2MCOhKMDQ1uShUxhetd4f3
         mm0rNANr3yhn3Flb1xAn/kyLL3Z51SzrQmVgk=
MIME-Version: 1.0
Received: by 10.90.58.2 with SMTP id g2mr5188426aga.73.1253085840629; Wed, 16 
	Sep 2009 00:24:00 -0700 (PDT)
Date: Wed, 16 Sep 2009 02:24:00 -0500
Message-ID: <f90f1ab00909160024x23042861u7f7146e0d55b0a88@mail.gmail.com>
Subject: Need help - Uneven workload distributed to Reducers
From: Anh Nguyen <nguyenminhanh@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=0016363108256760e90473acc84b
X-Virus-Checked: Checked by ClamAV on apache.org

--0016363108256760e90473acc84b
Content-Type: text/plain; charset=ISO-8859-1

Hi all,

I am having some trouble with distributing workload evenly to reducers.

I have 25 reducers and I intentionally created 25 different Map output keys
so that each output set will go to one Reducer.

But in practice, some Reducers get 2 sets and some does not get anything.

I wonder if there is a way to fix this. Perhaps a custom Map output class?

Any help is greatly appreciated.

Thanks,

-- 
----------------------------
Anh Nguyen
http://www.im-nguyen.com

--0016363108256760e90473acc84b--

From common-user-return-17500-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 16 08:00:12 2009
Return-Path: <common-user-return-17500-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 44974 invoked from network); 16 Sep 2009 08:00:12 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Sep 2009 08:00:12 -0000
Received: (qmail 9681 invoked by uid 500); 16 Sep 2009 08:00:09 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 9603 invoked by uid 500); 16 Sep 2009 08:00:09 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 9593 invoked by uid 99); 16 Sep 2009 08:00:09 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2009 08:00:09 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of harish.mallipeddi@gmail.com designates 209.85.222.195 as permitted sender)
Received: from [209.85.222.195] (HELO mail-pz0-f195.google.com) (209.85.222.195)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2009 08:00:00 +0000
Received: by pzk33 with SMTP id 33so4071873pzk.24
        for <common-user@hadoop.apache.org>; Wed, 16 Sep 2009 00:59:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=TkDEARkXmoZUWdAz4+lP42joHgsCGe0YHroJbbPLRI0=;
        b=J8VMNjrdK1rdsFAEQx4sLk+Pg/ZSUmgfY27M6nu/qTy8J2inoEqDjHVWVYB63q9YCz
         93l0RA/OZ4nFdgfJR7n5X00Z3ulvCsrA5QZUhxe1S4ulVVt7cB0B3bvYLsHGEsTJIKaO
         0p5QoouGG2htiYAlZ4JXsn9iXMeRUeesvqFT0=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=JQLS3fGtl9KR1k4YyBV0amBxlw9eKFvrjCkVnuiCTCi/RHF0QcFWCy3g2eHthGfsc8
         MyxWozy0WF6vu2jWb0S+3UDdy2hNWWaazv+DDelJU2AOToC6FmCdEEfq2LQ3WazUH4+h
         2AeMCsbNeInrmJh7wASHt97yG/4bIWu9uH2cM=
MIME-Version: 1.0
Received: by 10.143.129.7 with SMTP id g7mr666377wfn.43.1253087979214; Wed, 16 
	Sep 2009 00:59:39 -0700 (PDT)
In-Reply-To: <f90f1ab00909160024x23042861u7f7146e0d55b0a88@mail.gmail.com>
References: <f90f1ab00909160024x23042861u7f7146e0d55b0a88@mail.gmail.com>
From: Harish Mallipeddi <harish.mallipeddi@gmail.com>
Date: Wed, 16 Sep 2009 13:29:19 +0530
Message-ID: <e01b80590909160059i763ed9cdj99d55a95c467cc1c@mail.gmail.com>
Subject: Re: Need help - Uneven workload distributed to Reducers
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=000e0cd72db6df99f70473ad471b
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd72db6df99f70473ad471b
Content-Type: text/plain; charset=ISO-8859-1

On Wed, Sep 16, 2009 at 12:54 PM, Anh Nguyen <nguyenminhanh@gmail.com>wrote:

> Hi all,
>
> I am having some trouble with distributing workload evenly to reducers.
>
> I have 25 reducers and I intentionally created 25 different Map output keys
> so that each output set will go to one Reducer.
>
> But in practice, some Reducers get 2 sets and some does not get anything.
>
> I wonder if there is a way to fix this. Perhaps a custom Map output class?
>
> Any help is greatly appreciated.
>
>
The default HashPartitioner does this: (key.hashCode() & Integer.MAX_VALUE)
% numReduceTasks

So there's no guarantee your 25 different map-output keys would in fact end
up in different partitions.
Btw if you want some custom partitioning behavior, just implement the
Partitioner interface in your custom Partitioner class and supply that to
Hadoop (via JobConf.setPartitionerClass).


-- 
Harish Mallipeddi
http://blog.poundbang.in

--000e0cd72db6df99f70473ad471b--

From common-user-return-17501-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 16 09:36:55 2009
Return-Path: <common-user-return-17501-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 74967 invoked from network); 16 Sep 2009 09:36:55 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Sep 2009 09:36:55 -0000
Received: (qmail 38335 invoked by uid 500); 16 Sep 2009 09:36:53 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 38257 invoked by uid 500); 16 Sep 2009 09:36:52 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 38247 invoked by uid 99); 16 Sep 2009 09:36:52 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2009 09:36:52 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of nguyenminhanh@gmail.com designates 209.85.210.204 as permitted sender)
Received: from [209.85.210.204] (HELO mail-yx0-f204.google.com) (209.85.210.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2009 09:36:42 +0000
Received: by yxe42 with SMTP id 42so6533498yxe.31
        for <common-user@hadoop.apache.org>; Wed, 16 Sep 2009 02:36:21 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :date:message-id:subject:from:to:content-type;
        bh=VJU6i4ZVmFbvsbTdoEVoqICranpzigHUAEBhHEAA8V4=;
        b=EVdIfogFR6YD4MqLYNtvmgy9tD5/qWjDtBWJ8ARHwso6ZHBYlXArVWW3j1cAySSYMs
         5c3kKsZhsxSB9xAaR4nqLevjULQb3GebIlQ0aSMIboiPQoPi8Nc3QSsRJxRTgWwfGzlO
         44fbP8Qwt0Vi/wAdH5GiTRNh+YP/7KYHALPpM=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :content-type;
        b=JoKGA7olLw9F93GjAYd/EEnYKQ6vpEXEx0Pq7O5lkOlJELFPA87KEG9pVs6sx1HPxn
         M1s4tFHMkA0V8JDwvdVtrb14FoRoD865T8F7+ulWaKDVnEQciYNXMAPiedLDXKolb4PH
         OjYPhaxgyY03Z2m6K4LQdtvktin+qnEsCDJxc=
MIME-Version: 1.0
Received: by 10.91.26.7 with SMTP id d7mr5281887agj.1.1253093779819; Wed, 16 
	Sep 2009 02:36:19 -0700 (PDT)
In-Reply-To: <e01b80590909160059i763ed9cdj99d55a95c467cc1c@mail.gmail.com>
References: <f90f1ab00909160024x23042861u7f7146e0d55b0a88@mail.gmail.com>
	 <e01b80590909160059i763ed9cdj99d55a95c467cc1c@mail.gmail.com>
Date: Wed, 16 Sep 2009 04:36:19 -0500
Message-ID: <f90f1ab00909160236i20e151d7j57d03e6ec7ce4ac1@mail.gmail.com>
Subject: Re: Need help - Uneven workload distributed to Reducers
From: Anh Nguyen <nguyenminhanh@gmail.com>
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=001485f9a7449dce1c0473aea127
X-Virus-Checked: Checked by ClamAV on apache.org

--001485f9a7449dce1c0473aea127
Content-Type: text/plain; charset=ISO-8859-1

Thanks,

I will try what you suggested.

Best,

On Wed, Sep 16, 2009 at 2:59 AM, Harish Mallipeddi <
harish.mallipeddi@gmail.com> wrote:

> On Wed, Sep 16, 2009 at 12:54 PM, Anh Nguyen <nguyenminhanh@gmail.com
> >wrote:
>
> > Hi all,
> >
> > I am having some trouble with distributing workload evenly to reducers.
> >
> > I have 25 reducers and I intentionally created 25 different Map output
> keys
> > so that each output set will go to one Reducer.
> >
> > But in practice, some Reducers get 2 sets and some does not get anything.
> >
> > I wonder if there is a way to fix this. Perhaps a custom Map output
> class?
> >
> > Any help is greatly appreciated.
> >
> >
> The default HashPartitioner does this: (key.hashCode() & Integer.MAX_VALUE)
> % numReduceTasks
>
> So there's no guarantee your 25 different map-output keys would in fact end
> up in different partitions.
> Btw if you want some custom partitioning behavior, just implement the
> Partitioner interface in your custom Partitioner class and supply that to
> Hadoop (via JobConf.setPartitionerClass).
>
>
> --
> Harish Mallipeddi
> http://blog.poundbang.in
>



-- 
----------------------------
Anh Nguyen
http://www.im-nguyen.com

--001485f9a7449dce1c0473aea127--

From common-user-return-17502-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 16 10:01:49 2009
Return-Path: <common-user-return-17502-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 82872 invoked from network); 16 Sep 2009 10:01:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Sep 2009 10:01:49 -0000
Received: (qmail 82171 invoked by uid 500); 16 Sep 2009 10:01:47 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 82093 invoked by uid 500); 16 Sep 2009 10:01:46 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 82083 invoked by uid 500); 16 Sep 2009 10:01:46 -0000
Delivered-To: apmail-hadoop-core-user@hadoop.apache.org
Received: (qmail 82080 invoked by uid 99); 16 Sep 2009 10:01:46 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2009 10:01:46 +0000
X-ASF-Spam-Status: No, hits=-1.2 required=10.0
	tests=MISSING_HEADERS,RCVD_IN_DNSWL_MED,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [192.6.10.2] (HELO colossus.hpl.hp.com) (192.6.10.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2009 10:01:35 +0000
Received: from localhost (localhost [127.0.0.1])
	by colossus.hpl.hp.com (Postfix) with ESMTP id 67F201BA4B8
	for <core-user@hadoop.apache.org>; Wed, 16 Sep 2009 11:01:13 +0100 (BST)
X-Virus-Scanned: Debian amavisd-new at hpl.hp.com
Received: from colossus.hpl.hp.com ([127.0.0.1])
	by localhost (colossus.hpl.hp.com [127.0.0.1]) (amavisd-new, port 10024)
	with LMTP id KfwHtxgyEmwm for <core-user@hadoop.apache.org>;
	Wed, 16 Sep 2009 11:01:13 +0100 (BST)
Received: from 0-imap-br1.hpl.hp.com (0-imap-br1.hpl.hp.com [16.25.144.60])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by colossus.hpl.hp.com (Postfix) with ESMTPS id E0BB21BA484
	for <core-user@hadoop.apache.org>; Wed, 16 Sep 2009 11:01:12 +0100 (BST)
MailScanner-NULL-Check: 1253700060.16144@n5hLespCxUww60lRMHzCmw
Received: from [16.25.175.158] (morzine.hpl.hp.com [16.25.175.158])
	by 0-imap-br1.hpl.hp.com (8.14.1/8.13.4) with ESMTP id n8GA0x47019582
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <core-user@hadoop.apache.org>; Wed, 16 Sep 2009 11:00:59 +0100 (BST)
Message-ID: <4AB0B75B.7020502@apache.org>
Date: Wed, 16 Sep 2009 11:00:59 +0100
From: Steve Loughran <stevel@apache.org>
User-Agent: Thunderbird 2.0.0.23 (X11/20090812)
MIME-Version: 1.0
CC: core-user@hadoop.apache.org
Subject: Re: Best practices with large-memory jobs
References: <a763284c0909142242l78ff7dadk1e5d4613c8478fac@mail.gmail.com>	 <C6D51AC5.517%awittenauer@linkedin.com> <a763284c0909151032i565429c0k3c7738b9627b2bb4@mail.gmail.com>
In-Reply-To: <a763284c0909151032i565429c0k3c7738b9627b2bb4@mail.gmail.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-HPL-MailScanner-Information: Please contact the ISP for more information
X-MailScanner-ID: n8GA0x47019582
X-HPL-MailScanner: Found to be clean
X-HPL-MailScanner-From: stevel@apache.org
X-Virus-Checked: Checked by ClamAV on apache.org

Chris Dyer wrote:
>>> my task logs I see the message:
>>> "attempt to override final parameter: mapred.child.ulimit;  Ignoring."
>>> which doesn't exactly inspire confidence that I'm on the right path.
>> Chances are the param has been marked final in the task tracker's running
>> config which will prevent you overriding the value with a job specific
>> configuration.
> Do you have any idea how one unmarks such a thing?  Do I just need to
> edit the configuration file for the task tracker?
> 
>> Depending upon how many tasks per node, that may not be enough. Streaming
>> jobs eat a crapton (I'm pretty sure that is an SI unit) of memory.  If you
> Is there any particular reason for the excessive memory use?  I
> realize this is Java, but it's just sloshing data down to my
> processes...
> 

Java6u14 + lets you run with "compressed pointers"; everyone is still 
playing with that but it does appear to reduce 64-bit  memory use. If 
you were using 32 bit JVMs, stay with them, as even with compressed 
pointers, 64 bit JVMs use more memory per object instances.

> How does one change the number of map slots per
> node?  I'm a hadoop configuration newbie (which is why I was
> originally excited about the Cloudera EC2 scripts...)

 From the code in front of my IDE

    maxMapSlots = conf.getInt("mapred.tasktracker.map.tasks.maximum", 2);
     maxReduceSlots = 
conf.getInt("mapred.tasktracker.reduce.tasks.maximum", 2);

Those are conf values you have to tune.

From common-user-return-17503-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 16 11:08:40 2009
Return-Path: <common-user-return-17503-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 95607 invoked from network); 16 Sep 2009 11:08:40 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Sep 2009 11:08:40 -0000
Received: (qmail 56674 invoked by uid 500); 16 Sep 2009 11:08:38 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 56605 invoked by uid 500); 16 Sep 2009 11:08:38 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 56595 invoked by uid 99); 16 Sep 2009 11:08:38 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2009 11:08:38 +0000
X-ASF-Spam-Status: No, hits=-0.0 required=10.0
	tests=SPF_HELO_PASS,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of amolanand@students.iiit.ac.in designates 121.242.23.201 as permitted sender)
Received: from [121.242.23.201] (HELO students.iiit.ac.in) (121.242.23.201)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2009 11:08:27 +0000
MailScanner-NULL-Check: 1253704084.77702@0qvNfRuMxoqIbK+XOC77Sw
Received: from students.iiit.ac.in (localhost.localdomain [127.0.0.1])
	by students.iiit.ac.in (8.13.8/8.13.8) with ESMTP id n8GB8379022312
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <common-user@hadoop.apache.org>; Wed, 16 Sep 2009 16:38:03 +0530
Received: (from apache@localhost)
	by students.iiit.ac.in (8.13.8/8.14.1/Submit) id n8GB833I022309;
	Wed, 16 Sep 2009 16:38:03 +0530
From: amolanand@students.iiit.ac.in
X-Authentication-Warning: students.iiit.ac.in: apache set sender to amolanand@localhost using -f
Received: from 196.15.16.20
        (SquirrelMail authenticated user amolanand)
        by students.iiit.ac.in with HTTP;
        Wed, 16 Sep 2009 16:38:03 +0530 (IST)
Message-ID: <60607.196.15.16.20.1253099283.squirrel@students.iiit.ac.in>
In-Reply-To: <f90f1ab00909160236i20e151d7j57d03e6ec7ce4ac1@mail.gmail.com>
References: <f90f1ab00909160024x23042861u7f7146e0d55b0a88@mail.gmail.com>
    <e01b80590909160059i763ed9cdj99d55a95c467cc1c@mail.gmail.com>
    <f90f1ab00909160236i20e151d7j57d03e6ec7ce4ac1@mail.gmail.com>
Date: Wed, 16 Sep 2009 16:38:03 +0530 (IST)
Subject: Re: Need help - Uneven workload distributed to Reducers
To: common-user@hadoop.apache.org
User-Agent: SquirrelMail/1.4.8-4.el5
MIME-Version: 1.0
Content-Type: text/plain;charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
Importance: Normal
X-Spam-Checker-Version: SpamAssassin 3.2.5 (2008-06-10) on students.iiit.ac.in
X-yoursite-MailScanner-Information: Please contact the IIIT Server Room  for more information
X-MailScanner-ID: n8GB8379022312
X-yoursite-MailScanner: Found to be clean
X-yoursite-MailScanner-From: amolanand@students.iiit.ac.in
X-Virus-Checked: Checked by ClamAV on apache.org
X-Old-Spam-Status: No, score=-1.4 required=5.0 tests=ALL_TRUSTED autolearn=failed
	version=3.2.5, No

Hi,

Based on the data distribution, the hashcode generated by key.hashCode()
could result in a large skew in the data provided to the reducer function.
So one reducer might get a very large data set while other reducers get
small datasets. Thereby, making the job to wait till the busiest reducer
finishes off.

Is there a way to split the partition files, based on the size of each
partition.

Thanks!
Amol.


> Thanks,
>
> I will try what you suggested.
>
> Best,
>
> On Wed, Sep 16, 2009 at 2:59 AM, Harish Mallipeddi <
> harish.mallipeddi@gmail.com> wrote:
>
>> On Wed, Sep 16, 2009 at 12:54 PM, Anh Nguyen <nguyenminhanh@gmail.com
>> >wrote:
>>
>> > Hi all,
>> >
>> > I am having some trouble with distributing workload evenly to
>> reducers.
>> >
>> > I have 25 reducers and I intentionally created 25 different Map output
>> keys
>> > so that each output set will go to one Reducer.
>> >
>> > But in practice, some Reducers get 2 sets and some does not get
>> anything.
>> >
>> > I wonder if there is a way to fix this. Perhaps a custom Map output
>> class?
>> >
>> > Any help is greatly appreciated.
>> >
>> >
>> The default HashPartitioner does this: (key.hashCode() &
>> Integer.MAX_VALUE)
>> % numReduceTasks
>>
>> So there's no guarantee your 25 different map-output keys would in fact
>> end
>> up in different partitions.
>> Btw if you want some custom partitioning behavior, just implement the
>> Partitioner interface in your custom Partitioner class and supply that
>> to
>> Hadoop (via JobConf.setPartitionerClass).
>>
>>
>> --
>> Harish Mallipeddi
>> http://blog.poundbang.in
>>
>
>
>
> --
> ----------------------------
> Anh Nguyen
> http://www.im-nguyen.com
>
> --
> This message has been scanned for viruses and
> dangerous content by MailScanner, and is
> believed to be clean.
>
>


-- 
This message has been scanned for viruses and
dangerous content by MailScanner, and is
believed to be clean.


From common-user-return-17504-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 16 11:28:17 2009
Return-Path: <common-user-return-17504-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 98644 invoked from network); 16 Sep 2009 11:28:17 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Sep 2009 11:28:17 -0000
Received: (qmail 78272 invoked by uid 500); 16 Sep 2009 11:28:14 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 78187 invoked by uid 500); 16 Sep 2009 11:28:14 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 78176 invoked by uid 99); 16 Sep 2009 11:28:14 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2009 11:28:14 +0000
X-ASF-Spam-Status: No, hits=-2.8 required=10.0
	tests=RCVD_IN_DNSWL_MED,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [192.6.10.2] (HELO colossus.hpl.hp.com) (192.6.10.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2009 11:28:02 +0000
Received: from localhost (localhost [127.0.0.1])
	by colossus.hpl.hp.com (Postfix) with ESMTP id 02F991BA4A0
	for <common-user@hadoop.apache.org>; Wed, 16 Sep 2009 12:27:42 +0100 (BST)
X-Virus-Scanned: Debian amavisd-new at hpl.hp.com
Received: from colossus.hpl.hp.com ([127.0.0.1])
	by localhost (colossus.hpl.hp.com [127.0.0.1]) (amavisd-new, port 10024)
	with LMTP id vClZ5x2KKaoC for <common-user@hadoop.apache.org>;
	Wed, 16 Sep 2009 12:27:40 +0100 (BST)
Received: from 0-imap-br1.hpl.hp.com (0-imap-br1.hpl.hp.com [16.25.144.60])
	(using TLSv1 with cipher DHE-RSA-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by colossus.hpl.hp.com (Postfix) with ESMTPS id 59F8B1BA45D
	for <common-user@hadoop.apache.org>; Wed, 16 Sep 2009 12:27:40 +0100 (BST)
MailScanner-NULL-Check: 1253705247.77232@tthsPzc0bU6+l23HrczATw
Received: from [16.25.175.158] (morzine.hpl.hp.com [16.25.175.158])
	by 0-imap-br1.hpl.hp.com (8.14.1/8.13.4) with ESMTP id n8GBRQjv024289
	(version=TLSv1/SSLv3 cipher=DHE-RSA-AES256-SHA bits=256 verify=NO)
	for <common-user@hadoop.apache.org>; Wed, 16 Sep 2009 12:27:27 +0100 (BST)
Message-ID: <4AB0CB9E.5060400@apache.org>
Date: Wed, 16 Sep 2009 12:27:26 +0100
From: Steve Loughran <stevel@apache.org>
User-Agent: Thunderbird 2.0.0.23 (X11/20090812)
MIME-Version: 1.0
To: common-user@hadoop.apache.org
Subject: Re: Stretched HDFS cluster
References: <6F5C1D715B2DA5498A628E6B9C124F04014526A203@hasmsx504.ger.corp.intel.com>
In-Reply-To: <6F5C1D715B2DA5498A628E6B9C124F04014526A203@hasmsx504.ger.corp.intel.com>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-HPL-MailScanner-Information: Please contact the ISP for more information
X-MailScanner-ID: n8GBRQjv024289
X-HPL-MailScanner: Found to be clean
X-HPL-MailScanner-From: stevel@apache.org
X-Virus-Checked: Checked by ClamAV on apache.org

Touretsky, Gregory wrote:
> Hi,
> 
>     Does anyone have an experience running HDFS cluster stretched over high-latency WAN connections?
> Any specific concerns/options/recommendations?
> I'm trying to setup the HDFS cluster with the nodes located in the US, Israel and India - considering it as a potential solution for cross-site data sharing...
> 

I would back up todd here and say "don't do it -yet". I think there are 
some minor placeholders in the rack hierarchy to have an explicit notion 
of different sites, but nobody has done the work yet. Cross datacentre 
data balancing and work scheduling is complex, and all the code in 
Hadoop, zookeeper, etc, is built on the assumption that latency is low, 
all machines clocks are going forward at roughly the same rate, the 
network is fairly reliable, routers are unlikely to corrupt data, etc.

Now, if you do want to do >1 site, it would be a profound and useful 
development -I'd expect the MR scheduler, or even the Pig/Hive code 
generators , to take datacentre locality into account, doing as much 
work per site as possible. The problem of block distribution changes 
too, as you would want 1 copy of each block in the other datacentre. 
Even then, I'd start with sites in a single city, on a MAE or other link 
where bandwidth matters less. Note that (as discussed below) on the MAN 
scale things can start to go wrong in ways that are unlikely in a 
datacentre, and its those failures that will burn you

worth reading
http://status.aws.amazon.com/s3-20080720.html
http://www.allthingsdistributed.com/2008/12/eventually_consistent.html

-Steve

From common-user-return-17505-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 16 12:47:42 2009
Return-Path: <common-user-return-17505-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 28553 invoked from network); 16 Sep 2009 12:47:42 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Sep 2009 12:47:42 -0000
Received: (qmail 93601 invoked by uid 500); 16 Sep 2009 12:47:40 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 93529 invoked by uid 500); 16 Sep 2009 12:47:39 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 93519 invoked by uid 99); 16 Sep 2009 12:47:39 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2009 12:47:39 +0000
X-ASF-Spam-Status: No, hits=0.2 required=10.0
	tests=RCVD_IN_DNSWL_LOW,SPF_NEUTRAL
X-Spam-Check-By: apache.org
Received-SPF: neutral (nike.apache.org: local policy)
Received: from [129.93.181.2] (HELO mathstat.unl.edu) (129.93.181.2)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2009 12:47:29 +0000
Received: from pcp088904pcs.unl.edu (pcp088904pcs.unl.edu [129.93.158.19])
	(authenticated bits=0)
	by mathstat.unl.edu (8.13.8/8.13.8) with ESMTP id n8GCl3hO022690
	(version=TLSv1/SSLv3 cipher=AES128-SHA bits=128 verify=NOT)
	for <common-user@hadoop.apache.org>; Wed, 16 Sep 2009 07:47:05 -0500
From: Brian Bockelman <bbockelm@cse.unl.edu>
Mime-Version: 1.0 (Apple Message framework v1075.2)
Content-Type: multipart/signed; boundary=Apple-Mail-10--79883895; protocol="application/pkcs7-signature"; micalg=sha1
Subject: Re: namenode errors
Date: Wed, 16 Sep 2009 07:47:02 -0500
In-Reply-To: <abdb77f90909151552p9e50da5k811ad7b616ca6378@mail.gmail.com>
To: common-user@hadoop.apache.org
References: <abdb77f90909151552p9e50da5k811ad7b616ca6378@mail.gmail.com>
Message-Id: <4DDE1B8A-4CE7-4771-9555-167A9AE8994E@cse.unl.edu>
X-Mailer: Apple Mail (2.1075.2)
X-Virus-Checked: Checked by ClamAV on apache.org

--Apple-Mail-10--79883895
Content-Transfer-Encoding: 7bit
Content-Type: text/plain;
	charset=us-ascii;
	format=flowed;
	delsp=yes

Hey Zeev,

This is caused by a misbehaving client stuck in an infinite loop.   
When you restart the NN, the client resumes causing these errors.

I suspect there is an infinite loop in the DFSClient for HDFS 0.19.x  
as you are the third person to report this.  If you can recover a  
stack trace from the misbehaving client, it would be very interesting  
to C - I trigger this often, but I access via libhdfs, so getting a  
stack trace is very difficult.

Find the client, kill it, and you will see these messages go away

Brian

On Sep 15, 2009, at 5:52 PM, Zeev Milin wrote:

> I see lots of errors (below) in the namenode.log file. Fsck is clean  
> and
> restart did not help. Hadoop version is 0.19.1. If anyone has run  
> into this
> and resolved it already please let me know.
>
> Thanks!
>
>
> 2009-09-15 18:13:58,783 INFO
> org.apache.hadoop.hdfs.server.namenode.FSNamesystem:
> commitBlockSynchronization(lastblock=blk_-1745012098763993903_2457112,
> newgenerationstamp=0, newlength=0, newtargets=[])
> 2009-09-15 18:13:58,783 INFO org.apache.hadoop.ipc.Server: IPC Server
> handler 18 on 8080, call
> commitBlockSynchronization(blk_-1745012098763993903_2457112, 0, 0,  
> false,
> true, [Lorg.apache.hadoop.hdfs.protocol.DatanodeID;@6fa0b772) from
> 10.60.32.172:35019: error: java.io.IOException: Block
> (=blk_-1745012098763993903_2457112) not found
> java.io.IOException: Block (=blk_-1745012098763993903_2457112) not  
> found
>    at
> org.apache.hadoop.hdfs.server.namenode.FSNamesystem.commitBlockSynchronization 
> (FSNamesystem.java:1898)
>    at
> org.apache.hadoop.hdfs.server.namenode.NameNode.commitBlockSynchronization 
> (NameNode.java:410)
>    at sun.reflect.GeneratedMethodAccessor34.invoke(Unknown Source)
>    at
> sun.reflect.DelegatingMethodAccessorImpl.invoke 
> (DelegatingMethodAccessorImpl.java:25)
>    at java.lang.reflect.Method.invoke(Method.java:597)
>    at org.apache.hadoop.ipc.RPC$Server.call(RPC.java:452)
>    at org.apache.hadoop.ipc.Server$Handler.run(Server.java:892)


--Apple-Mail-10--79883895
Content-Disposition: attachment;
	filename=smime.p7s
Content-Type: application/pkcs7-signature;
	name=smime.p7s
Content-Transfer-Encoding: base64

MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIICjCCA/gw
ggLgoAMCAQICASkwDQYJKoZIhvcNAQEFBQAwdTETMBEGCgmSJomT8ixkARkWA25ldDESMBAGCgmS
JomT8ixkARkWAkVTMQ4wDAYDVQQKEwVFU25ldDEgMB4GA1UECxMXQ2VydGlmaWNhdGUgQXV0aG9y
aXRpZXMxGDAWBgNVBAMTD0VTbmV0IFJvb3QgQ0EgMTAeFw0wMjEyMDUwODAwMDBaFw0xMzAxMjUw
ODAwMDBaMGkxEzARBgoJkiaJk/IsZAEZFgNvcmcxGDAWBgoJkiaJk/IsZAEZFghET0VHcmlkczEg
MB4GA1UECxMXQ2VydGlmaWNhdGUgQXV0aG9yaXRpZXMxFjAUBgNVBAMTDURPRUdyaWRzIENBIDEw
ggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC09dYjYaPbCD5mtbiQb7Ka3y1qAm0ZcqKC
FciWcfe8Kwcuy9tjHuIsLf9ZItdkDW4xy8sua9nJlx3KlwjtumTMtOtg35KZCknUd8KM4VGTSFdL
VG9AbNayef76caVCGM1+jyF0Lq03kauGOPTcNfZe1TZa3e1c9rc8ljV5OSWa/mfsCACyS5zFIWu0
yIDNyJdf+n0hwaPN53wllpJ30taD+JBjQ7h2k4xRWzeaznLOb9OztZVRA/1sVze+iczFh2xwa4Vd
Gy0eIIPw1pfvYwxO36rm0S109qvbsNlaroPRbxerPKakQLpKe034Xcx7gBPqUk/FxoRRWin5EWN3
rz9LAgMBAAGjgZ4wgZswDgYDVR0PAQH/BAQDAgGGMBEGCWCGSAGG+EIBAQQEAwIAhzAdBgNVHQ4E
FgQUyhkdEo5upDhdQtQxDgjb2Y0XDV0wHwYDVR0jBBgwFoAUvF1NSC/4NZRZq1yJSz7RsjoUAeow
DwYDVR0TAQH/BAUwAwEB/zAlBgNVHREEHjAcgRpET0VHcmlkcy1DQS0xQGRvZWdyaWRzLm9yZzAN
BgkqhkiG9w0BAQUFAAOCAQEAZNVrIDLqe39CEOiJt7Q7EpBPhAihMvDTSf/42u0SMbUmChww4mLm
ph5DBghZUVF8Yn59kRZMn1QLOtO1HzLqvAvPITacZVPlJgG2IXzlR636YghZFAycbIUEOJDBHR4v
tQO1KDxgZwvAbtmKIoxvhUCq2xsfFt9kCBBn+JYtQ6O5LsBJq3PmuubeMcc7mbQAfJZ7h/3Qghgk
FIhmE1+LBXPJbkuP8vgfg6h2BKoAf5TFfZECgGZKimfN110tBvfedGZwYYd3/GsJc83B0JN1gny0
gqNVPm392UchXGeBRrHnm2gkhIkr48Oq6EmNGV9/a6XfbplQW/JWbtPVPWkaizCCBAowggLyoAMC
AQICAwCB+zANBgkqhkiG9w0BAQUFADBpMRMwEQYKCZImiZPyLGQBGRYDb3JnMRgwFgYKCZImiZPy
LGQBGRYIRE9FR3JpZHMxIDAeBgNVBAsTF0NlcnRpZmljYXRlIEF1dGhvcml0aWVzMRYwFAYDVQQD
Ew1ET0VHcmlkcyBDQSAxMB4XDTA5MDYwMjE5NDExM1oXDTEwMDYwMjE5NDExM1owYTETMBEGCgmS
JomT8ixkARkWA29yZzEYMBYGCgmSJomT8ixkARkWCGRvZWdyaWRzMQ8wDQYDVQQLEwZQZW9wbGUx
HzAdBgNVBAMTFkJyaWFuIEJvY2tlbG1hbiA1MDQzMDcwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw
ggEKAoIBAQDPWEl7hBiuFRVBSY4SwvG0HpkCZi74a0BeD0tNARgxoQVJ7jhJjR3G4y8ino0/5axt
2EEfIWUE+DVpV37IWOQl8q/wdvicnhbfjByxBbq4sfWPLepU7+Kd8k1FKHRHermARn9VxEkFLrLB
Gp7O5EX4mFHDaQy+Vv0thtA+m4qKoM+DA/8cOkJA5Rn6ZS/v/vtBzJh9HimVnhBx4+rw2cvKN+7r
lKsm7qTn9TCZmrQ97CvBEXSkHS11m8vYF6ZwcTgSCJM0M9nnX5JilupQO1vDICXSUZeWX2xpsqeL
x1PFGWgDaYXxFGtTRt2Qc9EPwf9Dr72xGPbKN8u5HylpOMDnAgMBAAGjgcIwgb8wEQYJYIZIAYb4
QgEBBAQDAgWgMA4GA1UdDwEB/wQEAwIF4DAfBgNVHSMEGDAWgBTKGR0Sjm6kOF1C1DEOCNvZjRcN
XTAYBgNVHSAEETAPMA0GCyqGSIb3TAMHAQMAMD4GA1UdHwQ3MDUwM6AxoC+GLWh0dHA6Ly9jcmwu
ZG9lZ3JpZHMub3JnLzFjM2YyY2E4LzFjM2YyY2E4LmNybDAfBgNVHREEGDAWgRRiYm9ja2VsbUBj
c2UudW5sLmVkdTANBgkqhkiG9w0BAQUFAAOCAQEAp6KjcWnfnH/MGlUkUWstE9gtPeymHp+2r4zI
w8JXigncJh/8qpSZqBcVhD24WFowI95otblrKYNZKW9f2G/hWwDSxZFqHhCDxFO12vDthrzOc3EH
CwypJPvIlZPt/E/x93XruzPxJwPz84DKKuPoJAMeNlADbd+92YtRr2y+VuMpgZaebMAoeCdWH8Cq
Y8xheNMajf8uiImBbatDuCu7qRvhwgxsMNLHEt4h853K1Zc181RlFGXG1+uL/Q/8VeKiASiCu+7L
1zpfLg7OCr6rJHb5S7wU+CeAvzSqmyy0fd2mwPeiX7huK+Cw4UjaB3yGKItzWT+KQJnV//wcSrzZ
dTGCAv0wggL5AgEBMHAwaTETMBEGCgmSJomT8ixkARkWA29yZzEYMBYGCgmSJomT8ixkARkWCERP
RUdyaWRzMSAwHgYDVQQLExdDZXJ0aWZpY2F0ZSBBdXRob3JpdGllczEWMBQGA1UEAxMNRE9FR3Jp
ZHMgQ0EgMQIDAIH7MAkGBSsOAwIaBQCgggFiMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJ
KoZIhvcNAQkFMQ8XDTA5MDkxNjEyNDcwM1owIwYJKoZIhvcNAQkEMRYEFNyIVQMB4IOGPyms6uAS
pFUQb7pCMH8GCSsGAQQBgjcQBDFyMHAwaTETMBEGCgmSJomT8ixkARkWA29yZzEYMBYGCgmSJomT
8ixkARkWCERPRUdyaWRzMSAwHgYDVQQLExdDZXJ0aWZpY2F0ZSBBdXRob3JpdGllczEWMBQGA1UE
AxMNRE9FR3JpZHMgQ0EgMQIDAIH7MIGBBgsqhkiG9w0BCRACCzFyoHAwaTETMBEGCgmSJomT8ixk
ARkWA29yZzEYMBYGCgmSJomT8ixkARkWCERPRUdyaWRzMSAwHgYDVQQLExdDZXJ0aWZpY2F0ZSBB
dXRob3JpdGllczEWMBQGA1UEAxMNRE9FR3JpZHMgQ0EgMQIDAIH7MA0GCSqGSIb3DQEBAQUABIIB
AI5rjehsZ7eobFC1P9+drLnJJJmuaNXc7e3LIlY9xyes3dMS28ndTZFYcgeaCCry4CNimS9WmHXW
G2OOCBUMeuWfvy8sPpFtjvJt8BsncngfzpSL2U53hBKHYTttowxgJldO4vCPWceDfuD/B4lUL9iC
n3qdmKYnqJ87ZaeGlmxrPw8H+8VTim66TMzhXwbWdGK+UcpagQ+S13bNp/RfyKaKVzEbW6Kq043l
f5iqvgwP2vn6N7b016rQK9jdocjhjqJiuQnB8YkJM7LSq6ZVw8IXbMKzt12WEAUg3eaJbknqSGsC
1kfQ9M0nx4Dbnv9hO5NSTpAqDiE8MSIrXc1Rl6MAAAAAAAA=

--Apple-Mail-10--79883895--

From common-user-return-17506-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org Wed Sep 16 16:12:50 2009
Return-Path: <common-user-return-17506-apmail-hadoop-common-user-archive=hadoop.apache.org@hadoop.apache.org>
Delivered-To: apmail-hadoop-common-user-archive@www.apache.org
Received: (qmail 99351 invoked from network); 16 Sep 2009 16:12:49 -0000
Received: from hermes.apache.org (HELO mail.apache.org) (140.211.11.3)
  by minotaur.apache.org with SMTP; 16 Sep 2009 16:12:49 -0000
Received: (qmail 71046 invoked by uid 500); 16 Sep 2009 16:12:47 -0000
Delivered-To: apmail-hadoop-common-user-archive@hadoop.apache.org
Received: (qmail 70973 invoked by uid 500); 16 Sep 2009 16:12:47 -0000
Mailing-List: contact common-user-help@hadoop.apache.org; run by ezmlm
Precedence: bulk
List-Help: <mailto:common-user-help@hadoop.apache.org>
List-Unsubscribe: <mailto:common-user-unsubscribe@hadoop.apache.org>
List-Post: <mailto:common-user@hadoop.apache.org>
List-Id: <common-user.hadoop.apache.org>
Reply-To: common-user@hadoop.apache.org
Delivered-To: mailing list common-user@hadoop.apache.org
Received: (qmail 70963 invoked by uid 99); 16 Sep 2009 16:12:47 -0000
Received: from nike.apache.org (HELO nike.apache.org) (192.87.106.230)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2009 16:12:47 +0000
X-ASF-Spam-Status: No, hits=2.2 required=10.0
	tests=HTML_MESSAGE,SPF_PASS
X-Spam-Check-By: apache.org
Received-SPF: pass (nike.apache.org: domain of ted.dunning@gmail.com designates 209.85.210.204 as permitted sender)
Received: from [209.85.210.204] (HELO mail-yx0-f204.google.com) (209.85.210.204)
    by apache.org (qpsmtpd/0.29) with ESMTP; Wed, 16 Sep 2009 16:12:36 +0000
Received: by yxe42 with SMTP id 42so6928224yxe.31
        for <common-user@hadoop.apache.org>; Wed, 16 Sep 2009 09:12:15 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=gamma;
        h=domainkey-signature:mime-version:received:in-reply-to:references
         :from:date:message-id:subject:to:content-type;
        bh=Su1Q9Bt+uwwrAUdbAhgJUc3nHZqnJpYg11LJ6TU0ufA=;
        b=Tu8UpDCIjQDp68BJSnucZsmWb5lxMarEM5Z0YRyUrzNyfPCFXyS6f32eL1kgsK1/mO
         STBV+16gIWi6GAlaJlJ60EG2Vbb8JKCnvmH25klhM2ZSn1KkXa8VSJQl4IFDdydoYAra
         mfOnFmgzdCq2DwDMRZ+eCeanDIVYsMPx4jyXo=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=gmail.com; s=gamma;
        h=mime-version:in-reply-to:references:from:date:message-id:subject:to
         :content-type;
        b=p0EWY4vgmdnU35B9WCS1SH6RkLjv88khdeUDeSjA8Bw2qS9Z76tXP0F/1i28o1jvvj
         9uxUr8e6H2/BTSnr9IIGAuh/IN6u3LAgiY0IszkSVz6N8SJwYgBbPSIGix3/KPjEPar7
         BHkp6Q4Ayq1FCbXgIUkGiHmJJSpSAhiLd91dM=
MIME-Version: 1.0
Received: by 10.150.210.5 with SMTP id i5mr14987702ybg.174.1253117535091; Wed, 
	16 Sep 2009 09:12:15 -0700 (PDT)
In-Reply-To: <60607.196.15.16.20.1253099283.squirrel@students.iiit.ac.in>
References: <f90f1ab00909160024x23042861u7f7146e0d55b0a88@mail.gmail.com> 
	<e01b80590909160059i763ed9cdj99d55a95c467cc1c@mail.gmail.com> 
	<f90f1ab00909160236i20e151d7j57d03e6ec7ce4ac1@mail.gmail.com> 
	<60607.196.15.16.20.1253099283.squirrel@students.iiit.ac.in>
From: Ted Dunning <ted.dunning@gmail.com>
Date: Wed, 16 Sep 2009 09:11:55 -0700
Message-ID: <c7d45fc70909160911m37479e7dl2e8602cb0df94315@mail.gmail.com>
Subject: Re: Need help - Uneven workload distributed to Reducers
To: common-user@hadoop.apache.org
Content-Type: multipart/alternative; boundary=000e0cd348588a7f2c0473b429a0
X-Virus-Checked: Checked by ClamAV on apache.org

--000e0cd348588a7f2c0473b429a0
Content-Type: text/plain; charset=UTF-8

A better solution is to output a large number of records with keys drawn
pseudo-randomly from a large domain of values.  Then records will balance
across however many reducers you have.  Because you are balancing a larger
number of records, the degree of imbalance that happens at random will be
much smaller than if you have just a few records.

The original poster might not have that option in his problem as stated, but
it sounded like he might be able to restructure the computation a bit.

On Wed, Sep 16, 2009 at 4:08 AM, <amolanand@students.iiit.ac.in> wrote:

> Hi,
>
> Based on the data distribution, the hashcode generated by key.hashCode()
> could result in a large skew in the data provided to the reducer function.
> So one reducer might get a very large data set while other reducers get
> small datasets. Thereby, making the job to wait till the busiest reducer
> finishes off.
>
> Is there a way to split the partition files, based on the size of each
> partition.
>
> Thanks!
> Amol.
>
>
> > Thanks,
> >
> > I will try what you suggested.
> >
> > Best,
> >
> > On Wed, Sep 16, 2009 at 2:59 AM, Harish Mallipeddi <
> > harish.mallipeddi@gmail.com> wrote:
> >
> >> On Wed, Sep 16, 2009 at 12:54 PM, Anh Nguyen <nguyenminhanh@gmail.com
> >> >wrote:
> >>
> >> > Hi all,
> >> >
> >> > I am having some trouble with distributing workload evenly to
> >> reducers.
> >> >
> >> > I have 25 reducers and I intentionally created 25 different Map output
> >> keys
> >> > so that each output set will go to one Reducer.
> >> >
> >> > But in practice, some Reducers get 2 sets and some does not get
> >> anything.
> >> >
> >> > I wonder if there is a way to fix this. Perhaps a custom Map output
> >> class?
> >> >
> >> > Any help is greatly appreciated.
> >> >
> >> >
> >> The default HashPartitioner does this: (key.hashCode() &
> >> Integer.MAX_VALUE)
> >> % numReduceTasks
> >>
> >> So there's no guarantee your 25 different map-output keys would in fact
> >> end
> >> up in different partitions.
> >> Btw if you want some custom partitioning behavior, just implement the
> >> Partitioner interface in your custom Partitioner class and supply that
> >> to
> >> Hadoop (via JobConf.setPartitionerClass).
> >>
> >>
> >> --
> >> Harish Mallipeddi
> >> http://blog.poundbang.in
> >>
> >
> >
> >
> > --
> > ----------------------------
> > Anh Nguyen
> > http://www.im-nguyen.com
> >
> > --
> > This message has been scanned for viruses and
> > dangerous content by MailScanner, and is
> > believed to be clean.
> >
> >
>
>
> --
> This message has been scanned for viruses and
> dangerous content by MailScanner, and is
> believed to be clean.
>
>


-- 
Ted Dunning, CTO
DeepDyve

--000e0cd348588a7f2c0473b429a0--

